<!DOCTYPE html>
<html><head><meta charset="utf-8"><title>Compliance Coverage Report</title><script type="application/json" id=result>{"specifications":{"https://www.rfc-editor.org/rfc/rfc4492":{"format":"ietf","requirements":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58],"sections":[{"id":"name-status-of-this-memo","title":"Status of This Memo","lines":["   This memo provides information for the Internet community.  It does","   not specify an Internet standard of any kind.  Distribution of this","   memo is unlimited."]},{"id":"name-copyright-notice","title":"Copyright Notice","lines":["   Copyright (C) The Internet Society (2006)."]},{"id":"name-abstract","title":"Abstract","lines":["   This document describes new key exchange algorithms based on Elliptic","   Curve Cryptography (ECC) for the Transport Layer Security (TLS)","   protocol.  In particular, it specifies the use of Elliptic Curve","   Diffie-Hellman (ECDH) key agreement in a TLS handshake and the use of","   Elliptic Curve Digital Signature Algorithm (ECDSA) as a new","   authentication mechanism."]},{"id":"name-table-of-contents","title":"Table of Contents","lines":["   1. Introduction ....................................................3","   2. Key Exchange Algorithms .........................................4","      2.1. ECDH_ECDSA .................................................6","      2.2. ECDHE_ECDSA ................................................6","      2.3. ECDH_RSA ...................................................7","      2.4. ECDHE_RSA ..................................................7","      2.5. ECDH_anon ..................................................7","   3. Client Authentication ...........................................8","      3.1. ECDSA_sign .................................................8","      3.2. ECDSA_fixed_ECDH ...........................................9","      3.3. RSA_fixed_ECDH .............................................9","   4. TLS Extensions for ECC ..........................................9","   5. Data Structures and Computations ...............................10","      5.1. Client Hello Extensions ...................................10","           5.1.1. Supported Elliptic Curves Extension ................12","           5.1.2. Supported Point Formats Extension ..................13","      5.2. Server Hello Extension ....................................14","      5.3. Server Certificate ........................................15","      5.4. Server Key Exchange .......................................17","      5.5. Certificate Request .......................................21","      5.6. Client Certificate ........................................22","      5.7. Client Key Exchange .......................................23","      5.8. Certificate Verify ........................................25","      5.9. Elliptic Curve Certificates ...............................26","      5.10. ECDH, ECDSA, and RSA Computations ........................26","   6. Cipher Suites ..................................................27","   7. Security Considerations ........................................28","   8. IANA Considerations ............................................29","   9. Acknowledgements ...............................................29","   10. References ....................................................30","      10.1. Normative References .....................................30","      10.2. Informative References ...................................31","   Appendix A.  Equivalent Curves (Informative) ......................32"]},{"id":"section-1","title":"Introduction","lines":["   Elliptic Curve Cryptography (ECC) is emerging as an attractive","   public-key cryptosystem, in particular for mobile (i.e., wireless)","   environments.  Compared to currently prevalent cryptosystems such as","   RSA, ECC offers equivalent security with smaller key sizes.  This is","   illustrated in the following table, based on [18], which gives","   approximate comparable key sizes for symmetric- and asymmetric-key","   cryptosystems based on the best-known algorithms for attacking them.","","                    Symmetric  |   ECC   |  DH/DSA/RSA","                   ------------+---------+-------------","                        80     |   163   |     1024","                       112     |   233   |     2048","                       128     |   283   |     3072","                       192     |   409   |     7680","                       256     |   571   |    15360","","                  Table 1: Comparable Key Sizes (in bits)","","   Smaller key sizes result in savings for power, memory, bandwidth, and","   computational cost that make ECC especially attractive for","   constrained environments.","","   This document describes additions to TLS to support ECC, applicable","   both to TLS Version 1.0 [2] and to TLS Version 1.1 [3].  In","   particular, it defines","","   o  the use of the Elliptic Curve Diffie-Hellman (ECDH) key agreement","      scheme with long-term or ephemeral keys to establish the TLS","      premaster secret, and","","   o  the use of fixed-ECDH certificates and ECDSA for authentication of","      TLS peers.","","   The remainder of this document is organized as follows.  Section 2","   provides an overview of ECC-based key exchange algorithms for TLS.","   Section 3 describes the use of ECC certificates for client","   authentication.  TLS extensions that allow a client to negotiate the","   use of specific curves and point formats are presented in Section 4.","   Section 5 specifies various data structures needed for an ECC-based","   handshake, their encoding in TLS messages, and the processing of","   those messages.  Section 6 defines new ECC-based cipher suites and","   identifies a small subset of these as recommended for all","   implementations of this specification.  Section 7 discusses security","   considerations.  Section 8 describes IANA considerations for the name","   spaces created by this document.  Section 9 gives acknowledgements.","","   This is followed by the lists of normative and informative references","   cited in this document, the authors' contact information, and","   statements on intellectual property rights and copyrights.","","   Implementation of this specification requires familiarity with TLS","   [2][3], TLS extensions [4], and ECC [5][6][7][11][17].","","   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\",","   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this","   document are to be interpreted as described in RFC 2119 [1]."]},{"id":"section-2","title":"Key Exchange Algorithms","lines":["   This document introduces five new ECC-based key exchange algorithms","   for TLS.  All of them use ECDH to compute the TLS premaster secret,","   and they differ only in the lifetime of ECDH keys (long-term or","   ephemeral) and the mechanism (if any) used to authenticate them.  The","   derivation of the TLS master secret from the premaster secret and the","   subsequent generation of bulk encryption/MAC keys and initialization","   vectors is independent of the key exchange algorithm and not impacted","   by the introduction of ECC.","","   The table below summarizes the new key exchange algorithms, which","   mimic DH_DSS, DHE_DSS, DH_RSA, DHE_RSA, and DH_anon (see [2] and","   [3]), respectively.","","          Key","          Exchange","          Algorithm           Description","          ---------           -----------","","          ECDH_ECDSA          Fixed ECDH with ECDSA-signed certificates.","","          ECDHE_ECDSA         Ephemeral ECDH with ECDSA signatures.","","          ECDH_RSA            Fixed ECDH with RSA-signed certificates.","","          ECDHE_RSA           Ephemeral ECDH with RSA signatures.","","          ECDH_anon           Anonymous ECDH, no signatures.","","                     Table 2: ECC Key Exchange Algorithms","","   The ECDHE_ECDSA and ECDHE_RSA key exchange mechanisms provide forward","   secrecy.  With ECDHE_RSA, a server can reuse its existing RSA","   certificate and easily comply with a constrained client's elliptic","   curve preferences (see Section 4).  However, the computational cost","","   incurred by a server is higher for ECDHE_RSA than for the traditional","   RSA key exchange, which does not provide forward secrecy.","","   The ECDH_RSA mechanism requires a server to acquire an ECC","   certificate, but the certificate issuer can still use an existing RSA","   key for signing.  This eliminates the need to update the keys of","   trusted certification authorities accepted by TLS clients.  The","   ECDH_ECDSA mechanism requires ECC keys for the server as well as the","   certification authority and is best suited for constrained devices","   unable to support RSA.","","   The anonymous key exchange algorithm does not provide authentication","   of the server or the client.  Like other anonymous TLS key exchanges,",[[[],0,"   it is subject to man-in-the-middle attacks.  "],[[10],160,"Implementations of this"]],[[[],0,"   "],[[10],160,"algorithm SHOULD provide authentication by other means."]],"","   Note that there is no structural difference between ECDH and ECDSA","   keys.  A certificate issuer may use X.509 v3 keyUsage and","   extendedKeyUsage extensions to restrict the use of an ECC public key","   to certain computations [15].  This document refers to an ECC key as","   ECDH-capable if its use in ECDH is permitted.  ECDSA-capable is","   defined similarly.","","              Client                                        Server","              ------                                        ------","","              ClientHello          -------->","                                                       ServerHello","                                                      Certificate*","                                                ServerKeyExchange*","                                              CertificateRequest*+","                                   <--------       ServerHelloDone","              Certificate*+","              ClientKeyExchange","              CertificateVerify*+","              [ChangeCipherSpec]","              Finished             -------->","                                                [ChangeCipherSpec]","                                   <--------              Finished","","              Application Data     <------->      Application Data","","                   * message is not sent under some conditions","                   + message is not sent unless client authentication","                     is desired","","                 Figure 1: Message flow in a full TLS handshake","","   Figure 1 shows all messages involved in the TLS key establishment","   protocol (aka full handshake).  The addition of ECC has direct impact","   only on the ClientHello, the ServerHello, the server's Certificate","   message, the ServerKeyExchange, the ClientKeyExchange, the","   CertificateRequest, the client's Certificate message, and the","   CertificateVerify.  Next, we describe each ECC key exchange algorithm","   in greater detail in terms of the content and processing of these","   messages.  For ease of exposition, we defer discussion of client","   authentication and associated messages (identified with a + in","   Figure 1) until Section 3 and of the optional ECC-specific extensions","   (which impact the Hello messages) until Section 4."],"requirements":[10]},{"id":"section-2.1","title":"ECDH_ECDSA","lines":[[[[],0,"   "],[[0],224,"In ECDH_ECDSA, the server's certificate MUST contain an ECDH-capable"]],[[[],0,"   "],[[0],224,"public key and be signed with ECDSA."]],"",[[[],0,"   "],[[1],224,"A ServerKeyExchange MUST NOT be sent (the server's certificate"]],[[[],0,"   "],[[1],224,"contains all the necessary keying information required by the client"]],[[[],0,"   "],[[1],224,"to arrive at the premaster secret)."]],"","   The client generates an ECDH key pair on the same curve as the","   server's long-term public key and sends its public key in the","   ClientKeyExchange message (except when using client authentication","   algorithm ECDSA_fixed_ECDH or RSA_fixed_ECDH, in which case the","   modifications from Section 3.2 or Section 3.3 apply).","","   Both client and server perform an ECDH operation and use the","   resultant shared secret as the premaster secret.  All ECDH","   calculations are performed as specified in Section 5.10."],"requirements":[0,1]},{"id":"section-2.2","title":"ECDHE_ECDSA","lines":[[[[],0,"   "],[[2],224,"In ECDHE_ECDSA, the server's certificate MUST contain an ECDSA-"]],[[[],0,"   "],[[2],224,"capable public key and be signed with ECDSA."]],"","   The server sends its ephemeral ECDH public key and a specification of",[[[],0,"   the corresponding curve in the ServerKeyExchange message.  "],[[3],224,"These"]],[[[],0,"   "],[[3],224,"parameters MUST be signed with ECDSA using the private key"]],[[[],0,"   "],[[3],224,"corresponding to the public key in the server's Certificate."]],"","   The client generates an ECDH key pair on the same curve as the","   server's ephemeral ECDH key and sends its public key in the","   ClientKeyExchange message.","","   Both client and server perform an ECDH operation (Section 5.10) and","   use the resultant shared secret as the premaster secret."],"requirements":[2,3]},{"id":"section-2.3","title":"ECDH_RSA","lines":[[[[],0,"   "],[[4],224,"This key exchange algorithm is the same as ECDH_ECDSA except that the"]],[[[],0,"   "],[[4],224,"server's certificate MUST be signed with RSA rather than ECDSA."]]],"requirements":[4]},{"id":"section-2.4","title":"ECDHE_RSA","lines":[[[[],0,"   "],[[5],224,"This key exchange algorithm is the same as ECDHE_ECDSA except that"]],[[[],0,"   "],[[5],224,"the server's certificate MUST contain an RSA public key authorized"]],[[[],0,"   "],[[5],224,"for signing, and that the signature in the ServerKeyExchange message"]],[[[],0,"   "],[[5],224,"must be computed with the corresponding RSA private key."],[[],0,"  "],[[6],224,"The server"]],[[[],0,"   "],[[6],224,"certificate MUST be signed with RSA."]]],"requirements":[5,6]},{"id":"section-2.5","title":"ECDH_anon","lines":[[[[],0,"   "],[[7],224,"In ECDH_anon, the server's Certificate, the CertificateRequest, the"]],[[[],0,"   "],[[7],224,"client's Certificate, and the CertificateVerify messages MUST NOT be"]],[[[],0,"   "],[[7],224,"sent."]],"",[[[],0,"   "],[[8],224,"The server MUST send an ephemeral ECDH public key and a specification"]],[[[],0,"   "],[[8],224,"of the corresponding curve in the ServerKeyExchange message."],[[],0,"  "],[[9],224,"These"]],[[[],0,"   "],[[9],224,"parameters MUST NOT be signed."]],"","   The client generates an ECDH key pair on the same curve as the","   server's ephemeral ECDH key and sends its public key in the","   ClientKeyExchange message.","","   Both client and server perform an ECDH operation and use the","   resultant shared secret as the premaster secret.  All ECDH","   calculations are performed as specified in Section 5.10.","","   Note that while the ECDH_ECDSA, ECDHE_ECDSA, ECDH_RSA, and ECDHE_RSA","   key exchange algorithms require the server's certificate to be signed","   with a particular signature scheme, this specification (following the","   similar cases of DH_DSS, DHE_DSS, DH_RSA, and DHE_RSA in [2] and [3])","   does not impose restrictions on signature schemes used elsewhere in","   the certificate chain.  (Often such restrictions will be useful, and","   it is expected that this will be taken into account in certification","   authorities' signing practices.  However, such restrictions are not","   strictly required in general: Even if it is beyond the capabilities","   of a client to completely validate a given chain, the client may be","   able to validate the server's certificate by relying on a trusted","   certification authority whose certificate appears as one of the","   intermediate certificates in the chain.)"],"requirements":[7,8,9]},{"id":"section-3","title":"Client Authentication","lines":["   This document defines three new client authentication mechanisms,","   each named after the type of client certificate involved: ECDSA_sign,","   ECDSA_fixed_ECDH, and RSA_fixed_ECDH.  The ECDSA_sign mechanism is","   usable with any of the non-anonymous ECC key exchange algorithms","   described in Section 2 as well as other non-anonymous (non-ECC) key","   exchange algorithms defined in TLS [2][3].  The ECDSA_fixed_ECDH and","   RSA_fixed_ECDH mechanisms are usable with ECDH_ECDSA and ECDH_RSA.","   Their use with ECDHE_ECDSA and ECDHE_RSA is prohibited because the","   use of a long-term ECDH client key would jeopardize the forward","   secrecy property of these algorithms.","","   The server can request ECC-based client authentication by including","   one or more of these certificate types in its CertificateRequest","   message.  The server must not include any certificate types that are","   prohibited for the negotiated key exchange algorithm.  The client","   must check if it possesses a certificate appropriate for any of the","   methods suggested by the server and is willing to use it for","   authentication.","","   If these conditions are not met, the client should send a client","   Certificate message containing no certificates.  In this case, the","   ClientKeyExchange should be sent as described in Section 2, and the","   CertificateVerify should not be sent.  If the server requires client","   authentication, it may respond with a fatal handshake failure alert.","","   If the client has an appropriate certificate and is willing to use it","   for authentication, it must send that certificate in the client's","   Certificate message (as per Section 5.6) and prove possession of the","   private key corresponding to the certified key.  The process of","   determining an appropriate certificate and proving possession is","   different for each authentication mechanism and described below.","","   NOTE: It is permissible for a server to request (and the client to","   send) a client certificate of a different type than the server","   certificate."]},{"id":"section-3.1","title":"ECDSA_sign","lines":[[[[],0,"   "],[[11],224,"To use this authentication mechanism, the client MUST possess a"]],[[[],0,"   "],[[11],224,"certificate containing an ECDSA-capable public key and signed with"]],[[[],0,"   "],[[11],224,"ECDSA."]],"","   The client proves possession of the private key corresponding to the","   certified key by including a signature in the CertificateVerify","   message as described in Section 5.8."],"requirements":[11]},{"id":"section-3.2","title":"ECDSA_fixed_ECDH","lines":[[[[],0,"   "],[[12,13],224,"To use this authentication mechanism, the client MUST possess a"]],[[[],0,"   "],[[12,13],224,"certificate containing an ECDH-capable public key, and that"]],[[[],0,"   "],[[12,13],224,"certificate MUST be signed with ECDSA."],[[],0,"  "],[[14],224,"Furthermore, the client's"]],[[[],0,"   "],[[14],224,"ECDH key MUST be on the same elliptic curve as the server's long-term"]],[[[],0,"   "],[[14],224,"(certified) ECDH key."],[[],0,"  This might limit use of this mechanism to"]],"   closed environments.  In situations where the client has an ECC key","   on a different curve, it would have to authenticate using either","   ECDSA_sign or a non-ECC mechanism (e.g., RSA).  Using fixed ECDH for","   both servers and clients is computationally more efficient than","   mechanisms providing forward secrecy.","",[[[],0,"   "],[[15,16],224,"When using this authentication mechanism, the client MUST send an"]],[[[],0,"   "],[[15,16],224,"empty ClientKeyExchange as described in Section 5.7 and MUST NOT send"]],[[[],0,"   "],[[15,16],224,"the CertificateVerify message."],[[],0,"  The ClientKeyExchange is empty since"]],"   the client's ECDH public key required by the server to compute the","   premaster secret is available inside the client's certificate.  The","   client's ability to arrive at the same premaster secret as the server","   (demonstrated by a successful exchange of Finished messages) proves","   possession of the private key corresponding to the certified public","   key, and the CertificateVerify message is unnecessary."],"requirements":[12,13,14,15,16]},{"id":"section-3.3","title":"RSA_fixed_ECDH","lines":[[[[],0,"   "],[[17],224,"This authentication mechanism is identical to ECDSA_fixed_ECDH except"]],[[[],0,"   "],[[17],224,"that the client's certificate MUST be signed with RSA."]],"","   Note that while the ECDSA_sign, ECDSA_fixed_ECDH, and RSA_fixed_ECDH","   client authentication mechanisms require the client's certificate to","   be signed with a particular signature scheme, this specification does","   not impose restrictions on signature schemes used elsewhere in the","   certificate chain.  (Often such restrictions will be useful, and it","   is expected that this will be taken into account in certification","   authorities' signing practices.  However, such restrictions are not","   strictly required in general: Even if it is beyond the capabilities","   of a server to completely validate a given chain, the server may be","   able to validate the clients certificate by relying on a trust anchor","   that appears as one of the intermediate certificates in the chain.)"],"requirements":[17]},{"id":"section-4","title":"TLS Extensions for ECC","lines":["   Two new TLS extensions are defined in this specification: (i) the","   Supported Elliptic Curves Extension, and (ii) the Supported Point","   Formats Extension.  These allow negotiating the use of specific","   curves and point formats (e.g., compressed vs. uncompressed,","   respectively) during a handshake starting a new session.  These","   extensions are especially relevant for constrained clients that may","","   only support a limited number of curves or point formats.  They","   follow the general approach outlined in [4]; message details are","   specified in Section 5.  The client enumerates the curves it supports","   and the point formats it can parse by including the appropriate","   extensions in its ClientHello message.  The server similarly","   enumerates the point formats it can parse by including an extension","   in its ServerHello message.","",[[[],0,"   "],[[18],160,"A TLS client that proposes ECC cipher suites in its ClientHello"]],[[[],0,"   "],[[18],160,"message SHOULD include these extensions."],[[],0,"  "],[[19,20],224,"Servers implementing ECC"]],[[[],0,"   "],[[19,20],224,"cipher suites MUST support these extensions, and when a client uses"]],[[[],0,"   "],[[19,20],224,"these extensions, servers MUST NOT negotiate the use of an ECC cipher"]],[[[],0,"   "],[[19,20],224,"suite unless they can complete the handshake while respecting the"]],[[[],0,"   "],[[19,20],224,"choice of curves and compression techniques specified by the client."]],"   This eliminates the possibility that a negotiated ECC handshake will","   be subsequently aborted due to a client's inability to deal with the","   server's EC key.","",[[[],0,"   "],[[21],224,"The client MUST NOT include these extensions in the ClientHello"]],[[[],0,"   "],[[21],224,"message if it does not propose any ECC cipher suites."],[[],0,"  A client that"]],"   proposes ECC cipher suites may choose not to include these","   extensions.  In this case, the server is free to choose any one of","   the elliptic curves or point formats listed in Section 5.  That","   section also describes the structure and processing of these","   extensions in greater detail.","","   In the case of session resumption, the server simply ignores the","   Supported Elliptic Curves Extension and the Supported Point Formats","   Extension appearing in the current ClientHello message.  These","   extensions only play a role during handshakes negotiating a new","   session."],"requirements":[18,19,20,21]},{"id":"section-5","title":"Data Structures and Computations","lines":["   This section specifies the data structures and computations used by","   ECC-based key mechanisms specified in Sections 2, 3, and 4.  The","   presentation language used here is the same as that used in TLS","   [2][3].  Since this specification extends TLS, these descriptions","   should be merged with those in the TLS specification and any others","   that extend TLS.  This means that enum types may not specify all","   possible values, and structures with multiple formats chosen with a","   select() clause may not indicate all possible cases."]},{"id":"section-5.1","title":"Client Hello Extensions","lines":["   This section specifies two TLS extensions that can be included with","   the ClientHello message as described in [4], the Supported Elliptic","   Curves Extension and the Supported Point Formats Extension.","","   When these extensions are sent:","",[[[],0,"   "],[[24],160,"The extensions SHOULD be sent along with any ClientHello message that"]],[[[],0,"   "],[[24],160,"proposes ECC cipher suites."]],"","   Meaning of these extensions:","","   These extensions allow a client to enumerate the elliptic curves it","   supports and/or the point formats it can parse.","","   Structure of these extensions:","","   The general structure of TLS extensions is described in [4], and this","   specification adds two new types to ExtensionType.","","       enum { elliptic_curves(10), ec_point_formats(11) } ExtensionType;","","   elliptic_curves (Supported Elliptic Curves Extension):   Indicates","      the set of elliptic curves supported by the client.  For this","      extension, the opaque extension_data field contains","      EllipticCurveList.  See Section 5.1.1 for details.","","   ec_point_formats (Supported Point Formats Extension):   Indicates the","      set of point formats that the client can parse.  For this","      extension, the opaque extension_data field contains","      ECPointFormatList.  See Section 5.1.2 for details.","","   Actions of the sender:","","   A client that proposes ECC cipher suites in its ClientHello message","   appends these extensions (along with any others), enumerating the",[[[],0,"   curves it supports and the point formats it can parse.  "],[[25],160,"Clients"]],[[[],0,"   "],[[25],160,"SHOULD send both the Supported Elliptic Curves Extension and the"]],[[[],0,"   "],[[25],160,"Supported Point Formats Extension."],[[],0,"  "],[[26],224,"If the Supported Point Formats"]],[[[],0,"   "],[[26],224,"Extension is indeed sent, it MUST contain the value 0 (uncompressed)"]],[[[],0,"   "],[[26],224,"as one of the items in the list of point formats."]],"","   Actions of the receiver:","",[[[],0,"   "],[[27],224,"A server that receives a ClientHello containing one or both of these"]],[[[],0,"   "],[[27],224,"extensions MUST use the client's enumerated capabilities to guide its"]],[[[],0,"   "],[[27],224,"selection of an appropriate cipher suite."],[[],0,"  One of the proposed ECC"]],"   cipher suites must be negotiated only if the server can successfully","   complete the handshake while using the curves and point formats","   supported by the client (cf. Sections 5.3 and 5.4).","","   NOTE: A server participating in an ECDHE-ECDSA key exchange may use","   different curves for (i) the ECDSA key in its certificate, and (ii)","   the ephemeral ECDH key in the ServerKeyExchange message.  The server","   must consider the extensions in both cases.","",[[[],0,"   "],[[28],224,"If a server does not understand the Supported Elliptic Curves"]],[[[],0,"   "],[[28],224,"Extension, does not understand the Supported Point Formats Extension,"]],[[[],0,"   "],[[28],224,"or is unable to complete the ECC handshake while restricting itself"]],[[[],0,"   "],[[28],224,"to the enumerated curves and point formats, it MUST NOT negotiate the"]],[[[],0,"   "],[[28],224,"use of an ECC cipher suite."],[[],0,"  Depending on what other cipher suites"]],"   are proposed by the client and supported by the server, this may","   result in a fatal handshake failure alert due to the lack of common","   cipher suites."],"requirements":[24,25,26,27,28]},{"id":"section-5.1.1","title":"Supported Elliptic Curves Extension","lines":["        enum {","            sect163k1 (1), sect163r1 (2), sect163r2 (3),","            sect193r1 (4), sect193r2 (5), sect233k1 (6),","            sect233r1 (7), sect239k1 (8), sect283k1 (9),","            sect283r1 (10), sect409k1 (11), sect409r1 (12),","            sect571k1 (13), sect571r1 (14), secp160k1 (15),","            secp160r1 (16), secp160r2 (17), secp192k1 (18),","            secp192r1 (19), secp224k1 (20), secp224r1 (21),","            secp256k1 (22), secp256r1 (23), secp384r1 (24),","            secp521r1 (25),","            reserved (0xFE00..0xFEFF),","            arbitrary_explicit_prime_curves(0xFF01),","            arbitrary_explicit_char2_curves(0xFF02),","            (0xFFFF)","        } NamedCurve;","","   sect163k1, etc:   Indicates support of the corresponding named curve","      or class of explicitly defined curves.  The named curves defined","      here are those specified in SEC 2 [13].  Note that many of these","      curves are also recommended in ANSI X9.62 [7] and FIPS 186-2 [11].","      Values 0xFE00 through 0xFEFF are reserved for private use.  Values","      0xFF01 and 0xFF02 indicate that the client supports arbitrary","      prime and characteristic-2 curves, respectively (the curve","      parameters must be encoded explicitly in ECParameters).","","   The NamedCurve name space is maintained by IANA.  See Section 8 for","   information on how new value assignments are added.","","        struct {","            NamedCurve elliptic_curve_list<1..2^16-1>","        } EllipticCurveList;","","   Items in elliptic_curve_list are ordered according to the client's","   preferences (favorite choice first).","","   As an example, a client that only supports secp192r1 (aka NIST P-192;","   value 19 = 0x0013) and secp224r1 (aka NIST P-224; value 21 = 0x0015)","   and prefers to use secp192r1 would include a TLS extension consisting","   of the following octets.  Note that the first two octets indicate the","   extension type (Supported Elliptic Curves Extension):","","        00 0A 00 06 00 04 00 13 00 15","","   A client that supports arbitrary explicit characteristic-2 curves","   (value 0xFF02) would include an extension consisting of the following","   octets:","","        00 0A 00 04 00 02 FF 02"]},{"id":"section-5.1.2","title":"Supported Point Formats Extension","lines":["        enum { uncompressed (0), ansiX962_compressed_prime (1),","               ansiX962_compressed_char2 (2), reserved (248..255)","        } ECPointFormat;","","        struct {","            ECPointFormat ec_point_format_list<1..2^8-1>","        } ECPointFormatList;","","   Three point formats are included in the definition of ECPointFormat",[[[],0,"   above.  "],[[22],224,"The uncompressed point format is the default format in that"]],[[[],0,"   "],[[22],224,"implementations of this document MUST support it for all of their"]],[[[],0,"   "],[[22],224,"supported curves."],[[],0,"  Compressed point formats reduce bandwidth by"]],"   including only the x-coordinate and a single bit of the y-coordinate",[[[],0,"   of the point.  "],[[23],96,"Implementations of this document MAY support the"]],[[[],0,"   "],[[23],96,"ansiX962_compressed_prime and ansiX962_compressed_char2 formats,"]],[[[],0,"   "],[[23],96,"where the former applies only to prime curves and the latter applies"]],[[[],0,"   "],[[23],96,"only to characteristic-2 curves."],[[],0,"  (These formats are specified in"]],"   [7].)  Values 248 through 255 are reserved for private use.","","   The ECPointFormat name space is maintained by IANA.  See Section 8","   for information on how new value assignments are added.","","   Items in ec_point_format_list are ordered according to the client's","   preferences (favorite choice first).","","   A client that can parse only the uncompressed point format (value 0)","   includes an extension consisting of the following octets; note that","   the first two octets indicate the extension type (Supported Point","   Formats Extension):","","        00 0B 00 02 01 00","","   A client that in the case of prime fields prefers the compressed","   format (ansiX962_compressed_prime, value 1) over the uncompressed","   format (value 0), but in the case of characteristic-2 fields prefers","   the uncompressed format (value 0) over the compressed format","   (ansiX962_compressed_char2, value 2), may indicate these preferences","   by including an extension consisting of the following octets:","","        00 0B 00 04 03 01 00 02"],"requirements":[22,23]},{"id":"section-5.2","title":"Server Hello Extension","lines":["   This section specifies a TLS extension that can be included with the","   ServerHello message as described in [4], the Supported Point Formats","   Extension.","","   When this extension is sent:","","   The Supported Point Formats Extension is included in a ServerHello","   message in response to a ClientHello message containing the Supported","   Point Formats Extension when negotiating an ECC cipher suite.","","   Meaning of this extension:","","   This extension allows a server to enumerate the point formats it can","   parse (for the curve that will appear in its ServerKeyExchange","   message when using the ECDHE_ECDSA, ECDHE_RSA, or ECDH_anon key","   exchange algorithm, or for the curve that is used in the server's","   public key that will appear in its Certificate message when using the","   ECDH_ECDSA or ECDH_RSA key exchange algorithm).","","   Structure of this extension:","","   The server's Supported Point Formats Extension has the same structure","   as the client's Supported Point Formats Extension (see","   Section 5.1.2).  Items in elliptic_curve_list here are ordered","   according to the server's preference (favorite choice first).  Note","   that the server may include items that were not found in the client's","   list (e.g., the server may prefer to receive points in compressed","   format even when a client cannot parse this format: the same client","   may nevertheless be capable of outputting points in compressed","   format).","","   Actions of the sender:","","   A server that selects an ECC cipher suite in response to a","   ClientHello message including a Supported Point Formats Extension","   appends this extension (along with others) to its ServerHello",[[[],0,"   message, enumerating the point formats it can parse.  "],[[31],224,"The Supported"]],[[[],0,"   "],[[31],224,"Point Formats Extension, when used, MUST contain the value 0"]],[[[],0,"   "],[[31],224,"(uncompressed) as one of the items in the list of point formats."]],"","   Actions of the receiver:","",[[[],0,"   "],[[32],224,"A client that receives a ServerHello message containing a Supported"]],[[[],0,"   "],[[32],224,"Point Formats Extension MUST respect the server's choice of point"]],[[[],0,"   "],[[32],224,"formats during the handshake (cf."],[[],0," Sections 5.6 and 5.7).  If no"]],"   Supported Point Formats Extension is received with the ServerHello,","   this is equivalent to an extension allowing only the uncompressed","   point format."],"requirements":[31,32]},{"id":"section-5.3","title":"Server Certificate","lines":["   When this message is sent:","","   This message is sent in all non-anonymous ECC-based key exchange","   algorithms.","","   Meaning of this message:","","   This message is used to authentically convey the server's static","   public key to the client.  The following table shows the server",[[[],0,"   certificate type appropriate for each key exchange algorithm.  "],[[33],224,"ECC"]],[[[],0,"   "],[[33],224,"public keys MUST be encoded in certificates as described in"]],[[[],0,"   "],[[33],224,"Section 5.9."]],"","   NOTE: The server's Certificate message is capable of carrying a chain","   of certificates.  The restrictions mentioned in Table 3 apply only to","   the server's certificate (first in the chain).","","          Key Exchange Algorithm  Server Certificate Type","          ----------------------  -----------------------","",[[[],0,"          "],[[34],224,"ECDH_ECDSA              Certificate MUST contain an"]],[[[],0,"                                  "],[[34],224,"ECDH-capable public key."],[[],0,"  "],[[35,37],224,"It"]],[[[],0,"                                  "],[[35,37],224,"MUST be signed with ECDSA."]],"",[[[],0,"          "],[[36],224,"ECDHE_ECDSA             Certificate MUST contain an"]],[[[],0,"                                  "],[[36],224,"ECDSA-capable public key."],[[],0,"  It"]],"                                  MUST be signed with ECDSA.","",[[[],0,"          "],[[38],224,"ECDH_RSA                Certificate MUST contain an"]],[[[],0,"                                  "],[[38],224,"ECDH-capable public key."],[[],0,"  "],[[39,41],224,"It"]],[[[],0,"                                  "],[[39,41],224,"MUST be signed with RSA."]],"",[[[],0,"          "],[[40],224,"ECDHE_RSA               Certificate MUST contain an"]],[[[],0,"                                  "],[[40],224,"RSA public key authorized for"]],[[[],0,"                                  "],[[40],224,"use in digital signatures."],[[],0,"  It"]],"                                  MUST be signed with RSA.","","                    Table 3: Server Certificate Types","","   Structure of this message:","","   Identical to the TLS Certificate format.","","   Actions of the sender:","","   The server constructs an appropriate certificate chain and conveys it",[[[],0,"   to the client in the Certificate message.  "],[[42,43],224,"If the client has used a"]],[[[],0,"   "],[[42,43],224,"Supported Elliptic Curves Extension, the public key in the server's"]],[[[],0,"   "],[[42,43],224,"certificate MUST respect the client's choice of elliptic curves; in"]],[[[],0,"   "],[[42,43],224,"particular, the public key MUST employ a named curve (not the same"]],[[[],0,"   "],[[42,43],224,"curve as an explicit curve) unless the client has indicated support"]],[[[],0,"   "],[[42,43],224,"for explicit curves of the appropriate type."],[[],0,"  "],[[44],224,"If the client has used"]],[[[],0,"   "],[[44],224,"a Supported Point Formats Extension, both the server's public key"]],[[[],0,"   "],[[44],224,"point and (in the case of an explicit curve) the curve's base point"]],[[[],0,"   "],[[44],224,"MUST respect the client's choice of point formats."],[[],0,"  "],[[45],224,"(A server that"]],[[[],0,"   "],[[45],224,"cannot satisfy these requirements MUST NOT choose an ECC cipher suite"]],[[[],0,"   "],[[45],224,"in its ServerHello message.)"]],"","   Actions of the receiver:","","   The client validates the certificate chain, extracts the server's","   public key, and checks that the key type is appropriate for the","   negotiated key exchange algorithm.  (A possible reason for a fatal","   handshake failure is that the client's capabilities for handling","   elliptic curves and point formats are exceeded; cf. Section 5.1.)"],"requirements":[33,34,35,36,37,38,39,40,41,42,43,44,45]},{"id":"section-5.4","title":"Server Key Exchange","lines":["   When this message is sent:","","   This message is sent when using the ECDHE_ECDSA, ECDHE_RSA, and","   ECDH_anon key exchange algorithms.","","   Meaning of this message:","","   This message is used to convey the server's ephemeral ECDH public key","   (and the corresponding elliptic curve domain parameters) to the","   client.","","   Structure of this message:","","        enum { explicit_prime (1), explicit_char2 (2),","               named_curve (3), reserved(248..255) } ECCurveType;","","   explicit_prime:   Indicates the elliptic curve domain parameters are","      conveyed verbosely, and the underlying finite field is a prime","      field.","","   explicit_char2:   Indicates the elliptic curve domain parameters are","      conveyed verbosely, and the underlying finite field is a","      characteristic-2 field.","",[[[],0,"   named_curve:   Indicates that a named curve is used.  "],[[46],160,"This option"]],[[[],0,"      "],[[46],160,"SHOULD be used when applicable."]],"","   Values 248 through 255 are reserved for private use.","","   The ECCurveType name space is maintained by IANA.  See Section 8 for","   information on how new value assignments are added.","","        struct {","            opaque a <1..2^8-1>;","            opaque b <1..2^8-1>;","        } ECCurve;","","   a, b:   These parameters specify the coefficients of the elliptic","      curve.  Each value contains the byte string representation of a","      field element following the conversion routine in Section 4.3.3 of","      ANSI X9.62 [7].","","        struct {","            opaque point <1..2^8-1>;","        } ECPoint;","","   point:   This is the byte string representation of an elliptic curve","      point following the conversion routine in Section 4.3.6 of ANSI",[[[],0,"      X9.62 [7].  "],[[47],224,"This byte string may represent an elliptic curve point"]],[[[],0,"      "],[[47],224,"in uncompressed or compressed format; it MUST conform to what the"]],[[[],0,"      "],[[47],224,"client has requested through a Supported Point Formats Extension"]],[[[],0,"      "],[[47],224,"if this extension was used."]],"","        enum { ec_basis_trinomial, ec_basis_pentanomial } ECBasisType;","","   ec_basis_trinomial:   Indicates representation of a characteristic-2","      field using a trinomial basis.","","   ec_basis_pentanomial:   Indicates representation of a","      characteristic-2 field using a pentanomial basis.","","        struct {","            ECCurveType    curve_type;","            select (curve_type) {","                case explicit_prime:","                    opaque      prime_p <1..2^8-1>;","                    ECCurve     curve;","                    ECPoint     base;","                    opaque      order <1..2^8-1>;","                    opaque      cofactor <1..2^8-1>;","                case explicit_char2:","                    uint16      m;","                    ECBasisType basis;","                    select (basis) {","                        case ec_trinomial:","                            opaque  k <1..2^8-1>;","                        case ec_pentanomial:","                            opaque  k1 <1..2^8-1>;","                            opaque  k2 <1..2^8-1>;","                            opaque  k3 <1..2^8-1>;","                    };","                    ECCurve     curve;","                    ECPoint     base;","                    opaque      order <1..2^8-1>;","                    opaque      cofactor <1..2^8-1>;","","                case named_curve:","                    NamedCurve namedcurve;","            };","        } ECParameters;","","   curve_type:   This identifies the type of the elliptic curve domain","      parameters.","","   prime_p:   This is the odd prime defining the field Fp.","","   curve:   Specifies the coefficients a and b of the elliptic curve E.","","   base:   Specifies the base point G on the elliptic curve.","","   order:   Specifies the order n of the base point.","","   cofactor:   Specifies the cofactor h = #E(Fq)/n, where #E(Fq)","      represents the number of points on the elliptic curve E defined","      over the field Fq (either Fp or F2^m).","","   m:   This is the degree of the characteristic-2 field F2^m.","","   k:   The exponent k for the trinomial basis representation x^m + x^k","      +1.","","   k1, k2, k3:   The exponents for the pentanomial representation x^m +","      x^k3 + x^k2 + x^k1 + 1 (such that k3 > k2 > k1).","","   namedcurve:   Specifies a recommended set of elliptic curve domain","      parameters.  All those values of NamedCurve are allowed that refer","      to a specific curve.  Values of NamedCurve that indicate support","      for a class of explicitly defined curves are not allowed here","      (they are only permissible in the ClientHello extension); this","      applies to arbitrary_explicit_prime_curves(0xFF01) and","      arbitrary_explicit_char2_curves(0xFF02).","","        struct {","            ECParameters    curve_params;","            ECPoint         public;","        } ServerECDHParams;","","   curve_params:   Specifies the elliptic curve domain parameters","      associated with the ECDH public key.","","   public:   The ephemeral ECDH public key.","","   The ServerKeyExchange message is extended as follows.","","        enum { ec_diffie_hellman } KeyExchangeAlgorithm;","","   ec_diffie_hellman:   Indicates the ServerKeyExchange message contains","      an ECDH public key.","","        select (KeyExchangeAlgorithm) {","            case ec_diffie_hellman:","                ServerECDHParams    params;","                Signature           signed_params;","        } ServerKeyExchange;","","   params:   Specifies the ECDH public key and associated domain","      parameters.","","   signed_params:   A hash of the params, with the signature appropriate","      to that hash applied.  The private key corresponding to the","      certified public key in the server's Certificate message is used","      for signing.","","          enum { ecdsa } SignatureAlgorithm;","","          select (SignatureAlgorithm) {","              case ecdsa:","                  digitally-signed struct {","                      opaque sha_hash[sha_size];","                  };","          } Signature;","","        ServerKeyExchange.signed_params.sha_hash","            SHA(ClientHello.random + ServerHello.random +","                                              ServerKeyExchange.params);","","   NOTE: SignatureAlgorithm is \"rsa\" for the ECDHE_RSA key exchange","   algorithm and \"anonymous\" for ECDH_anon.  These cases are defined in","   TLS [2][3].  SignatureAlgorithm is \"ecdsa\" for ECDHE_ECDSA.  ECDSA","   signatures are generated and verified as described in Section 5.10,","   and SHA in the above template for sha_hash accordingly may denote a","   hash algorithm other than SHA-1.  As per ANSI X9.62, an ECDSA","   signature consists of a pair of integers, r and s.  The digitally-","   signed element is encoded as an opaque vector <0..2^16-1>, the","   contents of which are the DER encoding [9] corresponding to the","   following ASN.1 notation [8].","","           Ecdsa-Sig-Value ::= SEQUENCE {","               r       INTEGER,","               s       INTEGER","           }","","   Actions of the sender:","","   The server selects elliptic curve domain parameters and an ephemeral","   ECDH public key corresponding to these parameters according to the","   ECKAS-DH1 scheme from IEEE 1363 [6].  It conveys this information to","   the client in the ServerKeyExchange message using the format defined","   above.","","   Actions of the receiver:","","   The client verifies the signature (when present) and retrieves the","   server's elliptic curve domain parameters and ephemeral ECDH public","   key from the ServerKeyExchange message.  (A possible reason for a","   fatal handshake failure is that the client's capabilities for","   handling elliptic curves and point formats are exceeded;","   cf. Section 5.1.)"],"requirements":[46,47]},{"id":"section-5.5","title":"Certificate Request","lines":["   When this message is sent:","","   This message is sent when requesting client authentication.","","   Meaning of this message:","","   The server uses this message to suggest acceptable client","   authentication methods.","","   Structure of this message:","","   The TLS CertificateRequest message is extended as follows.","","        enum {","            ecdsa_sign(64), rsa_fixed_ecdh(65),","            ecdsa_fixed_ecdh(66), (255)","        } ClientCertificateType;","","   ecdsa_sign, etc.  Indicates that the server would like to use the","      corresponding client authentication method specified in Section 3.","","   Actions of the sender:","","   The server decides which client authentication methods it would like","   to use, and conveys this information to the client using the format","   defined above.","","   Actions of the receiver:","","   The client determines whether it has a suitable certificate for use","   with any of the requested methods and whether to proceed with client","   authentication."]},{"id":"section-5.6","title":"Client Certificate","lines":["   When this message is sent:","","   This message is sent in response to a CertificateRequest when a","   client has a suitable certificate and has decided to proceed with","   client authentication.  (Note that if the server has used a Supported","   Point Formats Extension, a certificate can only be considered","   suitable for use with the ECDSA_sign, RSA_fixed_ECDH, and","   ECDSA_fixed_ECDH authentication methods if the public key point","   specified in it respects the server's choice of point formats.  If no","   Supported Point Formats Extension has been used, a certificate can","   only be considered suitable for use with these authentication methods","   if the point is represented in uncompressed point format.)","","   Meaning of this message:","","   This message is used to authentically convey the client's static","   public key to the server.  The following table summarizes what client","   certificate types are appropriate for the ECC-based client","   authentication mechanisms described in Section 3.  ECC public keys","   must be encoded in certificates as described in Section 5.9.","","   NOTE: The client's Certificate message is capable of carrying a chain","   of certificates.  The restrictions mentioned in Table 4 apply only to","   the client's certificate (first in the chain).","","          Client","          Authentication Method   Client Certificate Type","          ---------------------   -----------------------","",[[[],0,"          "],[[48],224,"ECDSA_sign              Certificate MUST contain an"]],[[[],0,"                                  "],[[48],224,"ECDSA-capable public key and"]],[[[],0,"                                  "],[[48],224,"be signed with ECDSA."]],"",[[[],0,"          "],[[49],224,"ECDSA_fixed_ECDH        Certificate MUST contain an"]],[[[],0,"                                  "],[[49],224,"ECDH-capable public key on the"]],[[[],0,"                                  "],[[49],224,"same elliptic curve as the server's"]],[[[],0,"                                  "],[[49],224,"long-term ECDH key."],[[],0,"  "],[[50],224,"This certificate"]],[[[],0,"                                  "],[[50],224,"MUST be signed with ECDSA."]],"",[[[],0,"          "],[[51],224,"RSA_fixed_ECDH          Certificate MUST contain an"]],[[[],0,"                                  "],[[51],224,"ECDH-capable public key on the"]],[[[],0,"                                  "],[[51],224,"same elliptic curve as the server's"]],[[[],0,"                                  "],[[51],224,"long-term ECDH key."],[[],0,"  "],[[52],224,"This certificate"]],[[[],0,"                                  "],[[52],224,"MUST be signed with RSA."]],"","                     Table 4: Client Certificate Types","","   Structure of this message:","","   Identical to the TLS client Certificate format.","","   Actions of the sender:","","   The client constructs an appropriate certificate chain, and conveys","   it to the server in the Certificate message.","","   Actions of the receiver:","","   The TLS server validates the certificate chain, extracts the client's","   public key, and checks that the key type is appropriate for the","   client authentication method."],"requirements":[48,49,50,51,52]},{"id":"section-5.7","title":"Client Key Exchange","lines":["   When this message is sent:","","   This message is sent in all key exchange algorithms.  If client","   authentication with ECDSA_fixed_ECDH or RSA_fixed_ECDH is used, this","   message is empty.  Otherwise, it contains the client's ephemeral ECDH","   public key.","","   Meaning of the message:","","   This message is used to convey ephemeral data relating to the key","   exchange belonging to the client (such as its ephemeral ECDH public","   key).","","   Structure of this message:","","   The TLS ClientKeyExchange message is extended as follows.","","        enum { implicit, explicit } PublicValueEncoding;","","   implicit, explicit:   For ECC cipher suites, this indicates whether","      the client's ECDH public key is in the client's certificate","      (\"implicit\") or is provided, as an ephemeral ECDH public key, in","      the ClientKeyExchange message (\"explicit\").  (This is \"explicit\"","      in ECC cipher suites except when the client uses the","      ECDSA_fixed_ECDH or RSA_fixed_ECDH client authentication","      mechanism.)","","        struct {","            select (PublicValueEncoding) {","                case implicit: struct { };","                case explicit: ECPoint ecdh_Yc;","            } ecdh_public;","        } ClientECDiffieHellmanPublic;","","   ecdh_Yc:   Contains the client's ephemeral ECDH public key as a byte","      string ECPoint.point, which may represent an elliptic curve point",[[[],0,"      in uncompressed or compressed format.  "],[[53,54],224,"Here, the format MUST"]],[[[],0,"      "],[[53,54],224,"conform to what the server has requested through a Supported Point"]],[[[],0,"      "],[[53,54],224,"Formats Extension if this extension was used, and MUST be"]],[[[],0,"      "],[[53,54],224,"uncompressed if this extension was not used."]],"","        struct {","            select (KeyExchangeAlgorithm) {","                case ec_diffie_hellman: ClientECDiffieHellmanPublic;","            } exchange_keys;","        } ClientKeyExchange;","","   Actions of the sender:","","   The client selects an ephemeral ECDH public key corresponding to the","   parameters it received from the server according to the ECKAS-DH1","   scheme from IEEE 1363 [6].  It conveys this information to the client","   in the ClientKeyExchange message using the format defined above.","","   Actions of the receiver:","","   The server retrieves the client's ephemeral ECDH public key from the","   ClientKeyExchange message and checks that it is on the same elliptic","   curve as the server's ECDH key."],"requirements":[53,54]},{"id":"section-5.8","title":"Certificate Verify","lines":["   When this message is sent:","","   This message is sent when the client sends a client certificate","   containing a public key usable for digital signatures, e.g., when the","   client is authenticated using the ECDSA_sign mechanism.","","   Meaning of the message:","","   This message contains a signature that proves possession of the","   private key corresponding to the public key in the client's","   Certificate message.","","   Structure of this message:","","   The TLS CertificateVerify message and the underlying Signature type","   are defined in [2] and [3], and the latter is extended here in","   Section 5.4.  For the ecdsa case, the signature field in the","   CertificateVerify message contains an ECDSA signature computed over","   handshake messages exchanged so far, exactly similar to","   CertificateVerify with other signing algorithms in [2] and [3]:","","        CertificateVerify.signature.sha_hash","            SHA(handshake_messages);","","   ECDSA signatures are computed as described in Section 5.10, and SHA","   in the above template for sha_hash accordingly may denote a hash","   algorithm other than SHA-1.  As per ANSI X9.62, an ECDSA signature","   consists of a pair of integers, r and s.  The digitally-signed","   element is encoded as an opaque vector <0..2^16-1>, the contents of","   which are the DER encoding [9] corresponding to the following ASN.1","   notation [8].","","        Ecdsa-Sig-Value ::= SEQUENCE {","            r       INTEGER,","            s       INTEGER","        }","","   Actions of the sender:","","   The client computes its signature over all handshake messages sent or","   received starting at client hello and up to but not including this","   message.  It uses the private key corresponding to its certified","   public key to compute the signature, which is conveyed in the format","   defined above.","","   Actions of the receiver:","","   The server extracts the client's signature from the CertificateVerify","   message, and verifies the signature using the public key it received","   in the client's Certificate message."]},{"id":"section-5.9","title":"Elliptic Curve Certificates","lines":[[[[],0,"   "],[[55],224,"X.509 certificates containing ECC public keys or signed using ECDSA"]],[[[],0,"   "],[[55],224,"MUST comply with [14] or another RFC that replaces or extends it."]],[[[],0,"   "],[[56],160,"Clients SHOULD use the elliptic curve domain parameters recommended"]],[[[],0,"   "],[[56],160,"in ANSI X9.62 [7], FIPS 186-2 [11], and SEC 2 [13]."]]],"requirements":[55,56]},{"id":"section-5.10","title":"ECDH, ECDSA, and RSA Computations","lines":["   All ECDH calculations (including parameter and key generation as well","   as the shared secret calculation) are performed according to [6]","   using the ECKAS-DH1 scheme with the identity map as key derivation","   function (KDF), so that the premaster secret is the x-coordinate of","   the ECDH shared secret elliptic curve point represented as an octet",[[[],0,"   string.  "],[[29],224,"Note that this octet string (Z in IEEE 1363 terminology) as"]],[[[],0,"   "],[[29],224,"output by FE2OSP, the Field Element to Octet String Conversion"]],[[[],0,"   "],[[29],224,"Primitive, has constant length for any given field; leading zeros"]],[[[],0,"   "],[[29],224,"found in this octet string MUST NOT be truncated."]],"","   (Note that this use of the identity KDF is a technicality.  The","   complete picture is that ECDH is employed with a non-trivial KDF","   because TLS does not directly use the premaster secret for anything","   other than for computing the master secret.  As of TLS 1.0 [2] and","   1.1 [3], this means that the MD5- and SHA-1-based TLS PRF serves as a","   KDF; it is conceivable that future TLS versions or new TLS extensions","   introduced in the future may vary this computation.)","",[[[],0,"   "],[[30],224,"All ECDSA computations MUST be performed according to ANSI X9.62 [7]"]],[[[],0,"   "],[[30],224,"or its successors."],[[],0,"  Data to be signed/verified is hashed, and the"]],"   result run directly through the ECDSA algorithm with no additional","   hashing.  The default hash function is SHA-1 [10], and sha_size (see","   Sections 5.4 and 5.8) is 20.  However, an alternative hash function,","   such as one of the new SHA hash functions specified in FIPS 180-2","   [10], may be used instead if the certificate containing the EC public","","   key explicitly requires use of another hash function.  (The mechanism","   for specifying the required hash function has not been standardized,","   but this provision anticipates such standardization and obviates the","   need to update this document in response.  Future PKIX RFCs may","   choose, for example, to specify the hash function to be used with a","   public key in the parameters field of subjectPublicKeyInfo.)","","   All RSA signatures must be generated and verified according to PKCS#1","   [12] block type 1."],"requirements":[29,30]},{"id":"section-6","title":"Cipher Suites","lines":["   The table below defines new ECC cipher suites that use the key","   exchange algorithms specified in Section 2.","","     CipherSuite TLS_ECDH_ECDSA_WITH_NULL_SHA           = { 0xC0, 0x01 }","     CipherSuite TLS_ECDH_ECDSA_WITH_RC4_128_SHA        = { 0xC0, 0x02 }","     CipherSuite TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA   = { 0xC0, 0x03 }","     CipherSuite TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA    = { 0xC0, 0x04 }","     CipherSuite TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA    = { 0xC0, 0x05 }","","     CipherSuite TLS_ECDHE_ECDSA_WITH_NULL_SHA          = { 0xC0, 0x06 }","     CipherSuite TLS_ECDHE_ECDSA_WITH_RC4_128_SHA       = { 0xC0, 0x07 }","     CipherSuite TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA  = { 0xC0, 0x08 }","     CipherSuite TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA   = { 0xC0, 0x09 }","     CipherSuite TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA   = { 0xC0, 0x0A }","","     CipherSuite TLS_ECDH_RSA_WITH_NULL_SHA             = { 0xC0, 0x0B }","     CipherSuite TLS_ECDH_RSA_WITH_RC4_128_SHA          = { 0xC0, 0x0C }","     CipherSuite TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA     = { 0xC0, 0x0D }","     CipherSuite TLS_ECDH_RSA_WITH_AES_128_CBC_SHA      = { 0xC0, 0x0E }","     CipherSuite TLS_ECDH_RSA_WITH_AES_256_CBC_SHA      = { 0xC0, 0x0F }","","     CipherSuite TLS_ECDHE_RSA_WITH_NULL_SHA            = { 0xC0, 0x10 }","     CipherSuite TLS_ECDHE_RSA_WITH_RC4_128_SHA         = { 0xC0, 0x11 }","     CipherSuite TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA    = { 0xC0, 0x12 }","     CipherSuite TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA     = { 0xC0, 0x13 }","     CipherSuite TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA     = { 0xC0, 0x14 }","","     CipherSuite TLS_ECDH_anon_WITH_NULL_SHA            = { 0xC0, 0x15 }","     CipherSuite TLS_ECDH_anon_WITH_RC4_128_SHA         = { 0xC0, 0x16 }","     CipherSuite TLS_ECDH_anon_WITH_3DES_EDE_CBC_SHA    = { 0xC0, 0x17 }","     CipherSuite TLS_ECDH_anon_WITH_AES_128_CBC_SHA     = { 0xC0, 0x18 }","     CipherSuite TLS_ECDH_anon_WITH_AES_256_CBC_SHA     = { 0xC0, 0x19 }","","                        Table 5: TLS ECC cipher suites","","   The key exchange method, cipher, and hash algorithm for each of these","   cipher suites are easily determined by examining the name.  Ciphers","   (other than AES ciphers) and hash algorithms are defined in [2] and","   [3].  AES ciphers are defined in [19].","",[[[],0,"   "],[[57,58],160,"Server implementations SHOULD support all of the following cipher"]],[[[],0,"   "],[[57,58],160,"suites, and client implementations SHOULD support at least one of"]],[[[],0,"   "],[[57,58],160,"them: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA,"]],[[[],0,"   "],[[57,58],160,"TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA,"]],[[[],0,"   "],[[57,58],160,"TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, and"]],[[[],0,"   "],[[57,58],160,"TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA."]]],"requirements":[57,58]},{"id":"section-7","title":"Security Considerations","lines":["   Security issues are discussed throughout this memo.","","   For TLS handshakes using ECC cipher suites, the security","   considerations in appendices D.2 and D.3 of [2] and [3] apply","   accordingly.","","   Security discussions specific to ECC can be found in [6] and [7].","   One important issue that implementers and users must consider is","   elliptic curve selection.  Guidance on selecting an appropriate","   elliptic curve size is given in Table 1.","","   Beyond elliptic curve size, the main issue is elliptic curve","   structure.  As a general principle, it is more conservative to use","   elliptic curves with as little algebraic structure as possible.","   Thus, random curves are more conservative than special curves such as","   Koblitz curves, and curves over F_p with p random are more","   conservative than curves over F_p with p of a special form (and","   curves over F_p with p random might be considered more conservative","   than curves over F_2^m as there is no choice between multiple fields","   of similar size for characteristic 2).  Note, however, that algebraic","   structure can also lead to implementation efficiencies, and","   implementers and users may, therefore, need to balance conservatism","   against a need for efficiency.  Concrete attacks are known against","   only very few special classes of curves, such as supersingular","   curves, and these classes are excluded from the ECC standards that","   this document references [6], [7].","","   Another issue is the potential for catastrophic failures when a","   single elliptic curve is widely used.  In this case, an attack on the","   elliptic curve might result in the compromise of a large number of","   keys.  Again, this concern may need to be balanced against efficiency","   and interoperability improvements associated with widely-used curves.","   Substantial additional information on elliptic curve choice can be","   found in [5], [6], [7], and [11].","","   Implementers and users must also consider whether they need forward","   secrecy.  Forward secrecy refers to the property that session keys","   are not compromised if the static, certified keys belonging to the","   server and client are compromised.  The ECDHE_ECDSA and ECDHE_RSA key","   exchange algorithms provide forward secrecy protection in the event","   of server key compromise, while ECDH_ECDSA and ECDH_RSA do not.","   Similarly, if the client is providing a static, certified key,","   ECDSA_sign client authentication provides forward secrecy protection","   in the event of client key compromise, while ECDSA_fixed_ECDH and","   RSA_fixed_ECDH do not.  Thus, to obtain complete forward secrecy","   protection, ECDHE_ECDSA or ECDHE_RSA must be used for key exchange,","   with ECDSA_sign used for client authentication if necessary.  Here","   again the security benefits of forward secrecy may need to be","   balanced against the improved efficiency offered by other options."]},{"id":"section-8","title":"IANA Considerations","lines":["   This document describes three new name spaces for use with the TLS","   protocol:","","   o  NamedCurve (Section 5.1)","","   o  ECPointFormat (Section 5.1)","","   o  ECCurveType (Section 5.4)","","   For each name space, this document defines the initial value","   assignments and defines a range of 256 values (NamedCurve) or eight","   values (ECPointFormat and ECCurveType) reserved for Private Use.  Any","   additional assignments require IETF Consensus action [16]."]},{"id":"section-9","title":"Acknowledgements","lines":["   The authors wish to thank Bill Anderson and Tim Dierks."]},{"id":"section-10","title":"References","lines":[]},{"id":"section-10.1","title":"Normative References","lines":["   [1]   Bradner, S., \"Key Words for Use in RFCs to Indicate Requirement","         Levels\", RFC 2119, March 1997.","","   [2]   Dierks, T. and C. Allen, \"The TLS Protocol Version 1.0\",","         RFC 2246, January 1999.","","   [3]   Dierks, T. and E. Rescorla, \"The Transport Layer Security (TLS)","         Protocol Version 1.1\", RFC 4346, April 2006.","","   [4]   Blake-Wilson, S., Nystrom, M., Hopwood, D., Mikkelsen, J., and","         T. Wright, \"Transport Layer Security (TLS) Extensions\", RFC","         4366, April 2006.","","   [5]   SECG, \"Elliptic Curve Cryptography\", SEC 1, 2000,","         <http://www.secg.org/>.","","   [6]   IEEE, \"Standard Specifications for Public Key Cryptography\",","         IEEE 1363, 2000.","","   [7]   ANSI, \"Public Key Cryptography For The Financial Services","         Industry: The Elliptic Curve Digital Signature Algorithm","         (ECDSA)\", ANSI X9.62, 1998.","","   [8]   International Telecommunication Union, \"Information technology","         - Abstract Syntax Notation One (ASN.1): Specification of basic","         notation\", ITU-T Recommendation X.680, 2002.","","   [9]   International Telecommunication Union, \"Information technology","         - ASN.1 encoding rules: Specification of Basic Encoding Rules","         (BER), Canonical Encoding Rules (CER) and Distinguished","         Encoding Rules (DER)\", ITU-T Recommendation X.690, 2002.","","   [10]  NIST, \"Secure Hash Standard\", FIPS 180-2, 2002.","","   [11]  NIST, \"Digital Signature Standard\", FIPS 186-2, 2000.","","   [12]  RSA Laboratories, \"PKCS#1: RSA Encryption Standard version","         1.5\", PKCS 1, November 1993.","","   [13]  SECG, \"Recommended Elliptic Curve Domain Parameters\", SEC 2,","         2000, <http://www.secg.org/>.","","   [14]  Polk, T., Housley, R., and L. Bassham, \"Algorithms and","         Identifiers for the Internet X.509 Public Key Infrastructure","         Certificate and Certificate Revocation List (CRL) Profile\",","         RFC 3279, April 2002.","","   [15]  Housley, R., Polk, T., Ford, W., and D. Solo, \"Internet X.509","         Public Key Infrastructure Certificate and Certificate","         Revocation List (CRL) Profile\", RFC 3280, April 2002.","","   [16]  Narten, T. and H. Alvestrand, \"Guidelines for Writing an IANA","         Considerations Section in RFCs\", RFC 2434, October 1998."]},{"id":"section-10.2","title":"Informative References","lines":["   [17]  Harper, G., Menezes, A., and S. Vanstone, \"Public-Key","         Cryptosystems with Very Small Key Lengths\", Advances in","         Cryptology -- EUROCRYPT '92, LNCS 658, 1993.","","   [18]  Lenstra, A. and E. Verheul, \"Selecting Cryptographic Key","         Sizes\", Journal of Cryptology 14 (2001) 255-293,","         <http://www.cryptosavvy.com/>.","","   [19]  Chown, P., \"Advanced Encryption Standard (AES) Ciphersuites for","         Transport Layer Security (TLS)\", RFC 3268, June 2002."]},{"id":"appendix-A","title":"Equivalent Curves (Informative)","lines":["   All of the NIST curves [11] and several of the ANSI curves [7] are","   equivalent to curves listed in Section 5.1.1.  In the following","   table, multiple names in one row represent aliases for the same","   curve.","","             ------------------------------------------","                       Curve names chosen by","                  different standards organizations","             ------------+---------------+-------------","             SECG        |  ANSI X9.62   |  NIST","             ------------+---------------+-------------","             sect163k1   |               |   NIST K-163","             sect163r1   |               |","             sect163r2   |               |   NIST B-163","             sect193r1   |               |","             sect193r2   |               |","             sect233k1   |               |   NIST K-233","             sect233r1   |               |   NIST B-233","             sect239k1   |               |","             sect283k1   |               |   NIST K-283","             sect283r1   |               |   NIST B-283","             sect409k1   |               |   NIST K-409","             sect409r1   |               |   NIST B-409","             sect571k1   |               |   NIST K-571","             sect571r1   |               |   NIST B-571","             secp160k1   |               |","             secp160r1   |               |","             secp160r2   |               |","             secp192k1   |               |","             secp192r1   |  prime192v1   |   NIST P-192","             secp224k1   |               |","             secp224r1   |               |   NIST P-224","             secp256k1   |               |","             secp256r1   |  prime256v1   |   NIST P-256","             secp384r1   |               |   NIST P-384","             secp521r1   |               |   NIST P-521","             ------------+---------------+-------------","","      Table 6: Equivalent curves defined by SECG, ANSI, and NIST"]},{"id":"name-authors-addresses","title":"Authors' Addresses","lines":["   Simon Blake-Wilson","   SafeNet Technologies BV","   Amstelveenseweg 88-90","   1075 XJ, Amsterdam","   NL","","   Phone: +31 653 899 836","   EMail: sblakewilson@safenet-inc.com","","   Nelson Bolyard","   Sun Microsystems Inc.","   4170 Network Circle","   MS SCA17-201","   Santa Clara, CA  95054","   US","","   Phone: +1 408 930 1443","   EMail: nelson@bolyard.com","","   Vipul Gupta","   Sun Microsystems Laboratories","   16 Network Circle","   MS UMPK16-160","   Menlo Park, CA  94025","   US","","   Phone: +1 650 786 7551","   EMail: vipul.gupta@sun.com","","   Chris Hawk","   Corriente Networks LLC","   1563 Solano Ave., #484","   Berkeley, CA  94707","   US","","   Phone: +1 510 527 0601","   EMail: chris@corriente.net","","   Bodo Moeller","   Ruhr-Uni Bochum","   Horst-Goertz-Institut, Lehrstuhl fuer Kommunikationssicherheit","   IC 4/139","   44780 Bochum","   DE","","   Phone: +49 234 32 26795","   EMail: bodo@openssl.org"]},{"id":"name-full-copyright-statement","title":"Full Copyright Statement","lines":["   Copyright (C) The Internet Society (2006).","","   This document is subject to the rights, licenses and restrictions","   contained in BCP 78, and except as set forth therein, the authors","   retain all their rights.","","   This document and the information contained herein are provided on an","   \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS","   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET","   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,","   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE","   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED","   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."]},{"id":"name-intellectual-property","title":"Intellectual Property","lines":["   The IETF takes no position regarding the validity or scope of any","   Intellectual Property Rights or other rights that might be claimed to","   pertain to the implementation or use of the technology described in","   this document or the extent to which any license under such rights","   might or might not be available; nor does it represent that it has","   made any independent effort to identify any such rights.  Information","   on the procedures with respect to rights in RFC documents can be","   found in BCP 78 and BCP 79.","","   Copies of IPR disclosures made to the IETF Secretariat and any","   assurances of licenses to be made available, or the result of an","   attempt made to obtain a general license or permission for the use of","   such proprietary rights by implementers or users of this","   specification can be obtained from the IETF on-line IPR repository at","   http://www.ietf.org/ipr.","","   The IETF invites any interested party to bring to its attention any","   copyrights, patents or patent applications, or other proprietary","   rights that may cover technology that may be required to implement","   this standard.  Please address the information to the IETF at","   ietf-ipr@ietf.org."]},{"id":"name-acknowledgement","title":"Acknowledgement","lines":["   Funding for the RFC Editor function is provided by the IETF","   Administrative Support Activity (IASA)."]}]},"https://www.rfc-editor.org/rfc/rfc5246":{"format":"ietf","requirements":[59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248],"sections":[{"id":"name-status-of-this-memo","title":"Status of This Memo","lines":["   This document specifies an Internet standards track protocol for the","   Internet community, and requests discussion and suggestions for","   improvements.  Please refer to the current edition of the \"Internet","   Official Protocol Standards\" (STD 1) for the standardization state","   and status of this protocol.  Distribution of this memo is unlimited."]},{"id":"name-abstract","title":"Abstract","lines":["   This document specifies Version 1.2 of the Transport Layer Security","   (TLS) protocol.  The TLS protocol provides communications security","   over the Internet.  The protocol allows client/server applications to","   communicate in a way that is designed to prevent eavesdropping,","   tampering, or message forgery."]},{"id":"name-table-of-contents","title":"Table of Contents","lines":["   1. Introduction ....................................................4","      1.1. Requirements Terminology ...................................5","      1.2. Major Differences from TLS 1.1 .............................5","   2. Goals ...........................................................6","   3. Goals of This Document ..........................................7","   4. Presentation Language ...........................................7","      4.1. Basic Block Size ...........................................7","      4.2. Miscellaneous ..............................................8","      4.3. Vectors ....................................................8","      4.4. Numbers ....................................................9","      4.5. Enumerateds ................................................9","      4.6. Constructed Types .........................................10","           4.6.1. Variants ...........................................10","      4.7. Cryptographic Attributes ..................................12","      4.8. Constants .................................................14","   5. HMAC and the Pseudorandom Function .............................14","   6. The TLS Record Protocol ........................................15","      6.1. Connection States .........................................16","      6.2. Record Layer ..............................................19","           6.2.1. Fragmentation ......................................19","","           6.2.2. Record Compression and Decompression ...............20","           6.2.3. Record Payload Protection ..........................21","                  6.2.3.1. Null or Standard Stream Cipher ............22","                  6.2.3.2. CBC Block Cipher ..........................22","                  6.2.3.3. AEAD Ciphers ..............................24","      6.3. Key Calculation ...........................................25","   7. The TLS Handshaking Protocols ..................................26","      7.1. Change Cipher Spec Protocol ...............................27","      7.2. Alert Protocol ............................................28","           7.2.1. Closure Alerts .....................................29","           7.2.2. Error Alerts .......................................30","      7.3. Handshake Protocol Overview ...............................33","      7.4. Handshake Protocol ........................................37","           7.4.1. Hello Messages .....................................38","                  7.4.1.1. Hello Request .............................38","                  7.4.1.2. Client Hello ..............................39","                  7.4.1.3. Server Hello ..............................42","                  7.4.1.4. Hello Extensions ..........................44","                           7.4.1.4.1. Signature Algorithms ...........45","           7.4.2. Server Certificate .................................47","           7.4.3. Server Key Exchange Message ........................50","           7.4.4. Certificate Request ................................53","           7.4.5. Server Hello Done ..................................55","           7.4.6. Client Certificate .................................55","           7.4.7. Client Key Exchange Message ........................57","                  7.4.7.1. RSA-Encrypted Premaster Secret Message ....58","                  7.4.7.2. Client Diffie-Hellman Public Value ........61","           7.4.8. Certificate Verify .................................62","           7.4.9. Finished ...........................................63","   8. Cryptographic Computations .....................................64","      8.1. Computing the Master Secret ...............................64","           8.1.1. RSA ................................................65","           8.1.2. Diffie-Hellman .....................................65","   9. Mandatory Cipher Suites ........................................65","   10. Application Data Protocol .....................................65","   11. Security Considerations .......................................65","   12. IANA Considerations ...........................................65","   Appendix A. Protocol Data Structures and Constant Values ..........68","      A.1. Record Layer ..............................................68","      A.2. Change Cipher Specs Message ...............................69","      A.3. Alert Messages ............................................69","      A.4. Handshake Protocol ........................................70","           A.4.1. Hello Messages .....................................71","           A.4.2. Server Authentication and Key Exchange Messages ....72","           A.4.3. Client Authentication and Key Exchange Messages ....74","           A.4.4. Handshake Finalization Message .....................74","      A.5. The Cipher Suite ..........................................75","      A.6. The Security Parameters ...................................77","","      A.7. Changes to RFC 4492 .......................................78","   Appendix B. Glossary ..............................................78","   Appendix C. Cipher Suite Definitions ..............................83","   Appendix D. Implementation Notes ..................................85","      D.1. Random Number Generation and Seeding ......................85","      D.2. Certificates and Authentication ...........................85","      D.3. Cipher Suites .............................................85","      D.4. Implementation Pitfalls ...................................85","   Appendix E. Backward Compatibility ................................87","      E.1. Compatibility with TLS 1.0/1.1 and SSL 3.0 ................87","      E.2. Compatibility with SSL 2.0 ................................88","      E.3. Avoiding Man-in-the-Middle Version Rollback ...............90","   Appendix F. Security Analysis .....................................91","      F.1. Handshake Protocol ........................................91","           F.1.1. Authentication and Key Exchange ....................91","                  F.1.1.1. Anonymous Key Exchange ....................91","                  F.1.1.2. RSA Key Exchange and Authentication .......92","                  F.1.1.3. Diffie-Hellman Key Exchange with","                           Authentication ............................92","           F.1.2. Version Rollback Attacks ...........................93","           F.1.3. Detecting Attacks Against the Handshake Protocol ...94","           F.1.4. Resuming Sessions ..................................94","      F.2. Protecting Application Data ...............................94","      F.3. Explicit IVs ..............................................95","      F.4. Security of Composite Cipher Modes ........................95","      F.5. Denial of Service .........................................96","      F.6. Final Notes ...............................................96","   Normative References ..............................................97","   Informative References ............................................98","   Working Group Information ........................................101","   Contributors .....................................................101"]},{"id":"section-1","title":"Introduction","lines":["   The primary goal of the TLS protocol is to provide privacy and data","   integrity between two communicating applications.  The protocol is","   composed of two layers: the TLS Record Protocol and the TLS Handshake","   Protocol.  At the lowest level, layered on top of some reliable","   transport protocol (e.g., TCP [TCP]), is the TLS Record Protocol.","   The TLS Record Protocol provides connection security that has two","   basic properties:","","   -  The connection is private.  Symmetric cryptography is used for","      data encryption (e.g., AES [AES], RC4 [SCH], etc.).  The keys for","      this symmetric encryption are generated uniquely for each","      connection and are based on a secret negotiated by another","      protocol (such as the TLS Handshake Protocol).  The Record","      Protocol can also be used without encryption.","","   -  The connection is reliable.  Message transport includes a message","      integrity check using a keyed MAC.  Secure hash functions (e.g.,","      SHA-1, etc.) are used for MAC computations.  The Record Protocol","      can operate without a MAC, but is generally only used in this mode","      while another protocol is using the Record Protocol as a transport","      for negotiating security parameters.","","   The TLS Record Protocol is used for encapsulation of various higher-","   level protocols.  One such encapsulated protocol, the TLS Handshake","   Protocol, allows the server and client to authenticate each other and","   to negotiate an encryption algorithm and cryptographic keys before","   the application protocol transmits or receives its first byte of","   data.  The TLS Handshake Protocol provides connection security that","   has three basic properties:","","   -  The peer's identity can be authenticated using asymmetric, or","      public key, cryptography (e.g., RSA [RSA], DSA [DSS], etc.).  This","      authentication can be made optional, but is generally required for","      at least one of the peers.","","   -  The negotiation of a shared secret is secure: the negotiated","      secret is unavailable to eavesdroppers, and for any authenticated","      connection the secret cannot be obtained, even by an attacker who","      can place himself in the middle of the connection.","","   -  The negotiation is reliable: no attacker can modify the","      negotiation communication without being detected by the parties to","      the communication.","","   One advantage of TLS is that it is application protocol independent.","   Higher-level protocols can layer on top of the TLS protocol","   transparently.  The TLS standard, however, does not specify how","   protocols add security with TLS; the decisions on how to initiate TLS","   handshaking and how to interpret the authentication certificates","   exchanged are left to the judgment of the designers and implementors","   of protocols that run on top of TLS."]},{"id":"section-1.1","title":"Requirements Terminology","lines":["   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\",","   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this","   document are to be interpreted as described in RFC 2119 [REQ]."]},{"id":"section-1.2","title":"Major Differences from TLS 1.1","lines":["   This document is a revision of the TLS 1.1 [TLS1.1] protocol which","   contains improved flexibility, particularly for negotiation of","   cryptographic algorithms.  The major changes are:","","   -  The MD5/SHA-1 combination in the pseudorandom function (PRF) has","      been replaced with cipher-suite-specified PRFs.  All cipher suites","      in this document use P_SHA256.","","   -  The MD5/SHA-1 combination in the digitally-signed element has been","      replaced with a single hash.  Signed elements now include a field","      that explicitly specifies the hash algorithm used.","","   -  Substantial cleanup to the client's and server's ability to","      specify which hash and signature algorithms they will accept.","      Note that this also relaxes some of the constraints on signature","      and hash algorithms from previous versions of TLS.","","   -  Addition of support for authenticated encryption with additional","      data modes.","","   -  TLS Extensions definition and AES Cipher Suites were merged in","      from external [TLSEXT] and [TLSAES].","","   -  Tighter checking of EncryptedPreMasterSecret version numbers.","","   -  Tightened up a number of requirements.","","   -  Verify_data length now depends on the cipher suite (default is","      still 12).","","   -  Cleaned up description of Bleichenbacher/Klima attack defenses.","",[[[],0,"   "],[[88],224,"-  Alerts MUST now be sent in many cases."]],"",[[[],0,"   "],[[89],224,"-  After a certificate_request, if no certificates are available,"]],[[[],0,"      "],[[89],224,"clients now MUST send an empty certificate list."]],"","   -  TLS_RSA_WITH_AES_128_CBC_SHA is now the mandatory to implement","      cipher suite.","","   -  Added HMAC-SHA256 cipher suites.","","   -  Removed IDEA and DES cipher suites.  They are now deprecated and","      will be documented in a separate document.","",[[[],0,"   "],[[90,91],160,"-  Support for the SSLv2 backward-compatible hello is now a MAY, not"]],[[[],0,"      "],[[90,91],160,"a SHOULD, with sending it a SHOULD NOT."],[[],0,"  "],[[92],160,"Support will probably"]],[[[],0,"      "],[[92],160,"become a SHOULD NOT in the future."]],"","   -  Added limited \"fall-through\" to the presentation language to allow","      multiple case arms to have the same encoding.","","   -  Added an Implementation Pitfalls sections","","   -  The usual clarifications and editorial work."],"requirements":[88,89,90,91,92]},{"id":"section-2","title":"Goals","lines":["   The goals of the TLS protocol, in order of priority, are as follows:","","   1. Cryptographic security: TLS should be used to establish a secure","      connection between two parties.","","   2. Interoperability: Independent programmers should be able to","      develop applications utilizing TLS that can successfully exchange","      cryptographic parameters without knowledge of one another's code.","","   3. Extensibility: TLS seeks to provide a framework into which new","      public key and bulk encryption methods can be incorporated as","      necessary.  This will also accomplish two sub-goals: preventing","      the need to create a new protocol (and risking the introduction of","      possible new weaknesses) and avoiding the need to implement an","      entire new security library.","","   4. Relative efficiency: Cryptographic operations tend to be highly","      CPU intensive, particularly public key operations.  For this","      reason, the TLS protocol has incorporated an optional session","      caching scheme to reduce the number of connections that need to be","      established from scratch.  Additionally, care has been taken to","      reduce network activity."]},{"id":"section-3","title":"Goals of This Document","lines":["   This document and the TLS protocol itself are based on the SSL 3.0","   Protocol Specification as published by Netscape.  The differences","   between this protocol and SSL 3.0 are not dramatic, but they are","   significant enough that the various versions of TLS and SSL 3.0 do","   not interoperate (although each protocol incorporates a mechanism by","   which an implementation can back down to prior versions).  This","   document is intended primarily for readers who will be implementing","   the protocol and for those doing cryptographic analysis of it.  The","   specification has been written with this in mind, and it is intended","   to reflect the needs of those two groups.  For that reason, many of","   the algorithm-dependent data structures and rules are included in the","   body of the text (as opposed to in an appendix), providing easier","   access to them.","","   This document is not intended to supply any details of service","   definition or of interface definition, although it does cover select","   areas of policy as they are required for the maintenance of solid","   security."]},{"id":"section-4","title":"Presentation Language","lines":["   This document deals with the formatting of data in an external","   representation.  The following very basic and somewhat casually","   defined presentation syntax will be used.  The syntax draws from","   several sources in its structure.  Although it resembles the","   programming language \"C\" in its syntax and XDR [XDR] in both its","   syntax and intent, it would be risky to draw too many parallels.  The","   purpose of this presentation language is to document TLS only; it has","   no general application beyond that particular goal."]},{"id":"section-4.1","title":"Basic Block Size","lines":["   The representation of all data items is explicitly specified.  The","   basic data block size is one byte (i.e., 8 bits).  Multiple byte data","   items are concatenations of bytes, from left to right, from top to","   bottom.  From the byte stream, a multi-byte item (a numeric in the","   example) is formed (using C notation) by:","","      value = (byte[0] << 8*(n-1)) | (byte[1] << 8*(n-2)) |","              ... | byte[n-1];","","   This byte ordering for multi-byte values is the commonplace network","   byte order or big-endian format."]},{"id":"section-4.2","title":"Miscellaneous","lines":["   Comments begin with \"/*\" and end with \"*/\".","","   Optional components are denoted by enclosing them in \"[[ ]]\" double","   brackets.","","   Single-byte entities containing uninterpreted data are of type","   opaque."]},{"id":"section-4.3","title":"Vectors","lines":["   A vector (single-dimensioned array) is a stream of homogeneous data","   elements.  The size of the vector may be specified at documentation","   time or left unspecified until runtime.  In either case, the length","   declares the number of bytes, not the number of elements, in the","   vector.  The syntax for specifying a new type, T', that is a fixed-","   length vector of type T is","","      T T'[n];","","   Here, T' occupies n bytes in the data stream, where n is a multiple","   of the size of T.  The length of the vector is not included in the","   encoded stream.","","   In the following example, Datum is defined to be three consecutive","   bytes that the protocol does not interpret, while Data is three","   consecutive Datum, consuming a total of nine bytes.","","      opaque Datum[3];      /* three uninterpreted bytes */","      Datum Data[9];        /* 3 consecutive 3 byte vectors */","","   Variable-length vectors are defined by specifying a subrange of legal","   lengths, inclusively, using the notation <floor..ceiling>.  When","   these are encoded, the actual length precedes the vector's contents","   in the byte stream.  The length will be in the form of a number","   consuming as many bytes as required to hold the vector's specified","   maximum (ceiling) length.  A variable-length vector with an actual","   length field of zero is referred to as an empty vector.","","      T T'<floor..ceiling>;","","   In the following example, mandatory is a vector that must contain","   between 300 and 400 bytes of type opaque.  It can never be empty.","   The actual length field consumes two bytes, a uint16, which is","   sufficient to represent the value 400 (see Section 4.4).  On the","   other hand, longer can represent up to 800 bytes of data, or 400","   uint16 elements, and it may be empty.  Its encoding will include a","","   two-byte actual length field prepended to the vector.  The length of","   an encoded vector must be an even multiple of the length of a single","   element (for example, a 17-byte vector of uint16 would be illegal).","","      opaque mandatory<300..400>;","            /* length field is 2 bytes, cannot be empty */","      uint16 longer<0..800>;","            /* zero to 400 16-bit unsigned integers */"]},{"id":"section-4.4","title":"Numbers","lines":["   The basic numeric data type is an unsigned byte (uint8).  All larger","   numeric data types are formed from fixed-length series of bytes","   concatenated as described in Section 4.1 and are also unsigned.  The","   following numeric types are predefined.","","      uint8 uint16[2];","      uint8 uint24[3];","      uint8 uint32[4];","      uint8 uint64[8];","","   All values, here and elsewhere in the specification, are stored in","   network byte (big-endian) order; the uint32 represented by the hex","   bytes 01 02 03 04 is equivalent to the decimal value 16909060.","","   Note that in some cases (e.g., DH parameters) it is necessary to","   represent integers as opaque vectors.  In such cases, they are","   represented as unsigned integers (i.e., leading zero octets are not","   required even if the most significant bit is set)."]},{"id":"section-4.5","title":"Enumerateds","lines":["   An additional sparse data type is available called enum.  A field of","   type enum can only assume the values declared in the definition.","   Each definition is a different type.  Only enumerateds of the same","   type may be assigned or compared.  Every element of an enumerated","   must be assigned a value, as demonstrated in the following example.","   Since the elements of the enumerated are not ordered, they can be","   assigned any unique value, in any order.","","      enum { e1(v1), e2(v2), ... , en(vn) [[, (n)]] } Te;","","   An enumerated occupies as much space in the byte stream as would its","   maximal defined ordinal value.  The following definition would cause","   one byte to be used to carry fields of type Color.","","      enum { red(3), blue(5), white(7) } Color;","","   One may optionally specify a value without its associated tag to","   force the width definition without defining a superfluous element.","","   In the following example, Taste will consume two bytes in the data","   stream but can only assume the values 1, 2, or 4.","","      enum { sweet(1), sour(2), bitter(4), (32000) } Taste;","","   The names of the elements of an enumeration are scoped within the","   defined type.  In the first example, a fully qualified reference to","   the second element of the enumeration would be Color.blue.  Such","   qualification is not required if the target of the assignment is well","   specified.","","      Color color = Color.blue;     /* overspecified, legal */","      Color color = blue;           /* correct, type implicit */","","   For enumerateds that are never converted to external representation,","   the numerical information may be omitted.","","      enum { low, medium, high } Amount;"]},{"id":"section-4.6","title":"Constructed Types","lines":["   Structure types may be constructed from primitive types for","   convenience.  Each specification declares a new, unique type.  The","   syntax for definition is much like that of C.","","      struct {","          T1 f1;","          T2 f2;","          ...","          Tn fn;","      } [[T]];","","   The fields within a structure may be qualified using the type's name,","   with a syntax much like that available for enumerateds.  For example,","   T.f2 refers to the second field of the previous declaration.","   Structure definitions may be embedded."]},{"id":"section-4.6.1","title":"Variants","lines":["   Defined structures may have variants based on some knowledge that is","   available within the environment.  The selector must be an enumerated","   type that defines the possible variants the structure defines.  There","   must be a case arm for every element of the enumeration declared in","   the select.  Case arms have limited fall-through: if two case arms","   follow in immediate succession with no fields in between, then they","","   both contain the same fields.  Thus, in the example below, \"orange\"","   and \"banana\" both contain V2.  Note that this is a new piece of","   syntax in TLS 1.2.","","   The body of the variant structure may be given a label for reference.","   The mechanism by which the variant is selected at runtime is not","   prescribed by the presentation language.","","      struct {","          T1 f1;","          T2 f2;","          ....","          Tn fn;","           select (E) {","               case e1: Te1;","               case e2: Te2;","               case e3: case e4: Te3;","               ....","               case en: Ten;","           } [[fv]];","      } [[Tv]];","","   For example:","","      enum { apple, orange, banana } VariantTag;","","      struct {","          uint16 number;","          opaque string<0..10>; /* variable length */","      } V1;","","      struct {","          uint32 number;","          opaque string[10];    /* fixed length */","      } V2;","","      struct {","          select (VariantTag) { /* value of selector is implicit */","              case apple:","                V1;   /* VariantBody, tag = apple */","              case orange:","              case banana:","                V2;   /* VariantBody, tag = orange or banana */","          } variant_body;       /* optional label on variant */","      } VariantRecord;"]},{"id":"section-4.7","title":"Cryptographic Attributes","lines":["   The five cryptographic operations -- digital signing, stream cipher","   encryption, block cipher encryption, authenticated encryption with","   additional data (AEAD) encryption, and public key encryption -- are","   designated digitally-signed, stream-ciphered, block-ciphered, aead-","   ciphered, and public-key-encrypted, respectively.  A field's","   cryptographic processing is specified by prepending an appropriate","   key word designation before the field's type specification.","   Cryptographic keys are implied by the current session state (see","   Section 6.1).","","   A digitally-signed element is encoded as a struct DigitallySigned:","","      struct {","         SignatureAndHashAlgorithm algorithm;","         opaque signature<0..2^16-1>;","      } DigitallySigned;","","   The algorithm field specifies the algorithm used (see Section","   7.4.1.4.1 for the definition of this field).  Note that the","   introduction of the algorithm field is a change from previous","   versions.  The signature is a digital signature using those","   algorithms over the contents of the element.  The contents themselves","   do not appear on the wire but are simply calculated.  The length of","   the signature is specified by the signing algorithm and key.","","   In RSA signing, the opaque vector contains the signature generated",[[[],0,"   using the RSASSA-PKCS1-v1_5 signature scheme defined in [PKCS1].  "],[[93],224,"As"]],[[[],0,"   "],[[93],224,"discussed in [PKCS1], the DigestInfo MUST be DER-encoded [X680]"]],[[[],0,"   "],[[93],224,"[X690]."],[[],0,"  "],[[94,95],224,"For hash algorithms without parameters (which includes"]],[[[],0,"   "],[[94,95],224,"SHA-1), the DigestInfo.AlgorithmIdentifier.parameters field MUST be"]],[[[],0,"   "],[[94,95],224,"NULL, but implementations MUST accept both without parameters and"]],[[[],0,"   "],[[94,95],224,"with NULL parameters."],[[],0,"  Note that earlier versions of TLS used a"]],"   different RSA signature scheme that did not include a DigestInfo","   encoding.","","   In DSA, the 20 bytes of the SHA-1 hash are run directly through the","   Digital Signing Algorithm with no additional hashing.  This produces","   two values, r and s.  The DSA signature is an opaque vector, as","   above, the contents of which are the DER encoding of:","","      Dss-Sig-Value ::= SEQUENCE {","          r INTEGER,","          s INTEGER","      }","","   Note: In current terminology, DSA refers to the Digital Signature","   Algorithm and DSS refers to the NIST standard.  In the original SSL","   and TLS specs, \"DSS\" was used universally.  This document uses \"DSA\"","   to refer to the algorithm, \"DSS\" to refer to the standard, and it","   uses \"DSS\" in the code point definitions for historical continuity.","","   In stream cipher encryption, the plaintext is exclusive-ORed with an","   identical amount of output generated from a cryptographically secure","   keyed pseudorandom number generator.","","   In block cipher encryption, every block of plaintext encrypts to a","   block of ciphertext.  All block cipher encryption is done in CBC","   (Cipher Block Chaining) mode, and all items that are block-ciphered","   will be an exact multiple of the cipher block length.","","   In AEAD encryption, the plaintext is simultaneously encrypted and","   integrity protected.  The input may be of any length, and aead-","   ciphered output is generally larger than the input in order to","   accommodate the integrity check value.","","   In public key encryption, a public key algorithm is used to encrypt","   data in such a way that it can be decrypted only with the matching","   private key.  A public-key-encrypted element is encoded as an opaque","   vector <0..2^16-1>, where the length is specified by the encryption","   algorithm and key.","","   RSA encryption is done using the RSAES-PKCS1-v1_5 encryption scheme","   defined in [PKCS1].","","   In the following example","","      stream-ciphered struct {","          uint8 field1;","          uint8 field2;","          digitally-signed opaque {","            uint8 field3<0..255>;","            uint8 field4;","          };","      } UserType;","","   The contents of the inner struct (field3 and field4) are used as","   input for the signature/hash algorithm, and then the entire structure","   is encrypted with a stream cipher.  The length of this structure, in","   bytes, would be equal to two bytes for field1 and field2, plus two","   bytes for the signature and hash algorithm, plus two bytes for the","   length of the signature, plus the length of the output of the signing","","   algorithm.  The length of the signature is known because the","   algorithm and key used for the signing are known prior to encoding or","   decoding this structure."],"requirements":[93,94,95]},{"id":"section-4.8","title":"Constants","lines":["   Typed constants can be defined for purposes of specification by","   declaring a symbol of the desired type and assigning values to it.","","   Under-specified types (opaque, variable-length vectors, and","   structures that contain opaque) cannot be assigned values.  No fields","   of a multi-element structure or vector may be elided.","","   For example:","","      struct {","          uint8 f1;","          uint8 f2;","      } Example1;","","      Example1 ex1 = {1, 4};  /* assigns f1 = 1, f2 = 4 */"]},{"id":"section-5","title":"HMAC and the Pseudorandom Function","lines":["   The TLS record layer uses a keyed Message Authentication Code (MAC)","   to protect message integrity.  The cipher suites defined in this","   document use a construction known as HMAC, described in [HMAC], which",[[[],0,"   is based on a hash function.  "],[[96],96,"Other cipher suites MAY define their"]],[[[],0,"   "],[[96],96,"own MAC constructions, if needed."]],"","   In addition, a construction is required to do expansion of secrets","   into blocks of data for the purposes of key generation or validation.","   This pseudorandom function (PRF) takes as input a secret, a seed, and","   an identifying label and produces an output of arbitrary length.","","   In this section, we define one PRF, based on HMAC.  This PRF with the","   SHA-256 hash function is used for all cipher suites defined in this","   document and in TLS documents published prior to this document when",[[[],0,"   TLS 1.2 is negotiated.  "],[[97],224,"New cipher suites MUST explicitly specify a"]],[[[],0,"   "],[[97],224,"PRF and, in general, SHOULD use the TLS PRF with SHA-256 or a"]],[[[],0,"   "],[[97],224,"stronger standard hash function."]],"","   First, we define a data expansion function, P_hash(secret, data),","   that uses a single hash function to expand a secret and seed into an","   arbitrary quantity of output:","","      P_hash(secret, seed) = HMAC_hash(secret, A(1) + seed) +","                             HMAC_hash(secret, A(2) + seed) +","                             HMAC_hash(secret, A(3) + seed) + ...","","   where + indicates concatenation.","","   A() is defined as:","","      A(0) = seed","      A(i) = HMAC_hash(secret, A(i-1))","","   P_hash can be iterated as many times as necessary to produce the","   required quantity of data.  For example, if P_SHA256 is being used to","   create 80 bytes of data, it will have to be iterated three times","   (through A(3)), creating 96 bytes of output data; the last 16 bytes","   of the final iteration will then be discarded, leaving 80 bytes of","   output data.","","   TLS's PRF is created by applying P_hash to the secret as:","","      PRF(secret, label, seed) = P_<hash>(secret, label + seed)","","   The label is an ASCII string.  It should be included in the exact","   form it is given without a length byte or trailing null character.","   For example, the label \"slithy toves\" would be processed by hashing","   the following bytes:","","      73 6C 69 74 68 79 20 74 6F 76 65 73"],"requirements":[96,97]},{"id":"section-6","title":"The TLS Record Protocol","lines":["   The TLS Record Protocol is a layered protocol.  At each layer,","   messages may include fields for length, description, and content.","   The Record Protocol takes messages to be transmitted, fragments the","   data into manageable blocks, optionally compresses the data, applies","   a MAC, encrypts, and transmits the result.  Received data is","   decrypted, verified, decompressed, reassembled, and then delivered to","   higher-level clients.","","   Four protocols that use the record protocol are described in this","   document: the handshake protocol, the alert protocol, the change","   cipher spec protocol, and the application data protocol.  In order to","   allow extension of the TLS protocol, additional record content types","   can be supported by the record protocol.  New record content type","   values are assigned by IANA in the TLS Content Type Registry as","   described in Section 12.","",[[[],0,"   "],[[123],224,"Implementations MUST NOT send record types not defined in this"]],[[[],0,"   "],[[123],224,"document unless negotiated by some extension."],[[],0,"  "],[[124],224,"If a TLS"]],[[[],0,"   "],[[124],224,"implementation receives an unexpected record type, it MUST send an"]],[[[],0,"   "],[[124],224,"unexpected_message alert."]],"","   Any protocol designed for use over TLS must be carefully designed to","   deal with all possible attacks against it.  As a practical matter,","   this means that the protocol designer must be aware of what security","   properties TLS does and does not provide and cannot safely rely on","   the latter.","","   Note in particular that type and length of a record are not protected","   by encryption.  If this information is itself sensitive, application","   designers may wish to take steps (padding, cover traffic) to minimize","   information leakage."],"requirements":[123,124]},{"id":"section-6.1","title":"Connection States","lines":["   A TLS connection state is the operating environment of the TLS Record","   Protocol.  It specifies a compression algorithm, an encryption","   algorithm, and a MAC algorithm.  In addition, the parameters for","   these algorithms are known: the MAC key and the bulk encryption keys","   for the connection in both the read and the write directions.","   Logically, there are always four connection states outstanding: the","   current read and write states, and the pending read and write states.","   All records are processed under the current read and write states.","   The security parameters for the pending states can be set by the TLS","   Handshake Protocol, and the ChangeCipherSpec can selectively make","   either of the pending states current, in which case the appropriate","   current state is disposed of and replaced with the pending state; the","   pending state is then reinitialized to an empty state.  It is illegal","   to make a state that has not been initialized with security","   parameters a current state.  The initial current state always","   specifies that no encryption, compression, or MAC will be used.","","   The security parameters for a TLS Connection read and write state are","   set by providing the following values:","","   connection end","      Whether this entity is considered the \"client\" or the \"server\" in","      this connection.","","   PRF algorithm","      An algorithm used to generate keys from the master secret (see","      Sections 5 and 6.3).","","   bulk encryption algorithm","      An algorithm to be used for bulk encryption.  This specification","      includes the key size of this algorithm, whether it is a block,","      stream, or AEAD cipher, the block size of the cipher (if","      appropriate), and the lengths of explicit and implicit","      initialization vectors (or nonces).","","   MAC algorithm","      An algorithm to be used for message authentication.  This","      specification includes the size of the value returned by the MAC","      algorithm.","","   compression algorithm","      An algorithm to be used for data compression.  This specification","      must include all information the algorithm requires to do","      compression.","","   master secret","      A 48-byte secret shared between the two peers in the connection.","","   client random","      A 32-byte value provided by the client.","","   server random","      A 32-byte value provided by the server.","","      These parameters are defined in the presentation language as:","","      enum { server, client } ConnectionEnd;","","      enum { tls_prf_sha256 } PRFAlgorithm;","","      enum { null, rc4, 3des, aes }","        BulkCipherAlgorithm;","","      enum { stream, block, aead } CipherType;","","      enum { null, hmac_md5, hmac_sha1, hmac_sha256,","           hmac_sha384, hmac_sha512} MACAlgorithm;","","      enum { null(0), (255) } CompressionMethod;","","      /* The algorithms specified in CompressionMethod, PRFAlgorithm,","         BulkCipherAlgorithm, and MACAlgorithm may be added to. */","","      struct {","          ConnectionEnd          entity;","          PRFAlgorithm           prf_algorithm;","          BulkCipherAlgorithm    bulk_cipher_algorithm;","          CipherType             cipher_type;","          uint8                  enc_key_length;","          uint8                  block_length;","          uint8                  fixed_iv_length;","          uint8                  record_iv_length;","          MACAlgorithm           mac_algorithm;","          uint8                  mac_length;","          uint8                  mac_key_length;","          CompressionMethod      compression_algorithm;","          opaque                 master_secret[48];","          opaque                 client_random[32];","          opaque                 server_random[32];","      } SecurityParameters;","","   The record layer will use the security parameters to generate the","   following six items (some of which are not required by all ciphers,","   and are thus empty):","","      client write MAC key","      server write MAC key","      client write encryption key","      server write encryption key","      client write IV","      server write IV","","   The client write parameters are used by the server when receiving and","   processing records and vice versa.  The algorithm used for generating","   these items from the security parameters is described in Section 6.3.","","   Once the security parameters have been set and the keys have been","   generated, the connection states can be instantiated by making them",[[[],0,"   the current states.  "],[[98],224,"These current states MUST be updated for each"]],[[[],0,"   "],[[98],224,"record processed."],[[],0,"  Each connection state includes the following"]],"   elements:","","   compression state","      The current state of the compression algorithm.","","   cipher state","      The current state of the encryption algorithm.  This will consist","      of the scheduled key for that connection.  For stream ciphers,","      this will also contain whatever state information is necessary to","      allow the stream to continue to encrypt or decrypt data.","","   MAC key","      The MAC key for this connection, as generated above.","","   sequence number","      Each connection state contains a sequence number, which is",[[[],0,"      maintained separately for read and write states.  "],[[99],224,"The sequence"]],[[[],0,"      "],[[99],224,"number MUST be set to zero whenever a connection state is made the"]],[[[],0,"      "],[[99],224,"active state."],[[],0,"  Sequence numbers are of type uint64 and may not"]],"      exceed 2^64-1.  Sequence numbers do not wrap.  If a TLS","      implementation would need to wrap a sequence number, it must",[[[],0,"      renegotiate instead.  "],[[100],224,"A sequence number is incremented after each"]],[[[],0,"      "],[[100],224,"record: specifically, the first record transmitted under a"]],[[[],0,"      "],[[100],224,"particular connection state MUST use sequence number 0."]]],"requirements":[98,99,100]},{"id":"section-6.2","title":"Record Layer","lines":["   The TLS record layer receives uninterpreted data from higher layers","   in non-empty blocks of arbitrary size."]},{"id":"section-6.2.1","title":"Fragmentation","lines":["   The record layer fragments information blocks into TLSPlaintext",[[[],0,"   records carrying data in chunks of 2^14 bytes or less.  "],[[101,102],96,"Client"]],[[[],0,"   "],[[101,102],96,"message boundaries are not preserved in the record layer (i.e.,"]],[[[],0,"   "],[[101,102],96,"multiple client messages of the same ContentType MAY be coalesced"]],[[[],0,"   "],[[101,102],96,"into a single TLSPlaintext record, or a single message MAY be"]],[[[],0,"   "],[[101,102],96,"fragmented across several records)."]],"","      struct {","          uint8 major;","          uint8 minor;","      } ProtocolVersion;","","      enum {","          change_cipher_spec(20), alert(21), handshake(22),","          application_data(23), (255)","      } ContentType;","","      struct {","          ContentType type;","          ProtocolVersion version;","          uint16 length;","          opaque fragment[TLSPlaintext.length];","      } TLSPlaintext;","","   type","      The higher-level protocol used to process the enclosed fragment.","","   version","      The version of the protocol being employed.  This document","      describes TLS Version 1.2, which uses the version { 3, 3 }.  The","      version value 3.3 is historical, deriving from the use of {3, 1}","      for TLS 1.0.  (See Appendix A.1.)  Note that a client that","      supports multiple versions of TLS may not know what version will","      be employed before it receives the ServerHello.  See Appendix E","      for discussion about what record layer version number should be","      employed for ClientHello.","","   length",[[[],0,"      The length (in bytes) of the following TLSPlaintext.fragment.  "],[[103],224,"The"]],[[[],0,"      "],[[103],224,"length MUST NOT exceed 2^14."]],"","   fragment","      The application data.  This data is transparent and treated as an","      independent block to be dealt with by the higher-level protocol","      specified by the type field.","",[[[],0,"   "],[[104],224,"Implementations MUST NOT send zero-length fragments of Handshake,"]],[[[],0,"   "],[[104],224,"Alert, or ChangeCipherSpec content types."],[[],0,"  "],[[105],96,"Zero-length fragments of"]],[[[],0,"   "],[[105],96,"Application data MAY be sent as they are potentially useful as a"]],[[[],0,"   "],[[105],96,"traffic analysis countermeasure."]],"",[[[],0,"   "],[[106],96,"Note: Data of different TLS record layer content types MAY be"]],[[[],0,"   "],[[106],96,"interleaved."],[[],0,"  Application data is generally of lower precedence for"]],[[[],0,"   transmission than other content types.  "],[[107],224,"However, records MUST be"]],[[[],0,"   "],[[107],224,"delivered to the network in the same order as they are protected by"]],[[[],0,"   "],[[107],224,"the record layer."],[[],0,"  "],[[108],224,"Recipients MUST receive and process interleaved"]],[[[],0,"   "],[[108],224,"application layer traffic during handshakes subsequent to the first"]],[[[],0,"   "],[[108],224,"one on a connection."]]],"requirements":[101,102,103,104,105,106,107,108]},{"id":"section-6.2.2","title":"Record Compression and Decompression","lines":["   All records are compressed using the compression algorithm defined in","   the current session state.  There is always an active compression","   algorithm; however, initially it is defined as","   CompressionMethod.null.  The compression algorithm translates a","   TLSPlaintext structure into a TLSCompressed structure.  Compression","   functions are initialized with default state information whenever a","   connection state is made active.  [RFC3749] describes compression","   algorithms for TLS.","","   Compression must be lossless and may not increase the content length",[[[],0,"   by more than 1024 bytes.  "],[[109],224,"If the decompression function encounters a"]],[[[],0,"   "],[[109],224,"TLSCompressed.fragment that would decompress to a length in excess of"]],[[[],0,"   "],[[109],224,"2^14 bytes, it MUST report a fatal decompression failure error."]],"","      struct {","          ContentType type;       /* same as TLSPlaintext.type */","          ProtocolVersion version;/* same as TLSPlaintext.version */","          uint16 length;","          opaque fragment[TLSCompressed.length];","      } TLSCompressed;","","   length","      The length (in bytes) of the following TLSCompressed.fragment.",[[[],0,"      "],[[110],224,"The length MUST NOT exceed 2^14 + 1024."]],"","   fragment","      The compressed form of TLSPlaintext.fragment.","","      Note: A CompressionMethod.null operation is an identity operation;","      no fields are altered.","","      Implementation note: Decompression functions are responsible for","      ensuring that messages cannot cause internal buffer overflows."],"requirements":[109,110]},{"id":"section-6.2.3","title":"Record Payload Protection","lines":["      The encryption and MAC functions translate a TLSCompressed","      structure into a TLSCiphertext.  The decryption functions reverse","      the process.  The MAC of the record also includes a sequence","      number so that missing, extra, or repeated messages are","      detectable.","","      struct {","          ContentType type;","          ProtocolVersion version;","          uint16 length;","          select (SecurityParameters.cipher_type) {","              case stream: GenericStreamCipher;","              case block:  GenericBlockCipher;","              case aead:   GenericAEADCipher;","          } fragment;","      } TLSCiphertext;","","   type","      The type field is identical to TLSCompressed.type.","","   version","      The version field is identical to TLSCompressed.version.","","   length","      The length (in bytes) of the following TLSCiphertext.fragment.",[[[],0,"      "],[[122],224,"The length MUST NOT exceed 2^14 + 2048."]],"","   fragment","      The encrypted form of TLSCompressed.fragment, with the MAC."],"requirements":[122]},{"id":"section-6.2.3.1","title":"Null or Standard Stream Cipher","lines":["   Stream ciphers (including BulkCipherAlgorithm.null; see Appendix A.6)","   convert TLSCompressed.fragment structures to and from stream","   TLSCiphertext.fragment structures.","","      stream-ciphered struct {","          opaque content[TLSCompressed.length];","          opaque MAC[SecurityParameters.mac_length];","      } GenericStreamCipher;","","   The MAC is generated as:","","      MAC(MAC_write_key, seq_num +","                            TLSCompressed.type +","                            TLSCompressed.version +","                            TLSCompressed.length +","                            TLSCompressed.fragment);","","   where \"+\" denotes concatenation.","","   seq_num","      The sequence number for this record.","","   MAC","      The MAC algorithm specified by SecurityParameters.mac_algorithm.","","   Note that the MAC is computed before encryption.  The stream cipher","   encrypts the entire block, including the MAC.  For stream ciphers","   that do not use a synchronization vector (such as RC4), the stream","   cipher state from the end of one record is simply used on the","   subsequent packet.  If the cipher suite is TLS_NULL_WITH_NULL_NULL,","   encryption consists of the identity operation (i.e., the data is not","   encrypted, and the MAC size is zero, implying that no MAC is used).","   For both null and stream ciphers, TLSCiphertext.length is","   TLSCompressed.length plus SecurityParameters.mac_length."]},{"id":"section-6.2.3.2","title":"CBC Block Cipher","lines":["   For block ciphers (such as 3DES or AES), the encryption and MAC","   functions convert TLSCompressed.fragment structures to and from block","   TLSCiphertext.fragment structures.","","      struct {","          opaque IV[SecurityParameters.record_iv_length];","          block-ciphered struct {","              opaque content[TLSCompressed.length];","              opaque MAC[SecurityParameters.mac_length];","              uint8 padding[GenericBlockCipher.padding_length];","              uint8 padding_length;","          };","      } GenericBlockCipher;","","   The MAC is generated as described in Section 6.2.3.1.","",[[[],0,"   "],[[111],224,"IV"]],[[[],0,"      "],[[111],224,"The Initialization Vector (IV) SHOULD be chosen at random, and"]],[[[],0,"      "],[[111],224,"MUST be unpredictable."],[[],0,"  Note that in versions of TLS prior to 1.1,"]],"      there was no IV field, and the last ciphertext block of the","      previous record (the \"CBC residue\") was used as the IV.  This was","      changed to prevent the attacks described in [CBCATT].  For block","      ciphers, the IV length is of length","      SecurityParameters.record_iv_length, which is equal to the","      SecurityParameters.block_size.","","   padding","      Padding that is added to force the length of the plaintext to be",[[[],0,"      an integral multiple of the block cipher's block length.  "],[[112],96,"The"]],[[[],0,"      "],[[112],96,"padding MAY be any length up to 255 bytes, as long as it results"]],[[[],0,"      "],[[112],96,"in the TLSCiphertext.length being an integral multiple of the"]],[[[],0,"      "],[[112],96,"block length."],[[],0,"  Lengths longer than necessary might be desirable to"]],"      frustrate attacks on a protocol that are based on analysis of the",[[[],0,"      lengths of exchanged messages.  "],[[113],224,"Each uint8 in the padding data"]],[[[],0,"      "],[[113],224,"vector MUST be filled with the padding length value."],[[],0,"  "],[[114,115],224,"The receiver"]],[[[],0,"      "],[[114,115],224,"MUST check this padding and MUST use the bad_record_mac alert to"]],[[[],0,"      "],[[114,115],224,"indicate padding errors."]],"",[[[],0,"   "],[[116],224,"padding_length"]],[[[],0,"      "],[[116],224,"The padding length MUST be such that the total size of the"]],[[[],0,"      "],[[116],224,"GenericBlockCipher structure is a multiple of the cipher's block"]],[[[],0,"      "],[[116],224,"length."],[[],0,"  Legal values range from zero to 255, inclusive.  This"]],"      length specifies the length of the padding field exclusive of the","      padding_length field itself.","","   The encrypted data length (TLSCiphertext.length) is one more than the","   sum of SecurityParameters.block_length, TLSCompressed.length,","   SecurityParameters.mac_length, and padding_length.","","   Example: If the block length is 8 bytes, the content length","   (TLSCompressed.length) is 61 bytes, and the MAC length is 20 bytes,","   then the length before padding is 82 bytes (this does not include the","","   IV.  Thus, the padding length modulo 8 must be equal to 6 in order to","   make the total length an even multiple of 8 bytes (the block length).","   The padding length can be 6, 14, 22, and so on, through 254.  If the","   padding length were the minimum necessary, 6, the padding would be 6","   bytes, each containing the value 6.  Thus, the last 8 octets of the","   GenericBlockCipher before block encryption would be xx 06 06 06 06 06","   06 06, where xx is the last octet of the MAC.","","   Note: With block ciphers in CBC mode (Cipher Block Chaining), it is","   critical that the entire plaintext of the record be known before any","   ciphertext is transmitted.  Otherwise, it is possible for the","   attacker to mount the attack described in [CBCATT].","","   Implementation note: Canvel et al. [CBCTIME] have demonstrated a","   timing attack on CBC padding based on the time required to compute",[[[],0,"   the MAC.  "],[[117],224,"In order to defend against this attack, implementations"]],[[[],0,"   "],[[117],224,"MUST ensure that record processing time is essentially the same"]],[[[],0,"   "],[[117],224,"whether or not the padding is correct."],[[],0,"  In general, the best way to"]],"   do this is to compute the MAC even if the padding is incorrect, and","   only then reject the packet.  For instance, if the pad appears to be","   incorrect, the implementation might assume a zero-length pad and then","   compute the MAC.  This leaves a small timing channel, since MAC","   performance depends to some extent on the size of the data fragment,","   but it is not believed to be large enough to be exploitable, due to","   the large block size of existing MACs and the small size of the","   timing signal."],"requirements":[111,112,113,114,115,116,117]},{"id":"section-6.2.3.3","title":"AEAD Ciphers","lines":["   For AEAD [AEAD] ciphers (such as [CCM] or [GCM]), the AEAD function","   converts TLSCompressed.fragment structures to and from AEAD","   TLSCiphertext.fragment structures.","","      struct {","         opaque nonce_explicit[SecurityParameters.record_iv_length];","         aead-ciphered struct {","             opaque content[TLSCompressed.length];","         };","      } GenericAEADCipher;","","   AEAD ciphers take as input a single key, a nonce, a plaintext, and","   \"additional data\" to be included in the authentication check, as","   described in Section 2.1 of [AEAD].  The key is either the","   client_write_key or the server_write_key.  No MAC key is used.","",[[[],0,"   "],[[118],224,"Each AEAD cipher suite MUST specify how the nonce supplied to the"]],[[[],0,"   "],[[118],224,"AEAD operation is constructed, and what is the length of the"]],[[[],0,"   "],[[118],224,"GenericAEADCipher.nonce_explicit part."],[[],0,"  In many cases, it is"]],"","   appropriate to use the partially implicit nonce technique described","   in Section 3.2.1 of [AEAD]; with record_iv_length being the length of",[[[],0,"   the explicit part.  "],[[119],160,"In this case, the implicit part SHOULD be derived"]],[[[],0,"   "],[[119],160,"from key_block as client_write_iv and server_write_iv (as described"]],[[[],0,"   "],[[119],160,"in Section 6.3), and the explicit part is included in"]],[[[],0,"   "],[[119],160,"GenericAEAEDCipher.nonce_explicit."]],"","   The plaintext is the TLSCompressed.fragment.","","   The additional authenticated data, which we denote as","   additional_data, is defined as follows:","","      additional_data = seq_num + TLSCompressed.type +","                        TLSCompressed.version + TLSCompressed.length;","","   where \"+\" denotes concatenation.","","   The aead_output consists of the ciphertext output by the AEAD","   encryption operation.  The length will generally be larger than","   TLSCompressed.length, but by an amount that varies with the AEAD","   cipher.  Since the ciphers might incorporate padding, the amount of",[[[],0,"   overhead could vary with different TLSCompressed.length values.  "],[[120],224,"Each"]],[[[],0,"   "],[[120],224,"AEAD cipher MUST NOT produce an expansion of greater than 1024 bytes."]],"   Symbolically,","","      AEADEncrypted = AEAD-Encrypt(write_key, nonce, plaintext,","                                   additional_data)","","   In order to decrypt and verify, the cipher takes as input the key,","   nonce, the \"additional_data\", and the AEADEncrypted value.  The","   output is either the plaintext or an error indicating that the","   decryption failed.  There is no separate integrity check.  That is:","","      TLSCompressed.fragment = AEAD-Decrypt(write_key, nonce,","                                            AEADEncrypted,","                                            additional_data)","",[[[],0,"   "],[[121],224,"If the decryption fails, a fatal bad_record_mac alert MUST be"]],[[[],0,"   "],[[121],224,"generated."]]],"requirements":[118,119,120,121]},{"id":"section-6.3","title":"Key Calculation","lines":["   The Record Protocol requires an algorithm to generate keys required","   by the current connection state (see Appendix A.6) from the security","   parameters provided by the handshake protocol.","","   The master secret is expanded into a sequence of secure bytes, which","   is then split to a client write MAC key, a server write MAC key, a","   client write encryption key, and a server write encryption key.  Each","   of these is generated from the byte sequence in that order.  Unused","   values are empty.  Some AEAD ciphers may additionally require a","   client write IV and a server write IV (see Section 6.2.3.3).","","   When keys and MAC keys are generated, the master secret is used as an","   entropy source.","","   To generate the key material, compute","","      key_block = PRF(SecurityParameters.master_secret,","                      \"key expansion\",","                      SecurityParameters.server_random +","                      SecurityParameters.client_random);","","   until enough output has been generated.  Then, the key_block is","   partitioned as follows:","","      client_write_MAC_key[SecurityParameters.mac_key_length]","      server_write_MAC_key[SecurityParameters.mac_key_length]","      client_write_key[SecurityParameters.enc_key_length]","      server_write_key[SecurityParameters.enc_key_length]","      client_write_IV[SecurityParameters.fixed_iv_length]","      server_write_IV[SecurityParameters.fixed_iv_length]","","   Currently, the client_write_IV and server_write_IV are only generated","   for implicit nonce techniques as described in Section 3.2.1 of","   [AEAD].","","   Implementation note: The currently defined cipher suite which","   requires the most material is AES_256_CBC_SHA256.  It requires 2 x 32","   byte keys and 2 x 32 byte MAC keys, for a total 128 bytes of key","   material."]},{"id":"section-7","title":"The TLS Handshaking Protocols","lines":["   TLS has three subprotocols that are used to allow peers to agree upon","   security parameters for the record layer, to authenticate themselves,","   to instantiate negotiated security parameters, and to report error","   conditions to each other.","","   The Handshake Protocol is responsible for negotiating a session,","   which consists of the following items:","","   session identifier","      An arbitrary byte sequence chosen by the server to identify an","      active or resumable session state.","","   peer certificate","      X509v3 [PKIX] certificate of the peer.  This element of the state","      may be null.","","   compression method","      The algorithm used to compress data prior to encryption.","","   cipher spec","      Specifies the pseudorandom function (PRF) used to generate keying","      material, the bulk data encryption algorithm (such as null, AES,","      etc.) and the MAC algorithm (such as HMAC-SHA1).  It also defines","      cryptographic attributes such as the mac_length.  (See Appendix","      A.6 for formal definition.)","","   master secret","      48-byte secret shared between the client and server.","","   is resumable","      A flag indicating whether the session can be used to initiate new","      connections.","","   These items are then used to create security parameters for use by","   the record layer when protecting application data.  Many connections","   can be instantiated using the same session through the resumption","   feature of the TLS Handshake Protocol."]},{"id":"section-7.1","title":"Change Cipher Spec Protocol","lines":["   The change cipher spec protocol exists to signal transitions in","   ciphering strategies.  The protocol consists of a single message,","   which is encrypted and compressed under the current (not the pending)","   connection state.  The message consists of a single byte of value 1.","","      struct {","          enum { change_cipher_spec(1), (255) } type;","      } ChangeCipherSpec;","","   The ChangeCipherSpec message is sent by both the client and the","   server to notify the receiving party that subsequent records will be","   protected under the newly negotiated CipherSpec and keys.  Reception","   of this message causes the receiver to instruct the record layer to","   immediately copy the read pending state into the read current state.",[[[],0,"   "],[[125],224,"Immediately after sending this message, the sender MUST instruct the"]],[[[],0,"   "],[[125],224,"record layer to make the write pending state the write active state."]],"","   (See Section 6.1.)  The ChangeCipherSpec message is sent during the","   handshake after the security parameters have been agreed upon, but","   before the verifying Finished message is sent.","","   Note: If a rehandshake occurs while data is flowing on a connection,","   the communicating parties may continue to send data using the old",[[[],0,"   CipherSpec.  "],[[126],224,"However, once the ChangeCipherSpec has been sent, the"]],[[[],0,"   "],[[126],224,"new CipherSpec MUST be used."],[[],0,"  The first side to send the"]],"   ChangeCipherSpec does not know that the other side has finished","   computing the new keying material (e.g., if it has to perform a",[[[],0,"   time-consuming public key operation).  "],[[127],96,"Thus, a small window of time,"]],[[[],0,"   "],[[127],96,"during which the recipient must buffer the data, MAY exist."],[[],0,"  In"]],"   practice, with modern machines this interval is likely to be fairly","   short."],"requirements":[125,126,127]},{"id":"section-7.2","title":"Alert Protocol","lines":["   One of the content types supported by the TLS record layer is the","   alert type.  Alert messages convey the severity of the message","   (warning or fatal) and a description of the alert.  Alert messages","   with a level of fatal result in the immediate termination of the",[[[],0,"   connection.  "],[[140],224,"In this case, other connections corresponding to the"]],[[[],0,"   "],[[140],224,"session may continue, but the session identifier MUST be invalidated,"]],[[[],0,"   "],[[140],224,"preventing the failed session from being used to establish new"]],[[[],0,"   "],[[140],224,"connections."],[[],0,"  Like other messages, alert messages are encrypted and"]],"   compressed, as specified by the current connection state.","","      enum { warning(1), fatal(2), (255) } AlertLevel;","","      enum {","          close_notify(0),","          unexpected_message(10),","          bad_record_mac(20),","          decryption_failed_RESERVED(21),","          record_overflow(22),","          decompression_failure(30),","          handshake_failure(40),","          no_certificate_RESERVED(41),","          bad_certificate(42),","          unsupported_certificate(43),","          certificate_revoked(44),","          certificate_expired(45),","          certificate_unknown(46),","          illegal_parameter(47),","          unknown_ca(48),","          access_denied(49),","          decode_error(50),","          decrypt_error(51),","","          export_restriction_RESERVED(60),","          protocol_version(70),","          insufficient_security(71),","          internal_error(80),","          user_canceled(90),","          no_renegotiation(100),","          unsupported_extension(110),","          (255)","      } AlertDescription;","","      struct {","          AlertLevel level;","          AlertDescription description;","      } Alert;"],"requirements":[140]},{"id":"section-7.2.1","title":"Closure Alerts","lines":["   The client and the server must share knowledge that the connection is","   ending in order to avoid a truncation attack.  Either party may","   initiate the exchange of closing messages.","","   close_notify","      This message notifies the recipient that the sender will not send","      any more messages on this connection.  Note that as of TLS 1.1,","      failure to properly close a connection no longer requires that a","      session not be resumed.  This is a change from TLS 1.0 to conform","      with widespread implementation practice.","","   Either party may initiate a close by sending a close_notify alert.","   Any data received after a closure alert is ignored.","","   Unless some other fatal alert has been transmitted, each party is","   required to send a close_notify alert before closing the write side",[[[],0,"   of the connection.  "],[[128],224,"The other party MUST respond with a close_notify"]],[[[],0,"   "],[[128],224,"alert of its own and close down the connection immediately,"]],[[[],0,"   "],[[128],224,"discarding any pending writes."],[[],0,"  It is not required for the initiator"]],"   of the close to wait for the responding close_notify alert before","   closing the read side of the connection.","","   If the application protocol using TLS provides that any data may be","   carried over the underlying transport after the TLS connection is","   closed, the TLS implementation must receive the responding","   close_notify alert before indicating to the application layer that",[[[],0,"   the TLS connection has ended.  "],[[129],96,"If the application protocol will not"]],[[[],0,"   "],[[129],96,"transfer any additional data, but will only close the underlying"]],[[[],0,"   "],[[129],96,"transport connection, then the implementation MAY choose to close the"]],[[[],0,"   "],[[129],96,"transport without waiting for the responding close_notify."],[[],0,"  No part"]],"","   of this standard should be taken to dictate the manner in which a","   usage profile for TLS manages its data transport, including when","   connections are opened or closed.","","   Note: It is assumed that closing a connection reliably delivers","   pending data before destroying the transport."],"requirements":[128,129]},{"id":"section-7.2.2","title":"Error Alerts","lines":["   Error handling in the TLS Handshake protocol is very simple.  When an","   error is detected, the detecting party sends a message to the other","   party.  Upon transmission or receipt of a fatal alert message, both",[[[],0,"   parties immediately close the connection.  "],[[130],224,"Servers and clients MUST"]],[[[],0,"   "],[[130],224,"forget any session-identifiers, keys, and secrets associated with a"]],[[[],0,"   "],[[130],224,"failed connection."],[[],0,"  "],[[131],224,"Thus, any connection terminated with a fatal"]],[[[],0,"   "],[[131],224,"alert MUST NOT be resumed."]],"",[[[],0,"   "],[[132],224,"Whenever an implementation encounters a condition which is defined as"]],[[[],0,"   "],[[132],224,"a fatal alert, it MUST send the appropriate alert prior to closing"]],[[[],0,"   "],[[132],224,"the connection."],[[],0,"  "],[[133],96,"For all errors where an alert level is not"]],[[[],0,"   "],[[133],96,"explicitly specified, the sending party MAY determine at its"]],[[[],0,"   "],[[133],96,"discretion whether to treat this as a fatal error or not."],[[],0,"  "],[[134],224,"If the"]],[[[],0,"   "],[[134],224,"implementation chooses to send an alert but intends to close the"]],[[[],0,"   "],[[134],224,"connection immediately afterwards, it MUST send that alert at the"]],[[[],0,"   "],[[134],224,"fatal alert level."]],"","   If an alert with a level of warning is sent and received, generally",[[[],0,"   the connection can continue normally.  "],[[135],160,"If the receiving party decides"]],[[[],0,"   "],[[135],160,"not to proceed with the connection (e.g., after having received a"]],[[[],0,"   "],[[135],160,"no_renegotiation alert that it is not willing to accept), it SHOULD"]],[[[],0,"   "],[[135],160,"send a fatal alert to terminate the connection."],[[],0,"  Given this, the"]],"   sending party cannot, in general, know how the receiving party will","   behave.  Therefore, warning alerts are not very useful when the","   sending party wants to continue the connection, and thus are","   sometimes omitted.  For example, if a peer decides to accept an","   expired certificate (perhaps after confirming this with the user) and","   wants to continue the connection, it would not generally send a","   certificate_expired alert.","","   The following error alerts are defined:","","   unexpected_message","      An inappropriate message was received.  This alert is always fatal","      and should never be observed in communication between proper","      implementations.","","   bad_record_mac","      This alert is returned if a record is received with an incorrect",[[[],0,"      MAC.  "],[[136],224,"This alert also MUST be returned if an alert is sent because"]],[[[],0,"      "],[[136],224,"a TLSCiphertext decrypted in an invalid way: either it wasn't an"]],[[[],0,"      "],[[136],224,"even multiple of the block length, or its padding values, when"]],[[[],0,"      "],[[136],224,"checked, weren't correct."],[[],0,"  This message is always fatal and should"]],"      never be observed in communication between proper implementations","      (except when messages were corrupted in the network).","","   decryption_failed_RESERVED","      This alert was used in some earlier versions of TLS, and may have",[[[],0,"      permitted certain attacks against the CBC mode [CBCATT].  "],[[137,138,139],224,"It MUST"]],[[[],0,"      "],[[137,138,139],224,"NOT be sent by compliant implementations."]],"","   record_overflow","      A TLSCiphertext record was received that had a length more than","      2^14+2048 bytes, or a record decrypted to a TLSCompressed record","      with more than 2^14+1024 bytes.  This message is always fatal and","      should never be observed in communication between proper","      implementations (except when messages were corrupted in the","      network).","","   decompression_failure","      The decompression function received improper input (e.g., data","      that would expand to excessive length).  This message is always","      fatal and should never be observed in communication between proper","      implementations.","","   handshake_failure","      Reception of a handshake_failure alert message indicates that the","      sender was unable to negotiate an acceptable set of security","      parameters given the options available.  This is a fatal error.","","   no_certificate_RESERVED","      This alert was used in SSLv3 but not any version of TLS.  It MUST","      NOT be sent by compliant implementations.","","   bad_certificate","      A certificate was corrupt, contained signatures that did not","      verify correctly, etc.","","   unsupported_certificate","      A certificate was of an unsupported type.","","   certificate_revoked","      A certificate was revoked by its signer.","","   certificate_expired","      A certificate has expired or is not currently valid.","","   certificate_unknown","      Some other (unspecified) issue arose in processing the","      certificate, rendering it unacceptable.","","   illegal_parameter","      A field in the handshake was out of range or inconsistent with","      other fields.  This message is always fatal.","","   unknown_ca","      A valid certificate chain or partial chain was received, but the","      certificate was not accepted because the CA certificate could not","      be located or couldn't be matched with a known, trusted CA.  This","      message is always fatal.","","   access_denied","      A valid certificate was received, but when access control was","      applied, the sender decided not to proceed with negotiation.  This","      message is always fatal.","","   decode_error","      A message could not be decoded because some field was out of the","      specified range or the length of the message was incorrect.  This","      message is always fatal and should never be observed in","      communication between proper implementations (except when messages","      were corrupted in the network).","","   decrypt_error","      A handshake cryptographic operation failed, including being unable","      to correctly verify a signature or validate a Finished message.","      This message is always fatal.","","   export_restriction_RESERVED","      This alert was used in some earlier versions of TLS.  It MUST NOT","      be sent by compliant implementations.","","   protocol_version","      The protocol version the client has attempted to negotiate is","      recognized but not supported.  (For example, old protocol versions","      might be avoided for security reasons.)  This message is always","      fatal.","","   insufficient_security","      Returned instead of handshake_failure when a negotiation has","      failed specifically because the server requires ciphers more","      secure than those supported by the client.  This message is always","      fatal.","","   internal_error","      An internal error unrelated to the peer or the correctness of the","      protocol (such as a memory allocation failure) makes it impossible","      to continue.  This message is always fatal.","","   user_canceled","      This handshake is being canceled for some reason unrelated to a","      protocol failure.  If the user cancels an operation after the","      handshake is complete, just closing the connection by sending a","      close_notify is more appropriate.  This alert should be followed","      by a close_notify.  This message is generally a warning.","","   no_renegotiation","      Sent by the client in response to a hello request or by the server","      in response to a client hello after initial handshaking.  Either","      of these would normally lead to renegotiation; when that is not","      appropriate, the recipient should respond with this alert.  At","      that point, the original requester can decide whether to proceed","      with the connection.  One case where this would be appropriate is","      where a server has spawned a process to satisfy a request; the","      process might receive security parameters (key length,","      authentication, etc.) at startup, and it might be difficult to","      communicate changes to these parameters after that point.  This","      message is always a warning.","","   unsupported_extension","      sent by clients that receive an extended server hello containing","      an extension that they did not put in the corresponding client","      hello.  This message is always fatal.","","   New Alert values are assigned by IANA as described in Section 12."],"requirements":[130,131,132,133,134,135,136,137,138,139]},{"id":"section-7.3","title":"Handshake Protocol Overview","lines":["   The cryptographic parameters of the session state are produced by the","   TLS Handshake Protocol, which operates on top of the TLS record","   layer.  When a TLS client and server first start communicating, they","   agree on a protocol version, select cryptographic algorithms,","   optionally authenticate each other, and use public-key encryption","   techniques to generate shared secrets.","","   The TLS Handshake Protocol involves the following steps:","","   -  Exchange hello messages to agree on algorithms, exchange random","      values, and check for session resumption.","","   -  Exchange the necessary cryptographic parameters to allow the","      client and server to agree on a premaster secret.","","   -  Exchange certificates and cryptographic information to allow the","      client and server to authenticate themselves.","","   -  Generate a master secret from the premaster secret and exchanged","      random values.","","   -  Provide security parameters to the record layer.","","   -  Allow the client and server to verify that their peer has","      calculated the same security parameters and that the handshake","      occurred without tampering by an attacker.","","   Note that higher layers should not be overly reliant on whether TLS","   always negotiates the strongest possible connection between two","   peers.  There are a number of ways in which a man-in-the-middle","   attacker can attempt to make two entities drop down to the least","   secure method they support.  The protocol has been designed to","   minimize this risk, but there are still attacks available: for","   example, an attacker could block access to the port a secure service","   runs on, or attempt to get the peers to negotiate an unauthenticated","   connection.  The fundamental rule is that higher levels must be","   cognizant of what their security requirements are and never transmit","   information over a channel less secure than what they require.  The","   TLS protocol is secure in that any cipher suite offers its promised","   level of security: if you negotiate 3DES with a 1024-bit RSA key","   exchange with a host whose certificate you have verified, you can","   expect to be that secure.","","   These goals are achieved by the handshake protocol, which can be","   summarized as follows: The client sends a ClientHello message to","   which the server must respond with a ServerHello message, or else a","   fatal error will occur and the connection will fail.  The ClientHello","   and ServerHello are used to establish security enhancement","   capabilities between client and server.  The ClientHello and","   ServerHello establish the following attributes: Protocol Version,","   Session ID, Cipher Suite, and Compression Method.  Additionally, two","   random values are generated and exchanged: ClientHello.random and","   ServerHello.random.","","   The actual key exchange uses up to four messages: the server","   Certificate, the ServerKeyExchange, the client Certificate, and the","   ClientKeyExchange.  New key exchange methods can be created by","   specifying a format for these messages and by defining the use of the","   messages to allow the client and server to agree upon a shared",[[[],0,"   secret.  "],[[141],224,"This secret MUST be quite long; currently defined key"]],[[[],0,"   "],[[141],224,"exchange methods exchange secrets that range from 46 bytes upwards."]],"","   Following the hello messages, the server will send its certificate in","   a Certificate message if it is to be authenticated.  Additionally, a","   ServerKeyExchange message may be sent, if it is required (e.g., if","   the server has no certificate, or if its certificate is for signing","   only).  If the server is authenticated, it may request a certificate","   from the client, if that is appropriate to the cipher suite selected.","   Next, the server will send the ServerHelloDone message, indicating","   that the hello-message phase of the handshake is complete.  The",[[[],0,"   server will then wait for a client response.  "],[[142],224,"If the server has sent"]],[[[],0,"   "],[[142],224,"a CertificateRequest message, the client MUST send the Certificate"]],[[[],0,"   "],[[142],224,"message."],[[],0,"  The ClientKeyExchange message is now sent, and the content"]],"   of that message will depend on the public key algorithm selected","   between the ClientHello and the ServerHello.  If the client has sent","   a certificate with signing ability, a digitally-signed","   CertificateVerify message is sent to explicitly verify possession of","   the private key in the certificate.","","   At this point, a ChangeCipherSpec message is sent by the client, and","   the client copies the pending Cipher Spec into the current Cipher","   Spec.  The client then immediately sends the Finished message under","   the new algorithms, keys, and secrets.  In response, the server will","   send its own ChangeCipherSpec message, transfer the pending to the","   current Cipher Spec, and send its Finished message under the new","   Cipher Spec.  At this point, the handshake is complete, and the",[[[],0,"   client and server may begin to exchange application layer data.  "],[[143],224,"(See"]],[[[],0,"   "],[[143],224,"flow chart below.)  Application data MUST NOT be sent prior to the"]],[[[],0,"   "],[[143],224,"completion of the first handshake (before a cipher suite other than"]],[[[],0,"   "],[[143],224,"TLS_NULL_WITH_NULL_NULL is established)."]],"","      Client                                               Server","","      ClientHello                  -------->","                                                      ServerHello","                                                     Certificate*","                                               ServerKeyExchange*","                                              CertificateRequest*","                                   <--------      ServerHelloDone","      Certificate*","      ClientKeyExchange","      CertificateVerify*","      [ChangeCipherSpec]","      Finished                     -------->","                                               [ChangeCipherSpec]","                                   <--------             Finished","      Application Data             <------->     Application Data","","             Figure 1.  Message flow for a full handshake","","   * Indicates optional or situation-dependent messages that are not","   always sent.","","   Note: To help avoid pipeline stalls, ChangeCipherSpec is an","   independent TLS protocol content type, and is not actually a TLS","   handshake message.","","   When the client and server decide to resume a previous session or","   duplicate an existing session (instead of negotiating new security","   parameters), the message flow is as follows:","","   The client sends a ClientHello using the Session ID of the session to","   be resumed.  The server then checks its session cache for a match.","   If a match is found, and the server is willing to re-establish the","   connection under the specified session state, it will send a",[[[],0,"   ServerHello with the same Session ID value.  "],[[144],224,"At this point, both"]],[[[],0,"   "],[[144],224,"client and server MUST send ChangeCipherSpec messages and proceed"]],[[[],0,"   "],[[144],224,"directly to Finished messages."],[[],0,"  "],[[145],96,"Once the re-establishment is"]],[[[],0,"   "],[[145],96,"complete, the client and server MAY begin to exchange application"]],[[[],0,"   "],[[145],96,"layer data."],[[],0,"  (See flow chart below.)  If a Session ID match is not"]],"   found, the server generates a new session ID, and the TLS client and","   server perform a full handshake.","","      Client                                                Server","","      ClientHello                   -------->","                                                       ServerHello","                                                [ChangeCipherSpec]","                                    <--------             Finished","      [ChangeCipherSpec]","      Finished                      -------->","      Application Data              <------->     Application Data","","          Figure 2.  Message flow for an abbreviated handshake","","   The contents and significance of each message will be presented in","   detail in the following sections."],"requirements":[141,142,143,144,145]},{"id":"section-7.4","title":"Handshake Protocol","lines":["   The TLS Handshake Protocol is one of the defined higher-level clients","   of the TLS Record Protocol.  This protocol is used to negotiate the","   secure attributes of a session.  Handshake messages are supplied to","   the TLS record layer, where they are encapsulated within one or more","   TLSPlaintext structures, which are processed and transmitted as","   specified by the current active session state.","","      enum {","          hello_request(0), client_hello(1), server_hello(2),","          certificate(11), server_key_exchange (12),","          certificate_request(13), server_hello_done(14),","          certificate_verify(15), client_key_exchange(16),","          finished(20), (255)","      } HandshakeType;","","      struct {","          HandshakeType msg_type;    /* handshake type */","          uint24 length;             /* bytes in message */","          select (HandshakeType) {","              case hello_request:       HelloRequest;","              case client_hello:        ClientHello;","              case server_hello:        ServerHello;","              case certificate:         Certificate;","              case server_key_exchange: ServerKeyExchange;","              case certificate_request: CertificateRequest;","              case server_hello_done:   ServerHelloDone;","              case certificate_verify:  CertificateVerify;","              case client_key_exchange: ClientKeyExchange;","              case finished:            Finished;","          } body;","      } Handshake;","",[[[],0,"   "],[[246],224,"The handshake protocol messages are presented below in the order they"]],[[[],0,"   "],[[246],224,"MUST be sent; sending handshake messages in an unexpected order"]],[[[],0,"   "],[[246],224,"results in a fatal error."],[[],0,"  Unneeded handshake messages can be"]],"   omitted, however.  Note one exception to the ordering: the","   Certificate message is used twice in the handshake (from server to","   client, then from client to server), but described only in its first",[[[],0,"   position.  "],[[247],160,"The one message that is not bound by these ordering rules"]],[[[],0,"   "],[[247],160,"is the HelloRequest message, which can be sent at any time, but which"]],[[[],0,"   "],[[247],160,"SHOULD be ignored by the client if it arrives in the middle of a"]],[[[],0,"   "],[[247],160,"handshake."]],"","   New handshake message types are assigned by IANA as described in","   Section 12."],"requirements":[246,247]},{"id":"section-7.4.1","title":"Hello Messages","lines":["   The hello phase messages are used to exchange security enhancement","   capabilities between the client and server.  When a new session","   begins, the record layer's connection state encryption, hash, and","   compression algorithms are initialized to null.  The current","   connection state is used for renegotiation messages."]},{"id":"section-7.4.1.1","title":"Hello Request","lines":["   When this message will be sent:","",[[[],0,"      "],[[146],96,"The HelloRequest message MAY be sent by the server at any time."]],"","   Meaning of this message:","","      HelloRequest is a simple notification that the client should begin","      the negotiation process anew.  In response, the client should send","      a ClientHello message when convenient.  This message is not","      intended to establish which side is the client or server but",[[[],0,"      merely to initiate a new negotiation.  "],[[147],160,"Servers SHOULD NOT send a"]],[[[],0,"      "],[[147],160,"HelloRequest immediately upon the client's initial connection."],[[],0,"  It"]],"      is the client's job to send a ClientHello at that time.","","      This message will be ignored by the client if the client is",[[[],0,"      currently negotiating a session.  "],[[148],96,"This message MAY be ignored by"]],[[[],0,"      "],[[148],96,"the client if it does not wish to renegotiate a session, or the"]],[[[],0,"      "],[[148],96,"client may, if it wishes, respond with a no_renegotiation alert."]],"      Since handshake messages are intended to have transmission","      precedence over application data, it is expected that the","      negotiation will begin before no more than a few records are","      received from the client.  If the server sends a HelloRequest but","      does not receive a ClientHello in response, it may close the","      connection with a fatal alert.","",[[[],0,"      "],[[149],160,"After sending a HelloRequest, servers SHOULD NOT repeat the"]],[[[],0,"      "],[[149],160,"request until the subsequent handshake negotiation is complete."]],"","   Structure of this message:","","      struct { } HelloRequest;","",[[[],0,"   "],[[150],224,"This message MUST NOT be included in the message hashes that are"]],[[[],0,"   "],[[150],224,"maintained throughout the handshake and used in the Finished messages"]],[[[],0,"   "],[[150],224,"and the certificate verify message."]]],"requirements":[146,147,148,149,150]},{"id":"section-7.4.1.2","title":"Client Hello","lines":["   When this message will be sent:","","      When a client first connects to a server, it is required to send","      the ClientHello as its first message.  The client can also send a","      ClientHello in response to a HelloRequest or on its own initiative","      in order to renegotiate the security parameters in an existing","      connection.","","   Structure of this message:","","      The ClientHello message includes a random structure, which is used","      later in the protocol.","","         struct {","             uint32 gmt_unix_time;","             opaque random_bytes[28];","         } Random;","","      gmt_unix_time","         The current time and date in standard UNIX 32-bit format","         (seconds since the midnight starting Jan 1, 1970, UTC, ignoring","         leap seconds) according to the sender's internal clock.  Clocks","         are not required to be set correctly by the basic TLS protocol;","         higher-level or application protocols may define additional","         requirements.  Note that, for historical reasons, the data","         element is named using GMT, the predecessor of the current","         worldwide time base, UTC.","","      random_bytes","         28 bytes generated by a secure random number generator.","","   The ClientHello message includes a variable-length session","   identifier.  If not empty, the value identifies a session between the","   same client and server whose security parameters the client wishes to",[[[],0,"   reuse.  "],[[151],96,"The session identifier MAY be from an earlier connection,"]],"","   this connection, or from another currently active connection.  The","   second option is useful if the client only wishes to update the","   random structures and derived values of a connection, and the third","   option makes it possible to establish several independent secure","   connections without repeating the full handshake protocol.  These","   independent connections may occur sequentially or simultaneously; a","   SessionID becomes valid when the handshake negotiating it completes","   with the exchange of Finished messages and persists until it is","   removed due to aging or because a fatal error was encountered on a","   connection associated with the session.  The actual contents of the","   SessionID are defined by the server.","","      opaque SessionID<0..32>;","",[[[],0,"   "],[[152],224,"Warning: Because the SessionID is transmitted without encryption or"]],[[[],0,"   "],[[152],224,"immediate MAC protection, servers MUST NOT place confidential"]],[[[],0,"   "],[[152],224,"information in session identifiers or let the contents of fake"]],[[[],0,"   "],[[152],224,"session identifiers cause any breach of security."],[[],0,"  (Note that the"]],"   content of the handshake as a whole, including the SessionID, is","   protected by the Finished messages exchanged at the end of the","   handshake.)","","   The cipher suite list, passed from the client to the server in the","   ClientHello message, contains the combinations of cryptographic","   algorithms supported by the client in order of the client's","   preference (favorite choice first).  Each cipher suite defines a key","   exchange algorithm, a bulk encryption algorithm (including secret key","   length), a MAC algorithm, and a PRF.  The server will select a cipher","   suite or, if no acceptable choices are presented, return a handshake",[[[],0,"   failure alert and close the connection.  "],[[153],224,"If the list contains cipher"]],[[[],0,"   "],[[153],224,"suites the server does not recognize, support, or wish to use, the"]],[[[],0,"   "],[[153],224,"server MUST ignore those cipher suites, and process the remaining"]],[[[],0,"   "],[[153],224,"ones as usual."]],"","      uint8 CipherSuite[2];    /* Cryptographic suite selector */","","   The ClientHello includes a list of compression algorithms supported","   by the client, ordered according to the client's preference.","","      enum { null(0), (255) } CompressionMethod;","","      struct {","          ProtocolVersion client_version;","          Random random;","          SessionID session_id;","          CipherSuite cipher_suites<2..2^16-2>;","          CompressionMethod compression_methods<1..2^8-1>;","          select (extensions_present) {","              case false:","                  struct {};","              case true:","                  Extension extensions<0..2^16-1>;","          };","      } ClientHello;","","   TLS allows extensions to follow the compression_methods field in an","   extensions block.  The presence of extensions can be detected by","   determining whether there are bytes following the compression_methods","   at the end of the ClientHello.  Note that this method of detecting","   optional data differs from the normal TLS method of having a","   variable-length field, but it is used for compatibility with TLS","   before extensions were defined.","","   client_version","      The version of the TLS protocol by which the client wishes to",[[[],0,"      communicate during this session.  "],[[154],160,"This SHOULD be the latest"]],[[[],0,"      "],[[154],160,"(highest valued) version supported by the client."],[[],0,"  For this"]],"      version of the specification, the version will be 3.3 (see","      Appendix E for details about backward compatibility).","","   random","      A client-generated random structure.","","   session_id","      The ID of a session the client wishes to use for this connection.","      This field is empty if no session_id is available, or if the","      client wishes to generate new security parameters.","","   cipher_suites","      This is a list of the cryptographic options supported by the",[[[],0,"      client, with the client's first preference first.  "],[[155],224,"If the"]],[[[],0,"      "],[[155],224,"session_id field is not empty (implying a session resumption"]],[[[],0,"      "],[[155],224,"request), this vector MUST include at least the cipher_suite from"]],[[[],0,"      "],[[155],224,"that session."],[[],0,"  Values are defined in Appendix A.5."]],"","   compression_methods","      This is a list of the compression methods supported by the client,",[[[],0,"      sorted by client preference.  "],[[156],224,"If the session_id field is not empty"]],[[[],0,"      "],[[156],224,"(implying a session resumption request), it MUST include the"]],"",[[[],0,"      compression_method from that session.  "],[[157,158],224,"This vector MUST contain,"]],[[[],0,"      "],[[157,158],224,"and all implementations MUST support, CompressionMethod.null."]],"      Thus, a client and server will always be able to agree on a","      compression method.","",[[[],0,"   "],[[159],96,"extensions"]],[[[],0,"      "],[[159],96,"Clients MAY request extended functionality from servers by sending"]],[[[],0,"      "],[[159],96,"data in the extensions field."],[[],0,"  The actual \"Extension\" format is"]],"      defined in Section 7.4.1.4.","",[[[],0,"   "],[[161],96,"In the event that a client requests additional functionality using"]],[[[],0,"   "],[[161],96,"extensions, and this functionality is not supplied by the server, the"]],[[[],0,"   "],[[161],96,"client MAY abort the handshake."],[[],0,"  "],[[160,162,163],224,"A server MUST accept ClientHello"]],[[[],0,"   "],[[160,162,163],224,"messages both with and without the extensions field, and (as for all"]],[[[],0,"   "],[[160,162,163],224,"other messages) it MUST check that the amount of data in the message"]],[[[],0,"   "],[[160,162,163],224,"precisely matches one of these formats; if not, then it MUST send a"]],[[[],0,"   "],[[160,162,163],224,"fatal \"decode_error\" alert."]],"","   After sending the ClientHello message, the client waits for a","   ServerHello message.  Any handshake message returned by the server,","   except for a HelloRequest, is treated as a fatal error."],"requirements":[151,152,153,154,155,156,157,158,159,160,161,162,163]},{"id":"section-7.4.1.3","title":"Server Hello","lines":["   When this message will be sent:","","      The server will send this message in response to a ClientHello","      message when it was able to find an acceptable set of algorithms.","      If it cannot find such a match, it will respond with a handshake","      failure alert.","","   Structure of this message:","","      struct {","          ProtocolVersion server_version;","          Random random;","          SessionID session_id;","          CipherSuite cipher_suite;","          CompressionMethod compression_method;","          select (extensions_present) {","              case false:","                  struct {};","              case true:","                  Extension extensions<0..2^16-1>;","          };","      } ServerHello;","","   The presence of extensions can be detected by determining whether","   there are bytes following the compression_method field at the end of","   the ServerHello.","","   server_version","      This field will contain the lower of that suggested by the client","      in the client hello and the highest supported by the server.  For","      this version of the specification, the version is 3.3.  (See","      Appendix E for details about backward compatibility.)","",[[[],0,"   "],[[164],224,"random"]],[[[],0,"      "],[[164],224,"This structure is generated by the server and MUST be"]],[[[],0,"      "],[[164],224,"independently generated from the ClientHello.random."]],"","   session_id","      This is the identity of the session corresponding to this","      connection.  If the ClientHello.session_id was non-empty, the","      server will look in its session cache for a match.  If a match is","      found and the server is willing to establish the new connection","      using the specified session state, the server will respond with","      the same value as was supplied by the client.  This indicates a","      resumed session and dictates that the parties must proceed","      directly to the Finished messages.  Otherwise, this field will","      contain a different value identifying the new session.  The server","      may return an empty session_id to indicate that the session will","      not be cached and therefore cannot be resumed.  If a session is","      resumed, it must be resumed using the same cipher suite it was","      originally negotiated with.  Note that there is no requirement","      that the server resume any session even if it had formerly",[[[],0,"      provided a session_id.  "],[[165],224,"Clients MUST be prepared to do a full"]],[[[],0,"      "],[[165],224,"negotiation -- including negotiating new cipher suites -- during"]],[[[],0,"      "],[[165],224,"any handshake."]],"","   cipher_suite","      The single cipher suite selected by the server from the list in","      ClientHello.cipher_suites.  For resumed sessions, this field is","      the value from the state of the session being resumed.","","   compression_method","      The single compression algorithm selected by the server from the","      list in ClientHello.compression_methods.  For resumed sessions,","      this field is the value from the resumed session state.","","   extensions","      A list of extensions.  Note that only extensions offered by the","      client can appear in the server's list."],"requirements":[164,165]},{"id":"section-7.4.1.4","title":"Hello Extensions","lines":["   The extension format is:","","      struct {","          ExtensionType extension_type;","          opaque extension_data<0..2^16-1>;","      } Extension;","","      enum {","          signature_algorithms(13), (65535)","      } ExtensionType;","","   Here:","","   -  \"extension_type\" identifies the particular extension type.","","   -  \"extension_data\" contains information specific to the particular","      extension type.","","   The initial set of extensions is defined in a companion document","   [TLSEXT].  The list of extension types is maintained by IANA as","   described in Section 12.","",[[[],0,"   "],[[173],224,"An extension type MUST NOT appear in the ServerHello unless the same"]],[[[],0,"   "],[[173],224,"extension type appeared in the corresponding ClientHello."],[[],0,"  "],[[174],224,"If a"]],[[[],0,"   "],[[174],224,"client receives an extension type in ServerHello that it did not"]],[[[],0,"   "],[[174],224,"request in the associated ClientHello, it MUST abort the handshake"]],[[[],0,"   "],[[174],224,"with an unsupported_extension fatal alert."]],"","   Nonetheless, \"server-oriented\" extensions may be provided in the","   future within this framework.  Such an extension (say, of type x)","   would require the client to first send an extension of type x in a","   ClientHello with empty extension_data to indicate that it supports","   the extension type.  In this case, the client is offering the","   capability to understand the extension type, and the server is taking","   the client up on its offer.","",[[[],0,"   "],[[175],96,"When multiple extensions of different types are present in the"]],[[[],0,"   "],[[175],96,"ClientHello or ServerHello messages, the extensions MAY appear in any"]],[[[],0,"   "],[[175],96,"order."],[[],0,"  "],[[176],224,"There MUST NOT be more than one extension of the same type."]],"","   Finally, note that extensions can be sent both when starting a new",[[[],0,"   session and when requesting session resumption.  "],[[177],160,"Indeed, a client"]],[[[],0,"   "],[[177],160,"that requests session resumption does not in general know whether the"]],[[[],0,"   "],[[177],160,"server will accept this request, and therefore it SHOULD send the"]],[[[],0,"   "],[[177],160,"same extensions as it would send if it were not attempting"]],[[[],0,"   "],[[177],160,"resumption."]],"","   In general, the specification of each extension type needs to","   describe the effect of the extension both during full handshake and","   session resumption.  Most current TLS extensions are relevant only","   when a session is initiated: when an older session is resumed, the","   server does not process these extensions in Client Hello, and does","   not include them in Server Hello.  However, some extensions may","   specify different behavior during session resumption.","","   There are subtle (and not so subtle) interactions that may occur in","   this protocol between new features and existing features which may","   result in a significant reduction in overall security.  The following","   considerations should be taken into account when designing new","   extensions:","","   -  Some cases where a server does not agree to an extension are error","      conditions, and some are simply refusals to support particular","      features.  In general, error alerts should be used for the former,","      and a field in the server extension response for the latter.","","   -  Extensions should, as far as possible, be designed to prevent any","      attack that forces use (or non-use) of a particular feature by","      manipulation of handshake messages.  This principle should be","      followed regardless of whether the feature is believed to cause a","      security problem.","","      Often the fact that the extension fields are included in the","      inputs to the Finished message hashes will be sufficient, but","      extreme care is needed when the extension changes the meaning of","      messages sent in the handshake phase.  Designers and implementors","      should be aware of the fact that until the handshake has been","      authenticated, active attackers can modify messages and insert,","      remove, or replace extensions.","","   -  It would be technically possible to use extensions to change major","      aspects of the design of TLS; for example the design of cipher","      suite negotiation.  This is not recommended; it would be more","      appropriate to define a new version of TLS -- particularly since","      the TLS handshake algorithms have specific protection against","      version rollback attacks based on the version number, and the","      possibility of version rollback should be a significant","      consideration in any major design change."],"requirements":[173,174,175,176,177]},{"id":"section-7.4.1.4.1","title":"Signature Algorithms","lines":["   The client uses the \"signature_algorithms\" extension to indicate to","   the server which signature/hash algorithm pairs may be used in","   digital signatures.  The \"extension_data\" field of this extension","   contains a \"supported_signature_algorithms\" value.","","      enum {","          none(0), md5(1), sha1(2), sha224(3), sha256(4), sha384(5),","          sha512(6), (255)","      } HashAlgorithm;","","      enum { anonymous(0), rsa(1), dsa(2), ecdsa(3), (255) }","        SignatureAlgorithm;","","      struct {","            HashAlgorithm hash;","            SignatureAlgorithm signature;","      } SignatureAndHashAlgorithm;","","      SignatureAndHashAlgorithm","        supported_signature_algorithms<2..2^16-2>;","","   Each SignatureAndHashAlgorithm value lists a single hash/signature","   pair that the client is willing to verify.  The values are indicated","   in descending order of preference.","","   Note: Because not all signature algorithms and hash algorithms may be","   accepted by an implementation (e.g., DSA with SHA-1, but not","   SHA-256), algorithms here are listed in pairs.","","   hash","      This field indicates the hash algorithm which may be used.  The","      values indicate support for unhashed data, MD5 [MD5], SHA-1,","      SHA-224, SHA-256, SHA-384, and SHA-512 [SHS], respectively.  The","      \"none\" value is provided for future extensibility, in case of a","      signature algorithm which does not require hashing before signing.","","   signature","      This field indicates the signature algorithm that may be used.","      The values indicate anonymous signatures, RSASSA-PKCS1-v1_5","      [PKCS1] and DSA [DSS], and ECDSA [ECDSA], respectively.  The","      \"anonymous\" value is meaningless in this context but used in",[[[],0,"      Section 7.4.3.  "],[[166],224,"It MUST NOT appear in this extension."]],"","   The semantics of this extension are somewhat complicated because the","   cipher suite indicates permissible signature algorithms but not hash","   algorithms.  Sections 7.4.2 and 7.4.3 describe the appropriate rules.","",[[[],0,"   "],[[167],96,"If the client supports only the default hash and signature algorithms"]],[[[],0,"   "],[[167],96,"(listed in this section), it MAY omit the signature_algorithms"]],[[[],0,"   "],[[167],96,"extension."],[[],0,"  "],[[168],224,"If the client does not support the default algorithms, or"]],[[[],0,"   "],[[168],224,"supports other hash and signature algorithms (and it is willing to"]],[[[],0,"   "],[[168],224,"use them for verifying messages sent by the server, i.e., server"]],[[[],0,"   "],[[168],224,"certificates and server key exchange), it MUST send the"]],"","   signature_algorithms extension, listing the algorithms it is willing","   to accept.","",[[[],0,"   "],[[169],224,"If the client does not send the signature_algorithms extension, the"]],[[[],0,"   "],[[169],224,"server MUST do the following:"]],"","   -  If the negotiated key exchange algorithm is one of (RSA, DHE_RSA,","      DH_RSA, RSA_PSK, ECDH_RSA, ECDHE_RSA), behave as if client had","      sent the value {sha1,rsa}.","","   -  If the negotiated key exchange algorithm is one of (DHE_DSS,","      DH_DSS), behave as if the client had sent the value {sha1,dsa}.","","   -  If the negotiated key exchange algorithm is one of (ECDH_ECDSA,","      ECDHE_ECDSA), behave as if the client had sent value {sha1,ecdsa}.","","   Note: this is a change from TLS 1.1 where there are no explicit","   rules, but as a practical matter one can assume that the peer","   supports MD5 and SHA-1.","","   Note: this extension is not meaningful for TLS versions prior to 1.2.",[[[],0,"   "],[[170],224,"Clients MUST NOT offer it if they are offering prior versions."]],"   However, even if clients do offer it, the rules specified in [TLSEXT]","   require servers to ignore extensions they do not understand.","",[[[],0,"   "],[[171],224,"Servers MUST NOT send this extension."],[[],0,"  "],[[172],224,"TLS servers MUST support"]],[[[],0,"   "],[[172],224,"receiving this extension."]],"","   When performing session resumption, this extension is not included in","   Server Hello, and the server ignores the extension in Client Hello","   (if present)."],"requirements":[166,167,168,169,170,171,172]},{"id":"section-7.4.2","title":"Server Certificate","lines":["   When this message will be sent:","",[[[],0,"      "],[[178],224,"The server MUST send a Certificate message whenever the agreed-"]],[[[],0,"      "],[[178],224,"upon key exchange method uses certificates for authentication"]],[[[],0,"      "],[[178],224,"(this includes all key exchange methods defined in this document"]],[[[],0,"      "],[[178],224,"except DH_anon)."],[[],0,"  This message will always immediately follow the"]],"      ServerHello message.","","   Meaning of this message:","","      This message conveys the server's certificate chain to the client.","",[[[],0,"      "],[[179],224,"The certificate MUST be appropriate for the negotiated cipher"]],[[[],0,"      "],[[179],224,"suite's key exchange algorithm and any negotiated extensions."]],"","   Structure of this message:","","      opaque ASN.1Cert<1..2^24-1>;","","      struct {","          ASN.1Cert certificate_list<0..2^24-1>;","      } Certificate;","","   certificate_list",[[[],0,"      This is a sequence (chain) of certificates.  "],[[180],224,"The sender's"]],[[[],0,"      "],[[180],224,"certificate MUST come first in the list."],[[],0,"  "],[[181],224,"Each following"]],[[[],0,"      "],[[181],224,"certificate MUST directly certify the one preceding it."],[[],0,"  "],[[182],96,"Because"]],[[[],0,"      "],[[182],96,"certificate validation requires that root keys be distributed"]],[[[],0,"      "],[[182],96,"independently, the self-signed certificate that specifies the root"]],[[[],0,"      "],[[182],96,"certificate authority MAY be omitted from the chain, under the"]],[[[],0,"      "],[[182],96,"assumption that the remote end must already possess it in order to"]],[[[],0,"      "],[[182],96,"validate it in any case."]],"","   The same message type and structure will be used for the client's",[[[],0,"   response to a certificate request message.  "],[[183],96,"Note that a client MAY"]],[[[],0,"   "],[[183],96,"send no certificates if it does not have an appropriate certificate"]],[[[],0,"   "],[[183],96,"to send in response to the server's authentication request."]],"","   Note: PKCS #7 [PKCS7] is not used as the format for the certificate","   vector because PKCS #6 [PKCS6] extended certificates are not used.","   Also, PKCS #7 defines a SET rather than a SEQUENCE, making the task","   of parsing the list more difficult.","","   The following rules apply to the certificates sent by the server:","",[[[],0,"   "],[[184],224,"-  The certificate type MUST be X.509v3, unless explicitly negotiated"]],[[[],0,"      "],[[184],224,"otherwise (e.g., [TLSPGP])."]],"",[[[],0,"   "],[[185],224,"-  The end entity certificate's public key (and associated"]],[[[],0,"      "],[[185],224,"restrictions) MUST be compatible with the selected key exchange"]],[[[],0,"      "],[[185],224,"algorithm."]],"","      Key Exchange Alg.  Certificate Key Type","",[[[],0,"      "],[[186,187],224,"RSA                RSA public key; the certificate MUST allow the"]],[[[],0,"      "],[[186,187],224,"RSA_PSK            key to be used for encryption (the"]],[[[],0,"                         "],[[186,187],224,"keyEncipherment bit MUST be set if the key"]],[[[],0,"                         "],[[186,187],224,"usage extension is present)."]],"                         Note: RSA_PSK is defined in [TLSPSK].","",[[[],0,"      "],[[188,189],224,"DHE_RSA            RSA public key; the certificate MUST allow the"]],[[[],0,"      "],[[188,189],224,"ECDHE_RSA          key to be used for signing (the"]],[[[],0,"                         "],[[188,189],224,"digitalSignature bit MUST be set if the key"]],[[[],0,"                         "],[[188,189],224,"usage extension is present) with the signature"]],[[[],0,"                         "],[[188,189],224,"scheme and hash algorithm that will be employed"]],[[[],0,"                         "],[[188,189],224,"in the server key exchange message."]],"                         Note: ECDHE_RSA is defined in [TLSECC].","",[[[],0,"      "],[[190],224,"DHE_DSS            DSA public key; the certificate MUST allow the"]],[[[],0,"                         "],[[190],224,"key to be used for signing with the hash"]],[[[],0,"                         "],[[190],224,"algorithm that will be employed in the server"]],[[[],0,"                         "],[[190],224,"key exchange message."]],"",[[[],0,"      "],[[191],224,"DH_DSS             Diffie-Hellman public key; the keyAgreement bit"]],[[[],0,"      "],[[191],224,"DH_RSA             MUST be set if the key usage extension is"]],[[[],0,"                         "],[[191],224,"present."]],"",[[[],0,"      "],[[192],224,"ECDH_ECDSA         ECDH-capable public key; the public key MUST"]],[[[],0,"      "],[[192],224,"ECDH_RSA           use a curve and point format supported by the"]],[[[],0,"                         "],[[192],224,"client, as described in [TLSECC]."]],"",[[[],0,"      "],[[193],224,"ECDHE_ECDSA        ECDSA-capable public key; the certificate MUST"]],[[[],0,"                         "],[[193],224,"allow the key to be used for signing with the"]],[[[],0,"                         "],[[193],224,"hash algorithm that will be employed in the"]],[[[],0,"                         "],[[193],224,"server key exchange message."],[[],0,"  "],[[194],224,"The public key"]],[[[],0,"                         "],[[194],224,"MUST use a curve and point format supported by"]],[[[],0,"                         "],[[194],224,"the client, as described in  [TLSECC]."]],"","   -  The \"server_name\" and \"trusted_ca_keys\" extensions [TLSEXT] are","      used to guide certificate selection.","",[[[],0,"   "],[[195],224,"If the client provided a \"signature_algorithms\" extension, then all"]],[[[],0,"   "],[[195],224,"certificates provided by the server MUST be signed by a"]],[[[],0,"   "],[[195],224,"hash/signature algorithm pair that appears in that extension."],[[],0,"  "],[[196],96,"Note"]],[[[],0,"   "],[[196],96,"that this implies that a certificate containing a key for one"]],[[[],0,"   "],[[196],96,"signature algorithm MAY be signed using a different signature"]],[[[],0,"   "],[[196],96,"algorithm (for instance, an RSA key signed with a DSA key)."],[[],0,"  This is"]],"   a departure from TLS 1.1, which required that the algorithms be the","   same.  Note that this also implies that the DH_DSS, DH_RSA,","   ECDH_ECDSA, and ECDH_RSA key exchange algorithms do not restrict the",[[[],0,"   algorithm used to sign the certificate.  "],[[197],96,"Fixed DH certificates MAY be"]],[[[],0,"   "],[[197],96,"signed with any hash/signature algorithm pair appearing in the"]],[[[],0,"   "],[[197],96,"extension."],[[],0,"  The names DH_DSS, DH_RSA, ECDH_ECDSA, and ECDH_RSA are"]],"   historical.","","   If the server has multiple certificates, it chooses one of them based","   on the above-mentioned criteria (in addition to other criteria, such","   as transport layer endpoint, local configuration and preferences,",[[[],0,"   etc.).  "],[[198],160,"If the server has a single certificate, it SHOULD attempt to"]],[[[],0,"   "],[[198],160,"validate that it meets these criteria."]],"","   Note that there are certificates that use algorithms and/or algorithm","   combinations that cannot be currently used with TLS.  For example, a","   certificate with RSASSA-PSS signature key (id-RSASSA-PSS OID in","   SubjectPublicKeyInfo) cannot be used because TLS defines no","   corresponding signature algorithm.","","   As cipher suites that specify new key exchange methods are specified","   for the TLS protocol, they will imply the certificate format and the","   required encoded keying information."],"requirements":[178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198]},{"id":"section-7.4.3","title":"Server Key Exchange Message","lines":["   When this message will be sent:","","      This message will be sent immediately after the server Certificate","      message (or the ServerHello message, if this is an anonymous","      negotiation).","","      The ServerKeyExchange message is sent by the server only when the","      server Certificate message (if sent) does not contain enough data","      to allow the client to exchange a premaster secret.  This is true","      for the following key exchange methods:","","         DHE_DSS","         DHE_RSA","         DH_anon","","      It is not legal to send the ServerKeyExchange message for the","      following key exchange methods:","","         RSA","         DH_DSS","         DH_RSA","",[[[],0,"      "],[[199],224,"Other key exchange algorithms, such as those defined in [TLSECC],"]],[[[],0,"      "],[[199],224,"MUST specify whether the ServerKeyExchange message is sent or not;"]],[[[],0,"      "],[[199],224,"and if the message is sent, its contents."]],"","   Meaning of this message:","","      This message conveys cryptographic information to allow the client","      to communicate the premaster secret: a Diffie-Hellman public key","      with which the client can complete a key exchange (with the result","      being the premaster secret) or a public key for some other","      algorithm.","","   Structure of this message:","","      enum { dhe_dss, dhe_rsa, dh_anon, rsa, dh_dss, dh_rsa","            /* may be extended, e.g., for ECDH -- see [TLSECC] */","           } KeyExchangeAlgorithm;","","      struct {","          opaque dh_p<1..2^16-1>;","          opaque dh_g<1..2^16-1>;","          opaque dh_Ys<1..2^16-1>;","      } ServerDHParams;     /* Ephemeral DH parameters */","","      dh_p","         The prime modulus used for the Diffie-Hellman operation.","","      dh_g","         The generator used for the Diffie-Hellman operation.","","      dh_Ys","         The server's Diffie-Hellman public value (g^X mod p).","","      struct {","          select (KeyExchangeAlgorithm) {","              case dh_anon:","                  ServerDHParams params;","              case dhe_dss:","              case dhe_rsa:","                  ServerDHParams params;","                  digitally-signed struct {","                      opaque client_random[32];","                      opaque server_random[32];","                      ServerDHParams params;","                  } signed_params;","              case rsa:","              case dh_dss:","              case dh_rsa:","                  struct {} ;","                 /* message is omitted for rsa, dh_dss, and dh_rsa */","              /* may be extended, e.g., for ECDH -- see [TLSECC] */","          };","      } ServerKeyExchange;","","      params","         The server's key exchange parameters.","","      signed_params","         For non-anonymous key exchanges, a signature over the server's","         key exchange parameters.","",[[[],0,"   "],[[200],224,"If the client has offered the \"signature_algorithms\" extension, the"]],[[[],0,"   "],[[200],224,"signature algorithm and hash algorithm MUST be a pair listed in that"]],[[[],0,"   "],[[200],224,"extension."],[[],0,"  Note that there is a possibility for inconsistencies"]],"   here.  For instance, the client might offer DHE_DSS key exchange but",[[[],0,"   omit any DSA pairs from its \"signature_algorithms\" extension.  "],[[201],224,"In"]],[[[],0,"   "],[[201],224,"order to negotiate correctly, the server MUST check any candidate"]],[[[],0,"   "],[[201],224,"cipher suites against the \"signature_algorithms\" extension before"]],[[[],0,"   "],[[201],224,"selecting them."],[[],0,"  This is somewhat inelegant but is a compromise"]],"   designed to minimize changes to the original cipher suite design.","",[[[],0,"   "],[[202],224,"In addition, the hash and signature algorithms MUST be compatible"]],[[[],0,"   "],[[202],224,"with the key in the server's end-entity certificate."],[[],0,"  "],[[203],96,"RSA keys MAY be"]],[[[],0,"   "],[[203],96,"used with any permitted hash algorithm, subject to restrictions in"]],[[[],0,"   "],[[203],96,"the certificate, if any."]],"","   Because DSA signatures do not contain any secure indication of hash","   algorithm, there is a risk of hash substitution if multiple hashes","   may be used with any key.  Currently, DSA [DSS] may only be used with","   SHA-1.  Future revisions of DSS [DSS-3] are expected to allow the use","   of other digest algorithms with DSA, as well as guidance as to which","","   digest algorithms should be used with each key size.  In addition,","   future revisions of [PKIX] may specify mechanisms for certificates to","   indicate which digest algorithms are to be used with DSA.","","   As additional cipher suites are defined for TLS that include new key","   exchange algorithms, the server key exchange message will be sent if","   and only if the certificate type associated with the key exchange","   algorithm does not provide enough information for the client to","   exchange a premaster secret."],"requirements":[199,200,201,202,203]},{"id":"section-7.4.4","title":"Certificate Request","lines":["   When this message will be sent:","","       A non-anonymous server can optionally request a certificate from","       the client, if appropriate for the selected cipher suite.  This","       message, if sent, will immediately follow the ServerKeyExchange","       message (if it is sent; otherwise, this message follows the","       server's Certificate message).","","   Structure of this message:","","      enum {","          rsa_sign(1), dss_sign(2), rsa_fixed_dh(3), dss_fixed_dh(4),","          rsa_ephemeral_dh_RESERVED(5), dss_ephemeral_dh_RESERVED(6),","          fortezza_dms_RESERVED(20), (255)","      } ClientCertificateType;","","      opaque DistinguishedName<1..2^16-1>;","","      struct {","          ClientCertificateType certificate_types<1..2^8-1>;","          SignatureAndHashAlgorithm","            supported_signature_algorithms<2^16-1>;","          DistinguishedName certificate_authorities<0..2^16-1>;","      } CertificateRequest;","","   certificate_types","      A list of the types of certificate types that the client may","      offer.","","         rsa_sign        a certificate containing an RSA key","         dss_sign        a certificate containing a DSA key","         rsa_fixed_dh    a certificate containing a static DH key.","         dss_fixed_dh    a certificate containing a static DH key","","   supported_signature_algorithms","      A list of the hash/signature algorithm pairs that the server is","      able to verify, listed in descending order of preference.","","   certificate_authorities","      A list of the distinguished names [X501] of acceptable","      certificate_authorities, represented in DER-encoded format.  These","      distinguished names may specify a desired distinguished name for a","      root CA or for a subordinate CA; thus, this message can be used to",[[[],0,"      describe known roots as well as a desired authorization space.  "],[[204],96,"If"]],[[[],0,"      "],[[204],96,"the certificate_authorities list is empty, then the client MAY"]],[[[],0,"      "],[[204],96,"send any certificate of the appropriate ClientCertificateType,"]],[[[],0,"      "],[[204],96,"unless there is some external arrangement to the contrary."]],"","   The interaction of the certificate_types and","   supported_signature_algorithms fields is somewhat complicated.","   certificate_types has been present in TLS since SSLv3, but was","   somewhat underspecified.  Much of its functionality is superseded by","   supported_signature_algorithms.  The following rules apply:","",[[[],0,"   "],[[205],224,"-  Any certificates provided by the client MUST be signed using a"]],[[[],0,"      "],[[205],224,"hash/signature algorithm pair found in"]],[[[],0,"      "],[[205],224,"supported_signature_algorithms."]],"",[[[],0,"   "],[[206],224,"-  The end-entity certificate provided by the client MUST contain a"]],[[[],0,"      "],[[206],224,"key that is compatible with certificate_types."],[[],0,"  "],[[207],224,"If the key is a"]],[[[],0,"      "],[[207],224,"signature key, it MUST be usable with some hash/signature"]],[[[],0,"      "],[[207],224,"algorithm pair in supported_signature_algorithms."]],"","   -  For historical reasons, the names of some client certificate types","      include the algorithm used to sign the certificate.  For example,","      in earlier versions of TLS, rsa_fixed_dh meant a certificate","      signed with RSA and containing a static DH key.  In TLS 1.2, this","      functionality has been obsoleted by the","      supported_signature_algorithms, and the certificate type no longer",[[[],0,"      restricts the algorithm used to sign the certificate.  "],[[208],96,"For"]],[[[],0,"      "],[[208],96,"example, if the server sends dss_fixed_dh certificate type and"]],[[[],0,"      "],[[208],96,"{{sha1, dsa}, {sha1, rsa}} signature types, the client MAY reply"]],[[[],0,"      "],[[208],96,"with a certificate containing a static DH key, signed with RSA-"]],[[[],0,"      "],[[208],96,"SHA1."]],"","   New ClientCertificateType values are assigned by IANA as described in","   Section 12.","","   Note: Values listed as RESERVED may not be used.  They were used in","   SSLv3.","","   Note: It is a fatal handshake_failure alert for an anonymous server","   to request client authentication."],"requirements":[204,205,206,207,208]},{"id":"section-7.4.5","title":"Server Hello Done","lines":["   When this message will be sent:","","      The ServerHelloDone message is sent by the server to indicate the","      end of the ServerHello and associated messages.  After sending","      this message, the server will wait for a client response.","","   Meaning of this message:","","      This message means that the server is done sending messages to","      support the key exchange, and the client can proceed with its","      phase of the key exchange.","",[[[],0,"      "],[[209],160,"Upon receipt of the ServerHelloDone message, the client SHOULD"]],[[[],0,"      "],[[209],160,"verify that the server provided a valid certificate, if required,"]],[[[],0,"      "],[[209],160,"and check that the server hello parameters are acceptable."]],"","   Structure of this message:","","      struct { } ServerHelloDone;"],"requirements":[209]},{"id":"section-7.4.6","title":"Client Certificate","lines":["   When this message will be sent:","","      This is the first message the client can send after receiving a","      ServerHelloDone message.  This message is only sent if the server",[[[],0,"      requests a certificate.  "],[[210],224,"If no suitable certificate is available,"]],[[[],0,"      "],[[210],224,"the client MUST send a certificate message containing no"]],[[[],0,"      "],[[210],224,"certificates."],[[],0,"  That is, the certificate_list structure has a"]],[[[],0,"      length of zero.  "],[[211],96,"If the client does not send any certificates, the"]],[[[],0,"      "],[[211],96,"server MAY at its discretion either continue the handshake without"]],[[[],0,"      "],[[211],96,"client authentication, or respond with a fatal handshake_failure"]],[[[],0,"      "],[[211],96,"alert."],[[],0,"  "],[[212],96,"Also, if some aspect of the certificate chain was"]],[[[],0,"      "],[[212],96,"unacceptable (e.g., it was not signed by a known, trusted CA), the"]],[[[],0,"      "],[[212],96,"server MAY at its discretion either continue the handshake"]],[[[],0,"      "],[[212],96,"(considering the client unauthenticated) or send a fatal alert."]],"","      Client certificates are sent using the Certificate structure","      defined in Section 7.4.2.","","   Meaning of this message:","","      This message conveys the client's certificate chain to the server;","      the server will use it when verifying the CertificateVerify","      message (when the client authentication is based on signing) or","      calculating the premaster secret (for non-ephemeral Diffie-",[[[],0,"      Hellman).  "],[[213],224,"The certificate MUST be appropriate for the negotiated"]],[[[],0,"      "],[[213],224,"cipher suite's key exchange algorithm, and any negotiated"]],[[[],0,"      "],[[213],224,"extensions."]],"","   In particular:","",[[[],0,"   "],[[214],224,"-  The certificate type MUST be X.509v3, unless explicitly negotiated"]],[[[],0,"      "],[[214],224,"otherwise (e.g., [TLSPGP])."]],"","   -  The end-entity certificate's public key (and associated","      restrictions) has to be compatible with the certificate types","      listed in CertificateRequest:","","      Client Cert. Type   Certificate Key Type","",[[[],0,"      "],[[215],224,"rsa_sign            RSA public key; the certificate MUST allow the"]],[[[],0,"                          "],[[215],224,"key to be used for signing with the signature"]],[[[],0,"                          "],[[215],224,"scheme and hash algorithm that will be"]],[[[],0,"                          "],[[215],224,"employed in the certificate verify message."]],"",[[[],0,"      "],[[216],224,"dss_sign            DSA public key; the certificate MUST allow the"]],[[[],0,"                          "],[[216],224,"key to be used for signing with the hash"]],[[[],0,"                          "],[[216],224,"algorithm that will be employed in the"]],[[[],0,"                          "],[[216],224,"certificate verify message."]],"",[[[],0,"      "],[[217,218],224,"ecdsa_sign          ECDSA-capable public key; the certificate MUST"]],[[[],0,"                          "],[[217,218],224,"allow the key to be used for signing with the"]],[[[],0,"                          "],[[217,218],224,"hash algorithm that will be employed in the"]],[[[],0,"                          "],[[217,218],224,"certificate verify message; the public key"]],[[[],0,"                          "],[[217,218],224,"MUST use a curve and point format supported by"]],[[[],0,"                          "],[[217,218],224,"the server."]],"",[[[],0,"      "],[[219],224,"rsa_fixed_dh        Diffie-Hellman public key; MUST use the same"]],[[[],0,"      "],[[219],224,"dss_fixed_dh        parameters as server's key."]],"",[[[],0,"      "],[[220,221],224,"rsa_fixed_ecdh      ECDH-capable public key; MUST use the"]],[[[],0,"      "],[[220,221],224,"ecdsa_fixed_ecdh    same curve as the server's key, and MUST use a"]],[[[],0,"                          "],[[220,221],224,"point format supported by the server."]],"",[[[],0,"   "],[[222],160,"-  If the certificate_authorities list in the certificate request"]],[[[],0,"      "],[[222],160,"message was non-empty, one of the certificates in the certificate"]],[[[],0,"      "],[[222],160,"chain SHOULD be issued by one of the listed CAs."]],"",[[[],0,"   "],[[223],224,"-  The certificates MUST be signed using an acceptable hash/"]],[[[],0,"      "],[[223],224,"signature algorithm pair, as described in Section 7.4.4."],[[],0,"  Note"]],"      that this relaxes the constraints on certificate-signing","      algorithms found in prior versions of TLS.","","   Note that, as with the server certificate, there are certificates","   that use algorithms/algorithm combinations that cannot be currently","   used with TLS."],"requirements":[210,211,212,213,214,215,216,217,218,219,220,221,222,223]},{"id":"section-7.4.7","title":"Client Key Exchange Message","lines":["   When this message will be sent:","",[[[],0,"      This message is always sent by the client.  "],[[234],224,"It MUST immediately"]],[[[],0,"      "],[[234],224,"follow the client certificate message, if it is sent."],[[],0,"  "],[[235],224,"Otherwise,"]],[[[],0,"      "],[[235],224,"it MUST be the first message sent by the client after it receives"]],[[[],0,"      "],[[235],224,"the ServerHelloDone message."]],"","   Meaning of this message:","","      With this message, the premaster secret is set, either by direct","      transmission of the RSA-encrypted secret or by the transmission of","      Diffie-Hellman parameters that will allow each side to agree upon","      the same premaster secret.","","      When the client is using an ephemeral Diffie-Hellman exponent,","      then this message contains the client's Diffie-Hellman public",[[[],0,"      value.  "],[[236,237],224,"If the client is sending a certificate containing a static"]],[[[],0,"      "],[[236,237],224,"DH exponent (i.e., it is doing fixed_dh client authentication),"]],[[[],0,"      "],[[236,237],224,"then this message MUST be sent but MUST be empty."]],"","   Structure of this message:","","      The choice of messages depends on which key exchange method has","      been selected.  See Section 7.4.3 for the KeyExchangeAlgorithm","      definition.","","      struct {","          select (KeyExchangeAlgorithm) {","              case rsa:","                  EncryptedPreMasterSecret;","              case dhe_dss:","              case dhe_rsa:","              case dh_dss:","              case dh_rsa:","              case dh_anon:","                  ClientDiffieHellmanPublic;","          } exchange_keys;","      } ClientKeyExchange;"],"requirements":[234,235,236,237]},{"id":"section-7.4.7.1","title":"RSA-Encrypted Premaster Secret Message","lines":["   Meaning of this message:","","      If RSA is being used for key agreement and authentication, the","      client generates a 48-byte premaster secret, encrypts it using the","      public key from the server's certificate, and sends the result in","      an encrypted premaster secret message.  This structure is a","      variant of the ClientKeyExchange message and is not a message in","      itself.","","   Structure of this message:","","      struct {","          ProtocolVersion client_version;","          opaque random[46];","      } PreMasterSecret;","","      client_version","         The latest (newest) version supported by the client.  This is","         used to detect version rollback attacks.","","      random","         46 securely-generated random bytes.","","      struct {","          public-key-encrypted PreMasterSecret pre_master_secret;","      } EncryptedPreMasterSecret;","","      pre_master_secret","         This random value is generated by the client and is used to","         generate the master secret, as specified in Section 8.1.","","   Note: The version number in the PreMasterSecret is the version","   offered by the client in the ClientHello.client_version, not the","   version negotiated for the connection.  This feature is designed to","   prevent rollback attacks.  Unfortunately, some old implementations","   use the negotiated version instead, and therefore checking the","   version number may lead to failure to interoperate with such","   incorrect client implementations.","",[[[],0,"   "],[[224],224,"Client implementations MUST always send the correct version number in"]],[[[],0,"   "],[[224],224,"PreMasterSecret."],[[],0,"  "],[[225],224,"If ClientHello.client_version is TLS 1.1 or higher,"]],[[[],0,"   "],[[225],224,"server implementations MUST check the version number as described in"]],[[[],0,"   "],[[225],224,"the note below."],[[],0,"  "],[[226],160,"If the version number is TLS 1.0 or earlier, server"]],[[[],0,"   "],[[226],160,"implementations SHOULD check the version number, but MAY have a"]],[[[],0,"   "],[[226],160,"configuration option to disable the check."],[[],0,"  "],[[227],160,"Note that if the check"]],[[[],0,"   "],[[227],160,"fails, the PreMasterSecret SHOULD be randomized as described below."]],"","   Note: Attacks discovered by Bleichenbacher [BLEI] and Klima et al.","   [KPR03] can be used to attack a TLS server that reveals whether a","   particular message, when decrypted, is properly PKCS#1 formatted,","   contains a valid PreMasterSecret structure, or has the correct","   version number.","","   As described by Klima [KPR03], these vulnerabilities can be avoided","   by treating incorrectly formatted message blocks and/or mismatched","   version numbers in a manner indistinguishable from correctly","   formatted RSA blocks.  In other words:","","      1. Generate a string R of 46 random bytes","","      2. Decrypt the message to recover the plaintext M","","      3. If the PKCS#1 padding is not correct, or the length of message","         M is not exactly 48 bytes:","            pre_master_secret = ClientHello.client_version || R","         else If ClientHello.client_version <= TLS 1.0, and version","         number check is explicitly disabled:","            pre_master_secret = M","         else:","            pre_master_secret = ClientHello.client_version || M[2..47]","","   Note that explicitly constructing the pre_master_secret with the","   ClientHello.client_version produces an invalid master_secret if the","   client has sent the wrong version in the original pre_master_secret.","","   An alternative approach is to treat a version number mismatch as a","   PKCS-1 formatting error and randomize the premaster secret","   completely:","","      1. Generate a string R of 48 random bytes","","      2. Decrypt the message to recover the plaintext M","","      3. If the PKCS#1 padding is not correct, or the length of message","         M is not exactly 48 bytes:","            pre_master_secret = R","         else If ClientHello.client_version <= TLS 1.0, and version","         number check is explicitly disabled:","            premaster secret = M","         else If M[0..1] != ClientHello.client_version:","            premaster secret = R","         else:","            premaster secret = M","","   Although no practical attacks against this construction are known,",[[[],0,"   Klima et al. "],[[228],160,"[KPR03] describe some theoretical attacks, and therefore"]],[[[],0,"   "],[[228],160,"the first construction described is RECOMMENDED."]],"",[[[],0,"   "],[[229],224,"In any case, a TLS server MUST NOT generate an alert if processing an"]],[[[],0,"   "],[[229],224,"RSA-encrypted premaster secret message fails, or the version number"]],[[[],0,"   "],[[229],224,"is not as expected."],[[],0,"  "],[[230],224,"Instead, it MUST continue the handshake with a"]],[[[],0,"   "],[[230],224,"randomly generated premaster secret."],[[],0,"  It may be useful to log the"]],"   real cause of failure for troubleshooting purposes; however, care","   must be taken to avoid leaking the information to an attacker","   (through, e.g., timing, log files, or other channels.)","","   The RSAES-OAEP encryption scheme defined in [PKCS1] is more secure","   against the Bleichenbacher attack.  However, for maximal","   compatibility with earlier versions of TLS, this specification uses","   the RSAES-PKCS1-v1_5 scheme.  No variants of the Bleichenbacher","   attack are known to exist provided that the above recommendations are","   followed.","","   Implementation note: Public-key-encrypted data is represented as an","   opaque vector <0..2^16-1> (see Section 4.7).  Thus, the RSA-encrypted","   PreMasterSecret in a ClientKeyExchange is preceded by two length","   bytes.  These bytes are redundant in the case of RSA because the","   EncryptedPreMasterSecret is the only data in the ClientKeyExchange","   and its length can therefore be unambiguously determined.  The SSLv3","   specification was not clear about the encoding of public-key-","   encrypted data, and therefore many SSLv3 implementations do not","   include the length bytes -- they encode the RSA-encrypted data","   directly in the ClientKeyExchange message.","","   This specification requires correct encoding of the","   EncryptedPreMasterSecret complete with length bytes.  The resulting","   PDU is incompatible with many SSLv3 implementations.  Implementors","",[[[],0,"   "],[[231],224,"upgrading from SSLv3 MUST modify their implementations to generate"]],[[[],0,"   "],[[231],224,"and accept the correct encoding."],[[],0,"  Implementors who wish to be"]],"   compatible with both SSLv3 and TLS should make their implementation's","   behavior dependent on the protocol version.","","   Implementation note: It is now known that remote timing-based attacks","   on TLS are possible, at least when the client and server are on the",[[[],0,"   same LAN.  "],[[232],224,"Accordingly, implementations that use static RSA keys MUST"]],[[[],0,"   "],[[232],224,"use RSA blinding or some other anti-timing technique, as described in"]],[[[],0,"   "],[[232],224,"[TIMING]."]]],"requirements":[224,225,226,227,228,229,230,231,232]},{"id":"section-7.4.7.2","title":"Client Diffie-Hellman Public Value","lines":["   Meaning of this message:","","      This structure conveys the client's Diffie-Hellman public value","      (Yc) if it was not already included in the client's certificate.","      The encoding used for Yc is determined by the enumerated","      PublicValueEncoding.  This structure is a variant of the client","      key exchange message, and not a message in itself.","","   Structure of this message:","","      enum { implicit, explicit } PublicValueEncoding;","","      implicit","         If the client has sent a certificate which contains a suitable","         Diffie-Hellman key (for fixed_dh client authentication), then",[[[],0,"         Yc is implicit and does not need to be sent again.  "],[[233],224,"In this"]],[[[],0,"         "],[[233],224,"case, the client key exchange message will be sent, but it MUST"]],[[[],0,"         "],[[233],224,"be empty."]],"","      explicit","         Yc needs to be sent.","","      struct {","          select (PublicValueEncoding) {","              case implicit: struct { };","              case explicit: opaque dh_Yc<1..2^16-1>;","          } dh_public;","      } ClientDiffieHellmanPublic;","","      dh_Yc","         The client's Diffie-Hellman public value (Yc)."],"requirements":[233]},{"id":"section-7.4.8","title":"Certificate Verify","lines":["   When this message will be sent:","","      This message is used to provide explicit verification of a client","      certificate.  This message is only sent following a client","      certificate that has signing capability (i.e., all certificates",[[[],0,"      except those containing fixed Diffie-Hellman parameters).  "],[[238],224,"When"]],[[[],0,"      "],[[238],224,"sent, it MUST immediately follow the client key exchange message."]],"","   Structure of this message:","","      struct {","           digitally-signed struct {","               opaque handshake_messages[handshake_messages_length];","           }","      } CertificateVerify;","","      Here handshake_messages refers to all handshake messages sent or","      received, starting at client hello and up to, but not including,","      this message, including the type and length fields of the","      handshake messages.  This is the concatenation of all the","      Handshake structures (as defined in Section 7.4) exchanged thus","      far.  Note that this requires both sides to either buffer the","      messages or compute running hashes for all potential hash","      algorithms up to the time of the CertificateVerify computation.","      Servers can minimize this computation cost by offering a","      restricted set of digest algorithms in the CertificateRequest","      message.","",[[[],0,"      "],[[239],224,"The hash and signature algorithms used in the signature MUST be"]],[[[],0,"      "],[[239],224,"one of those present in the supported_signature_algorithms field"]],[[[],0,"      "],[[239],224,"of the CertificateRequest message."],[[],0,"  "],[[240],224,"In addition, the hash and"]],[[[],0,"      "],[[240],224,"signature algorithms MUST be compatible with the key in the"]],[[[],0,"      "],[[240],224,"client's end-entity certificate."],[[],0,"  "],[[241],96,"RSA keys MAY be used with any"]],[[[],0,"      "],[[241],96,"permitted hash algorithm, subject to restrictions in the"]],[[[],0,"      "],[[241],96,"certificate, if any."]],"","      Because DSA signatures do not contain any secure indication of","      hash algorithm, there is a risk of hash substitution if multiple","      hashes may be used with any key.  Currently, DSA [DSS] may only be","      used with SHA-1.  Future revisions of DSS [DSS-3] are expected to","      allow the use of other digest algorithms with DSA, as well as","      guidance as to which digest algorithms should be used with each","      key size.  In addition, future revisions of [PKIX] may specify","      mechanisms for certificates to indicate which digest algorithms","      are to be used with DSA."],"requirements":[238,239,240,241]},{"id":"section-7.4.9","title":"Finished","lines":["   When this message will be sent:","","      A Finished message is always sent immediately after a change","      cipher spec message to verify that the key exchange and","      authentication processes were successful.  It is essential that a","      change cipher spec message be received between the other handshake","      messages and the Finished message.","","   Meaning of this message:","","      The Finished message is the first one protected with the just",[[[],0,"      negotiated algorithms, keys, and secrets.  "],[[242],224,"Recipients of Finished"]],[[[],0,"      "],[[242],224,"messages MUST verify that the contents are correct."],[[],0,"  Once a side"]],"      has sent its Finished message and received and validated the","      Finished message from its peer, it may begin to send and receive","      application data over the connection.","","   Structure of this message:","","      struct {","          opaque verify_data[verify_data_length];","      } Finished;","","      verify_data","         PRF(master_secret, finished_label, Hash(handshake_messages))","            [0..verify_data_length-1];","","      finished_label","         For Finished messages sent by the client, the string","         \"client finished\".  For Finished messages sent by the server,","         the string \"server finished\".","",[[[],0,"      Hash denotes a Hash of the handshake messages.  "],[[243],224,"For the PRF"]],[[[],0,"      "],[[243],224,"defined in Section 5, the Hash MUST be the Hash used as the basis"]],[[[],0,"      "],[[243],224,"for the PRF."],[[],0,"  "],[[244],224,"Any cipher suite which defines a different PRF MUST"]],[[[],0,"      "],[[244],224,"also define the Hash to use in the Finished computation."]],"","      In previous versions of TLS, the verify_data was always 12 octets","      long.  In the current version of TLS, it depends on the cipher","      suite.  Any cipher suite which does not explicitly specify","      verify_data_length has a verify_data_length equal to 12.  This","      includes all existing cipher suites.  Note that this","      representation has the same encoding as with previous versions.",[[[],0,"      "],[[245],224,"Future cipher suites MAY specify other lengths but such length"]],[[[],0,"      "],[[245],224,"MUST be at least 12 bytes."]],"","      handshake_messages","         All of the data from all messages in this handshake (not","         including any HelloRequest messages) up to, but not including,","         this message.  This is only data visible at the handshake layer","         and does not include record layer headers.  This is the","         concatenation of all the Handshake structures as defined in","         Section 7.4, exchanged thus far.","","   It is a fatal error if a Finished message is not preceded by a","   ChangeCipherSpec message at the appropriate point in the handshake.","","   The value handshake_messages includes all handshake messages starting","   at ClientHello up to, but not including, this Finished message.  This","   may be different from handshake_messages in Section 7.4.8 because it","   would include the CertificateVerify message (if sent).  Also, the","   handshake_messages for the Finished message sent by the client will","   be different from that for the Finished message sent by the server,","   because the one that is sent second will include the prior one.","","   Note: ChangeCipherSpec messages, alerts, and any other record types","   are not handshake messages and are not included in the hash","   computations.  Also, HelloRequest messages are omitted from handshake","   hashes."],"requirements":[242,243,244,245]},{"id":"section-8","title":"Cryptographic Computations","lines":["   In order to begin connection protection, the TLS Record Protocol","   requires specification of a suite of algorithms, a master secret, and","   the client and server random values.  The authentication, encryption,","   and MAC algorithms are determined by the cipher_suite selected by the","   server and revealed in the ServerHello message.  The compression","   algorithm is negotiated in the hello messages, and the random values","   are exchanged in the hello messages.  All that remains is to","   calculate the master secret."]},{"id":"section-8.1","title":"Computing the Master Secret","lines":["   For all key exchange methods, the same algorithm is used to convert","   the pre_master_secret into the master_secret.  The pre_master_secret","   should be deleted from memory once the master_secret has been","   computed.","","      master_secret = PRF(pre_master_secret, \"master secret\",","                          ClientHello.random + ServerHello.random)","                          [0..47];","","   The master secret is always exactly 48 bytes in length.  The length","   of the premaster secret will vary depending on key exchange method."]},{"id":"section-8.1.1","title":"RSA","lines":["   When RSA is used for server authentication and key exchange, a 48-","   byte pre_master_secret is generated by the client, encrypted under","   the server's public key, and sent to the server.  The server uses its","   private key to decrypt the pre_master_secret.  Both parties then","   convert the pre_master_secret into the master_secret, as specified","   above."]},{"id":"section-8.1.2","title":"Diffie-Hellman","lines":["   A conventional Diffie-Hellman computation is performed.  The","   negotiated key (Z) is used as the pre_master_secret, and is converted","   into the master_secret, as specified above.  Leading bytes of Z that","   contain all zero bits are stripped before it is used as the","   pre_master_secret.","","   Note: Diffie-Hellman parameters are specified by the server and may","   be either ephemeral or contained within the server's certificate."]},{"id":"section-9","title":"Mandatory Cipher Suites","lines":[[[[],0,"   "],[[248],224,"In the absence of an application profile standard specifying"]],[[[],0,"   "],[[248],224,"otherwise, a TLS-compliant application MUST implement the cipher"]],[[[],0,"   "],[[248],224,"suite TLS_RSA_WITH_AES_128_CBC_SHA (see Appendix A.5 for the"]],[[[],0,"   "],[[248],224,"definition)."]]],"requirements":[248]},{"id":"section-10","title":"Application Data Protocol","lines":["   Application data messages are carried by the record layer and are","   fragmented, compressed, and encrypted based on the current connection","   state.  The messages are treated as transparent data to the record","   layer."]},{"id":"section-11","title":"Security Considerations","lines":["   Security issues are discussed throughout this memo, especially in","   Appendices D, E, and F."]},{"id":"section-12","title":"IANA Considerations","lines":["   This document uses several registries that were originally created in","   [TLS1.1].  IANA has updated these to reference this document.  The","   registries and their allocation policies (unchanged from [TLS1.1])","   are listed below.","","   -  TLS ClientCertificateType Identifiers Registry: Future values in","      the range 0-63 (decimal) inclusive are assigned via Standards","      Action [RFC2434].  Values in the range 64-223 (decimal) inclusive","      are assigned via Specification Required [RFC2434].  Values from","      224-255 (decimal) inclusive are reserved for Private Use","      [RFC2434].","","   -  TLS Cipher Suite Registry: Future values with the first byte in","      the range 0-191 (decimal) inclusive are assigned via Standards","      Action [RFC2434].  Values with the first byte in the range 192-254","      (decimal) are assigned via Specification Required [RFC2434].","      Values with the first byte 255 (decimal) are reserved for Private","      Use [RFC2434].","","   -  This document defines several new HMAC-SHA256-based cipher suites,","      whose values (in Appendix A.5) have been allocated from the TLS","      Cipher Suite registry.","","   -  TLS ContentType Registry: Future values are allocated via","      Standards Action [RFC2434].","","   -  TLS Alert Registry: Future values are allocated via Standards","      Action [RFC2434].","","   -  TLS HandshakeType Registry: Future values are allocated via","      Standards Action [RFC2434].","","   This document also uses a registry originally created in [RFC4366].","   IANA has updated it to reference this document.  The registry and its","   allocation policy (unchanged from [RFC4366]) is listed below:","","   -  TLS ExtensionType Registry: Future values are allocated via IETF","      Consensus [RFC2434].  IANA has updated this registry to include","      the signature_algorithms extension and its corresponding value","      (see Section 7.4.1.4).","","   In addition, this document defines two new registries to be","   maintained by IANA:","","   -  TLS SignatureAlgorithm Registry: The registry has been initially","      populated with the values described in Section 7.4.1.4.1.  Future","      values in the range 0-63 (decimal) inclusive are assigned via","      Standards Action [RFC2434].  Values in the range 64-223 (decimal)","      inclusive are assigned via Specification Required [RFC2434].","      Values from 224-255 (decimal) inclusive are reserved for Private","      Use [RFC2434].","","   -  TLS HashAlgorithm Registry: The registry has been initially","      populated with the values described in Section 7.4.1.4.1.  Future","      values in the range 0-63 (decimal) inclusive are assigned via","      Standards Action [RFC2434].  Values in the range 64-223 (decimal)","      inclusive are assigned via Specification Required [RFC2434].","      Values from 224-255 (decimal) inclusive are reserved for Private","      Use [RFC2434].","","      This document also uses the TLS Compression Method Identifiers","      Registry, defined in [RFC3749].  IANA has allocated value 0 for","      the \"null\" compression method."]},{"id":"appendix-A","title":"Protocol Data Structures and Constant Values","lines":["   This section describes protocol types and constants."]},{"id":"appendix-A.1","title":"Record Layer","lines":["   struct {","       uint8 major;","       uint8 minor;","   } ProtocolVersion;","","   ProtocolVersion version = { 3, 3 };     /* TLS v1.2*/","","   enum {","       change_cipher_spec(20), alert(21), handshake(22),","       application_data(23), (255)","   } ContentType;","","   struct {","       ContentType type;","       ProtocolVersion version;","       uint16 length;","       opaque fragment[TLSPlaintext.length];","   } TLSPlaintext;","","   struct {","       ContentType type;","       ProtocolVersion version;","       uint16 length;","       opaque fragment[TLSCompressed.length];","   } TLSCompressed;","","   struct {","       ContentType type;","       ProtocolVersion version;","       uint16 length;","       select (SecurityParameters.cipher_type) {","           case stream: GenericStreamCipher;","           case block:  GenericBlockCipher;","           case aead:   GenericAEADCipher;","       } fragment;","   } TLSCiphertext;","","   stream-ciphered struct {","       opaque content[TLSCompressed.length];","       opaque MAC[SecurityParameters.mac_length];","   } GenericStreamCipher;","","   struct {","       opaque IV[SecurityParameters.record_iv_length];","       block-ciphered struct {","           opaque content[TLSCompressed.length];","           opaque MAC[SecurityParameters.mac_length];","           uint8 padding[GenericBlockCipher.padding_length];","           uint8 padding_length;","       };","   } GenericBlockCipher;","","   struct {","      opaque nonce_explicit[SecurityParameters.record_iv_length];","      aead-ciphered struct {","          opaque content[TLSCompressed.length];","      };","   } GenericAEADCipher;"]},{"id":"appendix-A.2","title":"Change Cipher Specs Message","lines":["   struct {","       enum { change_cipher_spec(1), (255) } type;","   } ChangeCipherSpec;"]},{"id":"appendix-A.3","title":"Alert Messages","lines":["   enum { warning(1), fatal(2), (255) } AlertLevel;","","   enum {","       close_notify(0),","       unexpected_message(10),","       bad_record_mac(20),","       decryption_failed_RESERVED(21),","       record_overflow(22),","       decompression_failure(30),","       handshake_failure(40),","       no_certificate_RESERVED(41),","       bad_certificate(42),","       unsupported_certificate(43),","       certificate_revoked(44),","       certificate_expired(45),","       certificate_unknown(46),","       illegal_parameter(47),","       unknown_ca(48),","       access_denied(49),","       decode_error(50),","       decrypt_error(51),","       export_restriction_RESERVED(60),","       protocol_version(70),","","       insufficient_security(71),","       internal_error(80),","       user_canceled(90),","       no_renegotiation(100),","       unsupported_extension(110),           /* new */","       (255)","   } AlertDescription;","","   struct {","       AlertLevel level;","       AlertDescription description;","   } Alert;"]},{"id":"appendix-A.4","title":"Handshake Protocol","lines":["   enum {","       hello_request(0), client_hello(1), server_hello(2),","       certificate(11), server_key_exchange (12),","       certificate_request(13), server_hello_done(14),","       certificate_verify(15), client_key_exchange(16),","       finished(20)","       (255)","   } HandshakeType;","","   struct {","       HandshakeType msg_type;","       uint24 length;","       select (HandshakeType) {","           case hello_request:       HelloRequest;","           case client_hello:        ClientHello;","           case server_hello:        ServerHello;","           case certificate:         Certificate;","           case server_key_exchange: ServerKeyExchange;","           case certificate_request: CertificateRequest;","           case server_hello_done:   ServerHelloDone;","           case certificate_verify:  CertificateVerify;","           case client_key_exchange: ClientKeyExchange;","           case finished:            Finished;","       } body;","   } Handshake;"]},{"id":"appendix-A.4.1","title":"Hello Messages","lines":["   struct { } HelloRequest;","","   struct {","       uint32 gmt_unix_time;","       opaque random_bytes[28];","   } Random;","","   opaque SessionID<0..32>;","","   uint8 CipherSuite[2];","","   enum { null(0), (255) } CompressionMethod;","","   struct {","       ProtocolVersion client_version;","       Random random;","       SessionID session_id;","       CipherSuite cipher_suites<2..2^16-2>;","       CompressionMethod compression_methods<1..2^8-1>;","       select (extensions_present) {","           case false:","               struct {};","           case true:","               Extension extensions<0..2^16-1>;","       };","   } ClientHello;","","   struct {","       ProtocolVersion server_version;","       Random random;","       SessionID session_id;","       CipherSuite cipher_suite;","       CompressionMethod compression_method;","       select (extensions_present) {","           case false:","               struct {};","           case true:","               Extension extensions<0..2^16-1>;","       };","   } ServerHello;","","   struct {","       ExtensionType extension_type;","       opaque extension_data<0..2^16-1>;","   } Extension;","","   enum {","       signature_algorithms(13), (65535)","   } ExtensionType;","","   enum{","       none(0), md5(1), sha1(2), sha224(3), sha256(4), sha384(5),","       sha512(6), (255)","   } HashAlgorithm;","   enum {","      anonymous(0), rsa(1), dsa(2), ecdsa(3), (255)","   } SignatureAlgorithm;","","   struct {","         HashAlgorithm hash;","         SignatureAlgorithm signature;","   } SignatureAndHashAlgorithm;","","   SignatureAndHashAlgorithm","    supported_signature_algorithms<2..2^16-1>;"]},{"id":"appendix-A.4.2","title":"Server Authentication and Key Exchange Messages","lines":["   opaque ASN.1Cert<2^24-1>;","","   struct {","       ASN.1Cert certificate_list<0..2^24-1>;","   } Certificate;","","   enum { dhe_dss, dhe_rsa, dh_anon, rsa,dh_dss, dh_rsa","          /* may be extended, e.g., for ECDH -- see [TLSECC] */","        } KeyExchangeAlgorithm;","","   struct {","       opaque dh_p<1..2^16-1>;","       opaque dh_g<1..2^16-1>;","       opaque dh_Ys<1..2^16-1>;","   } ServerDHParams;     /* Ephemeral DH parameters */","","   struct {","       select (KeyExchangeAlgorithm) {","           case dh_anon:","               ServerDHParams params;","           case dhe_dss:","           case dhe_rsa:","               ServerDHParams params;","               digitally-signed struct {","                   opaque client_random[32];","                   opaque server_random[32];","                   ServerDHParams params;","               } signed_params;","           case rsa:","           case dh_dss:","           case dh_rsa:","               struct {} ;","              /* message is omitted for rsa, dh_dss, and dh_rsa */","           /* may be extended, e.g., for ECDH -- see [TLSECC] */","   } ServerKeyExchange;","","   enum {","       rsa_sign(1), dss_sign(2), rsa_fixed_dh(3), dss_fixed_dh(4),","       rsa_ephemeral_dh_RESERVED(5), dss_ephemeral_dh_RESERVED(6),","       fortezza_dms_RESERVED(20),","       (255)","   } ClientCertificateType;","","   opaque DistinguishedName<1..2^16-1>;","","   struct {","       ClientCertificateType certificate_types<1..2^8-1>;","       DistinguishedName certificate_authorities<0..2^16-1>;","   } CertificateRequest;","","   struct { } ServerHelloDone;"]},{"id":"appendix-A.4.3","title":"Client Authentication and Key Exchange Messages","lines":["   struct {","       select (KeyExchangeAlgorithm) {","           case rsa:","               EncryptedPreMasterSecret;","           case dhe_dss:","           case dhe_rsa:","           case dh_dss:","           case dh_rsa:","           case dh_anon:","               ClientDiffieHellmanPublic;","       } exchange_keys;","   } ClientKeyExchange;","","   struct {","       ProtocolVersion client_version;","       opaque random[46];","   } PreMasterSecret;","","   struct {","       public-key-encrypted PreMasterSecret pre_master_secret;","   } EncryptedPreMasterSecret;","","   enum { implicit, explicit } PublicValueEncoding;","","   struct {","       select (PublicValueEncoding) {","           case implicit: struct {};","           case explicit: opaque DH_Yc<1..2^16-1>;","       } dh_public;","   } ClientDiffieHellmanPublic;","","   struct {","        digitally-signed struct {","            opaque handshake_messages[handshake_messages_length];","        }","   } CertificateVerify;"]},{"id":"appendix-A.4.4","title":"Handshake Finalization Message","lines":["   struct {","       opaque verify_data[verify_data_length];","   } Finished;"]},{"id":"appendix-A.5","title":"The Cipher Suite","lines":["   The following values define the cipher suite codes used in the","   ClientHello and ServerHello messages.","","   A cipher suite defines a cipher specification supported in TLS","   Version 1.2.","",[[[],0,"   "],[[59],224,"TLS_NULL_WITH_NULL_NULL is specified and is the initial state of a"]],[[[],0,"   "],[[59],224,"TLS connection during the first handshake on that channel, but MUST"]],[[[],0,"   "],[[59],224,"NOT be negotiated, as it provides no more protection than an"]],[[[],0,"   "],[[59],224,"unsecured connection."]],"","      CipherSuite TLS_NULL_WITH_NULL_NULL               = { 0x00,0x00 };","","   The following CipherSuite definitions require that the server provide","   an RSA certificate that can be used for key exchange.  The server may","   request any signature-capable certificate in the certificate request","   message.","","      CipherSuite TLS_RSA_WITH_NULL_MD5                 = { 0x00,0x01 };","      CipherSuite TLS_RSA_WITH_NULL_SHA                 = { 0x00,0x02 };","      CipherSuite TLS_RSA_WITH_NULL_SHA256              = { 0x00,0x3B };","      CipherSuite TLS_RSA_WITH_RC4_128_MD5              = { 0x00,0x04 };","      CipherSuite TLS_RSA_WITH_RC4_128_SHA              = { 0x00,0x05 };","      CipherSuite TLS_RSA_WITH_3DES_EDE_CBC_SHA         = { 0x00,0x0A };","      CipherSuite TLS_RSA_WITH_AES_128_CBC_SHA          = { 0x00,0x2F };","      CipherSuite TLS_RSA_WITH_AES_256_CBC_SHA          = { 0x00,0x35 };","      CipherSuite TLS_RSA_WITH_AES_128_CBC_SHA256       = { 0x00,0x3C };","      CipherSuite TLS_RSA_WITH_AES_256_CBC_SHA256       = { 0x00,0x3D };","","   The following cipher suite definitions are used for server-","   authenticated (and optionally client-authenticated) Diffie-Hellman.","   DH denotes cipher suites in which the server's certificate contains","   the Diffie-Hellman parameters signed by the certificate authority","   (CA).  DHE denotes ephemeral Diffie-Hellman, where the Diffie-Hellman","   parameters are signed by a signature-capable certificate, which has","   been signed by the CA.  The signing algorithm used by the server is","   specified after the DHE component of the CipherSuite name.  The","   server can request any signature-capable certificate from the client","   for client authentication, or it may request a Diffie-Hellman","   certificate.  Any Diffie-Hellman certificate provided by the client","   must use the parameters (group and generator) described by the","   server.","","      CipherSuite TLS_DH_DSS_WITH_3DES_EDE_CBC_SHA      = { 0x00,0x0D };","      CipherSuite TLS_DH_RSA_WITH_3DES_EDE_CBC_SHA      = { 0x00,0x10 };","      CipherSuite TLS_DHE_DSS_WITH_3DES_EDE_CBC_SHA     = { 0x00,0x13 };","      CipherSuite TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA     = { 0x00,0x16 };","      CipherSuite TLS_DH_DSS_WITH_AES_128_CBC_SHA       = { 0x00,0x30 };","      CipherSuite TLS_DH_RSA_WITH_AES_128_CBC_SHA       = { 0x00,0x31 };","      CipherSuite TLS_DHE_DSS_WITH_AES_128_CBC_SHA      = { 0x00,0x32 };","      CipherSuite TLS_DHE_RSA_WITH_AES_128_CBC_SHA      = { 0x00,0x33 };","      CipherSuite TLS_DH_DSS_WITH_AES_256_CBC_SHA       = { 0x00,0x36 };","      CipherSuite TLS_DH_RSA_WITH_AES_256_CBC_SHA       = { 0x00,0x37 };","      CipherSuite TLS_DHE_DSS_WITH_AES_256_CBC_SHA      = { 0x00,0x38 };","      CipherSuite TLS_DHE_RSA_WITH_AES_256_CBC_SHA      = { 0x00,0x39 };","      CipherSuite TLS_DH_DSS_WITH_AES_128_CBC_SHA256    = { 0x00,0x3E };","      CipherSuite TLS_DH_RSA_WITH_AES_128_CBC_SHA256    = { 0x00,0x3F };","      CipherSuite TLS_DHE_DSS_WITH_AES_128_CBC_SHA256   = { 0x00,0x40 };","      CipherSuite TLS_DHE_RSA_WITH_AES_128_CBC_SHA256   = { 0x00,0x67 };","      CipherSuite TLS_DH_DSS_WITH_AES_256_CBC_SHA256    = { 0x00,0x68 };","      CipherSuite TLS_DH_RSA_WITH_AES_256_CBC_SHA256    = { 0x00,0x69 };","      CipherSuite TLS_DHE_DSS_WITH_AES_256_CBC_SHA256   = { 0x00,0x6A };","      CipherSuite TLS_DHE_RSA_WITH_AES_256_CBC_SHA256   = { 0x00,0x6B };","","   The following cipher suites are used for completely anonymous","   Diffie-Hellman communications in which neither party is","   authenticated.  Note that this mode is vulnerable to man-in-the-",[[[],0,"   middle attacks.  "],[[60],224,"Using this mode therefore is of limited use: These"]],[[[],0,"   "],[[60],224,"cipher suites MUST NOT be used by TLS 1.2 implementations unless the"]],[[[],0,"   "],[[60],224,"application layer has specifically requested to allow anonymous key"]],[[[],0,"   "],[[60],224,"exchange."],[[],0,"  (Anonymous key exchange may sometimes be acceptable, for"]],"   example, to support opportunistic encryption when no set-up for","   authentication is in place, or when TLS is used as part of more","   complex security protocols that have other means to ensure","   authentication.)","","      CipherSuite TLS_DH_anon_WITH_RC4_128_MD5          = { 0x00,0x18 };","      CipherSuite TLS_DH_anon_WITH_3DES_EDE_CBC_SHA     = { 0x00,0x1B };","      CipherSuite TLS_DH_anon_WITH_AES_128_CBC_SHA      = { 0x00,0x34 };","      CipherSuite TLS_DH_anon_WITH_AES_256_CBC_SHA      = { 0x00,0x3A };","      CipherSuite TLS_DH_anon_WITH_AES_128_CBC_SHA256   = { 0x00,0x6C };","      CipherSuite TLS_DH_anon_WITH_AES_256_CBC_SHA256   = { 0x00,0x6D };","","   Note that using non-anonymous key exchange without actually verifying","   the key exchange is essentially equivalent to anonymous key exchange,","   and the same precautions apply.  While non-anonymous key exchange","   will generally involve a higher computational and communicational","   cost than anonymous key exchange, it may be in the interest of","   interoperability not to disable non-anonymous key exchange when the","   application layer is allowing anonymous key exchange.","","   New cipher suite values have been assigned by IANA as described in","   Section 12.","","   Note: The cipher suite values { 0x00, 0x1C } and { 0x00, 0x1D } are","   reserved to avoid collision with Fortezza-based cipher suites in","   SSL 3."],"requirements":[59,60]},{"id":"appendix-A.6","title":"The Security Parameters","lines":["   These security parameters are determined by the TLS Handshake","   Protocol and provided as parameters to the TLS record layer in order","   to initialize a connection state.  SecurityParameters includes:","","   enum { null(0), (255) } CompressionMethod;","","   enum { server, client } ConnectionEnd;","","   enum { tls_prf_sha256 } PRFAlgorithm;","","   enum { null, rc4, 3des, aes } BulkCipherAlgorithm;","","   enum { stream, block, aead } CipherType;","","   enum { null, hmac_md5, hmac_sha1, hmac_sha256, hmac_sha384,","     hmac_sha512} MACAlgorithm;","","   /* Other values may be added to the algorithms specified in","   CompressionMethod, PRFAlgorithm, BulkCipherAlgorithm, and","   MACAlgorithm. */","","   struct {","       ConnectionEnd          entity;","       PRFAlgorithm           prf_algorithm;","       BulkCipherAlgorithm    bulk_cipher_algorithm;","       CipherType             cipher_type;","       uint8                  enc_key_length;","       uint8                  block_length;","       uint8                  fixed_iv_length;","       uint8                  record_iv_length;","       MACAlgorithm           mac_algorithm;","       uint8                  mac_length;","       uint8                  mac_key_length;","       CompressionMethod      compression_algorithm;","       opaque                 master_secret[48];","       opaque                 client_random[32];","       opaque                 server_random[32];","   } SecurityParameters;"]},{"id":"appendix-A.7","title":"Changes to RFC 4492","lines":["   RFC 4492 [TLSECC] adds Elliptic Curve cipher suites to TLS.  This","   document changes some of the structures used in that document.  This","   section details the required changes for implementors of both RFC","   4492 and TLS 1.2.  Implementors of TLS 1.2 who are not implementing","   RFC 4492 do not need to read this section.","","   This document adds a \"signature_algorithm\" field to the digitally-","   signed element in order to identify the signature and digest","   algorithms used to create a signature.  This change applies to","   digital signatures formed using ECDSA as well, thus allowing ECDSA","   signatures to be used with digest algorithms other than SHA-1,","   provided such use is compatible with the certificate and any","   restrictions imposed by future revisions of [PKIX].","","   As described in Sections 7.4.2 and 7.4.6, the restrictions on the","   signature algorithms used to sign certificates are no longer tied to","   the cipher suite (when used by the server) or the","   ClientCertificateType (when used by the client).  Thus, the","   restrictions on the algorithm used to sign certificates specified in","   Sections 2 and 3 of RFC 4492 are also relaxed.  As in this document,","   the restrictions on the keys in the end-entity certificate remain."]},{"id":"appendix-B","title":"Glossary","lines":["   Advanced Encryption Standard (AES)","      AES [AES] is a widely used symmetric encryption algorithm.  AES is","      a block cipher with a 128-, 192-, or 256-bit keys and a 16-byte","      block size.  TLS currently only supports the 128- and 256-bit key","      sizes.","","   application protocol","      An application protocol is a protocol that normally layers","      directly on top of the transport layer (e.g., TCP/IP).  Examples","      include HTTP, TELNET, FTP, and SMTP.","","   asymmetric cipher","      See public key cryptography.","","   authenticated encryption with additional data (AEAD)","      A symmetric encryption algorithm that simultaneously provides","      confidentiality and message integrity.","","   authentication","      Authentication is the ability of one entity to determine the","      identity of another entity.","","   block cipher","      A block cipher is an algorithm that operates on plaintext in","      groups of bits, called blocks.  64 bits was, and 128 bits is, a","      common block size.","","   bulk cipher","      A symmetric encryption algorithm used to encrypt large quantities","      of data.","","   cipher block chaining (CBC)","      CBC is a mode in which every plaintext block encrypted with a","      block cipher is first exclusive-ORed with the previous ciphertext","      block (or, in the case of the first block, with the initialization","      vector).  For decryption, every block is first decrypted, then","      exclusive-ORed with the previous ciphertext block (or IV).","","   certificate","      As part of the X.509 protocol (a.k.a. ISO Authentication","      framework), certificates are assigned by a trusted Certificate","      Authority and provide a strong binding between a party's identity","      or some other attributes and its public key.","","   client","      The application entity that initiates a TLS connection to a","      server.  This may or may not imply that the client initiated the","      underlying transport connection.  The primary operational","      difference between the server and client is that the server is","      generally authenticated, while the client is only optionally","      authenticated.","","   client write key","      The key used to encrypt data written by the client.","","   client write MAC key","      The secret data used to authenticate data written by the client.","","   connection","      A connection is a transport (in the OSI layering model definition)","      that provides a suitable type of service.  For TLS, such","      connections are peer-to-peer relationships.  The connections are","      transient.  Every connection is associated with one session.","","   Data Encryption Standard","      DES [DES] still is a very widely used symmetric encryption","      algorithm although it is considered as rather weak now.  DES is a","      block cipher with a 56-bit key and an 8-byte block size.  Note","      that in TLS, for key generation purposes, DES is treated as having","      an 8-byte key length (64 bits), but it still only provides 56 bits","","      of protection.  (The low bit of each key byte is presumed to be","      set to produce odd parity in that key byte.)  DES can also be","      operated in a mode [3DES] where three independent keys and three","      encryptions are used for each block of data; this uses 168 bits of","      key (24 bytes in the TLS key generation method) and provides the","      equivalent of 112 bits of security.","","   Digital Signature Standard (DSS)","      A standard for digital signing, including the Digital Signing","      Algorithm, approved by the National Institute of Standards and","      Technology, defined in NIST FIPS PUB 186-2, \"Digital Signature","      Standard\", published January 2000 by the U.S. Department of","      Commerce [DSS].  A significant update [DSS-3] has been drafted and","      was published in March 2006.","","   digital signatures","      Digital signatures utilize public key cryptography and one-way","      hash functions to produce a signature of the data that can be","      authenticated, and is difficult to forge or repudiate.","","   handshake An initial negotiation between client and server that","      establishes the parameters of their transactions.","","   Initialization Vector (IV)","      When a block cipher is used in CBC mode, the initialization vector","      is exclusive-ORed with the first plaintext block prior to","      encryption.","","   Message Authentication Code (MAC)","      A Message Authentication Code is a one-way hash computed from a","      message and some secret data.  It is difficult to forge without","      knowing the secret data.  Its purpose is to detect if the message","      has been altered.","","   master secret","      Secure secret data used for generating encryption keys, MAC","      secrets, and IVs.","","   MD5","      MD5 [MD5] is a hashing function that converts an arbitrarily long","      data stream into a hash of fixed size (16 bytes).  Due to","      significant progress in cryptanalysis, at the time of publication","      of this document, MD5 no longer can be considered a 'secure'","      hashing function.","","   public key cryptography","      A class of cryptographic techniques employing two-key ciphers.","      Messages encrypted with the public key can only be decrypted with","      the associated private key.  Conversely, messages signed with the","      private key can be verified with the public key.","","   one-way hash function","      A one-way transformation that converts an arbitrary amount of data","      into a fixed-length hash.  It is computationally hard to reverse","      the transformation or to find collisions.  MD5 and SHA are","      examples of one-way hash functions.","","   RC4","      A stream cipher invented by Ron Rivest.  A compatible cipher is","      described in [SCH].","","   RSA","      A very widely used public key algorithm that can be used for","      either encryption or digital signing.  [RSA]","","   server","      The server is the application entity that responds to requests for","      connections from clients.  See also \"client\".","","   session","      A TLS session is an association between a client and a server.","      Sessions are created by the handshake protocol.  Sessions define a","      set of cryptographic security parameters that can be shared among","      multiple connections.  Sessions are used to avoid the expensive","      negotiation of new security parameters for each connection.","","   session identifier","      A session identifier is a value generated by a server that","      identifies a particular session.","","   server write key","      The key used to encrypt data written by the server.","","   server write MAC key","      The secret data used to authenticate data written by the server.","","   SHA","      The Secure Hash Algorithm [SHS] is defined in FIPS PUB 180-2.  It","      produces a 20-byte output.  Note that all references to SHA","      (without a numerical suffix) actually use the modified SHA-1","      algorithm.","","   SHA-256","      The 256-bit Secure Hash Algorithm is defined in FIPS PUB 180-2.","      It produces a 32-byte output.","","   SSL","      Netscape's Secure Socket Layer protocol [SSL3].  TLS is based on","      SSL Version 3.0.","","   stream cipher","      An encryption algorithm that converts a key into a","      cryptographically strong keystream, which is then exclusive-ORed","      with the plaintext.","","   symmetric cipher","      See bulk cipher.","","   Transport Layer Security (TLS)","      This protocol; also, the Transport Layer Security working group of","      the Internet Engineering Task Force (IETF).  See \"Working Group","      Information\" at the end of this document (see page 99)."]},{"id":"appendix-C","title":"Cipher Suite Definitions","lines":["Cipher Suite                            Key        Cipher         Mac","                                        Exchange","","TLS_NULL_WITH_NULL_NULL                 NULL         NULL         NULL","TLS_RSA_WITH_NULL_MD5                   RSA          NULL         MD5","TLS_RSA_WITH_NULL_SHA                   RSA          NULL         SHA","TLS_RSA_WITH_NULL_SHA256                RSA          NULL         SHA256","TLS_RSA_WITH_RC4_128_MD5                RSA          RC4_128      MD5","TLS_RSA_WITH_RC4_128_SHA                RSA          RC4_128      SHA","TLS_RSA_WITH_3DES_EDE_CBC_SHA           RSA          3DES_EDE_CBC SHA","TLS_RSA_WITH_AES_128_CBC_SHA            RSA          AES_128_CBC  SHA","TLS_RSA_WITH_AES_256_CBC_SHA            RSA          AES_256_CBC  SHA","TLS_RSA_WITH_AES_128_CBC_SHA256         RSA          AES_128_CBC  SHA256","TLS_RSA_WITH_AES_256_CBC_SHA256         RSA          AES_256_CBC  SHA256","TLS_DH_DSS_WITH_3DES_EDE_CBC_SHA        DH_DSS       3DES_EDE_CBC SHA","TLS_DH_RSA_WITH_3DES_EDE_CBC_SHA        DH_RSA       3DES_EDE_CBC SHA","TLS_DHE_DSS_WITH_3DES_EDE_CBC_SHA       DHE_DSS      3DES_EDE_CBC SHA","TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA       DHE_RSA      3DES_EDE_CBC SHA","TLS_DH_anon_WITH_RC4_128_MD5            DH_anon      RC4_128      MD5","TLS_DH_anon_WITH_3DES_EDE_CBC_SHA       DH_anon      3DES_EDE_CBC SHA","TLS_DH_DSS_WITH_AES_128_CBC_SHA         DH_DSS       AES_128_CBC  SHA","TLS_DH_RSA_WITH_AES_128_CBC_SHA         DH_RSA       AES_128_CBC  SHA","TLS_DHE_DSS_WITH_AES_128_CBC_SHA        DHE_DSS      AES_128_CBC  SHA","TLS_DHE_RSA_WITH_AES_128_CBC_SHA        DHE_RSA      AES_128_CBC  SHA","TLS_DH_anon_WITH_AES_128_CBC_SHA        DH_anon      AES_128_CBC  SHA","TLS_DH_DSS_WITH_AES_256_CBC_SHA         DH_DSS       AES_256_CBC  SHA","TLS_DH_RSA_WITH_AES_256_CBC_SHA         DH_RSA       AES_256_CBC  SHA","TLS_DHE_DSS_WITH_AES_256_CBC_SHA        DHE_DSS      AES_256_CBC  SHA","TLS_DHE_RSA_WITH_AES_256_CBC_SHA        DHE_RSA      AES_256_CBC  SHA","TLS_DH_anon_WITH_AES_256_CBC_SHA        DH_anon      AES_256_CBC  SHA","TLS_DH_DSS_WITH_AES_128_CBC_SHA256      DH_DSS       AES_128_CBC  SHA256","TLS_DH_RSA_WITH_AES_128_CBC_SHA256      DH_RSA       AES_128_CBC  SHA256","TLS_DHE_DSS_WITH_AES_128_CBC_SHA256     DHE_DSS      AES_128_CBC  SHA256","TLS_DHE_RSA_WITH_AES_128_CBC_SHA256     DHE_RSA      AES_128_CBC  SHA256","TLS_DH_anon_WITH_AES_128_CBC_SHA256     DH_anon      AES_128_CBC  SHA256","TLS_DH_DSS_WITH_AES_256_CBC_SHA256      DH_DSS       AES_256_CBC  SHA256","TLS_DH_RSA_WITH_AES_256_CBC_SHA256      DH_RSA       AES_256_CBC  SHA256","TLS_DHE_DSS_WITH_AES_256_CBC_SHA256     DHE_DSS      AES_256_CBC  SHA256","TLS_DHE_RSA_WITH_AES_256_CBC_SHA256     DHE_RSA      AES_256_CBC  SHA256","TLS_DH_anon_WITH_AES_256_CBC_SHA256     DH_anon      AES_256_CBC  SHA256","","                        Key      IV   Block","Cipher        Type    Material  Size  Size","------------  ------  --------  ----  -----","NULL          Stream      0       0    N/A","RC4_128       Stream     16       0    N/A","3DES_EDE_CBC  Block      24       8      8","AES_128_CBC   Block      16      16     16","AES_256_CBC   Block      32      16     16","","MAC       Algorithm    mac_length  mac_key_length","--------  -----------  ----------  --------------","NULL      N/A              0             0","MD5       HMAC-MD5        16            16","SHA       HMAC-SHA1       20            20","SHA256    HMAC-SHA256     32            32","","   Type","      Indicates whether this is a stream cipher or a block cipher","      running in CBC mode.","","   Key Material","      The number of bytes from the key_block that are used for","      generating the write keys.","","   IV Size","      The amount of data needed to be generated for the initialization","      vector.  Zero for stream ciphers; equal to the block size for","      block ciphers (this is equal to","      SecurityParameters.record_iv_length).","","   Block Size","      The amount of data a block cipher enciphers in one chunk; a block","      cipher running in CBC mode can only encrypt an even multiple of","      its block size."]},{"id":"appendix-D","title":"Implementation Notes","lines":["   The TLS protocol cannot prevent many common security mistakes.  This","   section provides several recommendations to assist implementors."]},{"id":"appendix-D.1","title":"Random Number Generation and Seeding","lines":["   TLS requires a cryptographically secure pseudorandom number generator","   (PRNG).  Care must be taken in designing and seeding PRNGs.  PRNGs","   based on secure hash operations, most notably SHA-1, are acceptable,","   but cannot provide more security than the size of the random number","   generator state.","","   To estimate the amount of seed material being produced, add the","   number of bits of unpredictable information in each seed byte.  For","   example, keystroke timing values taken from a PC compatible's 18.2 Hz","   timer provide 1 or 2 secure bits each, even though the total size of","   the counter value is 16 bits or more.  Seeding a 128-bit PRNG would","   thus require approximately 100 such timer values.","","   [RANDOM] provides guidance on the generation of random values."]},{"id":"appendix-D.2","title":"Certificates and Authentication","lines":["   Implementations are responsible for verifying the integrity of","   certificates and should generally support certificate revocation","   messages.  Certificates should always be verified to ensure proper","   signing by a trusted Certificate Authority (CA).  The selection and","   addition of trusted CAs should be done very carefully.  Users should","   be able to view information about the certificate and root CA."]},{"id":"appendix-D.3","title":"Cipher Suites","lines":["   TLS supports a range of key sizes and security levels, including some","   that provide no or minimal security.  A proper implementation will","   probably not support many cipher suites.  For instance, anonymous","   Diffie-Hellman is strongly discouraged because it cannot prevent man-","   in-the-middle attacks.  Applications should also enforce minimum and","   maximum key sizes.  For example, certificate chains containing 512-","   bit RSA keys or signatures are not appropriate for high-security","   applications."]},{"id":"appendix-D.4","title":"Implementation Pitfalls","lines":["   Implementation experience has shown that certain parts of earlier TLS","   specifications are not easy to understand, and have been a source of","   interoperability and security problems.  Many of these areas have","","   been clarified in this document, but this appendix contains a short","   list of the most important things that require special attention from","   implementors.","","   TLS protocol issues:","","   -  Do you correctly handle handshake messages that are fragmented to","      multiple TLS records (see Section 6.2.1)? Including corner cases","      like a ClientHello that is split to several small fragments? Do","      you fragment handshake messages that exceed the maximum fragment","      size? In particular, the certificate and certificate request","      handshake messages can be large enough to require fragmentation.","","   -  Do you ignore the TLS record layer version number in all TLS","      records before ServerHello (see Appendix E.1)?","","   -  Do you handle TLS extensions in ClientHello correctly, including","      omitting the extensions field completely?","","   -  Do you support renegotiation, both client and server initiated?","      While renegotiation is an optional feature, supporting it is","      highly recommended.","","   -  When the server has requested a client certificate, but no","      suitable certificate is available, do you correctly send an empty","      Certificate message, instead of omitting the whole message (see","      Section 7.4.6)?","","   Cryptographic details:","","   -  In the RSA-encrypted Premaster Secret, do you correctly send and","      verify the version number? When an error is encountered, do you","      continue the handshake to avoid the Bleichenbacher attack (see","      Section 7.4.7.1)?","","   -  What countermeasures do you use to prevent timing attacks against","      RSA decryption and signing operations (see Section 7.4.7.1)?","","   -  When verifying RSA signatures, do you accept both NULL and missing","      parameters (see Section 4.7)? Do you verify that the RSA padding","      doesn't have additional data after the hash value?  [FI06]","","   -  When using Diffie-Hellman key exchange, do you correctly strip","      leading zero bytes from the negotiated key (see Section 8.1.2)?","","   -  Does your TLS client check that the Diffie-Hellman parameters sent","      by the server are acceptable (see Section F.1.1.3)?","","   -  How do you generate unpredictable IVs for CBC mode ciphers (see","      Section 6.2.3.2)?","","   -  Do you accept long CBC mode padding (up to 255 bytes; see Section","      6.2.3.2)?","","   -  How do you address CBC mode timing attacks (Section 6.2.3.2)?","","   -  Do you use a strong and, most importantly, properly seeded random","      number generator (see Appendix D.1) for generating the premaster","      secret (for RSA key exchange), Diffie-Hellman private values, the","      DSA \"k\" parameter, and other security-critical values?"]},{"id":"appendix-E","title":"Backward Compatibility","lines":[]},{"id":"appendix-E.1","title":"Compatibility with TLS 1.0/1.1 and SSL 3.0","lines":["   Since there are various versions of TLS (1.0, 1.1, 1.2, and any","   future versions) and SSL (2.0 and 3.0), means are needed to negotiate","   the specific protocol version to use.  The TLS protocol provides a","   built-in mechanism for version negotiation so as not to bother other","   protocol components with the complexities of version selection.","","   TLS versions 1.0, 1.1, and 1.2, and SSL 3.0 are very similar, and use","   compatible ClientHello messages; thus, supporting all of them is","   relatively easy.  Similarly, servers can easily handle clients trying","   to use future versions of TLS as long as the ClientHello format","   remains compatible, and the client supports the highest protocol","   version available in the server.","","   A TLS 1.2 client who wishes to negotiate with such older servers will","   send a normal TLS 1.2 ClientHello, containing { 3, 3 } (TLS 1.2) in","   ClientHello.client_version.  If the server does not support this","   version, it will respond with a ServerHello containing an older","   version number.  If the client agrees to use this version, the","   negotiation will proceed as appropriate for the negotiated protocol.","",[[[],0,"   "],[[61],224,"If the version chosen by the server is not supported by the client"]],[[[],0,"   "],[[61],224,"(or not acceptable), the client MUST send a \"protocol_version\" alert"]],[[[],0,"   "],[[61],224,"message and close the connection."]],"",[[[],0,"   "],[[62],224,"If a TLS server receives a ClientHello containing a version number"]],[[[],0,"   "],[[62],224,"greater than the highest version supported by the server, it MUST"]],[[[],0,"   "],[[62],224,"reply according to the highest version supported by the server."]],"","   A TLS server can also receive a ClientHello containing a version","   number smaller than the highest supported version.  If the server","   wishes to negotiate with old clients, it will proceed as appropriate","","   for the highest version supported by the server that is not greater","   than ClientHello.client_version.  For example, if the server supports","   TLS 1.0, 1.1, and 1.2, and client_version is TLS 1.0, the server will",[[[],0,"   proceed with a TLS 1.0 ServerHello.  "],[[63],224,"If server supports (or is"]],[[[],0,"   "],[[63],224,"willing to use) only versions greater than client_version, it MUST"]],[[[],0,"   "],[[63],224,"send a \"protocol_version\" alert message and close the connection."]],"",[[[],0,"   "],[[64],160,"Whenever a client already knows the highest protocol version known to"]],[[[],0,"   "],[[64],160,"a server (for example, when resuming a session), it SHOULD initiate"]],[[[],0,"   "],[[64],160,"the connection in that native protocol."]],"","   Note: some server implementations are known to implement version","   negotiation incorrectly.  For example, there are buggy TLS 1.0","   servers that simply close the connection when the client offers a","   version newer than TLS 1.0.  Also, it is known that some servers will","   refuse the connection if any TLS extensions are included in","   ClientHello.  Interoperability with such buggy servers is a complex","   topic beyond the scope of this document, and may require multiple","   connection attempts by the client.","","   Earlier versions of the TLS specification were not fully clear on","   what the record layer version number (TLSPlaintext.version) should","   contain when sending ClientHello (i.e., before it is known which",[[[],0,"   version of the protocol will be employed).  "],[[65],224,"Thus, TLS servers"]],[[[],0,"   "],[[65],224,"compliant with this specification MUST accept any value {03,XX} as"]],[[[],0,"   "],[[65],224,"the record layer version number for ClientHello."]],"",[[[],0,"   "],[[66],96,"TLS clients that wish to negotiate with older servers MAY send any"]],[[[],0,"   "],[[66],96,"value {03,XX} as the record layer version number."],[[],0,"  Typical values"]],"   would be {03,00}, the lowest version number supported by the client,","   and the value of ClientHello.client_version.  No single value will","   guarantee interoperability with all old servers, but this is a","   complex topic beyond the scope of this document."],"requirements":[61,62,63,64,65,66]},{"id":"appendix-E.2","title":"Compatibility with SSL 2.0","lines":[[[[],0,"   "],[[67],224,"TLS 1.2 clients that wish to support SSL 2.0 servers MUST send"]],[[[],0,"   "],[[67],224,"version 2.0 CLIENT-HELLO messages defined in [SSL2]."],[[],0,"  "],[[68,69],224,"The message"]],[[[],0,"   "],[[68,69],224,"MUST contain the same version number as would be used for ordinary"]],[[[],0,"   "],[[68,69],224,"ClientHello, and MUST encode the supported TLS cipher suites in the"]],[[[],0,"   "],[[68,69],224,"CIPHER-SPECS-DATA field as described below."]],"","   Warning: The ability to send version 2.0 CLIENT-HELLO messages will","   be phased out with all due haste, since the newer ClientHello format","   provides better mechanisms for moving to newer versions and",[[[],0,"   negotiating extensions.  "],[[70],160,"TLS 1.2 clients SHOULD NOT support SSL 2.0."]],"",[[[],0,"   "],[[71],96,"However, even TLS servers that do not support SSL 2.0 MAY accept"]],[[[],0,"   "],[[71],96,"version 2.0 CLIENT-HELLO messages."],[[],0,"  The message is presented below in"]],"   sufficient detail for TLS server implementors; the true definition is","   still assumed to be [SSL2].","","   For negotiation purposes, 2.0 CLIENT-HELLO is interpreted the same","   way as a ClientHello with a \"null\" compression method and no",[[[],0,"   extensions.  "],[[72],224,"Note that this message MUST be sent directly on the"]],[[[],0,"   "],[[72],224,"wire, not wrapped as a TLS record."],[[],0,"  For the purposes of calculating"]],"   Finished and CertificateVerify, the msg_length field is not","   considered to be a part of the handshake message.","","      uint8 V2CipherSpec[3];","      struct {","          uint16 msg_length;","          uint8 msg_type;","          Version version;","          uint16 cipher_spec_length;","          uint16 session_id_length;","          uint16 challenge_length;","          V2CipherSpec cipher_specs[V2ClientHello.cipher_spec_length];","          opaque session_id[V2ClientHello.session_id_length];","          opaque challenge[V2ClientHello.challenge_length;","      } V2ClientHello;","",[[[],0,"   "],[[73],224,"msg_length"]],[[[],0,"      "],[[73],224,"The highest bit MUST be 1; the remaining bits contain the length"]],[[[],0,"      "],[[73],224,"of the following data in bytes."]],"","   msg_type","      This field, in conjunction with the version field, identifies a",[[[],0,"      version 2 ClientHello message.  "],[[74],224,"The value MUST be 1."]],"","   version","      Equal to ClientHello.client_version.","","   cipher_spec_length",[[[],0,"      This field is the total length of the field cipher_specs.  "],[[75],224,"It"]],[[[],0,"      "],[[75],224,"cannot be zero and MUST be a multiple of the V2CipherSpec length"]],[[[],0,"      "],[[75],224,"(3)."]],"",[[[],0,"   "],[[76],224,"session_id_length"]],[[[],0,"      "],[[76],224,"This field MUST have a value of zero for a client that claims to"]],[[[],0,"      "],[[76],224,"support TLS 1.2."]],"","   challenge_length","      The length in bytes of the client's challenge to the server to","      authenticate itself.  Historically, permissible values are between",[[[],0,"      16 and 32 bytes inclusive.  "],[[77],160,"When using the SSLv2 backward-"]],[[[],0,"      "],[[77],160,"compatible handshake the client SHOULD use a 32-byte challenge."]],"","   cipher_specs","      This is a list of all CipherSpecs the client is willing and able","      to use.  In addition to the 2.0 cipher specs defined in [SSL2],","      this includes the TLS cipher suites normally sent in","      ClientHello.cipher_suites, with each cipher suite prefixed by a","      zero byte.  For example, the TLS cipher suite {0x00,0x0A} would be","      sent as {0x00,0x00,0x0A}.","",[[[],0,"   "],[[78],224,"session_id"]],[[[],0,"      "],[[78],224,"This field MUST be empty."]],"","   challenge","      Corresponds to ClientHello.random.  If the challenge length is","      less than 32, the TLS server will pad the data with leading (note:","      not trailing) zero bytes to make it 32 bytes long.","",[[[],0,"   "],[[79],224,"Note: Requests to resume a TLS session MUST use a TLS client hello."]]],"requirements":[67,68,69,70,71,72,73,74,75,76,77,78,79]},{"id":"appendix-E.3","title":"Avoiding Man-in-the-Middle Version Rollback","lines":[[[[],0,"   "],[[80],224,"When TLS clients fall back to Version 2.0 compatibility mode, they"]],[[[],0,"   "],[[80],224,"MUST use special PKCS#1 block formatting."],[[],0,"  This is done so that TLS"]],"   servers will reject Version 2.0 sessions with TLS-capable clients.","",[[[],0,"   "],[[81],224,"When a client negotiates SSL 2.0 but also supports TLS, it MUST set"]],[[[],0,"   "],[[81],224,"the right-hand (least-significant) 8 random bytes of the PKCS padding"]],[[[],0,"   "],[[81],224,"(not including the terminal null of the padding) for the RSA"]],[[[],0,"   "],[[81],224,"encryption of the ENCRYPTED-KEY-DATA field of the CLIENT-MASTER-KEY"]],[[[],0,"   "],[[81],224,"to 0x03 (the other padding bytes are random)."]],"",[[[],0,"   "],[[82],160,"When a TLS-capable server negotiates SSL 2.0 it SHOULD, after"]],[[[],0,"   "],[[82],160,"decrypting the ENCRYPTED-KEY-DATA field, check that these 8 padding"]],[[[],0,"   "],[[82],160,"bytes are 0x03."],[[],0,"  "],[[83],160,"If they are not, the server SHOULD generate a random"]],[[[],0,"   "],[[83],160,"value for SECRET-KEY-DATA, and continue the handshake (which will"]],[[[],0,"   "],[[83],160,"eventually fail since the keys will not match)."],[[],0,"  Note that reporting"]],"   the error situation to the client could make the server vulnerable to","   attacks described in [BLEI]."],"requirements":[80,81,82,83]},{"id":"appendix-F","title":"Security Analysis","lines":["   The TLS protocol is designed to establish a secure connection between","   a client and a server communicating over an insecure channel.  This","   document makes several traditional assumptions, including that","   attackers have substantial computational resources and cannot obtain","   secret information from sources outside the protocol.  Attackers are","   assumed to have the ability to capture, modify, delete, replay, and","   otherwise tamper with messages sent over the communication channel.","   This appendix outlines how TLS has been designed to resist a variety","   of attacks."]},{"id":"appendix-F.1","title":"Handshake Protocol","lines":["   The handshake protocol is responsible for selecting a cipher spec and","   generating a master secret, which together comprise the primary","   cryptographic parameters associated with a secure session.  The","   handshake protocol can also optionally authenticate parties who have","   certificates signed by a trusted certificate authority."]},{"id":"appendix-F.1.1","title":"Authentication and Key Exchange","lines":["   TLS supports three authentication modes: authentication of both","   parties, server authentication with an unauthenticated client, and","   total anonymity.  Whenever the server is authenticated, the channel","   is secure against man-in-the-middle attacks, but completely anonymous","   sessions are inherently vulnerable to such attacks.  Anonymous","   servers cannot authenticate clients.  If the server is authenticated,","   its certificate message must provide a valid certificate chain","   leading to an acceptable certificate authority.  Similarly,","   authenticated clients must supply an acceptable certificate to the","   server.  Each party is responsible for verifying that the other's","   certificate is valid and has not expired or been revoked.","","   The general goal of the key exchange process is to create a","   pre_master_secret known to the communicating parties and not to","   attackers.  The pre_master_secret will be used to generate the","   master_secret (see Section 8.1).  The master_secret is required to","   generate the Finished messages, encryption keys, and MAC keys (see","   Sections 7.4.9 and 6.3).  By sending a correct Finished message,","   parties thus prove that they know the correct pre_master_secret."]},{"id":"appendix-F.1.1.1","title":"Anonymous Key Exchange","lines":["   Completely anonymous sessions can be established using Diffie-Hellman","   for key exchange.  The server's public parameters are contained in","   the server key exchange message, and the client's are sent in the","","   client key exchange message.  Eavesdroppers who do not know the","   private values should not be able to find the Diffie-Hellman result","   (i.e., the pre_master_secret).","","   Warning: Completely anonymous connections only provide protection","   against passive eavesdropping.  Unless an independent tamper-proof","   channel is used to verify that the Finished messages were not","   replaced by an attacker, server authentication is required in","   environments where active man-in-the-middle attacks are a concern."]},{"id":"appendix-F.1.1.2","title":"RSA Key Exchange and Authentication","lines":["   With RSA, key exchange and server authentication are combined.  The","   public key is contained in the server's certificate.  Note that","   compromise of the server's static RSA key results in a loss of","   confidentiality for all sessions protected under that static key.","   TLS users desiring Perfect Forward Secrecy should use DHE cipher","   suites.  The damage done by exposure of a private key can be limited","   by changing one's private key (and certificate) frequently.","","   After verifying the server's certificate, the client encrypts a","   pre_master_secret with the server's public key.  By successfully","   decoding the pre_master_secret and producing a correct Finished","   message, the server demonstrates that it knows the private key","   corresponding to the server certificate.","","   When RSA is used for key exchange, clients are authenticated using","   the certificate verify message (see Section 7.4.8).  The client signs","   a value derived from all preceding handshake messages.  These","   handshake messages include the server certificate, which binds the","   signature to the server, and ServerHello.random, which binds the","   signature to the current handshake process."]},{"id":"appendix-F.1.1.3","title":"Diffie-Hellman Key Exchange with Authentication","lines":["   When Diffie-Hellman key exchange is used, the server can either","   supply a certificate containing fixed Diffie-Hellman parameters or","   use the server key exchange message to send a set of temporary","   Diffie-Hellman parameters signed with a DSA or RSA certificate.","   Temporary parameters are hashed with the hello.random values before","   signing to ensure that attackers do not replay old parameters.  In","   either case, the client can verify the certificate or signature to","   ensure that the parameters belong to the server.","","   If the client has a certificate containing fixed Diffie-Hellman","   parameters, its certificate contains the information required to","   complete the key exchange.  Note that in this case the client and","   server will generate the same Diffie-Hellman result (i.e.,","","   pre_master_secret) every time they communicate.  To prevent the","   pre_master_secret from staying in memory any longer than necessary,","   it should be converted into the master_secret as soon as possible.","   Client Diffie-Hellman parameters must be compatible with those","   supplied by the server for the key exchange to work.","","   If the client has a standard DSA or RSA certificate or is","   unauthenticated, it sends a set of temporary parameters to the server","   in the client key exchange message, then optionally uses a","   certificate verify message to authenticate itself.","","   If the same DH keypair is to be used for multiple handshakes, either","   because the client or server has a certificate containing a fixed DH","   keypair or because the server is reusing DH keys, care must be taken",[[[],0,"   to prevent small subgroup attacks.  "],[[84],160,"Implementations SHOULD follow the"]],[[[],0,"   "],[[84],160,"guidelines found in [SUBGROUP]."]],"","   Small subgroup attacks are most easily avoided by using one of the","   DHE cipher suites and generating a fresh DH private key (X) for each","   handshake.  If a suitable base (such as 2) is chosen, g^X mod p can","   be computed very quickly; therefore, the performance cost is","   minimized.  Additionally, using a fresh key for each handshake",[[[],0,"   provides Perfect Forward Secrecy.  "],[[85],160,"Implementations SHOULD generate a"]],[[[],0,"   "],[[85],160,"new X for each handshake when using DHE cipher suites."]],"","   Because TLS allows the server to provide arbitrary DH groups, the","   client should verify that the DH group is of suitable size as defined",[[[],0,"   by local policy.  "],[[86],160,"The client SHOULD also verify that the DH public"]],[[[],0,"   "],[[86],160,"exponent appears to be of adequate size."],[[],0,"  [KEYSIZ] provides a useful"]],[[[],0,"   guide to the strength of various group sizes.  "],[[87],96,"The server MAY choose"]],[[[],0,"   "],[[87],96,"to assist the client by providing a known group, such as those"]],[[[],0,"   "],[[87],96,"defined in [IKEALG] or [MODP]."],[[],0,"  These can be verified by simple"]],"   comparison."],"requirements":[84,85,86,87]},{"id":"appendix-F.1.2","title":"Version Rollback Attacks","lines":["   Because TLS includes substantial improvements over SSL Version 2.0,","   attackers may try to make TLS-capable clients and servers fall back","   to Version 2.0.  This attack can occur if (and only if) two TLS-","   capable parties use an SSL 2.0 handshake.","","   Although the solution using non-random PKCS #1 block type 2 message","   padding is inelegant, it provides a reasonably secure way for Version","   3.0 servers to detect the attack.  This solution is not secure","   against attackers who can brute-force the key and substitute a new","   ENCRYPTED-KEY-DATA message containing the same key (but with normal","   padding) before the application-specified wait threshold has expired.","   Altering the padding of the least-significant 8 bytes of the PKCS","","   padding does not impact security for the size of the signed hashes","   and RSA key lengths used in the protocol, since this is essentially","   equivalent to increasing the input block size by 8 bytes."]},{"id":"appendix-F.1.3","title":"Detecting Attacks Against the Handshake Protocol","lines":["   An attacker might try to influence the handshake exchange to make the","   parties select different encryption algorithms than they would","   normally choose.","","   For this attack, an attacker must actively change one or more","   handshake messages.  If this occurs, the client and server will","   compute different values for the handshake message hashes.  As a","   result, the parties will not accept each others' Finished messages.","   Without the master_secret, the attacker cannot repair the Finished","   messages, so the attack will be discovered."]},{"id":"appendix-F.1.4","title":"Resuming Sessions","lines":["   When a connection is established by resuming a session, new","   ClientHello.random and ServerHello.random values are hashed with the","   session's master_secret.  Provided that the master_secret has not","   been compromised and that the secure hash operations used to produce","   the encryption keys and MAC keys are secure, the connection should be","   secure and effectively independent from previous connections.","   Attackers cannot use known encryption keys or MAC secrets to","   compromise the master_secret without breaking the secure hash","   operations.","","   Sessions cannot be resumed unless both the client and server agree.","   If either party suspects that the session may have been compromised,","   or that certificates may have expired or been revoked, it should","   force a full handshake.  An upper limit of 24 hours is suggested for","   session ID lifetimes, since an attacker who obtains a master_secret","   may be able to impersonate the compromised party until the","   corresponding session ID is retired.  Applications that may be run in","   relatively insecure environments should not write session IDs to","   stable storage."]},{"id":"appendix-F.2","title":"Protecting Application Data","lines":["   The master_secret is hashed with the ClientHello.random and","   ServerHello.random to produce unique data encryption keys and MAC","   secrets for each connection.","","   Outgoing data is protected with a MAC before transmission.  To","   prevent message replay or modification attacks, the MAC is computed","   from the MAC key, the sequence number, the message length, the","","   message contents, and two fixed character strings.  The message type","   field is necessary to ensure that messages intended for one TLS","   record layer client are not redirected to another.  The sequence","   number ensures that attempts to delete or reorder messages will be","   detected.  Since sequence numbers are 64 bits long, they should never","   overflow.  Messages from one party cannot be inserted into the","   other's output, since they use independent MAC keys.  Similarly, the","   server write and client write keys are independent, so stream cipher","   keys are used only once.","","   If an attacker does break an encryption key, all messages encrypted","   with it can be read.  Similarly, compromise of a MAC key can make","   message-modification attacks possible.  Because MACs are also","   encrypted, message-alteration attacks generally require breaking the","   encryption algorithm as well as the MAC.","","   Note: MAC keys may be larger than encryption keys, so messages can","   remain tamper resistant even if encryption keys are broken."]},{"id":"appendix-F.3","title":"Explicit IVs","lines":["   [CBCATT] describes a chosen plaintext attack on TLS that depends on","   knowing the IV for a record.  Previous versions of TLS [TLS1.0] used","   the CBC residue of the previous record as the IV and therefore","   enabled this attack.  This version uses an explicit IV in order to","   protect against this attack."]},{"id":"appendix-F.4","title":"Security of Composite Cipher Modes","lines":["   TLS secures transmitted application data via the use of symmetric","   encryption and authentication functions defined in the negotiated","   cipher suite.  The objective is to protect both the integrity and","   confidentiality of the transmitted data from malicious actions by","   active attackers in the network.  It turns out that the order in","   which encryption and authentication functions are applied to the data","   plays an important role for achieving this goal [ENCAUTH].","","   The most robust method, called encrypt-then-authenticate, first","   applies encryption to the data and then applies a MAC to the","   ciphertext.  This method ensures that the integrity and","   confidentiality goals are obtained with ANY pair of encryption and","   MAC functions, provided that the former is secure against chosen","   plaintext attacks and that the MAC is secure against chosen-message","   attacks.  TLS uses another method, called authenticate-then-encrypt,","   in which first a MAC is computed on the plaintext and then the","   concatenation of plaintext and MAC is encrypted.  This method has","   been proven secure for CERTAIN combinations of encryption functions","   and MAC functions, but it is not guaranteed to be secure in general.","","   In particular, it has been shown that there exist perfectly secure","   encryption functions (secure even in the information-theoretic sense)","   that combined with any secure MAC function, fail to provide the","   confidentiality goal against an active attack.  Therefore, new cipher","   suites and operation modes adopted into TLS need to be analyzed under","   the authenticate-then-encrypt method to verify that they achieve the","   stated integrity and confidentiality goals.","","   Currently, the security of the authenticate-then-encrypt method has","   been proven for some important cases.  One is the case of stream","   ciphers in which a computationally unpredictable pad of the length of","   the message, plus the length of the MAC tag, is produced using a","   pseudorandom generator and this pad is exclusive-ORed with the","   concatenation of plaintext and MAC tag.  The other is the case of CBC","   mode using a secure block cipher.  In this case, security can be","   shown if one applies one CBC encryption pass to the concatenation of","   plaintext and MAC and uses a new, independent, and unpredictable IV","   for each new pair of plaintext and MAC.  In versions of TLS prior to","   1.1, CBC mode was used properly EXCEPT that it used a predictable IV","   in the form of the last block of the previous ciphertext.  This made","   TLS open to chosen plaintext attacks.  This version of the protocol","   is immune to those attacks.  For exact details in the encryption","   modes proven secure, see [ENCAUTH]."]},{"id":"appendix-F.5","title":"Denial of Service","lines":["   TLS is susceptible to a number of denial-of-service (DoS) attacks.","   In particular, an attacker who initiates a large number of TCP","   connections can cause a server to consume large amounts of CPU for","   doing RSA decryption.  However, because TLS is generally used over","   TCP, it is difficult for the attacker to hide his point of origin if","   proper TCP SYN randomization is used [SEQNUM] by the TCP stack.","","   Because TLS runs over TCP, it is also susceptible to a number of DoS","   attacks on individual connections.  In particular, attackers can","   forge RSTs, thereby terminating connections, or forge partial TLS","   records, thereby causing the connection to stall.  These attacks","   cannot in general be defended against by a TCP-using protocol.","   Implementors or users who are concerned with this class of attack","   should use IPsec AH [AH] or ESP [ESP]."]},{"id":"appendix-F.6","title":"Final Notes","lines":["   For TLS to be able to provide a secure connection, both the client","   and server systems, keys, and applications must be secure.  In","   addition, the implementation must be free of security errors.","","   The system is only as strong as the weakest key exchange and","   authentication algorithm supported, and only trustworthy","   cryptographic functions should be used.  Short public keys and","   anonymous servers should be used with great caution.  Implementations","   and users must be careful when deciding which certificates and","   certificate authorities are acceptable; a dishonest certificate","   authority can do tremendous damage."]},{"id":"name-normative-references","title":"Normative References","lines":["   [AES]      National Institute of Standards and Technology,","              \"Specification for the Advanced Encryption Standard (AES)\"","              FIPS 197.  November 26, 2001.","","   [3DES]     National Institute of Standards and Technology,","              \"Recommendation for the Triple Data Encryption Algorithm","              (TDEA) Block Cipher\", NIST Special Publication 800-67, May","              2004.","","   [DSS]      NIST FIPS PUB 186-2, \"Digital Signature Standard\",","              National Institute of Standards and Technology, U.S.","              Department of Commerce, 2000.","","   [HMAC]     Krawczyk, H., Bellare, M., and R. Canetti, \"HMAC: Keyed-","              Hashing for Message Authentication\", RFC 2104, February","              1997.","","   [MD5]      Rivest, R., \"The MD5 Message-Digest Algorithm\", RFC 1321,","              April 1992.","","   [PKCS1]    Jonsson, J. and B. Kaliski, \"Public-Key Cryptography","              Standards (PKCS) #1: RSA Cryptography Specifications","              Version 2.1\", RFC 3447, February 2003.","","   [PKIX]     Housley, R., Polk, W., Ford, W., and D. Solo, \"Internet","              X.509 Public Key Infrastructure Certificate and","              Certificate Revocation List (CRL) Profile\", RFC 3280,","              April 2002.","","   [SCH]      B. Schneier. \"Applied Cryptography: Protocols, Algorithms,","              and Source Code in C, 2nd ed.\", Published by John Wiley &","              Sons, Inc. 1996.","","   [SHS]      NIST FIPS PUB 180-2, \"Secure Hash Standard\", National","              Institute of Standards and Technology, U.S. Department of","              Commerce, August 2002.","","   [REQ]      Bradner, S., \"Key words for use in RFCs to Indicate","              Requirement Levels\", BCP 14, RFC 2119, March 1997.","","   [RFC2434]  Narten, T. and H. Alvestrand, \"Guidelines for Writing an","              IANA Considerations Section in RFCs\", BCP 26, RFC 2434,","              October 1998.","","   [X680]     ITU-T Recommendation X.680 (2002) | ISO/IEC 8824-1:2002,","              Information technology - Abstract Syntax Notation One","              (ASN.1): Specification of basic notation.","","   [X690]     ITU-T Recommendation X.690 (2002) | ISO/IEC 8825-1:2002,","              Information technology - ASN.1 encoding Rules:","              Specification of Basic Encoding Rules (BER), Canonical","              Encoding Rules (CER) and Distinguished Encoding Rules","              (DER)."]},{"id":"name-informative-references","title":"Informative References","lines":["   [AEAD]     McGrew, D., \"An Interface and Algorithms for Authenticated","              Encryption\", RFC 5116, January 2008.","","   [AH]       Kent, S., \"IP Authentication Header\", RFC 4302, December","              2005.","","   [BLEI]     Bleichenbacher D., \"Chosen Ciphertext Attacks against","              Protocols Based on RSA Encryption Standard PKCS #1\" in","              Advances in Cryptology -- CRYPTO'98, LNCS vol. 1462,","              pages:  1-12, 1998.","","   [CBCATT]   Moeller, B., \"Security of CBC Ciphersuites in SSL/TLS:","              Problems and Countermeasures\",","              http://www.openssl.org/~bodo/tls-cbc.txt.","","   [CBCTIME]  Canvel, B., Hiltgen, A., Vaudenay, S., and M. Vuagnoux,","              \"Password Interception in a SSL/TLS Channel\", Advances in","              Cryptology -- CRYPTO 2003, LNCS vol. 2729, 2003.","","   [CCM]      \"NIST Special Publication 800-38C: The CCM Mode for","              Authentication and Confidentiality\",","              http://csrc.nist.gov/publications/nistpubs/800-38C/","              SP800-38C.pdf","","   [DES]      National Institute of Standards and Technology, \"Data","              Encryption Standard (DES)\", FIPS PUB 46-3, October 1999.","","   [DSS-3]    NIST FIPS PUB 186-3 Draft, \"Digital Signature Standard\",","              National Institute of Standards and Technology, U.S.","              Department of Commerce, 2006.","","   [ECDSA]    American National Standards Institute, \"Public Key","              Cryptography for the Financial Services Industry: The","              Elliptic Curve Digital Signature Algorithm (ECDSA)\", ANS","              X9.62-2005, November 2005.","","   [ENCAUTH]  Krawczyk, H., \"The Order of Encryption and Authentication","              for Protecting Communications (Or: How Secure is SSL?)\",","              Crypto 2001.","","   [ESP]      Kent, S., \"IP Encapsulating Security Payload (ESP)\", RFC","              4303, December 2005.","","   [FI06]     Hal Finney, \"Bleichenbacher's RSA signature forgery based","              on implementation error\", ietf-openpgp@imc.org mailing","              list, 27 August 2006, http://www.imc.org/ietf-openpgp/","              mail-archive/msg14307.html.","","   [GCM]      Dworkin, M., NIST Special Publication 800-38D,","              \"Recommendation for Block Cipher Modes of Operation:","              Galois/Counter Mode (GCM) and GMAC\", November 2007.","","   [IKEALG]   Schiller, J., \"Cryptographic Algorithms for Use in the","              Internet Key Exchange Version 2 (IKEv2)\", RFC 4307,","              December 2005.","","   [KEYSIZ]   Orman, H. and P. Hoffman, \"Determining Strengths For","              Public Keys Used For Exchanging Symmetric Keys\", BCP 86,","              RFC 3766, April 2004.","","   [KPR03]    Klima, V., Pokorny, O., Rosa, T., \"Attacking RSA-based","              Sessions in SSL/TLS\", http://eprint.iacr.org/2003/052/,","              March 2003.","","   [MODP]     Kivinen, T. and M. Kojo, \"More Modular Exponential (MODP)","              Diffie-Hellman groups for Internet Key Exchange (IKE)\",","              RFC 3526, May 2003.","","   [PKCS6]    RSA Laboratories, \"PKCS #6: RSA Extended Certificate","              Syntax Standard\", version 1.5, November 1993.","","   [PKCS7]    RSA Laboratories, \"PKCS #7: RSA Cryptographic Message","              Syntax Standard\", version 1.5, November 1993.","","   [RANDOM]   Eastlake, D., 3rd, Schiller, J., and S. Crocker,","              \"Randomness Requirements for Security\", BCP 106, RFC 4086,","              June 2005.","","   [RFC3749]  Hollenbeck, S., \"Transport Layer Security Protocol","              Compression Methods\", RFC 3749, May 2004.","","   [RFC4366]  Blake-Wilson, S., Nystrom, M., Hopwood, D., Mikkelsen, J.,","              and T. Wright, \"Transport Layer Security (TLS)","              Extensions\", RFC 4366, April 2006.","","   [RSA]      R. Rivest, A. Shamir, and L. M. Adleman, \"A Method for","              Obtaining Digital Signatures and Public-Key","              Cryptosystems\", Communications of the ACM, v. 21, n. 2,","              Feb 1978, pp. 120-126.","","   [SEQNUM]   Bellovin, S., \"Defending Against Sequence Number Attacks\",","              RFC 1948, May 1996.","","   [SSL2]     Hickman, Kipp, \"The SSL Protocol\", Netscape Communications","              Corp., Feb 9, 1995.","","   [SSL3]     A. Freier, P. Karlton, and P. Kocher, \"The SSL 3.0","              Protocol\", Netscape Communications Corp., Nov 18, 1996.","","   [SUBGROUP] Zuccherato, R., \"Methods for Avoiding the \"Small-Subgroup\"","              Attacks on the Diffie-Hellman Key Agreement Method for","              S/MIME\", RFC 2785, March 2000.","","   [TCP]      Postel, J., \"Transmission Control Protocol\", STD 7, RFC","              793, September 1981.","","   [TIMING]   Boneh, D., Brumley, D., \"Remote timing attacks are","              practical\", USENIX Security Symposium 2003.","","   [TLSAES]   Chown, P., \"Advanced Encryption Standard (AES)","              Ciphersuites for Transport Layer Security (TLS)\", RFC","              3268, June 2002.","","   [TLSECC]   Blake-Wilson, S., Bolyard, N., Gupta, V., Hawk, C., and B.","              Moeller, \"Elliptic Curve Cryptography (ECC) Cipher Suites","              for Transport Layer Security (TLS)\", RFC 4492, May 2006.","","   [TLSEXT]   Eastlake, D., 3rd, \"Transport Layer Security (TLS)","              Extensions:  Extension Definitions\", Work in Progress,","              February 2008.","","   [TLSPGP]   Mavrogiannopoulos, N., \"Using OpenPGP Keys for Transport","              Layer Security (TLS) Authentication\", RFC 5081, November","              2007.","","   [TLSPSK]   Eronen, P., Ed., and H. Tschofenig, Ed., \"Pre-Shared Key","              Ciphersuites for Transport Layer Security (TLS)\", RFC","              4279, December 2005.","","   [TLS1.0]   Dierks, T. and C. Allen, \"The TLS Protocol Version 1.0\",","              RFC 2246, January 1999.","","   [TLS1.1]   Dierks, T. and E. Rescorla, \"The Transport Layer Security","              (TLS) Protocol Version 1.1\", RFC 4346, April 2006.","","   [X501]     ITU-T Recommendation X.501: Information Technology - Open","              Systems Interconnection - The Directory: Models, 1993.","","   [XDR]      Eisler, M., Ed., \"XDR: External Data Representation","              Standard\", STD 67, RFC 4506, May 2006."]},{"id":"name-working-group-information","title":"Working Group Information","lines":["   The discussion list for the IETF TLS working group is located at the","   e-mail address <tls@ietf.org>. Information on the group and","   information on how to subscribe to the list is at","   <https://www1.ietf.org/mailman/listinfo/tls>","","   Archives of the list can be found at:","   <http://www.ietf.org/mail-archive/web/tls/current/index.html>"]},{"id":"name-contributors","title":"Contributors","lines":["   Christopher Allen (co-editor of TLS 1.0)","   Alacrity Ventures","   ChristopherA@AlacrityManagement.com","","   Martin Abadi","   University of California, Santa Cruz","   abadi@cs.ucsc.edu","","   Steven M. Bellovin","   Columbia University","   smb@cs.columbia.edu","","   Simon Blake-Wilson","   BCI","   sblakewilson@bcisse.com","","   Ran Canetti","   IBM","   canetti@watson.ibm.com","","   Pete Chown","   Skygate Technology Ltd","   pc@skygate.co.uk","","   Taher Elgamal","   taher@securify.com","   Securify","","   Pasi Eronen","   pasi.eronen@nokia.com","   Nokia","","   Anil Gangolli","   anil@busybuddha.org","","   Kipp Hickman","","   Alfred Hoenes","","   David Hopwood","   Independent Consultant","   david.hopwood@blueyonder.co.uk","","   Phil Karlton (co-author of SSLv3)","","   Paul Kocher (co-author of SSLv3)","   Cryptography Research","   paul@cryptography.com","","   Hugo Krawczyk","   IBM","   hugo@ee.technion.ac.il","","   Jan Mikkelsen","   Transactionware","   janm@transactionware.com","","   Magnus Nystrom","   RSA Security","   magnus@rsasecurity.com","","   Robert Relyea","   Netscape Communications","   relyea@netscape.com","","   Jim Roskind","   Netscape Communications","   jar@netscape.com","","   Michael Sabin","","   Dan Simon","   Microsoft, Inc.","   dansimon@microsoft.com","","   Tom Weinstein","","   Tim Wright","   Vodafone","   timothy.wright@vodafone.com"]},{"id":"name-editors-addresses","title":"Editors' Addresses","lines":["   Tim Dierks","   Independent","   EMail: tim@dierks.org","","   Eric Rescorla","   RTFM, Inc.","   EMail: ekr@rtfm.com"]},{"id":"name-full-copyright-statement","title":"Full Copyright Statement","lines":["   Copyright (C) The IETF Trust (2008).","","   This document is subject to the rights, licenses and restrictions","   contained in BCP 78, and except as set forth therein, the authors","   retain all their rights.","","   This document and the information contained herein are provided on an","   \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS","   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND","   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS","   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF","   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED","   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."]},{"id":"name-intellectual-property","title":"Intellectual Property","lines":["   The IETF takes no position regarding the validity or scope of any","   Intellectual Property Rights or other rights that might be claimed to","   pertain to the implementation or use of the technology described in","   this document or the extent to which any license under such rights","   might or might not be available; nor does it represent that it has","   made any independent effort to identify any such rights.  Information","   on the procedures with respect to rights in RFC documents can be","   found in BCP 78 and BCP 79.","","   Copies of IPR disclosures made to the IETF Secretariat and any","   assurances of licenses to be made available, or the result of an","   attempt made to obtain a general license or permission for the use of","   such proprietary rights by implementers or users of this","   specification can be obtained from the IETF on-line IPR repository at","   http://www.ietf.org/ipr.","","   The IETF invites any interested party to bring to its attention any","   copyrights, patents or patent applications, or other proprietary","   rights that may cover technology that may be required to implement","   this standard.  Please address the information to the IETF at","   ietf-ipr@ietf.org."]}]},"https://www.rfc-editor.org/rfc/rfc5746":{"format":"ietf","requirements":[249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294],"sections":[{"id":"name-abstract","title":"Abstract","lines":["   Secure Socket Layer (SSL) and Transport Layer Security (TLS)","   renegotiation are vulnerable to an attack in which the attacker forms","   a TLS connection with the target server, injects content of his","   choice, and then splices in a new TLS connection from a client.  The","   server treats the client's initial TLS handshake as a renegotiation","   and thus believes that the initial data transmitted by the attacker","   is from the same entity as the subsequent client data.  This","   specification defines a TLS extension to cryptographically tie","   renegotiations to the TLS connections they are being performed over,","   thus preventing this attack."]},{"id":"name-status-of-this-memo","title":"Status of This Memo","lines":["   This is an Internet Standards Track document.","","   This document is a product of the Internet Engineering Task Force","   (IETF).  It represents the consensus of the IETF community.  It has","   received public review and has been approved for publication by the","   Internet Engineering Steering Group (IESG).  Further information on","   Internet Standards is available in Section 2 of RFC 5741.","","   Information about the current status of this document, any errata,","   and how to provide feedback on it may be obtained at","   http://www.rfc-editor.org/info/rfc5746."]},{"id":"name-copyright-notice","title":"Copyright Notice","lines":["   Copyright (c) 2010 IETF Trust and the persons identified as the","   document authors.  All rights reserved.","","   This document is subject to BCP 78 and the IETF Trust's Legal","   Provisions Relating to IETF Documents","   (http://trustee.ietf.org/license-info) in effect on the date of","   publication of this document.  Please review these documents","   carefully, as they describe your rights and restrictions with respect","   to this document.  Code Components extracted from this document must","   include Simplified BSD License text as described in Section 4.e of","   the Trust Legal Provisions and are provided without warranty as","   described in the Simplified BSD License."]},{"id":"name-table-of-contents","title":"Table of Contents","lines":["   1. Introduction ....................................................3","   2. Conventions Used in This Document ...............................4","   3. Secure Renegotiation Definition .................................4","      3.1. Additional Connection State ................................4","      3.2. Extension Definition .......................................5","      3.3. Renegotiation Protection Request Signaling Cipher","           Suite Value ................................................6","      3.4. Client Behavior: Initial Handshake .........................6","      3.5. Client Behavior: Secure Renegotiation ......................7","      3.6. Server Behavior: Initial Handshake .........................7","      3.7. Server Behavior: Secure Renegotiation ......................8","   4. Backward Compatibility ..........................................9","      4.1. Client Considerations ......................................9","      4.2. Client Behavior: Legacy (Insecure) Renegotiation ..........10","      4.3. Server Considerations .....................................10","      4.4. Server Behavior: Legacy (Insecure) Renegotiation ..........11","      4.5. SSLv3 .....................................................11","   5. Security Considerations ........................................12","   6. IANA Considerations ............................................13","   7. Acknowledgements ...............................................13","   8. References .....................................................13","      8.1. Normative References ......................................13","      8.2. Informative References ....................................13"]},{"id":"section-1","title":"Introduction","lines":["   TLS [RFC5246] allows either the client or the server to initiate","   renegotiation -- a new handshake that establishes new cryptographic","   parameters.  Unfortunately, although the new handshake is carried out","   using the cryptographic parameters established by the original","   handshake, there is no cryptographic binding between the two.  This","   creates the opportunity for an attack in which the attacker who can","   intercept a client's transport layer connection can inject traffic of","   his own as a prefix to the client's interaction with the server.  One","   form of this attack [Ray09] proceeds as shown below:","","   Client                        Attacker                        Server","   ------                        -------                         ------","                                     <----------- Handshake ---------->","                                     <======= Initial Traffic ========>","   <--------------------------  Handshake ============================>","   <======================== Client Traffic ==========================>","","   To start the attack, the attacker forms a TLS connection to the","   server (perhaps in response to an initial intercepted connection from","   the client).  He then sends any traffic of his choice to the server.","   This may involve multiple requests and responses at the application","   layer, or may simply be a partial application layer request intended","   to prefix the client's data.  This traffic is shown with == to","   indicate it is encrypted.  He then allows the client's TLS handshake","   to proceed with the server.  The handshake is in the clear to the","   attacker but encrypted over the attacker's TLS connection to the","   server.  Once the handshake has completed, the client communicates","   with the server over the newly established security parameters with","   the server.  The attacker cannot read this traffic, but the server","   believes that the initial traffic to and from the attacker is the","   same as that to and from the client.","","   If certificate-based client authentication is used, the server will","   see a stream of bytes where the initial bytes are protected but","   unauthenticated by TLS and subsequent bytes are authenticated by TLS","   and bound to the client's certificate.  In some protocols (notably","   HTTPS), no distinction is made between pre- and post-authentication","   stages and the bytes are handled uniformly, resulting in the server","   believing that the initial traffic corresponds to the authenticated","   client identity.  Even without certificate-based authentication, a","   variety of attacks may be possible in which the attacker convinces","   the server to accept data from it as data from the client.  For","   instance, if HTTPS [RFC2818] is in use with HTTP cookies [RFC2965],","   the attacker may be able to generate a request of his choice","   validated by the client's cookie.","","   Some protocols -- such as IMAP or SMTP -- have more explicit","   transitions between authenticated and unauthenticated phases and","   require that the protocol state machine be partly or fully reset at","   such transitions.  If strictly followed, these rules may limit the","   effect of attacks.  Unfortunately, there is no requirement for state","   machine resets at TLS renegotiation, and thus there is still a","   potential window of vulnerability, for instance, by prefixing a","   command that writes to an area visible by the attacker with a command","   by the client that includes his password, thus making the client's","   password visible to the attacker (note that this precise attack does","   not work with challenge-response authentication schemes, but other","   attacks may be possible).  Similar attacks are available with SMTP,","   and in fact do not necessarily require the attacker to have an","   account on the target server.","","   It is important to note that in both cases these attacks are possible","   because the client sends unsolicited authentication information","   without requiring any specific data from the server over the TLS","   connection.  Protocols that require a round trip to the server over","   TLS before the client sends sensitive information are likely to be","   less vulnerable.","","   These attacks can be prevented by cryptographically binding","   renegotiation handshakes to the enclosing TLS cryptographic","   parameters, thus allowing the server to differentiate renegotiation","   from initial negotiation, as well as preventing renegotiations from","   being spliced in between connections.  An attempt by an attacker to","   inject himself as described above will result in a mismatch of the","   cryptographic binding and can thus be detected.  The data used in the","   extension is similar to, but not the same as, the data used in the","   tls-unique and/or tls-unique-for-telnet channel bindings described in","   [TLS-CHANNEL-BINDINGS]; however, this extension is not a general-","   purpose RFC 5056 [RFC5056] channel binding facility."]},{"id":"section-2","title":"Conventions Used in This Document","lines":["   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\",","   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this","   document are to be interpreted as described in [RFC2119]."]},{"id":"section-3","title":"Secure Renegotiation Definition","lines":[]},{"id":"section-3.1","title":"Additional Connection State","lines":["   Both client and server need to store three additional values for each","   TLS connection state (see RFC 5246, Section 6.1).  Note that these","   values are specific to connection (not a TLS session cache entry).","","   o  a \"secure_renegotiation\" flag, indicating whether secure","      renegotiation is in use for this connection.","","   o  \"client_verify_data\":  the verify_data from the Finished message","      sent by the client on the immediately previous handshake.  For","      currently defined TLS versions and cipher suites, this will be a","      12-byte value; for SSLv3, this will be a 36-byte value.","","   o  \"server_verify_data\":  the verify_data from the Finished message","      sent by the server on the immediately previous handshake."]},{"id":"section-3.2","title":"Extension Definition","lines":["   This document defines a new TLS extension, \"renegotiation_info\" (with","   extension type 0xff01), which contains a cryptographic binding to the","   enclosing TLS connection (if any) for which the renegotiation is","   being performed.  The \"extension data\" field of this extension","   contains a \"RenegotiationInfo\" structure:","","      struct {","          opaque renegotiated_connection<0..255>;","      } RenegotiationInfo;","","   The contents of this extension are specified as follows.","","   o  If this is the initial handshake for a connection, then the","      \"renegotiated_connection\" field is of zero length in both the","      ClientHello and the ServerHello.  Thus, the entire encoding of the","      extension is ff 01 00 01 00.  The first two octets represent the","      extension type, the third and fourth octets the length of the","      extension itself, and the final octet the zero length byte for the","      \"renegotiated_connection\" field.","","   o  For ClientHellos that are renegotiating, this field contains the","      \"client_verify_data\" specified in Section 3.1.","","   o  For ServerHellos that are renegotiating, this field contains the","      concatenation of client_verify_data and server_verify_data.  For","      current versions of TLS, this will be a 24-byte value (for SSLv3,","      it will be a 72-byte value).","","   This extension also can be used with Datagram TLS (DTLS) [RFC4347].","   Although, for editorial simplicity, this document refers to TLS, all","   requirements in this document apply equally to DTLS."]},{"id":"section-3.3","title":"Renegotiation Protection Request Signaling Cipher Suite Value","lines":["   Both the SSLv3 and TLS 1.0/TLS 1.1 specifications require","   implementations to ignore data following the ClientHello (i.e.,","   extensions) if they do not understand it.  However, some SSLv3 and","   TLS 1.0 implementations incorrectly fail the handshake in such a","   case.  This means that clients that offer the \"renegotiation_info\"","   extension may encounter handshake failures.  In order to enhance","   compatibility with such servers, this document defines a second","   signaling mechanism via a special Signaling Cipher Suite Value (SCSV)","   \"TLS_EMPTY_RENEGOTIATION_INFO_SCSV\", with code point {0x00, 0xFF}.","   This SCSV is not a true cipher suite (it does not correspond to any","   valid set of algorithms) and cannot be negotiated.  Instead, it has","   the same semantics as an empty \"renegotiation_info\" extension, as","   described in the following sections.  Because SSLv3 and TLS","   implementations reliably ignore unknown cipher suites, the SCSV may","   be safely sent to any server.  The SCSV can also be included in the","   SSLv2 backward compatible CLIENT-HELLO (see Appendix E.2 of","   [RFC5246]).","","   Note:  a minimal client that does not support renegotiation at all","   can simply use the SCSV in all initial handshakes.  The rules in the","   following sections will cause any compliant server to abort the","   handshake when it sees an apparent attempt at renegotiation by such a","   client."]},{"id":"section-3.4","title":"Client Behavior: Initial Handshake","lines":["   Note that this section and Section 3.5 apply to both full handshakes","   and session resumption handshakes.","",[[[],0,"   "],[[249],224,"o  The client MUST include either an empty \"renegotiation_info\""]],[[[],0,"      "],[[249],224,"extension, or the TLS_EMPTY_RENEGOTIATION_INFO_SCSV signaling"]],[[[],0,"      "],[[249],224,"cipher suite value in the ClientHello."],[[],0,"  "],[[250],160,"Including both is NOT"]],[[[],0,"      "],[[250],160,"RECOMMENDED."]],"",[[[],0,"   "],[[251],224,"o  When a ServerHello is received, the client MUST check if it"]],[[[],0,"      "],[[251],224,"includes the \"renegotiation_info\" extension:"]],"","      *  If the extension is not present, the server does not support","         secure renegotiation; set secure_renegotiation flag to FALSE.","         In this case, some clients may want to terminate the handshake","         instead of continuing; see Section 4.1 for discussion.","","      *  If the extension is present, set the secure_renegotiation flag",[[[],0,"         to TRUE.  "],[[252,253],224,"The client MUST then verify that the length of the"]],[[[],0,"         "],[[252,253],224,"\"renegotiated_connection\" field is zero, and if it is not, MUST"]],[[[],0,"         "],[[252,253],224,"abort the handshake (by sending a fatal handshake_failure"]],[[[],0,"         "],[[252,253],224,"alert)."]],"","         Note: later in Section 3, \"abort the handshake\" is used as","         shorthand for \"send a fatal handshake_failure alert and","         terminate the connection\".","","   o  When the handshake has completed, the client needs to save the","      client_verify_data and server_verify_data values for future use."],"requirements":[249,250,251,252,253]},{"id":"section-3.5","title":"Client Behavior: Secure Renegotiation","lines":["   This text applies if the connection's \"secure_renegotiation\" flag is","   set to TRUE (if it is set to FALSE, see Section 4.2).","",[[[],0,"   "],[[254],224,"o  The client MUST include the \"renegotiation_info\" extension in the"]],[[[],0,"      "],[[254],224,"ClientHello, containing the saved client_verify_data."],[[],0,"  "],[[255],224,"The SCSV"]],[[[],0,"      "],[[255],224,"MUST NOT be included."]],"",[[[],0,"   "],[[256,257],224,"o  When a ServerHello is received, the client MUST verify that the"]],[[[],0,"      "],[[256,257],224,"\"renegotiation_info\" extension is present; if it is not, the"]],[[[],0,"      "],[[256,257],224,"client MUST abort the handshake."]],"",[[[],0,"   "],[[258],224,"o  The client MUST then verify that the first half of the"]],[[[],0,"      "],[[258],224,"\"renegotiated_connection\" field is equal to the saved"]],[[[],0,"      "],[[258],224,"client_verify_data value, and the second half is equal to the"]],[[[],0,"      "],[[258],224,"saved server_verify_data value."],[[],0,"  "],[[259],224,"If they are not, the client MUST"]],[[[],0,"      "],[[259],224,"abort the handshake."]],"","   o  When the handshake has completed, the client needs to save the new","      client_verify_data and server_verify_data values."],"requirements":[254,255,256,257,258,259]},{"id":"section-3.6","title":"Server Behavior: Initial Handshake","lines":["   Note that this section and Section 3.7 apply to both full handshakes","   and session-resumption handshakes.","",[[[],0,"   "],[[260],224,"o  When a ClientHello is received, the server MUST check if it"]],[[[],0,"      "],[[260],224,"includes the TLS_EMPTY_RENEGOTIATION_INFO_SCSV SCSV."],[[],0,"  If it does,"]],"      set the secure_renegotiation flag to TRUE.","",[[[],0,"   "],[[261],224,"o  The server MUST check if the \"renegotiation_info\" extension is"]],[[[],0,"      "],[[261],224,"included in the ClientHello."],[[],0,"  If the extension is present, set"]],[[[],0,"      secure_renegotiation flag to TRUE.  "],[[262,263],224,"The server MUST then verify"]],[[[],0,"      "],[[262,263],224,"that the length of the \"renegotiated_connection\" field is zero,"]],[[[],0,"      "],[[262,263],224,"and if it is not, MUST abort the handshake."]],"","   o  If neither the TLS_EMPTY_RENEGOTIATION_INFO_SCSV SCSV nor the","      \"renegotiation_info\" extension was included, set the","      secure_renegotiation flag to FALSE.  In this case, some servers","      may want to terminate the handshake instead of continuing; see","      Section 4.3 for discussion.","",[[[],0,"   "],[[264],224,"o  If the secure_renegotiation flag is set to TRUE, the server MUST"]],[[[],0,"      "],[[264],224,"include an empty \"renegotiation_info\" extension in the ServerHello"]],[[[],0,"      "],[[264],224,"message."]],"","   o  When the handshake has completed, the server needs to save the","      client_verify_data and server_verify_data values for future use.","",[[[],0,"   "],[[265,266],224,"TLS servers implementing this specification MUST ignore any unknown"]],[[[],0,"   "],[[265,266],224,"extensions offered by the client and they MUST accept version numbers"]],[[[],0,"   "],[[265,266],224,"higher than their highest version number and negotiate the highest"]],[[[],0,"   "],[[265,266],224,"common version."],[[],0,"  These two requirements reiterate preexisting"]],"   requirements in RFC 5246 and are merely stated here in the interest","   of forward compatibility.","","   Note that sending a \"renegotiation_info\" extension in response to a","   ClientHello containing only the SCSV is an explicit exception to the","   prohibition in RFC 5246, Section 7.4.1.4, on the server sending","   unsolicited extensions and is only allowed because the client is","   signaling its willingness to receive the extension via the",[[[],0,"   TLS_EMPTY_RENEGOTIATION_INFO_SCSV SCSV.  "],[[267],224,"TLS implementations MUST"]],[[[],0,"   "],[[267],224,"continue to comply with Section 7.4.1.4 for all other extensions."]]],"requirements":[260,261,262,263,264,265,266,267]},{"id":"section-3.7","title":"Server Behavior: Secure Renegotiation","lines":["   This text applies if the connection's \"secure_renegotiation\" flag is","   set to TRUE (if it is set to FALSE, see Section 4.4).","",[[[],0,"   "],[[268],224,"o  When a ClientHello is received, the server MUST verify that it"]],[[[],0,"      "],[[268],224,"does not contain the TLS_EMPTY_RENEGOTIATION_INFO_SCSV SCSV."],[[],0,"  "],[[269],224,"If"]],[[[],0,"      "],[[269],224,"the SCSV is present, the server MUST abort the handshake."]],"",[[[],0,"   "],[[270,271],224,"o  The server MUST verify that the \"renegotiation_info\" extension is"]],[[[],0,"      "],[[270,271],224,"present; if it is not, the server MUST abort the handshake."]],"",[[[],0,"   "],[[272,273],224,"o  The server MUST verify that the value of the"]],[[[],0,"      "],[[272,273],224,"\"renegotiated_connection\" field is equal to the saved"]],[[[],0,"      "],[[272,273],224,"client_verify_data value; if it is not, the server MUST abort the"]],[[[],0,"      "],[[272,273],224,"handshake."]],"",[[[],0,"   "],[[274],224,"o  The server MUST include a \"renegotiation_info\" extension"]],[[[],0,"      "],[[274],224,"containing the saved client_verify_data and server_verify_data in"]],[[[],0,"      "],[[274],224,"the ServerHello."]],"","   o  When the handshake has completed, the server needs to save the new","      client_verify_data and server_verify_data values."],"requirements":[268,269,270,271,272,273,274]},{"id":"section-4","title":"Backward Compatibility","lines":["   Existing implementations that do not support this extension are","   widely deployed and, in general, must interoperate with newer","   implementations that do support it.  This section describes","   considerations for backward compatible interoperation."]},{"id":"section-4.1","title":"Client Considerations","lines":["   If a client offers the \"renegotiation_info\" extension or the","   TLS_EMPTY_RENEGOTIATION_INFO_SCSV SCSV and the server does not reply","   with \"renegotiation_info\" in the ServerHello, then this indicates","   that the server does not support secure renegotiation.  Because some","   attacks (see Section 1) look like a single handshake to the client,","   the client cannot determine whether or not the connection is under","   attack.  Note, however, that merely because the server does not","   acknowledge the extension does not mean that it is vulnerable; it","   might choose to reject all renegotiations and simply not signal it.","   However, it is not possible for the client to determine purely via","   TLS mechanisms whether or not this is the case.","","   If clients wish to ensure that such attacks are impossible, they need","   to terminate the connection immediately upon failure to receive the",[[[],0,"   extension without completing the handshake.  "],[[275],224,"Such clients MUST"]],[[[],0,"   "],[[275],224,"generate a fatal \"handshake_failure\" alert prior to terminating the"]],[[[],0,"   "],[[275],224,"connection."],[[],0,"  However, it is expected that many TLS servers that do"]],"   not support renegotiation (and thus are not vulnerable) will not","   support this extension either, so in general, clients that implement","   this behavior will encounter interoperability problems.  There is no","   set of client behaviors that will guarantee security and achieve","   maximum interoperability during the transition period.  Clients need","   to choose one or the other preference when dealing with potentially","   un-upgraded servers."],"requirements":[275]},{"id":"section-4.2","title":"Client Behavior: Legacy (Insecure) Renegotiation","lines":["   This text applies if the connection's \"secure_renegotiation\" flag is","   set to FALSE.","","   It is possible that un-upgraded servers will request that the client",[[[],0,"   renegotiate.  "],[[276],160,"It is RECOMMENDED that clients refuse this"]],[[[],0,"   "],[[276],160,"renegotiation request."],[[],0,"  "],[[277],224,"Clients that do so MUST respond to such"]],[[[],0,"   "],[[277],224,"requests with a \"no_renegotiation\" alert (RFC 5246 requires this"]],[[[],0,"   "],[[277],224,"alert to be at the \"warning\" level)."],[[],0,"  It is possible that the"]],"   apparently un-upgraded server is in fact an attacker who is then","   allowing the client to renegotiate with a different, legitimate,",[[[],0,"   upgraded server.  "],[[278],224,"If clients nevertheless choose to renegotiate, they"]],[[[],0,"   "],[[278],224,"MUST behave as described below."]],"",[[[],0,"   "],[[279],224,"Clients that choose to renegotiate MUST provide either the"]],[[[],0,"   "],[[279],224,"TLS_EMPTY_RENEGOTIATION_INFO_SCSV SCSV or \"renegotiation_info\" in"]],[[[],0,"   "],[[279],224,"their ClientHello."],[[],0,"  In a legitimate renegotiation with an un-upgraded"]],"   server, that server should ignore both of these signals.  However, if","   the server (incorrectly) fails to ignore extensions, sending the",[[[],0,"   \"renegotiation_info\" extension may cause a handshake failure.  "],[[280],160,"Thus,"]],[[[],0,"   "],[[280],160,"it is permitted, though NOT RECOMMENDED, for the client to simply"]],[[[],0,"   "],[[280],160,"send the SCSV."],[[],0,"  This is the only situation in which clients are"]],"   permitted to not send the \"renegotiation_info\" extension in a","   ClientHello that is used for renegotiation.","","   Note that in the case of a downgrade attack, if this is an initial","   handshake from the server's perspective, then use of the SCSV from","   the client precludes detection of this attack by the server (if this","   is a renegotiation from the server's perspective, then it will detect","   the attack).  However, the attack will be detected by the client when","   the server sends an empty \"renegotiation_info\" extension and the","   client is expecting one containing the previous verify_data.  By","   contrast, if the client sends the \"renegotiation_info\" extension,","   then the server will immediately detect the attack.","",[[[],0,"   "],[[281],224,"When the ServerHello is received, the client MUST verify that it does"]],[[[],0,"   "],[[281],224,"not contain the \"renegotiation_info\" extension."],[[],0,"  "],[[282],224,"If it does, the"]],[[[],0,"   "],[[282],224,"client MUST abort the handshake."],[[],0,"  (Because the server has already"]],"   indicated it does not support secure renegotiation, the only way that","   this can happen is if the server is broken or there is an attack.)"],"requirements":[276,277,278,279,280,281,282]},{"id":"section-4.3","title":"Server Considerations","lines":["   If the client does not offer the \"renegotiation_info\" extension or","   the TLS_EMPTY_RENEGOTIATION_INFO_SCSV SCSV, then this indicates that","   the client does not support secure renegotiation.  Although the","   attack described in Section 1 looks like two handshakes to the","","   server, other attacks may be possible in which the renegotiation is","   seen only by the client.  If servers wish to ensure that such attacks","   are impossible, they need to terminate the connection immediately","   upon failure to negotiate the use of secure renegotiation.  Servers","   that do choose to allow connections from unpatched clients can still","   prevent the attack described in Section 1 by refusing to renegotiate","   over those connections.","",[[[],0,"   "],[[283],224,"In order to enable clients to probe, even servers that do not support"]],[[[],0,"   "],[[283],224,"renegotiation MUST implement the minimal version of the extension"]],[[[],0,"   "],[[283],224,"described in this document for initial handshakes, thus signaling"]],[[[],0,"   "],[[283],224,"that they have been upgraded."]]],"requirements":[283]},{"id":"section-4.4","title":"Server Behavior: Legacy (Insecure) Renegotiation","lines":["   This text applies if the connection's \"secure_renegotiation\" flag is","   set to FALSE.","",[[[],0,"   "],[[284],160,"It is RECOMMENDED that servers not permit legacy renegotiation."],[[],0,"  "],[[285],224,"If"]],[[[],0,"   "],[[285],224,"servers nevertheless do permit it, they MUST follow the requirements"]],[[[],0,"   "],[[285],224,"in this section."]],"",[[[],0,"   "],[[286],224,"o  When a ClientHello is received, the server MUST verify that it"]],[[[],0,"      "],[[286],224,"does not contain the TLS_EMPTY_RENEGOTIATION_INFO_SCSV SCSV."],[[],0,"  "],[[287],224,"If"]],[[[],0,"      "],[[287],224,"the SCSV is present, the server MUST abort the handshake."]],"",[[[],0,"   "],[[288,289],224,"o  The server MUST verify that the \"renegotiation_info\" extension is"]],[[[],0,"      "],[[288,289],224,"not present; if it is, the server MUST abort the handshake."]]],"requirements":[284,285,286,287,288,289]},{"id":"section-4.5","title":"SSLv3","lines":["   While SSLv3 is not a protocol under IETF change control (see","   [SSLv3]), it was the original basis for TLS and most TLS","   implementations also support SSLv3.  The IETF encourages SSLv3","   implementations to adopt the \"renegotiation_info\" extension and SCSV","   as defined in this document.  The semantics of the SCSV and extension","   are identical to TLS stacks except for the size of the verify_data","   values, which are 36 bytes long each.  Note that this will require",[[[],0,"   adding at least minimal extension processing to such stacks.  "],[[290],224,"Clients"]],[[[],0,"   "],[[290],224,"that support SSLv3 and offer secure renegotiation (either via SCSV or"]],[[[],0,"   "],[[290],224,"\"renegotiation_info\") MUST accept the \"renegotiation_info\" extension"]],[[[],0,"   "],[[290],224,"from the server, even if the server version is {0x03, 0x00}, and"]],[[[],0,"   "],[[290],224,"behave as described in this specification."],[[],0,"  "],[[291],224,"TLS servers that support"]],[[[],0,"   "],[[291],224,"secure renegotiation and support SSLv3 MUST accept SCSV or the"]],[[[],0,"   "],[[291],224,"\"renegotiation_info\" extension and respond as described in this"]],[[[],0,"   "],[[291],224,"specification even if the offered client version is {0x03, 0x00}."]],"   SSLv3 does not define the \"no_renegotiation\" alert (and does","","   not offer a way to indicate a refusal to renegotiate at a \"warning\"",[[[],0,"   level).  "],[[292],160,"SSLv3 clients that refuse renegotiation SHOULD use a fatal"]],[[[],0,"   "],[[292],160,"handshake_failure alert."]]],"requirements":[290,291,292]},{"id":"section-5","title":"Security Considerations","lines":["   The extension described in this document prevents an attack on TLS.","   If this extension is not used, TLS renegotiation is subject to an","   attack in which the attacker can inject their own conversation with","   the TLS server as a prefix to the client's conversation.  This attack","   is invisible to the client and looks like an ordinary renegotiation","   to the server.  The extension defined in this document allows",[[[],0,"   renegotiation to be performed safely.  "],[[293],160,"Servers SHOULD NOT allow"]],[[[],0,"   "],[[293],160,"clients to renegotiate without using this extension."],[[],0,"  Many servers"]],"   can mitigate this attack simply by refusing to renegotiate at all.","","   While this extension mitigates the man-in-the-middle attack described","   in the overview, it does not resolve all possible problems an","   application may face if it is unaware of renegotiation.  For example,","   during renegotiation, either the client or the server can present a","   different certificate than was used earlier.  This may come as a","   surprise to application developers (who might have expected, for","   example, that a \"getPeerCertificates()\" API call returns the same","   value if called twice), and might be handled in an insecure way.","",[[[],0,"   "],[[294],160,"TLS implementations SHOULD provide a mechanism to disable and enable"]],[[[],0,"   "],[[294],160,"renegotiation."]],"","   TLS implementers are encouraged to clearly document how renegotiation","   interacts with the APIs offered to applications (for example, which","   API calls might return different values on different calls, or which","   callbacks might get called multiple times).","","   To make life simpler for applications that use renegotiation but do","   not expect the certificate to change once it has been authenticated,","   TLS implementations may also wish to offer the applications the","   option to abort the renegotiation if the peer tries to authenticate","   with a different certificate and/or different server name (in the","   server_name extension) than was used earlier.  TLS implementations","   may alternatively offer the option to disable renegotiation once the","   client certificate has been authenticated.  However, enabling these","   options by default for all applications could break existing","   applications that depend on using renegotiation to change from one","   certificate to another.  (For example, long-lived TLS connections","   could change to a renewed certificate; or renegotiation could select","   a different cipher suite that requires using a different","   certificate.)","","   Finally, designers of applications that depend on renegotiation are","   reminded that many TLS APIs represent application data as a simple","   octet stream; applications may not be able to determine exactly which","   application data octets were received before, during, or after","   renegotiation.  Especially if the peer presents a different","   certificate during renegotiation, care is needed when specifying how","   the application should handle the data."],"requirements":[293,294]},{"id":"section-6","title":"IANA Considerations","lines":["   IANA has added the extension code point 65281 (0xff01), which has","   been used for prototype implementations, for the \"renegotiation_info\"","   extension to the TLS ExtensionType values registry.","","   IANA has added TLS cipher suite number 0x00,0xFF with name","   TLS_EMPTY_RENEGOTIATION_INFO_SCSV to the TLS Cipher Suite registry."]},{"id":"section-7","title":"Acknowledgements","lines":["   This vulnerability was originally discovered by Marsh Ray and","   independently rediscovered by Martin Rex.  The general concept behind","   the extension described here was independently invented by Steve","   Dispensa, Nasko Oskov, and Eric Rescorla with refinements from Nelson","   Bolyard, Pasi Eronen, Michael D'Errico, Stephen Farrell, Michael","   Gray, David-Sarah Hopwood, Ben Laurie, David Makepeace, Bodo Moeller,","   Martin Rex, Peter Robinson, Jesse Walker, Nico Williams, and other","   members of the Project Mogul team and the TLS WG."]},{"id":"section-8","title":"References","lines":[]},{"id":"section-8.1","title":"Normative References","lines":["   [RFC2119]  Bradner, S., \"Key words for use in RFCs to Indicate","              Requirement Levels\", BCP 14, RFC 2119, March 1997.","","   [RFC5246]  Dierks, T. and E. Rescorla, \"The Transport Layer Security","              (TLS) Protocol Version 1.2\", RFC 5246, August 2008."]},{"id":"section-8.2","title":"Informative References","lines":["   [RFC4347]  Rescorla, E. and N. Modadugu, \"Datagram Transport Layer","              Security\", RFC 4347, April 2006.","","   [RFC5056]  Williams, N., \"On the Use of Channel Bindings to Secure","              Channels\", RFC 5056, November 2007.","","   [TLS-CHANNEL-BINDINGS]","              Altman, J., Williams, N., and L. Zhu, \"Channel Bindings","              for TLS\", Work in Progress, October 2009.","","   [RFC2818]  Rescorla, E., \"HTTP Over TLS\", RFC 2818, May 2000.","","   [RFC2965]  Kristol, D. and L. Montulli, \"HTTP State Management","              Mechanism\", RFC 2965, October 2000.","","   [Ray09]    Ray, M., \"Authentication Gap in TLS Renegotiation\",","              November 2009, <http://extendedsubset.com/?p=8>.","","   [SSLv3]    Freier, A., Karlton, P., and P. Kocher, \"The SSL Protocol","              Version 3.0\", Work in Progress, November 1996."]},{"id":"name-authors-addresses","title":"Authors' Addresses","lines":["   Eric Rescorla","   RTFM, Inc.","   2064 Edgewood Drive","   Palo Alto, CA  94303","   USA","","   EMail:  ekr@rtfm.com","","   Marsh Ray","   PhoneFactor","   7301 W 129th Street","   Overland Park, KS  66213","   USA","","   EMail:  marsh@extendedsubset.com","","   Steve Dispensa","   PhoneFactor","   7301 W 129th Street","   Overland Park, KS  66213","   USA","","   EMail:  dispensa@phonefactor.com","","   Nasko Oskov","   Microsoft","   One Microsoft Way","   Redmond, WA  98052","   USA","","   EMail:  nasko.oskov@microsoft.com"]}]},"https://www.rfc-editor.org/rfc/rfc5869":{"format":"ietf","requirements":[295,296],"sections":[{"id":"name-abstract","title":"Abstract","lines":["   This document specifies a simple Hashed Message Authentication Code","   (HMAC)-based key derivation function (HKDF), which can be used as a","   building block in various protocols and applications.  The key","   derivation function (KDF) is intended to support a wide range of","   applications and requirements, and is conservative in its use of","   cryptographic hash functions."]},{"id":"name-status-of-this-memo","title":"Status of This Memo","lines":["   This document is not an Internet Standards Track specification; it is","   published for informational purposes.","","   This document is a product of the Internet Engineering Task Force","   (IETF).  It represents the consensus of the IETF community.  It has","   received public review and has been approved for publication by the","   Internet Engineering Steering Group (IESG).  Not all documents","   approved by the IESG are a candidate for any level of Internet","   Standard; see Section 2 of RFC 5741.","","   Information about the current status of this document, any errata,","   and how to provide feedback on it may be obtained at","   http://www.rfc-editor.org/info/rfc5869."]},{"id":"name-copyright-notice","title":"Copyright Notice","lines":["   Copyright (c) 2010 IETF Trust and the persons identified as the","   document authors.  All rights reserved.","","   This document is subject to BCP 78 and the IETF Trust's Legal","   Provisions Relating to IETF Documents","   (http://trustee.ietf.org/license-info) in effect on the date of","   publication of this document.  Please review these documents","   carefully, as they describe your rights and restrictions with respect","   to this document.  Code Components extracted from this document must","   include Simplified BSD License text as described in Section 4.e of","   the Trust Legal Provisions and are provided without warranty as","   described in the Simplified BSD License."]},{"id":"section-1","title":"Introduction","lines":["   A key derivation function (KDF) is a basic and essential component of","   cryptographic systems.  Its goal is to take some source of initial","   keying material and derive from it one or more cryptographically","   strong secret keys.","","   This document specifies a simple HMAC-based [HMAC] KDF, named HKDF,","   which can be used as a building block in various protocols and","   applications, and is already used in several IETF protocols,","   including [IKEv2], [PANA], and [EAP-AKA].  The purpose is to document","   this KDF in a general way to facilitate adoption in future protocols","   and applications, and to discourage the proliferation of multiple KDF","   mechanisms.  It is not intended as a call to change existing","   protocols and does not change or update existing specifications using","   this KDF.","","   HKDF follows the \"extract-then-expand\" paradigm, where the KDF","   logically consists of two modules.  The first stage takes the input","   keying material and \"extracts\" from it a fixed-length pseudorandom","   key K.  The second stage \"expands\" the key K into several additional","   pseudorandom keys (the output of the KDF).","","   In many applications, the input keying material is not necessarily","   distributed uniformly, and the attacker may have some partial","   knowledge about it (for example, a Diffie-Hellman value computed by a","   key exchange protocol) or even partial control of it (as in some","   entropy-gathering applications).  Thus, the goal of the \"extract\"","   stage is to \"concentrate\" the possibly dispersed entropy of the input","   keying material into a short, but cryptographically strong,","   pseudorandom key.  In some applications, the input may already be a","   good pseudorandom key; in these cases, the \"extract\" stage is not","   necessary, and the \"expand\" part can be used alone.","","   The second stage \"expands\" the pseudorandom key to the desired","   length; the number and lengths of the output keys depend on the","   specific cryptographic algorithms for which the keys are needed.","","   Note that some existing KDF specifications, such as NIST Special","   Publication 800-56A [800-56A], NIST Special Publication 800-108","   [800-108] and IEEE Standard 1363a-2004 [1363a], either only consider","   the second stage (expanding a pseudorandom key), or do not explicitly","   differentiate between the \"extract\" and \"expand\" stages, often","   resulting in design shortcomings.  The goal of this specification is","   to accommodate a wide range of KDF requirements while minimizing the","   assumptions about the underlying hash function.  The \"extract-then-","   expand\" paradigm supports well this goal (see [HKDF-paper] for more","   information about the design rationale)."]},{"id":"section-2","title":"HMAC-based Key Derivation Function (HKDF)","lines":[]},{"id":"section-2.1","title":"Notation","lines":["   HMAC-Hash denotes the HMAC function [HMAC] instantiated with hash","   function 'Hash'.  HMAC always has two arguments: the first is a key","   and the second an input (or message).  (Note that in the extract","   step, 'IKM' is used as the HMAC input, not as the HMAC key.)","","   When the message is composed of several elements we use concatenation","   (denoted |) in the second argument; for example, HMAC(K, elem1 |","   elem2 | elem3).","","   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\",","   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this","   document are to be interpreted as described in [KEYWORDS]."]},{"id":"section-2.2","title":"Step 1: Extract","lines":["   HKDF-Extract(salt, IKM) -> PRK","","   Options:","      Hash     a hash function; HashLen denotes the length of the","               hash function output in octets","","   Inputs:","      salt     optional salt value (a non-secret random value);","               if not provided, it is set to a string of HashLen zeros.","      IKM      input keying material","","   Output:","      PRK      a pseudorandom key (of HashLen octets)","","   The output PRK is calculated as follows:","","   PRK = HMAC-Hash(salt, IKM)"]},{"id":"section-2.3","title":"Step 2: Expand","lines":["   HKDF-Expand(PRK, info, L) -> OKM","","   Options:","      Hash     a hash function; HashLen denotes the length of the","               hash function output in octets","","   Inputs:","      PRK      a pseudorandom key of at least HashLen octets","               (usually, the output from the extract step)","      info     optional context and application specific information","               (can be a zero-length string)","      L        length of output keying material in octets","               (<= 255*HashLen)","","   Output:","      OKM      output keying material (of L octets)","","   The output OKM is calculated as follows:","","   N = ceil(L/HashLen)","   T = T(1) | T(2) | T(3) | ... | T(N)","   OKM = first L octets of T","","   where:","   T(0) = empty string (zero length)","   T(1) = HMAC-Hash(PRK, T(0) | info | 0x01)","   T(2) = HMAC-Hash(PRK, T(1) | info | 0x02)","   T(3) = HMAC-Hash(PRK, T(2) | info | 0x03)","   ...","","   (where the constant concatenated to the end of each T(n) is a","   single octet.)"]},{"id":"section-3","title":"Notes to HKDF Users","lines":["   This section contains a set of guiding principles regarding the use","   of HKDF.  A much more extensive account of such principles and design","   rationale can be found in [HKDF-paper]."]},{"id":"section-3.1","title":"To Salt or not to Salt","lines":["   HKDF is defined to operate with and without random salt.  This is","   done to accommodate applications where a salt value is not available.","   We stress, however, that the use of salt adds significantly to the","   strength of HKDF, ensuring independence between different uses of the","   hash function, supporting \"source-independent\" extraction, and","   strengthening the analytical results that back the HKDF design.","","   Random salt differs fundamentally from the initial keying material in","   two ways: it is non-secret and can be re-used.  As such, salt values","   are available to many applications.  For example, a pseudorandom","   number generator (PRNG) that continuously produces outputs by","   applying HKDF to renewable pools of entropy (e.g., sampled system","   events) can fix a salt value and use it for multiple applications of","","   HKDF without having to protect the secrecy of the salt.  In a","   different application domain, a key agreement protocol deriving","   cryptographic keys from a Diffie-Hellman exchange can derive a salt","   value from public nonces exchanged and authenticated between","   communicating parties as part of the key agreement (this is the","   approach taken in [IKEv2]).","","   Ideally, the salt value is a random (or pseudorandom) string of the","   length HashLen.  Yet, even a salt value of less quality (shorter in","   size or with limited entropy) may still make a significant","   contribution to the security of the output keying material; designers","   of applications are therefore encouraged to provide salt values to","   HKDF if such values can be obtained by the application.","","   It is worth noting that, while not the typical case, some","   applications may even have a secret salt value available for use; in","   such a case, HKDF provides an even stronger security guarantee.  An","   example of such application is IKEv1 in its \"public-key encryption","   mode\", where the \"salt\" to the extractor is computed from nonces that","   are secret; similarly, the pre-shared mode of IKEv1 uses a secret","   salt derived from the pre-shared key."]},{"id":"section-3.2","title":"The 'info' Input to HKDF","lines":["   While the 'info' value is optional in the definition of HKDF, it is","   often of great importance in applications.  Its main objective is to","   bind the derived key material to application- and context-specific","   information.  For example, 'info' may contain a protocol number,","   algorithm identifiers, user identities, etc.  In particular, it may","   prevent the derivation of the same keying material for different","   contexts (when the same input key material (IKM) is used in such","   different contexts).  It may also accommodate additional inputs to","   the key expansion part, if so desired (e.g., an application may want","   to bind the key material to its length L, thus making L part of the","   'info' field).  There is one technical requirement from 'info': it","   should be independent of the input key material value IKM."]},{"id":"section-3.3","title":"To Skip or not to Skip","lines":["   In some applications, the input key material IKM may already be","   present as a cryptographically strong key (for example, the premaster","   secret in TLS RSA cipher suites would be a pseudorandom string,","   except for the first two octets).  In this case, one can skip the","   extract part and use IKM directly to key HMAC in the expand step.  On","   the other hand, applications may still use the extract part for the","   sake of compatibility with the general case.  In particular, if IKM","   is random (or pseudorandom) but longer than an HMAC key, the extract","   step can serve to output a suitable HMAC key (in the case of HMAC","","   this shortening via the extractor is not strictly necessary since",[[[],0,"   HMAC is defined to work with long keys too).  "],[[295],160,"Note, however, that if"]],[[[],0,"   "],[[295],160,"the IKM is a Diffie-Hellman value, as in the case of TLS with Diffie-"]],[[[],0,"   "],[[295],160,"Hellman, then the extract part SHOULD NOT be skipped."],[[],0,"  Doing so would"]],"   result in using the Diffie-Hellman value g^{xy} itself (which is NOT","   a uniformly random or pseudorandom string) as the key PRK for HMAC.","   Instead, HKDF should apply the extract step to g^{xy} (preferably","   with a salt value) and use the resultant PRK as a key to HMAC in the","   expansion part.","","   In the case where the amount of required key bits, L, is no more than",[[[],0,"   HashLen, one could use PRK directly as the OKM.  "],[[296],160,"This, however, is"]],[[[],0,"   "],[[296],160,"NOT RECOMMENDED, especially because it would omit the use of 'info'"]],[[[],0,"   "],[[296],160,"as part of the derivation process (and adding 'info' as an input to"]],[[[],0,"   "],[[296],160,"the extract step is not advisable -- see [HKDF-paper])."]]],"requirements":[295,296]},{"id":"section-3.4","title":"The Role of Independence","lines":["   The analysis of key derivation functions assumes that the input","   keying material (IKM) comes from some source modeled as a probability","   distribution over bit streams of a certain length (e.g., streams","   produced by an entropy pool, values derived from Diffie-Hellman","   exponents chosen at random, etc.); each instance of IKM is a sample","   from that distribution.  A major goal of key derivation functions is","   to ensure that, when applying the KDF to any two values IKM and IKM'","   sampled from the (same) source distribution, the resultant keys OKM","   and OKM' are essentially independent of each other (in a statistical","   or computational sense).  To achieve this goal, it is important that","   inputs to KDF are selected from appropriate input distributions and","   also that inputs are chosen independently of each other (technically,","   it is necessary that each sample will have sufficient entropy, even","   when conditioned on other inputs to KDF).","","   Independence is also an important aspect of the salt value provided","   to a KDF.  While there is no need to keep the salt secret, and the","   same salt value can be used with multiple IKM values, it is assumed","   that salt values are independent of the input keying material.  In","   particular, an application needs to make sure that salt values are","   not chosen or manipulated by an attacker.  As an example, consider","   the case (as in IKE) where the salt is derived from nonces supplied","   by the parties in a key exchange protocol.  Before the protocol can","   use such salt to derive keys, it needs to make sure that these nonces","   are authenticated as coming from the legitimate parties rather than","   selected by the attacker (in IKE, for example this authentication is","   an integral part of the authenticated Diffie-Hellman exchange)."]},{"id":"section-4","title":"Applications of HKDF","lines":["   HKDF is intended for use in a wide variety of KDF applications.","   These include the building of pseudorandom generators from imperfect","   sources of randomness (such as a physical random number generator","   (RNG)); the generation of pseudorandomness out of weak sources of","   randomness, such as entropy collected from system events, user's","   keystrokes, etc.; the derivation of cryptographic keys from a shared","   Diffie-Hellman value in a key-agreement protocol; derivation of","   symmetric keys from a hybrid public-key encryption scheme; key","   derivation for key-wrapping mechanisms; and more.  All of these","   applications can benefit from the simplicity and multi-purpose nature","   of HKDF, as well as from its analytical foundation.","","   On the other hand, it is anticipated that some applications will not","   be able to use HKDF \"as-is\" due to specific operational requirements,","   or will be able to use it but without the full benefits of the","   scheme.  One significant example is the derivation of cryptographic","   keys from a source of low entropy, such as a user's password.  The","   extract step in HKDF can concentrate existing entropy but cannot","   amplify entropy.  In the case of password-based KDFs, a main goal is","   to slow down dictionary attacks using two ingredients: a salt value,","   and the intentional slowing of the key derivation computation.  HKDF","   naturally accommodates the use of salt; however, a slowing down","   mechanism is not part of this specification.  Applications interested","   in a password-based KDF should consider whether, for example, [PKCS5]","   meets their needs better than HKDF."]},{"id":"section-5","title":"Security Considerations","lines":["   In spite of the simplicity of HKDF, there are many security","   considerations that have been taken into account in the design and","   analysis of this construction.  An exposition of all of these aspects","   is beyond the scope of this document.  Please refer to [HKDF-paper]","   for detailed information, including rationale for the design and for","   the guidelines presented in Section 3.","","   A major effort has been made in the above paper [HKDF-paper] to","   provide a cryptographic analysis of HKDF as a multi-purpose KDF that","   exercises much care in the way it utilizes cryptographic hash","   functions.  This is particularly important due to the limited","   confidence we have in the strength of current hash functions.  This","   analysis, however, does not imply the absolute security of any","   scheme, and it depends heavily on the strength of the underlying hash","   function and on modeling choices.  Yet, it serves as a strong","   indication of the correct structure of the HKDF design and its","   advantages over other common KDF schemes."]},{"id":"section-6","title":"Acknowledgments","lines":["   The authors would like to thank members of the CFRG (Crypto Forum","   Research Group) list for their useful comments, and to Dan Harkins","   for providing test vectors."]},{"id":"section-7","title":"References","lines":[]},{"id":"section-7.1","title":"Normative References","lines":["   [HMAC]       Krawczyk, H., Bellare, M., and R. Canetti, \"HMAC: Keyed-","                Hashing for Message Authentication\", RFC 2104,","                February 1997.","","   [KEYWORDS]   Bradner, S., \"Key words for use in RFCs to Indicate","                Requirement Levels\", BCP 14, RFC 2119, March 1997.","","   [SHS]        National Institute of Standards and Technology, \"Secure","                Hash Standard\", FIPS PUB 180-3, October 2008."]},{"id":"section-7.2","title":"Informative References","lines":["   [1363a]      Institute of Electrical and Electronics Engineers, \"IEEE","                Standard Specifications for Public-Key Cryptography -","                Amendment 1: Additional Techniques\", IEEE Std","                1363a-2004, 2004.","","   [800-108]    National Institute of Standards and Technology,","                \"Recommendation for Key Derivation Using Pseudorandom","                Functions\", NIST Special Publication 800-108,","                November 2008.","","   [800-56A]    National Institute of Standards and Technology,","                \"Recommendation for Pair-Wise Key Establishment Schemes","                Using Discrete Logarithm Cryptography (Revised)\", NIST","                Special Publication 800-56A, March 2007.","","   [EAP-AKA]    Arkko, J., Lehtovirta, V., and P. Eronen, \"Improved","                Extensible Authentication Protocol Method for 3rd","                Generation Authentication and Key Agreement (EAP-AKA')\",","                RFC 5448, May 2009.","","   [HKDF-paper] Krawczyk, H., \"Cryptographic Extraction and Key","                Derivation: The HKDF Scheme\", Proceedings of CRYPTO 2010","                (to appear), 2010, <http://eprint.iacr.org/2010/264>.","","   [IKEv2]      Kaufman, C., Ed., \"Internet Key Exchange (IKEv2)","                Protocol\", RFC 4306, December 2005.","","   [PANA]       Forsberg, D., Ohba, Y., Ed., Patil, B., Tschofenig, H.,","                and A. Yegin, \"Protocol for Carrying Authentication for","                Network Access (PANA)\", RFC 5191, May 2008.","","   [PKCS5]      Kaliski, B., \"PKCS #5: Password-Based Cryptography","                Specification Version 2.0\", RFC 2898, September 2000."]},{"id":"appendix-A","title":"Test Vectors","lines":["   This appendix provides test vectors for SHA-256 and SHA-1 hash","   functions [SHS]."]},{"id":"appendix-A.1","title":"Test Case 1","lines":["   Basic test case with SHA-256","","   Hash = SHA-256","   IKM  = 0x0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b (22 octets)","   salt = 0x000102030405060708090a0b0c (13 octets)","   info = 0xf0f1f2f3f4f5f6f7f8f9 (10 octets)","   L    = 42","","   PRK  = 0x077709362c2e32df0ddc3f0dc47bba63","          90b6c73bb50f9c3122ec844ad7c2b3e5 (32 octets)","   OKM  = 0x3cb25f25faacd57a90434f64d0362f2a","          2d2d0a90cf1a5a4c5db02d56ecc4c5bf","          34007208d5b887185865 (42 octets)"]},{"id":"appendix-A.2","title":"Test Case 2","lines":["   Test with SHA-256 and longer inputs/outputs","","   Hash = SHA-256","   IKM  = 0x000102030405060708090a0b0c0d0e0f","          101112131415161718191a1b1c1d1e1f","          202122232425262728292a2b2c2d2e2f","          303132333435363738393a3b3c3d3e3f","          404142434445464748494a4b4c4d4e4f (80 octets)","   salt = 0x606162636465666768696a6b6c6d6e6f","          707172737475767778797a7b7c7d7e7f","          808182838485868788898a8b8c8d8e8f","          909192939495969798999a9b9c9d9e9f","          a0a1a2a3a4a5a6a7a8a9aaabacadaeaf (80 octets)","   info = 0xb0b1b2b3b4b5b6b7b8b9babbbcbdbebf","          c0c1c2c3c4c5c6c7c8c9cacbcccdcecf","          d0d1d2d3d4d5d6d7d8d9dadbdcdddedf","          e0e1e2e3e4e5e6e7e8e9eaebecedeeef","          f0f1f2f3f4f5f6f7f8f9fafbfcfdfeff (80 octets)","   L    = 82","","   PRK  = 0x06a6b88c5853361a06104c9ceb35b45c","          ef760014904671014a193f40c15fc244 (32 octets)","   OKM  = 0xb11e398dc80327a1c8e7f78c596a4934","          4f012eda2d4efad8a050cc4c19afa97c","          59045a99cac7827271cb41c65e590e09","          da3275600c2f09b8367793a9aca3db71","          cc30c58179ec3e87c14c01d5c1f3434f","          1d87 (82 octets)"]},{"id":"appendix-A.3","title":"Test Case 3","lines":["   Test with SHA-256 and zero-length salt/info","","   Hash = SHA-256","   IKM  = 0x0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b (22 octets)","   salt = (0 octets)","   info = (0 octets)","   L    = 42","","   PRK  = 0x19ef24a32c717b167f33a91d6f648bdf","          96596776afdb6377ac434c1c293ccb04 (32 octets)","   OKM  = 0x8da4e775a563c18f715f802a063c5a31","          b8a11f5c5ee1879ec3454e5f3c738d2d","          9d201395faa4b61a96c8 (42 octets)"]},{"id":"appendix-A.4","title":"Test Case 4","lines":["   Basic test case with SHA-1","","   Hash = SHA-1","   IKM  = 0x0b0b0b0b0b0b0b0b0b0b0b (11 octets)","   salt = 0x000102030405060708090a0b0c (13 octets)","   info = 0xf0f1f2f3f4f5f6f7f8f9 (10 octets)","   L    = 42","","   PRK  = 0x9b6c18c432a7bf8f0e71c8eb88f4b30baa2ba243 (20 octets)","   OKM  = 0x085a01ea1b10f36933068b56efa5ad81","          a4f14b822f5b091568a9cdd4f155fda2","          c22e422478d305f3f896 (42 octets)"]},{"id":"appendix-A.5","title":"Test Case 5","lines":["   Test with SHA-1 and longer inputs/outputs","","   Hash = SHA-1","   IKM  = 0x000102030405060708090a0b0c0d0e0f","          101112131415161718191a1b1c1d1e1f","          202122232425262728292a2b2c2d2e2f","          303132333435363738393a3b3c3d3e3f","          404142434445464748494a4b4c4d4e4f (80 octets)","   salt = 0x606162636465666768696a6b6c6d6e6f","          707172737475767778797a7b7c7d7e7f","          808182838485868788898a8b8c8d8e8f","          909192939495969798999a9b9c9d9e9f","          a0a1a2a3a4a5a6a7a8a9aaabacadaeaf (80 octets)","   info = 0xb0b1b2b3b4b5b6b7b8b9babbbcbdbebf","          c0c1c2c3c4c5c6c7c8c9cacbcccdcecf","          d0d1d2d3d4d5d6d7d8d9dadbdcdddedf","          e0e1e2e3e4e5e6e7e8e9eaebecedeeef","          f0f1f2f3f4f5f6f7f8f9fafbfcfdfeff (80 octets)","   L    = 82","","   PRK  = 0x8adae09a2a307059478d309b26c4115a224cfaf6 (20 octets)","   OKM  = 0x0bd770a74d1160f7c9f12cd5912a06eb","          ff6adcae899d92191fe4305673ba2ffe","          8fa3f1a4e5ad79f3f334b3b202b2173c","          486ea37ce3d397ed034c7f9dfeb15c5e","          927336d0441f4c4300e2cff0d0900b52","          d3b4 (82 octets)"]},{"id":"appendix-A.6","title":"Test Case 6","lines":["   Test with SHA-1 and zero-length salt/info","","   Hash = SHA-1","   IKM  = 0x0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b (22 octets)","   salt = (0 octets)","   info = (0 octets)","   L    = 42","","   PRK  = 0xda8c8a73c7fa77288ec6f5e7c297786aa0d32d01 (20 octets)","   OKM  = 0x0ac1af7002b3d761d1e55298da9d0506","          b9ae52057220a306e07b6b87e8df21d0","          ea00033de03984d34918 (42 octets)"]},{"id":"appendix-A.7","title":"Test Case 7","lines":["   Test with SHA-1, salt not provided (defaults to HashLen zero octets),","   zero-length info","","   Hash = SHA-1","   IKM  = 0x0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c (22 octets)","   salt = not provided (defaults to HashLen zero octets)","   info = (0 octets)","   L    = 42","","   PRK  = 0x2adccada18779e7c2077ad2eb19d3f3e731385dd (20 octets)","   OKM  = 0x2c91117204d745f3500d636a62f64f0a","          b3bae548aa53d423b0d1f27ebba6f5e5","          673a081d70cce7acfc48 (42 octets)"]},{"id":"name-authors-addresses","title":"Authors' Addresses","lines":["   Hugo Krawczyk","   IBM Research","   19 Skyline Drive","   Hawthorne, NY 10532","   USA","","   EMail: hugokraw@us.ibm.com","","   Pasi Eronen","   Nokia Research Center","   P.O. Box 407","   FI-00045 Nokia Group","   Finland","","   EMail: pasi.eronen@nokia.com"]}]},"https://www.rfc-editor.org/rfc/rfc7627":{"format":"ietf","requirements":[297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323],"sections":[{"id":"name-abstract","title":"Abstract","lines":["   The Transport Layer Security (TLS) master secret is not","   cryptographically bound to important session parameters such as the","   server certificate.  Consequently, it is possible for an active","   attacker to set up two sessions, one with a client and another with a","   server, such that the master secrets on the two sessions are the","   same.  Thereafter, any mechanism that relies on the master secret for","   authentication, including session resumption, becomes vulnerable to a","   man-in-the-middle attack, where the attacker can simply forward","   messages back and forth between the client and server.  This","   specification defines a TLS extension that contextually binds the","   master secret to a log of the full handshake that computes it, thus","   preventing such attacks."]},{"id":"name-status-of-this-memo","title":"Status of This Memo","lines":["   This is an Internet Standards Track document.","","   This document is a product of the Internet Engineering Task Force","   (IETF).  It represents the consensus of the IETF community.  It has","   received public review and has been approved for publication by the","   Internet Engineering Steering Group (IESG).  Further information on","   Internet Standards is available in Section 2 of RFC 5741.","","   Information about the current status of this document, any errata,","   and how to provide feedback on it may be obtained at","   http://www.rfc-editor.org/info/rfc7627."]},{"id":"name-copyright-notice","title":"Copyright Notice","lines":["   Copyright (c) 2015 IETF Trust and the persons identified as the","   document authors.  All rights reserved.","","   This document is subject to BCP 78 and the IETF Trust's Legal","   Provisions Relating to IETF Documents","   (http://trustee.ietf.org/license-info) in effect on the date of","   publication of this document.  Please review these documents","   carefully, as they describe your rights and restrictions with respect","   to this document.  Code Components extracted from this document must","   include Simplified BSD License text as described in Section 4.e of","   the Trust Legal Provisions and are provided without warranty as","   described in the Simplified BSD License."]},{"id":"name-table-of-contents","title":"Table of Contents","lines":["   1. Introduction ....................................................3","   2. Requirements Notation ...........................................5","   3. The TLS Session Hash ............................................5","   4. The Extended Master Secret ......................................6","   5. Extension Negotiation ...........................................6","      5.1. Extension Definition .......................................6","      5.2. Client and Server Behavior: Full Handshake .................7","      5.3. Client and Server Behavior: Abbreviated Handshake ..........7","      5.4. Interoperability Considerations ............................9","   6. Security Considerations .........................................9","      6.1. Triple Handshake Preconditions and Impact ..................9","      6.2. Cryptographic Properties of the Hash Function .............11","      6.3. Handshake Messages Included in the Session Hash ...........11","      6.4. No SSL 3.0 Support ........................................12","   7. IANA Considerations ............................................12","   8. References .....................................................12","      8.1. Normative References ......................................12","      8.2. Informative References ....................................13","   Acknowledgments ...................................................14","   Authors' Addresses ................................................15"]},{"id":"section-1","title":"Introduction","lines":["   In TLS [RFC5246], every session has a \"master_secret\" computed as:","","   master_secret = PRF(pre_master_secret, \"master secret\",","                       ClientHello.random + ServerHello.random)","                       [0..47];","","   where the \"pre_master_secret\" is the result of some key exchange","   protocol.  For example, when the handshake uses an RSA ciphersuite,","   this value is generated uniformly at random by the client, whereas","   for Ephemeral Diffie-Hellman (DHE) ciphersuites, it is the result of","   a Diffie-Hellman key agreement.","","   As described in [TRIPLE-HS], in both the RSA and DHE key exchanges,","   an active attacker can synchronize two TLS sessions so that they","   share the same \"master_secret\".  For an RSA key exchange where the","   client is unauthenticated, this is achieved as follows.  Suppose a","   client C connects to a server A.  C does not realize that A is","   malicious and that A connects in the background to an honest server S","   and completes both handshakes.  For simplicity, assume that C and S","   only use RSA ciphersuites.","","   1.  C sends a \"ClientHello\" to A, and A forwards it to S.","","   2.  S sends a \"ServerHello\" to A, and A forwards it to C.","","   3.  S sends a \"Certificate\", containing its certificate chain, to A.","       A replaces it with its own certificate chain and sends it to C.","","   4.  S sends a \"ServerHelloDone\" to A, and A forwards it to C.","","   5.  C sends a \"ClientKeyExchange\" to A, containing the","       \"pre_master_secret\", encrypted with A's public key.  A decrypts","       the \"pre_master_secret\", re-encrypts it with S's public key, and","       sends it on to S.","","   6.  C sends a \"Finished\" to A.  A computes a \"Finished\" for its","       connection with S and sends it to S.","","   7.  S sends a \"Finished\" to A.  A computes a \"Finished\" for its","       connection with C and sends it to C.","","   At this point, both connections (between C and A, and between A and","   S) have new sessions that share the same \"pre_master_secret\",","   \"ClientHello.random\", \"ServerHello.random\", as well as other session","   parameters, including the session identifier and, optionally, the","   session ticket.  Hence, the \"master_secret\" value will be equal for","","   the two sessions and will be associated both at C and S with the same","   session ID, even though the server identities on the two connections","   are different.  Recall that C only sees A's certificate and is","   unaware of A's connection with S.  Moreover, the record keys on the","   two connections will also be the same.","","   The scenario above shows that TLS does not guarantee that the master","   secrets and keys used on different connections will be different.","   Even if client authentication is used, the scenario still works,","   except that the two sessions now differ on both client and server","   identities.","","   A similar scenario can be achieved when the handshake uses a DHE","   ciphersuite.  Note that even if the client or server does not prefer","   using RSA or DHE, the attacker can force them to use it by offering","   only RSA or DHE in its hello messages.  Handshakes using Ephemeral","   Elliptic Curve Diffie-Hellman (ECDHE) ciphersuites are also","   vulnerable if they allow arbitrary explicit curves or use curves with","   small subgroups.  Against more powerful adversaries, other key","   exchanges, such as Secure Remote Password (SRP) and Pre-Shared Key","   (PSK), have also been shown to be vulnerable [VERIFIED-BINDINGS].","","   Once A has synchronized the two connections, since the keys are the","   same on the two sides, it can step away and transparently forward","   messages between C and S, reading and modifying when it desires.  In","   the key exchange literature, such occurrences are called unknown key-","   share attacks, since C and S share a secret but they both think that","   their secret is shared only with A.  In themselves, these attacks do","   not break integrity or confidentiality between honest parties, but","   they offer a useful starting point from which to mount impersonation","   attacks on C and S.","","   Suppose C tries to resume its session on a new connection with A.  A","   can then resume its session with S on a new connection and forward","   the abbreviated handshake messages unchanged between C and S.  Since","   the abbreviated handshake only relies on the master secret for","   authentication and does not mention client or server identities, both","   handshakes complete successfully, resulting in the same session keys","   and the same handshake log.  A still knows the connection keys and","   can send messages to both C and S.","","   Critically, at the new connection, even the handshake log is the same","   on C and S, thus defeating any man-in-the-middle protection scheme","   that relies on the uniqueness of finished messages, such as the","   secure renegotiation indication extension [RFC5746] or TLS channel","   bindings [RFC5929].  [TRIPLE-HS] describes several exploits based on","   such session synchronization attacks.  In particular, it describes a","   man-in-the-middle attack, called the \"triple handshake\", that","","   circumvents the protections of [RFC5746] to break client-","   authenticated TLS renegotiation after session resumption.  Similar","   attacks apply to application-level authentication mechanisms that","   rely on channel bindings [RFC5929] or on key material exported from","   TLS [RFC5705].","","   The underlying protocol issue leading to these attacks is that the","   TLS master secret is not guaranteed to be unique across sessions,","   since it is not context-bound to the full handshake that generated","   it.  If we fix this problem in the initial master secret computation,","   then all these attacks can be prevented.  This specification","   introduces a TLS extension that changes the way the \"master_secret\"","   value is computed in a full handshake by including the log of the","   handshake messages, so that different sessions will, by construction,","   have different master secrets.  This prevents the attacks described","   in [TRIPLE-HS] and documented in Section 2.11 of [RFC7457]."]},{"id":"section-2","title":"Requirements Notation","lines":["   This document uses the same notation and terminology used in the TLS","   protocol specification [RFC5246].","","   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\",","   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"NOT RECOMMENDED\", \"MAY\", and","   \"OPTIONAL\" in this document are to be interpreted as described in RFC","   2119 [RFC2119]."]},{"id":"section-3","title":"The TLS Session Hash","lines":["   When a full TLS handshake takes place, we define","","         session_hash = Hash(handshake_messages)","","   where \"handshake_messages\" refers to all handshake messages sent or","   received, starting at the ClientHello up to and including the","   ClientKeyExchange message, including the type and length fields of","   the handshake messages.  This is the concatenation of all the","   exchanged Handshake structures, as defined in Section 7.4 of","   [RFC5246].","","   For TLS 1.2, the \"Hash\" function is the one defined in Section 7.4.9","   of [RFC5246] for the Finished message computation.  For all previous","   versions of TLS, the \"Hash\" function computes the concatenation of","   MD5 and SHA1.","","   There is no \"session_hash\" for resumed handshakes, as they do not","   lead to the creation of a new session."]},{"id":"section-4","title":"The Extended Master Secret","lines":["   When the extended master secret extension is negotiated in a full","   handshake, the \"master_secret\" is computed as","","   master_secret = PRF(pre_master_secret, \"extended master secret\",","                       session_hash)","                       [0..47];","","   The extended master secret computation differs from that described in","   [RFC5246] in the following ways:","","   o  The \"extended master secret\" label is used instead of \"master","      secret\".","","   o  The \"session_hash\" is used instead of the \"ClientHello.random\" and","      \"ServerHello.random\".","","   The \"session_hash\" depends upon a handshake log that includes","   \"ClientHello.random\" and \"ServerHello.random\", in addition to","   ciphersuites, key exchange information, and certificates (if any)","   from the client and server.  Consequently, the extended master secret","   depends upon the choice of all these session parameters.","","   This design reflects the recommendation that keys should be bound to","   the security contexts that compute them [SP800-108].  The technique","   of mixing a hash of the key exchange messages into master key","   derivation is already used in other well-known protocols such as","   Secure Shell (SSH) [RFC4251].","",[[[],0,"   "],[[297],160,"Clients and servers SHOULD NOT accept handshakes that do not use the"]],[[[],0,"   "],[[297],160,"extended master secret, especially if they rely on features like"]],[[[],0,"   "],[[297],160,"compound authentication that fall into the vulnerable cases described"]],[[[],0,"   "],[[297],160,"in Section 6.1."]]],"requirements":[297]},{"id":"section-5","title":"Extension Negotiation","lines":[]},{"id":"section-5.1","title":"Extension Definition","lines":["   This document defines a new TLS extension, \"extended_master_secret\"","   (with extension type 0x0017), which is used to signal both client and","   server to use the extended master secret computation.  The","   \"extension_data\" field of this extension is empty.  Thus, the entire","   encoding of the extension is 00 17 00 00 (in hexadecimal.)","","   Although this document refers only to TLS, the extension proposed","   here can also be used with Datagram TLS (DTLS) [RFC6347].","",[[[],0,"   "],[[298],224,"If the client and server agree on this extension and a full handshake"]],[[[],0,"   "],[[298],224,"takes place, both client and server MUST use the extended master"]],[[[],0,"   "],[[298],224,"secret derivation algorithm, as defined in Section 4."],[[],0,"  All other"]],"   cryptographic computations remain unchanged."],"requirements":[298]},{"id":"section-5.2","title":"Client and Server Behavior: Full Handshake","lines":["   In the following, we use the phrase \"abort the handshake\" as","   shorthand for terminating the handshake by sending a fatal","   \"handshake_failure\" alert.","",[[[],0,"   "],[[299],224,"In all handshakes, a client implementing this document MUST send the"]],[[[],0,"   "],[[299],224,"\"extended_master_secret\" extension in its ClientHello."]],"",[[[],0,"   "],[[300],224,"If a server implementing this document receives the"]],[[[],0,"   "],[[300],224,"\"extended_master_secret\" extension, it MUST include the extension in"]],[[[],0,"   "],[[300],224,"its ServerHello message."]],"","   If both the ClientHello and ServerHello contain the extension, the","   new session uses the extended master secret computation.","",[[[],0,"   "],[[301],160,"If the server receives a ClientHello without the extension, it SHOULD"]],[[[],0,"   "],[[301],160,"abort the handshake if it does not wish to interoperate with legacy"]],[[[],0,"   "],[[301],160,"clients."],[[],0,"  "],[[302],224,"If it chooses to continue the handshake, then it MUST NOT"]],[[[],0,"   "],[[302],224,"include the extension in the ServerHello."]],"",[[[],0,"   "],[[303],160,"If a client receives a ServerHello without the extension, it SHOULD"]],[[[],0,"   "],[[303],160,"abort the handshake if it does not wish to interoperate with legacy"]],[[[],0,"   "],[[303],160,"servers."]],"",[[[],0,"   "],[[304],224,"If the client and server choose to continue a full handshake without"]],[[[],0,"   "],[[304],224,"the extension, they MUST use the standard master secret derivation"]],[[[],0,"   "],[[304],224,"for the new session."],[[],0,"  In this case, the new session is not protected"]],"   by the mechanisms described in this document.  So, implementers","   should follow the guidelines in Section 5.4 to avoid dangerous usage","   scenarios.  In particular, the master secret derived from the new","   session should not be used for application-level authentication."],"requirements":[299,300,301,302,303,304]},{"id":"section-5.3","title":"Client and Server Behavior: Abbreviated Handshake","lines":[[[[],0,"   "],[[305],160,"The client SHOULD NOT offer an abbreviated handshake to resume a"]],[[[],0,"   "],[[305],160,"session that does not use an extended master secret."],[[],0,"  "],[[306],160,"Instead, it"]],[[[],0,"   "],[[306],160,"SHOULD offer a full handshake."]],"","   If the client chooses to offer an abbreviated handshake even for such","   sessions in order to support legacy insecure resumption, then the","   current connection is not protected by the mechanisms in this","   document.  So, the client should follow the guidelines in Section 5.4","","   to avoid dangerous usage scenarios.  In particular, renegotiation is","   no longer secure on this connection, even if the client and server","   support the renegotiation indication extension [RFC5746].","",[[[],0,"   "],[[307],224,"When offering an abbreviated handshake, the client MUST send the"]],[[[],0,"   "],[[307],224,"\"extended_master_secret\" extension in its ClientHello."]],"","   If a server receives a ClientHello for an abbreviated handshake","   offering to resume a known previous session, it behaves as follows:","",[[[],0,"   "],[[308],224,"o  If the original session did not use the \"extended_master_secret\""]],[[[],0,"      "],[[308],224,"extension but the new ClientHello contains the extension, then the"]],[[[],0,"      "],[[308],224,"server MUST NOT perform the abbreviated handshake."],[[],0,"  "],[[309],160,"Instead, it"]],[[[],0,"      "],[[309],160,"SHOULD continue with a full handshake (as described in"]],[[[],0,"      "],[[309],160,"Section 5.2) to negotiate a new session."]],"",[[[],0,"   "],[[310],224,"o  If the original session used the \"extended_master_secret\""]],[[[],0,"      "],[[310],224,"extension but the new ClientHello does not contain it, the server"]],[[[],0,"      "],[[310],224,"MUST abort the abbreviated handshake."]],"",[[[],0,"   "],[[311],160,"o  If neither the original session nor the new ClientHello uses the"]],[[[],0,"      "],[[311],160,"extension, the server SHOULD abort the handshake."],[[],0,"  If it continues"]],"      with an abbreviated handshake in order to support legacy insecure","      resumption, the connection is no longer protected by the","      mechanisms in this document, and the server should follow the","      guidelines in Section 5.4.","",[[[],0,"   "],[[312],224,"o  If the new ClientHello contains the extension and the server"]],[[[],0,"      "],[[312],224,"chooses to continue the handshake, then the server MUST include"]],[[[],0,"      "],[[312],224,"the \"extended_master_secret\" extension in its ServerHello message."]],"","   If a client receives a ServerHello that accepts an abbreviated","   handshake, it behaves as follows:","",[[[],0,"   "],[[313],224,"o  If the original session did not use the \"extended_master_secret\""]],[[[],0,"      "],[[313],224,"extension but the new ServerHello contains the extension, the"]],[[[],0,"      "],[[313],224,"client MUST abort the handshake."]],"",[[[],0,"   "],[[314],224,"o  If the original session used the extension but the new ServerHello"]],[[[],0,"      "],[[314],224,"does not contain the extension, the client MUST abort the"]],[[[],0,"      "],[[314],224,"handshake."]],"","   If the client and server continue the abbreviated handshake, they","   derive the connection keys for the new session as usual from the","   master secret of the original session."],"requirements":[305,306,307,308,309,310,311,312,313,314]},{"id":"section-5.4","title":"Interoperability Considerations","lines":["   To allow interoperability with legacy clients and servers, a TLS peer","   may decide to accept full handshakes that use the legacy master","   secret computation.  If so, they need to differentiate between","   sessions that use legacy and extended master secrets by adding a flag","   to the session state.","","   If a client or server chooses to continue with a full handshake","   without the extended master secret extension, then the new session","   becomes vulnerable to the man-in-the-middle key synchronization",[[[],0,"   attack described in Section 1.  "],[[315],224,"Hence, the client or server MUST NOT"]],[[[],0,"   "],[[315],224,"export any key material based on the new master secret for any"]],[[[],0,"   "],[[315],224,"subsequent application-level authentication."],[[],0,"  "],[[316],224,"In particular, it MUST"]],[[[],0,"   "],[[316],224,"disable [RFC5705] and any Extensible Authentication Protocol (EAP)"]],[[[],0,"   "],[[316],224,"relying on compound authentication [COMPOUND-AUTH]."]],"","   If a client or server chooses to continue an abbreviated handshake to","   resume a session that does not use the extended master secret, then","   the current connection becomes vulnerable to a man-in-the-middle","   handshake log synchronization attack as described in Section 1.",[[[],0,"   "],[[317],224,"Hence, the client or server MUST NOT use the current handshake's"]],[[[],0,"   "],[[317],224,"\"verify_data\" for application-level authentication."],[[],0,"  "],[[318],224,"In particular,"]],[[[],0,"   "],[[318],224,"the client MUST disable renegotiation and any use of the \"tls-unique\""]],[[[],0,"   "],[[318],224,"channel binding [RFC5929] on the current connection."]],"",[[[],0,"   "],[[319],96,"If the original session uses an extended master secret but the"]],[[[],0,"   "],[[319],96,"ClientHello or ServerHello in the abbreviated handshake does not"]],[[[],0,"   "],[[319],96,"include the extension, it MAY be safe to continue the abbreviated"]],[[[],0,"   "],[[319],96,"handshake since it is protected by the extended master secret of the"]],[[[],0,"   "],[[319],96,"original session."],[[],0,"  This scenario may occur, for example, when a"]],"   server that implements this extension establishes a session but the","   session is subsequently resumed at a different server that does not",[[[],0,"   support the extension.  "],[[320],224,"Since such situations are unusual and likely"]],[[[],0,"   "],[[320],224,"to be the result of transient or inadvertent misconfigurations, this"]],[[[],0,"   "],[[320],224,"document recommends that the client and server MUST abort such"]],[[[],0,"   "],[[320],224,"handshakes."]]],"requirements":[315,316,317,318,319,320]},{"id":"section-6","title":"Security Considerations","lines":[]},{"id":"section-6.1","title":"Triple Handshake Preconditions and Impact","lines":["   One way to mount a triple handshake attack is described in Section 1,","   along with a mention of the security mechanisms that break due to the","   attack; more in-depth discussion and diagrams can be found in","   [TRIPLE-HS].  Here, some further discussion is presented about attack","   preconditions and impact.","","   To mount a triple handshake attack, it must be possible to force the","   same master secret on two different sessions.  For this to happen,","   two preconditions must be met:","","   o  The client, C, must be willing to connect to a malicious server,","      A.  In certain contexts, like the web, this can be easily","      achieved, since a browser can be instructed to load content from","      an untrusted origin.","","   o  The pre-master secret must be synchronized on the two sessions.","      This is particularly easy to achieve with the RSA and DHE key","      exchanges, but under some conditions, ECDHE, SRP, and PSK key","      exchanges can be exploited to this effect as well.","","   Once the master secret is synchronized on two sessions, any security","   property that relies on the uniqueness of the master secret is","   compromised.  For example, a TLS exporter [RFC5705] no longer","   provides a unique key bound to the current session.","","   TLS session resumption also relies on the uniqueness of the master","   secret to authenticate the resuming peers.  Hence, if a synchronized","   session is resumed, the peers cannot be sure about each other's","   identities, and the attacker knows the connection keys.  Clearly, a","   precondition to this step of the attack is that both client and","   server support session resumption (either via session identifier or","   session tickets [RFC5077]).","","   Additionally, in a synchronized abbreviated handshake, the whole","   transcript (which includes the \"verify_data\" values) is synchronized.","   So, after an abbreviated handshake, channel bindings like","   \"tls-unique\" [RFC5929] will not uniquely identify the connection","   anymore.","","   Synchronization of the \"verify_data\" in abbreviated handshakes also","   undermines the security guarantees of the renegotiation indication","   extension [RFC5746], re-enabling a prefix-injection flaw similar to","   the renegotiation attack [Ray09].  However, in a triple handshake","   attack, the client sees the server certificate changing across","   different full handshakes.  Hence, a precondition to mount this stage","   of the attack is that the client accepts different certificates at","   each handshake, even if their common names do not match.  Before the","   triple handshake attack was discovered, this used to be widespread","   behavior, at least among some web browsers; such browsers were hence","   vulnerable to the attack.","","   The extended master secret extension thwarts triple handshake attacks","   at their first stage by ensuring that different sessions necessarily","   end up with different master secret values.  Hence, all security","","   properties relying on the uniqueness of the master secret are now","   expected to hold.  In particular, if a TLS session is protected by","   the extended master secret extension, it is safe to resume it, to use","   its channel bindings, and to allow for certificate changes across","   renegotiation, meaning that all certificates are controlled by the","   same peer.  A symbolic cryptographic protocol analysis justifying the","   extended master secret extension appears in [VERIFIED-BINDINGS]."]},{"id":"section-6.2","title":"Cryptographic Properties of the Hash Function","lines":["   The session hashes of two different sessions need to be distinct;","   hence, the \"Hash\" function used to compute the \"session_hash\" needs",[[[],0,"   to be collision resistant.  "],[[321],160,"As such, hash functions such as MD5 or"]],[[[],0,"   "],[[321],160,"SHA1 are NOT RECOMMENDED."]],"","   We observe that the \"Hash\" function used in the Finished message","   computation already needs to be collision resistant for the","   renegotiation indication extension [RFC5746] to work, because a","   meaningful collision on the handshake messages (and hence on the","   \"verify_data\") may re-enable the renegotiation attack [Ray09].","","   The hash function used to compute the session hash depends on the TLS","   protocol version.  All current ciphersuites defined for TLS 1.2 use","   SHA256 or better, and so does the session hash.  For earlier versions","   of the protocol, only MD5 and SHA1 can be assumed to be supported,","   and this document does not require legacy implementations to add","   support for new hash functions.  In these versions, the session hash","   uses the concatenation of MD5 and SHA1, as in the Finished message."],"requirements":[321]},{"id":"section-6.3","title":"Handshake Messages Included in the Session Hash","lines":["   The \"session_hash\" is intended to encompass all relevant session","   information, including ciphersuite negotiation, key exchange","   messages, and client and server identities.  The hash is needed to","   compute the extended master secret and hence must be available before","   the Finished messages.","","   This document sets the \"session_hash\" to cover all handshake messages","   up to and including the ClientKeyExchange.  For existing TLS","   ciphersuites, these messages include all the significant contents of","   the new session -- CertificateVerify does not change the session","   content.  At the same time, this allows the extended master secret to","   be computed immediately after the pre-master secret, so that","   implementations can shred the temporary pre-master secret from memory","   as early as possible.","","   It is possible that new ciphersuites or TLS extensions may include","   additional messages between ClientKeyExchange and Finished that add","   important session context.  In such cases, some of the security","   guarantees of this specification may no longer apply, and new man-in-","   the-middle attacks may be possible.  For example, if the client and","   server support the session ticket extension [RFC5077], the session","   hash does not cover the new session ticket sent by the server.","   Hence, a man-in-the-middle may be able to cause a client to store a","   session ticket that was not meant for the current session.  Attacks","   based on this vector are not yet known, but applications that store","   additional information in session tickets beyond those covered in the","   session hash require careful analysis."]},{"id":"section-6.4","title":"No SSL 3.0 Support","lines":["   The Secure Sockets Layer (SSL) protocol version 3.0 [RFC6101] is a","   predecessor of the TLS protocol, and it is equally vulnerable to","   triple handshake attacks, alongside other vulnerabilities stemming","   from its use of obsolete cryptographic constructions that are now","   considered weak.  SSL 3.0 has been deprecated [RFC7568].","","   The countermeasure described in this document relies on a TLS",[[[],0,"   extension and hence cannot be used with SSL 3.0.  "],[[322],160,"Clients and servers"]],[[[],0,"   "],[[322],160,"implementing this document SHOULD refuse SSL 3.0 handshakes."],[[],0,"  "],[[323],224,"If they"]],[[[],0,"   "],[[323],224,"choose to support SSL 3.0, the resulting sessions MUST use the legacy"]],[[[],0,"   "],[[323],224,"master secret computation, and the interoperability considerations of"]],[[[],0,"   "],[[323],224,"Section 5.4 apply."]]],"requirements":[322,323]},{"id":"section-7","title":"IANA Considerations","lines":["   IANA has added the extension code point 23 (0x0017), which has been","   used by prototype implementations, for the \"extended_master_secret\"","   extension to the \"ExtensionType Values\" registry specified in the TLS","   specification [RFC5246]."]},{"id":"section-8","title":"References","lines":[]},{"id":"section-8.1","title":"Normative References","lines":["   [RFC2119]   Bradner, S., \"Key words for use in RFCs to Indicate","               Requirement Levels\", BCP 14, RFC 2119,","               DOI 10.17487/RFC2119, March 1997,","               <http://www.rfc-editor.org/info/rfc2119>.","","   [RFC5246]   Dierks, T. and E. Rescorla, \"The Transport Layer Security","               (TLS) Protocol Version 1.2\", RFC 5246,","               DOI 10.17487/RFC5246, August 2008,","               <http://www.rfc-editor.org/info/rfc5246>."]},{"id":"section-8.2","title":"Informative References","lines":["   [COMPOUND-AUTH]","               Asokan, N., Valtteri, N., and K. Nyberg, \"Man-in-the-","               Middle in Tunnelled Authentication Protocols\", Security","               Protocols, LNCS, Volume 3364, DOI 10.1007/11542322_6,","               2005.","","   [Ray09]     Ray, M., \"Authentication Gap in TLS Renegotiation\", 2009.","","   [RFC4251]   Ylonen, T. and C. Lonvick, Ed., \"The Secure Shell (SSH)","               Protocol Architecture\", RFC 4251, DOI 10.17487/RFC4251,","               January 2006, <http://www.rfc-editor.org/info/rfc4251>.","","   [RFC5077]   Salowey, J., Zhou, H., Eronen, P., and H. Tschofenig,","               \"Transport Layer Security (TLS) Session Resumption","               without Server-Side State\", RFC 5077,","               DOI 10.17487/RFC5077, January 2008,","               <http://www.rfc-editor.org/info/rfc5077>.","","   [RFC5705]   Rescorla, E., \"Keying Material Exporters for Transport","               Layer Security (TLS)\", RFC 5705, DOI 10.17487/RFC5705,","               March 2010, <http://www.rfc-editor.org/info/rfc5705>.","","   [RFC5746]   Rescorla, E., Ray, M., Dispensa, S., and N. Oskov,","               \"Transport Layer Security (TLS) Renegotiation Indication","               Extension\", RFC 5746, DOI 10.17487/RFC5746, February","               2010, <http://www.rfc-editor.org/info/rfc5746>.","","   [RFC5929]   Altman, J., Williams, N., and L. Zhu, \"Channel Bindings","               for TLS\", RFC 5929, DOI 10.17487/RFC5929, July 2010,","               <http://www.rfc-editor.org/info/rfc5929>.","","   [RFC6101]   Freier, A., Karlton, P., and P. Kocher, \"The Secure","               Sockets Layer (SSL) Protocol Version 3.0\", RFC 6101,","               DOI 10.17487/RFC6101, August 2011,","               <http://www.rfc-editor.org/info/rfc6101>.","","   [RFC6347]   Rescorla, E. and N. Modadugu, \"Datagram Transport Layer","               Security Version 1.2\", RFC 6347, DOI 10.17487/RFC6347,","               January 2012, <http://www.rfc-editor.org/info/rfc6347>.","","   [RFC7457]   Sheffer, Y., Holz, R., and P. Saint-Andre, \"Summarizing","               Known Attacks on Transport Layer Security (TLS) and","               Datagram TLS (DTLS)\", RFC 7457, DOI 10.17487/RFC7457,","               February 2015, <http://www.rfc-editor.org/info/rfc7457>.","","   [RFC7568]   Barnes, R., Thomson, M., Pironti, A., and A. Langley,","               \"Deprecating Secure Sockets Layer Version 3.0\", RFC 7568,","               DOI 10.17487/RFC7568, June 2015,","               <http://www.rfc-editor.org/info/rfc7568>.","","   [SP800-108] Chen, L., \"Recommendation for Key Derivation Using","               Pseudorandom Functions (Revised)\", NIST Special","               Publication 800-108, 2009.","","   [TRIPLE-HS] Bhargavan, K., Delignat-Lavaud, A., Fournet, C., Pironti,","               A., and P-Y. Strub, \"Triple Handshakes and Cookie","               Cutters: Breaking and Fixing Authentication over TLS\",","               IEEE Symposium on Security and Privacy,","               DOI 10.1109/SP.2014.14, 2014.","","   [VERIFIED-BINDINGS]","               Bhargavan, K., Delignat-Lavaud, A., and A. Pironti,","               \"Verified Contributive Channel Bindings for Compound","               Authentication\", Network and Distributed System Security","               Symposium (NDSS), 2015."]},{"id":"name-acknowledgments","title":"Acknowledgments","lines":["   Triple handshake attacks were originally discovered by Antoine","   Delignat-Lavaud, Karthikeyan Bhargavan, and Alfredo Pironti.  They","   were further developed by the miTLS team: Cedric Fournet, Pierre-Yves","   Strub, Markulf Kohlweiss, and Santiago Zanella-Beguelin.  Many of the","   ideas in this document emerged from discussions with Martin Abadi,","   Ben Laurie, Nikos Mavrogiannopoulos, Manuel Pegourie-Gonnard, Eric","   Rescorla, Martin Rex, and Brian Smith."]},{"id":"name-authors-addresses","title":"Authors' Addresses","lines":["   Karthikeyan Bhargavan (editor)","   Inria Paris-Rocquencourt","   23, Avenue d'Italie","   Paris  75214 CEDEX 13","   France","","   Email: karthikeyan.bhargavan@inria.fr","","   Antoine Delignat-Lavaud","   Inria Paris-Rocquencourt","   23, Avenue d'Italie","   Paris  75214 CEDEX 13","   France","","   Email: antoine.delignat-lavaud@inria.fr","","   Alfredo Pironti","   Inria Paris-Rocquencourt","   23, Avenue d'Italie","   Paris  75214 CEDEX 13","   France","","   Email: alfredo.pironti@inria.fr","","   Adam Langley","   Google Inc.","   1600 Amphitheatre Parkway","   Mountain View, CA  94043","   United States","","   Email: agl@google.com","","   Marsh Ray","   Microsoft Corp.","   1 Microsoft Way","   Redmond, WA  98052","   United States","","   Email: maray@microsoft.com"]}]},"https://www.rfc-editor.org/rfc/rfc8422":{"format":"ietf","requirements":[324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377],"sections":[{"id":"name-abstract","title":"Abstract","lines":["   This document describes key exchange algorithms based on Elliptic","   Curve Cryptography (ECC) for the Transport Layer Security (TLS)","   protocol.  In particular, it specifies the use of Ephemeral Elliptic","   Curve Diffie-Hellman (ECDHE) key agreement in a TLS handshake and the","   use of the Elliptic Curve Digital Signature Algorithm (ECDSA) and","   Edwards-curve Digital Signature Algorithm (EdDSA) as authentication","   mechanisms.","","   This document obsoletes RFC 4492."]},{"id":"name-status-of-this-memo","title":"Status of This Memo","lines":["   This is an Internet Standards Track document.","","   This document is a product of the Internet Engineering Task Force","   (IETF).  It represents the consensus of the IETF community.  It has","   received public review and has been approved for publication by the","   Internet Engineering Steering Group (IESG).  Further information on","   Internet Standards is available in Section 2 of RFC 7841.","","   Information about the current status of this document, any errata,","   and how to provide feedback on it may be obtained at","   https://www.rfc-editor.org/info/rfc8422."]},{"id":"name-copyright-notice","title":"Copyright Notice","lines":["   Copyright (c) 2018 IETF Trust and the persons identified as the","   document authors.  All rights reserved.","","   This document is subject to BCP 78 and the IETF Trust's Legal","   Provisions Relating to IETF Documents","   (https://trustee.ietf.org/license-info) in effect on the date of","   publication of this document.  Please review these documents","   carefully, as they describe your rights and restrictions with respect","   to this document.  Code Components extracted from this document must","   include Simplified BSD License text as described in Section 4.e of","   the Trust Legal Provisions and are provided without warranty as","   described in the Simplified BSD License."]},{"id":"name-table-of-contents","title":"Table of Contents","lines":["   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   4","     1.1.  Conventions Used in This Document . . . . . . . . . . . .   4","   2.  Key Exchange Algorithm  . . . . . . . . . . . . . . . . . . .   4","     2.1.  ECDHE_ECDSA . . . . . . . . . . . . . . . . . . . . . . .   6","     2.2.  ECDHE_RSA . . . . . . . . . . . . . . . . . . . . . . . .   7","     2.3.  ECDH_anon . . . . . . . . . . . . . . . . . . . . . . . .   7","     2.4.  Algorithms in Certificate Chains  . . . . . . . . . . . .   7","   3.  Client Authentication . . . . . . . . . . . . . . . . . . . .   8","     3.1.  ECDSA_sign  . . . . . . . . . . . . . . . . . . . . . . .   8","   4.  TLS Extensions for ECC  . . . . . . . . . . . . . . . . . . .   9","   5.  Data Structures and Computations  . . . . . . . . . . . . . .  10","     5.1.  Client Hello Extensions . . . . . . . . . . . . . . . . .  10","       5.1.1.  Supported Elliptic Curves Extension . . . . . . . . .  11","       5.1.2.  Supported Point Formats Extension . . . . . . . . . .  13","       5.1.3.  The signature_algorithms Extension and EdDSA  . . . .  13","     5.2.  Server Hello Extension  . . . . . . . . . . . . . . . . .  14","     5.3.  Server Certificate  . . . . . . . . . . . . . . . . . . .  15","     5.4.  Server Key Exchange . . . . . . . . . . . . . . . . . . .  16","       5.4.1.  Uncompressed Point Format for NIST Curves . . . . . .  19","     5.5.  Certificate Request . . . . . . . . . . . . . . . . . . .  20","     5.6.  Client Certificate  . . . . . . . . . . . . . . . . . . .  21","     5.7.  Client Key Exchange . . . . . . . . . . . . . . . . . . .  22","     5.8.  Certificate Verify  . . . . . . . . . . . . . . . . . . .  23","     5.9.  Elliptic Curve Certificates . . . . . . . . . . . . . . .  24","     5.10. ECDH, ECDSA, and RSA Computations . . . . . . . . . . . .  24","     5.11. Public Key Validation . . . . . . . . . . . . . . . . . .  26","   6.  Cipher Suites . . . . . . . . . . . . . . . . . . . . . . . .  26","   7.  Implementation Status . . . . . . . . . . . . . . . . . . . .  27","   8.  Security Considerations . . . . . . . . . . . . . . . . . . .  27","   9.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  28","   10. References  . . . . . . . . . . . . . . . . . . . . . . . . .  29","     10.1.  Normative References . . . . . . . . . . . . . . . . . .  29","     10.2.  Informative References . . . . . . . . . . . . . . . . .  31","   Appendix A.  Equivalent Curves (Informative)  . . . . . . . . . .  32","   Appendix B.  Differences from RFC 4492  . . . . . . . . . . . . .  33","   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  34","   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  34"]},{"id":"section-1","title":"Introduction","lines":["   This document describes additions to TLS to support ECC that are","   applicable to TLS versions 1.0 [RFC2246], 1.1 [RFC4346], and 1.2","   [RFC5246].  The use of ECC in TLS 1.3 is defined in [TLS1.3] and is","   explicitly out of scope for this document.  In particular, this","   document defines:","","   o  the use of the ECDHE key agreement scheme with ephemeral keys to","      establish the TLS premaster secret, and","","   o  the use of ECDSA and EdDSA signatures for authentication of TLS","      peers.","","   The remainder of this document is organized as follows.  Section 2","   provides an overview of ECC-based key exchange algorithms for TLS.","   Section 3 describes the use of ECC certificates for client","   authentication.  TLS extensions that allow a client to negotiate the","   use of specific curves and point formats are presented in Section 4.","   Section 5 specifies various data structures needed for an ECC-based","   handshake, their encoding in TLS messages, and the processing of","   those messages.  Section 6 defines ECC-based cipher suites and","   identifies a small subset of these as recommended for all","   implementations of this specification.  Section 8 discusses security","   considerations.  Section 9 describes IANA considerations for the name","   spaces created by this document's predecessor.  Appendix B provides","   differences from [RFC4492], the document that this one replaces.","","   Implementation of this specification requires familiarity with TLS,","   TLS extensions [RFC4366], and ECC."]},{"id":"section-1.1","title":"Conventions Used in This Document","lines":["   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\",","   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"NOT RECOMMENDED\", \"MAY\", and","   \"OPTIONAL\" in this document are to be interpreted as described in","   BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all","   capitals, as shown here."]},{"id":"section-2","title":"Key Exchange Algorithm","lines":["   This document defines three new ECC-based key exchange algorithms for","   TLS.  All of them use Ephemeral ECDH (ECDHE) to compute the TLS","   premaster secret, and they differ only in the mechanism (if any) used","   to authenticate them.  The derivation of the TLS master secret from","   the premaster secret and the subsequent generation of bulk","   encryption/MAC keys and initialization vectors is independent of the","   key exchange algorithm and not impacted by the introduction of ECC.","","   Table 1 summarizes the new key exchange algorithms.  All of these key","   exchange algorithms provide forward secrecy if and only if fresh","   ephemeral keys are generated and used, and also destroyed after use.","","     +-------------+------------------------------------------------+","     | Algorithm   | Description                                    |","     +-------------+------------------------------------------------+","     | ECDHE_ECDSA | Ephemeral ECDH with ECDSA or EdDSA signatures. |","     | ECDHE_RSA   | Ephemeral ECDH with RSA signatures.            |","     | ECDH_anon   | Anonymous ephemeral ECDH, no signatures.       |","     +-------------+------------------------------------------------+","","                   Table 1: ECC Key Exchange Algorithms","","   These key exchanges are analogous to DHE_DSS, DHE_RSA, and DH_anon,","   respectively.","","   With ECDHE_RSA, a server can reuse its existing RSA certificate and","   easily comply with a constrained client's elliptic curve preferences","   (see Section 4).  However, the computational cost incurred by a","   server is higher for ECDHE_RSA than for the traditional RSA key","   exchange, which does not provide forward secrecy.","","   The anonymous key exchange algorithm does not provide authentication","   of the server or the client.  Like other anonymous TLS key exchanges,",[[[],0,"   it is subject to man-in-the-middle attacks.  "],[[330],160,"Applications using TLS"]],[[[],0,"   "],[[330],160,"with this algorithm SHOULD provide authentication by other means."]],"","          Client                                        Server","          ------                                        ------","          ClientHello          -------->","                                                   ServerHello","                                                  Certificate*","                                            ServerKeyExchange*","                                          CertificateRequest*+","                               <--------       ServerHelloDone","          Certificate*+","          ClientKeyExchange","          CertificateVerify*+","          [ChangeCipherSpec]","          Finished             -------->","                                            [ChangeCipherSpec]","                               <--------              Finished","          Application Data     <------->      Application Data","","               * message is not sent under some conditions","               + message is not sent unless client authentication","                 is desired","","            Figure 1: Message Flow in a Full TLS 1.2 Handshake","","   Figure 1 shows all messages involved in the TLS key establishment","   protocol (aka full handshake).  The addition of ECC has direct impact","   only on the ClientHello, the ServerHello, the server's Certificate","   message, the ServerKeyExchange, the ClientKeyExchange, the","   CertificateRequest, the client's Certificate message, and the","   CertificateVerify.  Next, we describe the ECC key exchange algorithm","   in greater detail in terms of the content and processing of these","   messages.  For ease of exposition, we defer discussion of client","   authentication and associated messages (identified with a '+' in","   Figure 1) until Section 3 and of the optional ECC-specific extensions","   (which impact the Hello messages) until Section 4."],"requirements":[330]},{"id":"section-2.1","title":"ECDHE_ECDSA","lines":[[[[],0,"   "],[[324],224,"In ECDHE_ECDSA, the server's certificate MUST contain an ECDSA- or"]],[[[],0,"   "],[[324],224,"EdDSA-capable public key."]],"","   The server sends its ephemeral ECDH public key and a specification of",[[[],0,"   the corresponding curve in the ServerKeyExchange message.  "],[[325],224,"These"]],[[[],0,"   "],[[325],224,"parameters MUST be signed with ECDSA or EdDSA using the private key"]],[[[],0,"   "],[[325],224,"corresponding to the public key in the server's Certificate."]],"","   The client generates an ECDH key pair on the same curve as the","   server's ephemeral ECDH key and sends its public key in the","   ClientKeyExchange message.","","   Both client and server perform an ECDH operation (see Section 5.10)","   and use the resultant shared secret as the premaster secret."],"requirements":[324,325]},{"id":"section-2.2","title":"ECDHE_RSA","lines":[[[[],0,"   "],[[326],224,"This key exchange algorithm is the same as ECDHE_ECDSA except that"]],[[[],0,"   "],[[326],224,"the server's certificate MUST contain an RSA public key authorized"]],[[[],0,"   "],[[326],224,"for signing and the signature in the ServerKeyExchange message must"]],[[[],0,"   "],[[326],224,"be computed with the corresponding RSA private key."]]],"requirements":[326]},{"id":"section-2.3","title":"ECDH_anon","lines":["   NOTE: Despite the name beginning with \"ECDH_\" (no E), the key used in","   ECDH_anon is ephemeral just like the key in ECDHE_RSA and","   ECDHE_ECDSA.  The naming follows the example of DH_anon, where the","   key is also ephemeral but the name does not reflect it.","",[[[],0,"   "],[[327],224,"In ECDH_anon, the server's Certificate, the CertificateRequest, the"]],[[[],0,"   "],[[327],224,"client's Certificate, and the CertificateVerify messages MUST NOT be"]],[[[],0,"   "],[[327],224,"sent."]],"",[[[],0,"   "],[[328],224,"The server MUST send an ephemeral ECDH public key and a specification"]],[[[],0,"   "],[[328],224,"of the corresponding curve in the ServerKeyExchange message."],[[],0,"  "],[[329],224,"These"]],[[[],0,"   "],[[329],224,"parameters MUST NOT be signed."]],"","   The client generates an ECDH key pair on the same curve as the","   server's ephemeral ECDH key and sends its public key in the","   ClientKeyExchange message.","","   Both client and server perform an ECDH operation and use the","   resultant shared secret as the premaster secret.  All ECDH","   calculations are performed as specified in Section 5.10."],"requirements":[327,328,329]},{"id":"section-2.4","title":"Algorithms in Certificate Chains","lines":["   This specification does not impose restrictions on signature schemes","   used anywhere in the certificate chain.  The previous version of this","   document required the signatures to match, but this restriction,","   originating in previous TLS versions, is lifted here as it had been","   in RFC 5246."]},{"id":"section-3","title":"Client Authentication","lines":["   This document defines a client authentication mechanism named after","   the type of client certificate involved: ECDSA_sign.  The ECDSA_sign","   mechanism is usable with any of the non-anonymous ECC key exchange","   algorithms described in Section 2 as well as other non-anonymous","   (non-ECC) key exchange algorithms defined in TLS.","","   Note that client certificates with EdDSA public keys also use this","   mechanism.","","   The server can request ECC-based client authentication by including","   this certificate type in its CertificateRequest message.  The client","   must check if it possesses a certificate appropriate for the method","   suggested by the server and is willing to use it for authentication.","",[[[],0,"   "],[[332],160,"If these conditions are not met, the client SHOULD send a client"]],[[[],0,"   "],[[332],160,"Certificate message containing no certificates."],[[],0,"  "],[[333,334],224,"In this case, the"]],[[[],0,"   "],[[333,334],224,"ClientKeyExchange MUST be sent as described in Section 2, and the"]],[[[],0,"   "],[[333,334],224,"CertificateVerify MUST NOT be sent."],[[],0,"  If the server requires client"]],"   authentication, it may respond with a fatal handshake failure alert.","","   If the client has an appropriate certificate and is willing to use it","   for authentication, it must send that certificate in the client's","   Certificate message (as per Section 5.6) and prove possession of the","   private key corresponding to the certified key.  The process of","   determining an appropriate certificate and proving possession is","   different for each authentication mechanism and is described below.","","   NOTE: It is permissible for a server to request (and the client to","   send) a client certificate of a different type than the server","   certificate."],"requirements":[332,333,334]},{"id":"section-3.1","title":"ECDSA_sign","lines":[[[[],0,"   "],[[331],224,"To use this authentication mechanism, the client MUST possess a"]],[[[],0,"   "],[[331],224,"certificate containing an ECDSA- or EdDSA-capable public key."]],"","   The client proves possession of the private key corresponding to the","   certified key by including a signature in the CertificateVerify","   message as described in Section 5.8."],"requirements":[331]},{"id":"section-4","title":"TLS Extensions for ECC","lines":["   Two TLS extensions are defined in this specification: (i) the","   Supported Elliptic Curves Extension and (ii) the Supported Point","   Formats Extension.  These allow negotiating the use of specific","   curves and point formats (e.g., compressed vs. uncompressed,","   respectively) during a handshake starting a new session.  These","   extensions are especially relevant for constrained clients that may","   only support a limited number of curves or point formats.  They","   follow the general approach outlined in [RFC4366]; message details","   are specified in Section 5.  The client enumerates the curves it","   supports and the point formats it can parse by including the","   appropriate extensions in its ClientHello message.  The server","   similarly enumerates the point formats it can parse by including an","   extension in its ServerHello message.","",[[[],0,"   "],[[335],160,"A TLS client that proposes ECC cipher suites in its ClientHello"]],[[[],0,"   "],[[335],160,"message SHOULD include these extensions."],[[],0,"  "],[[336,337],224,"Servers implementing ECC"]],[[[],0,"   "],[[336,337],224,"cipher suites MUST support these extensions, and when a client uses"]],[[[],0,"   "],[[336,337],224,"these extensions, servers MUST NOT negotiate the use of an ECC cipher"]],[[[],0,"   "],[[336,337],224,"suite unless they can complete the handshake while respecting the"]],[[[],0,"   "],[[336,337],224,"choice of curves specified by the client."],[[],0,"  This eliminates the"]],"   possibility that a negotiated ECC handshake will be subsequently","   aborted due to a client's inability to deal with the server's EC key.","",[[[],0,"   "],[[338],224,"The client MUST NOT include these extensions in the ClientHello"]],[[[],0,"   "],[[338],224,"message if it does not propose any ECC cipher suites."],[[],0,"  A client that"]],"   proposes ECC cipher suites may choose not to include these","   extensions.  In this case, the server is free to choose any one of","   the elliptic curves or point formats listed in Section 5.  That","   section also describes the structure and processing of these","   extensions in greater detail.","","   In the case of session resumption, the server simply ignores the","   Supported Elliptic Curves Extension and the Supported Point Formats","   Extension appearing in the current ClientHello message.  These","   extensions only play a role during handshakes negotiating a new","   session."],"requirements":[335,336,337,338]},{"id":"section-5","title":"Data Structures and Computations","lines":["   This section specifies the data structures and computations used by","   ECC-based key mechanisms specified in the previous three sections.","   The presentation language used here is the same as that used in TLS.","   Since this specification extends TLS, these descriptions should be","   merged with those in the TLS specification and any others that extend","   TLS.  This means that enum types may not specify all possible values,","   and structures with multiple formats chosen with a select() clause","   may not indicate all possible cases."]},{"id":"section-5.1","title":"Client Hello Extensions","lines":["   This section specifies two TLS extensions that can be included with","   the ClientHello message as described in [RFC4366]: the Supported","   Elliptic Curves Extension and the Supported Point Formats Extension.","","   When these extensions are sent:","",[[[],0,"   "],[[344],160,"The extensions SHOULD be sent along with any ClientHello message that"]],[[[],0,"   "],[[344],160,"proposes ECC cipher suites."]],"","   Meaning of these extensions:","","   These extensions allow a client to enumerate the elliptic curves it","   supports and/or the point formats it can parse.","","   Structure of these extensions:","","   The general structure of TLS extensions is described in [RFC4366],","   and this specification adds two types to ExtensionType.","","      enum {","          elliptic_curves(10),","          ec_point_formats(11)","      } ExtensionType;","","   o  elliptic_curves (Supported Elliptic Curves Extension): Indicates","      the set of elliptic curves supported by the client.  For this","      extension, the opaque extension_data field contains","      NamedCurveList.  See Section 5.1.1 for details.","","   o  ec_point_formats (Supported Point Formats Extension): Indicates","      the set of point formats that the client can parse.  For this","      extension, the opaque extension_data field contains","      ECPointFormatList.  See Section 5.1.2 for details.","","   Actions of the sender:","","   A client that proposes ECC cipher suites in its ClientHello message","   appends these extensions (along with any others), enumerating the",[[[],0,"   curves it supports and the point formats it can parse.  "],[[345],160,"Clients"]],[[[],0,"   "],[[345],160,"SHOULD send both the Supported Elliptic Curves Extension and the"]],[[[],0,"   "],[[345],160,"Supported Point Formats Extension."],[[],0,"  "],[[346],224,"If the Supported Point Formats"]],[[[],0,"   "],[[346],224,"Extension is indeed sent, it MUST contain the value 0 (uncompressed)"]],[[[],0,"   "],[[346],224,"as one of the items in the list of point formats."]],"","   Actions of the receiver:","",[[[],0,"   "],[[347],224,"A server that receives a ClientHello containing one or both of these"]],[[[],0,"   "],[[347],224,"extensions MUST use the client's enumerated capabilities to guide its"]],[[[],0,"   "],[[347],224,"selection of an appropriate cipher suite."],[[],0,"  One of the proposed ECC"]],"   cipher suites must be negotiated only if the server can successfully","   complete the handshake while using the curves and point formats","   supported by the client (cf. Sections 5.3 and 5.4).","","   NOTE: A server participating in an ECDHE_ECDSA key exchange may use","   different curves for the ECDSA or EdDSA key in its certificate and",[[[],0,"   for the ephemeral ECDH key in the ServerKeyExchange message.  "],[[348],224,"The"]],[[[],0,"   "],[[348],224,"server MUST consider the extensions in both cases."]],"",[[[],0,"   "],[[349],224,"If a server does not understand the Supported Elliptic Curves"]],[[[],0,"   "],[[349],224,"Extension, does not understand the Supported Point Formats Extension,"]],[[[],0,"   "],[[349],224,"or is unable to complete the ECC handshake while restricting itself"]],[[[],0,"   "],[[349],224,"to the enumerated curves and point formats, it MUST NOT negotiate the"]],[[[],0,"   "],[[349],224,"use of an ECC cipher suite."],[[],0,"  Depending on what other cipher suites"]],"   are proposed by the client and supported by the server, this may","   result in a fatal handshake failure alert due to the lack of common","   cipher suites."],"requirements":[344,345,346,347,348,349]},{"id":"section-5.1.1","title":"Supported Elliptic Curves Extension","lines":["   RFC 4492 defined 25 different curves in the NamedCurve registry (now","   renamed the \"TLS Supported Groups\" registry, although the enumeration","   below is still named NamedCurve) for use in TLS.  Only three have","   seen much use.  This specification is deprecating the rest (with","   numbers 1-22).  This specification also deprecates the explicit","","   curves with identifiers 0xFF01 and 0xFF02.  It also adds the new","   curves defined in [RFC7748].  The end result is as follows:","","           enum {","               deprecated(1..22),","               secp256r1 (23), secp384r1 (24), secp521r1 (25),","               x25519(29), x448(30),","               reserved (0xFE00..0xFEFF),","               deprecated(0xFF01..0xFF02),","               (0xFFFF)","           } NamedCurve;","","   Note that other specifications have since added other values to this","   enumeration.  Some of those values are not curves at all, but finite","   field groups.  See [RFC7919].","","   secp256r1, etc: Indicates support of the corresponding named curve or","   groups.  The named curves secp256r1, secp384r1, and secp521r1 are","   specified in SEC 2 [SECG-SEC2].  These curves are also recommended in","   ANSI X9.62 [ANSI.X9-62.2005] and FIPS 186-4 [FIPS.186-4].  The rest","   of this document refers to these three curves as the \"NIST curves\"","   because they were originally standardized by the National Institute","   of Standards and Technology.  The curves x25519 and x448 are defined","   in [RFC7748].  Values 0xFE00 through 0xFEFF are reserved for private","   use.","","   The predecessor of this document also supported explicitly defined","   prime and char2 curves, but these are deprecated by this","   specification.","","   The NamedCurve name space (now titled \"TLS Supported Groups\") is","   maintained by IANA.  See Section 9 for information on how new value","   assignments are added.","","           struct {","               NamedCurve named_curve_list<2..2^16-1>","           } NamedCurveList;","","   Items in named_curve_list are ordered according to the client's","   preferences (favorite choice first).","","   As an example, a client that only supports secp256r1 (aka NIST P-256;","   value 23 = 0x0017) and secp384r1 (aka NIST P-384; value 24 = 0x0018)","   and prefers to use secp256r1 would include a TLS extension consisting","   of the following octets.  Note that the first two octets indicate the","   extension type (Supported Elliptic Curves Extension):","","           00 0A 00 06 00 04 00 17 00 18"]},{"id":"section-5.1.2","title":"Supported Point Formats Extension","lines":["           enum {","               uncompressed (0),","               deprecated (1..2),","               reserved (248..255)","           } ECPointFormat;","           struct {","               ECPointFormat ec_point_format_list<1..2^8-1>","           } ECPointFormatList;","","   Three point formats were included in the definition of ECPointFormat","   above.  This specification deprecates all but the uncompressed point",[[[],0,"   format.  "],[[339,340],224,"Implementations of this document MUST support the"]],[[[],0,"   "],[[339,340],224,"uncompressed format for all of their supported curves and MUST NOT"]],[[[],0,"   "],[[339,340],224,"support other formats for curves defined in this specification."],[[],0,"  "],[[341],96,"For"]],[[[],0,"   "],[[341],96,"backwards compatibility purposes, the point format list extension MAY"]],[[[],0,"   "],[[341],96,"still be included and contain exactly one value: the uncompressed"]],[[[],0,"   "],[[341],96,"point format (0)."],[[],0,"  RFC 4492 specified that if this extension is"]],"   missing, it means that only the uncompressed point format is","   supported, so interoperability with implementations that support the","   uncompressed format should work with or without the extension.","",[[[],0,"   "],[[342],224,"If the client sends the extension and the extension does not contain"]],[[[],0,"   "],[[342],224,"the uncompressed point format, and the client has used the Supported"]],[[[],0,"   "],[[342],224,"Groups extension to indicate support for any of the curves defined in"]],[[[],0,"   "],[[342],224,"this specification, then the server MUST abort the handshake and"]],[[[],0,"   "],[[342],224,"return an illegal_parameter alert."]],"","   The ECPointFormat name space (now titled \"TLS EC Point Formats\") is","   maintained by IANA.  See Section 9 for information on how new value","   assignments are added.","",[[[],0,"   "],[[343],224,"A client compliant with this specification that supports no other"]],[[[],0,"   "],[[343],224,"curves MUST send the following octets; note that the first two octets"]],[[[],0,"   "],[[343],224,"indicate the extension type (Supported Point Formats Extension):"]],"","           00 0B 00 02 01 00"],"requirements":[339,340,341,342,343]},{"id":"section-5.1.3","title":"The signature_algorithms Extension and EdDSA","lines":["   The signature_algorithms extension, defined in Section 7.4.1.4.1 of","   [RFC5246], advertises the combinations of signature algorithm and","   hash function that the client supports.  The pure (non-prehashed)","   forms of EdDSA do not hash the data before signing it.  For this","   reason, it does not make sense to combine them with a hash function","   in the extension.","","   For bits-on-the-wire compatibility with TLS 1.3, we define a new","   dummy value in the \"TLS HashAlgorithm\" registry that we call","   \"Intrinsic\" (value 8), meaning that hashing is intrinsic to the","   signature algorithm.","","   To represent ed25519 and ed448 in the signature_algorithms extension,","   the value shall be (8,7) and (8,8), respectively."]},{"id":"section-5.2","title":"Server Hello Extension","lines":["   This section specifies a TLS extension that can be included with the","   ServerHello message as described in [RFC4366], the Supported Point","   Formats Extension.","","   When this extension is sent:","","   The Supported Point Formats Extension is included in a ServerHello","   message in response to a ClientHello message containing the Supported","   Point Formats Extension when negotiating an ECC cipher suite.","","   Meaning of this extension:","","   This extension allows a server to enumerate the point formats it can","   parse (for the curve that will appear in its ServerKeyExchange","   message when using the ECDHE_ECDSA, ECDHE_RSA, or ECDH_anon key","   exchange algorithm.","","   Structure of this extension:","","   The server's Supported Point Formats Extension has the same structure","   as the client's Supported Point Formats Extension (see","   Section 5.1.2).  Items in ec_point_format_list here are ordered",[[[],0,"   according to the server's preference (favorite choice first).  "],[[360],96,"Note"]],[[[],0,"   "],[[360],96,"that the server MAY include items that were not found in the client's"]],[[[],0,"   "],[[360],96,"list."],[[],0,"  However, without extensions, this specification allows exactly"]],"   one point format, so there is not really any opportunity for","   mismatches.","","   Actions of the sender:","","   A server that selects an ECC cipher suite in response to a","   ClientHello message including a Supported Point Formats Extension","   appends this extension (along with others) to its ServerHello",[[[],0,"   message, enumerating the point formats it can parse.  "],[[361],224,"The Supported"]],[[[],0,"   "],[[361],224,"Point Formats Extension, when used, MUST contain the value 0"]],[[[],0,"   "],[[361],224,"(uncompressed) as one of the items in the list of point formats."]],"","   Actions of the receiver:","",[[[],0,"   "],[[362],224,"A client that receives a ServerHello message containing a Supported"]],[[[],0,"   "],[[362],224,"Point Formats Extension MUST respect the server's choice of point"]],[[[],0,"   "],[[362],224,"formats during the handshake (cf."],[[],0,"  Sections 5.6 and 5.7).  If no"]],"   Supported Point Formats Extension is received with the ServerHello,","   this is equivalent to an extension allowing only the uncompressed","   point format."],"requirements":[360,361,362]},{"id":"section-5.3","title":"Server Certificate","lines":["   When this message is sent:","","   This message is sent in all non-anonymous, ECC-based key exchange","   algorithms.","","   Meaning of this message:","","   This message is used to authentically convey the server's static","   public key to the client.  The following table shows the server",[[[],0,"   certificate type appropriate for each key exchange algorithm.  "],[[363],224,"ECC"]],[[[],0,"   "],[[363],224,"public keys MUST be encoded in certificates as described in"]],[[[],0,"   "],[[363],224,"Section 5.9."]],"","   NOTE: The server's Certificate message is capable of carrying a chain","   of certificates.  The restrictions mentioned in Table 2 apply only to","   the server's certificate (first in the chain).","",[[[],0,"   "],[[364],224,"+-------------+-----------------------------------------------------+"]],[[[],0,"   "],[[364],224,"| Algorithm   | Server Certificate Type                             |"]],[[[],0,"   "],[[364],224,"+-------------+-----------------------------------------------------+"]],[[[],0,"   "],[[364],224,"| ECDHE_ECDSA | Certificate MUST contain an ECDSA- or EdDSA-capable |"]],[[[],0,"   "],[[364],224,"|             | public key."],[[],0,"                                         "],[[],0,"|"]],[[[],0,"   "],[[365],224,"| ECDHE_RSA   | Certificate MUST contain an RSA public key."],[[],0,"         |"]],"   +-------------+-----------------------------------------------------+","","                     Table 2: Server Certificate Types","","   Structure of this message:","","   Identical to the TLS Certificate format.","","   Actions of the sender:","","   The server constructs an appropriate certificate chain and conveys it","   to the client in the Certificate message.  If the client has used a","   Supported Elliptic Curves Extension, the public key in the server's","",[[[],0,"   "],[[366],224,"certificate MUST respect the client's choice of elliptic curves."],[[],0,"  "],[[],0,"A"]],[[[],0,"   "],[[367],224,"server that cannot satisfy this requirement MUST NOT choose an ECC"]],[[[],0,"   "],[[367],224,"cipher suite in its ServerHello message.)"]],"","   Actions of the receiver:","","   The client validates the certificate chain, extracts the server's","   public key, and checks that the key type is appropriate for the","   negotiated key exchange algorithm.  (A possible reason for a fatal","   handshake failure is that the client's capabilities for handling","   elliptic curves and point formats are exceeded; cf. Section 5.1.)"],"requirements":[363,364,365,366,367]},{"id":"section-5.4","title":"Server Key Exchange","lines":["   When this message is sent:","","   This message is sent when using the ECDHE_ECDSA, ECDHE_RSA, and","   ECDH_anon key exchange algorithms.","","   Meaning of this message:","","   This message is used to convey the server's ephemeral ECDH public key","   (and the corresponding elliptic curve domain parameters) to the","   client.","","   The ECCurveType enum used to have values for explicit prime and for","   explicit char2 curves.  Those values are now deprecated, so only one","   value remains:","","   Structure of this message:","","           enum {","               deprecated (1..2),","               named_curve (3),","               reserved(248..255)","           } ECCurveType;","","   The value named_curve indicates that a named curve is used.  This","   option is now the only remaining format.","","   Values 248 through 255 are reserved for private use.","","   The ECCurveType name space (now titled \"TLS EC Curve Types\") is","   maintained by IANA.  See Section 9 for information on how new value","   assignments are added.","","   RFC 4492 had a specification for an ECCurve structure and an","   ECBasisType structure.  Both of these are omitted now because they","   were only used with the now deprecated explicit curves.","","           struct {","               opaque point <1..2^8-1>;","           } ECPoint;","","   point: This is the byte string representation of an elliptic curve","   point following the conversion routine in Section 4.3.6 of","   [ANSI.X9-62.2005].  This byte string may represent an elliptic curve","   point in uncompressed, compressed, or hybrid format, but this","   specification deprecates all but the uncompressed format.  For the","   NIST curves, the format is repeated in Section 5.4.1 for convenience.","   For the X25519 and X448 curves, the only valid representation is the","   one specified in [RFC7748], a 32- or 56-octet representation of the u",[[[],0,"   value of the point.  "],[[368],224,"This structure MUST NOT be used with Ed25519 and"]],[[[],0,"   "],[[368],224,"Ed448 public keys."]],"","           struct {","               ECCurveType    curve_type;","               select (curve_type) {","                   case named_curve:","                       NamedCurve namedcurve;","               };","           } ECParameters;","","   curve_type: This identifies the type of the elliptic curve domain","   parameters.","","   namedCurve: Specifies a recommended set of elliptic curve domain","   parameters.  All those values of NamedCurve are allowed that refer to","   a curve capable of Diffie-Hellman.  With the deprecation of the","   explicit curves, this now includes all of the NamedCurve values.","","           struct {","               ECParameters    curve_params;","               ECPoint         public;","           } ServerECDHParams;","","   curve_params: Specifies the elliptic curve domain parameters","   associated with the ECDH public key.","","   public: The ephemeral ECDH public key.","","   The ServerKeyExchange message is extended as follows.","","           enum {","               ec_diffie_hellman","           } KeyExchangeAlgorithm;","","   o  ec_diffie_hellman: Indicates the ServerKeyExchange message","      contains an ECDH public key.","","      select (KeyExchangeAlgorithm) {","          case ec_diffie_hellman:","              ServerECDHParams    params;","              Signature           signed_params;","      } ServerKeyExchange;","","   o  params: Specifies the ECDH public key and associated domain","      parameters.","","   o  signed_params: A hash of the params, with the signature","      appropriate to that hash applied.  The private key corresponding","      to the certified public key in the server's Certificate message is","      used for signing.","","        enum {","            ecdsa(3),","            ed25519(7)","            ed448(8)","        } SignatureAlgorithm;","        select (SignatureAlgorithm) {","           case ecdsa:","                digitally-signed struct {","                    opaque sha_hash[sha_size];","                };","           case ed25519,ed448:","                digitally-signed struct {","                    opaque rawdata[rawdata_size];","                };","        } Signature;","      ServerKeyExchange.signed_params.sha_hash","          SHA(ClientHello.random + ServerHello.random +","                                 ServerKeyExchange.params);","      ServerKeyExchange.signed_params.rawdata","          ClientHello.random + ServerHello.random +","                                 ServerKeyExchange.params;","","   NOTE: SignatureAlgorithm is \"rsa\" for the ECDHE_RSA key exchange","   algorithm and \"anonymous\" for ECDH_anon.  These cases are defined in","   TLS.  SignatureAlgorithm is \"ecdsa\" or \"eddsa\" for ECDHE_ECDSA.","","   ECDSA signatures are generated and verified as described in","   Section 5.10.  SHA, in the above template for sha_hash, may denote a","   hash algorithm other than SHA-1.  As per ANSI X9.62, an ECDSA","   signature consists of a pair of integers, r and s.  The digitally-","   signed element is encoded as an opaque vector <0..2^16-1>, the","   contents of which are the DER encoding corresponding to the following","   ASN.1 notation.","","              Ecdsa-Sig-Value ::= SEQUENCE {","                  r       INTEGER,","                  s       INTEGER","              }","","   EdDSA signatures in both the protocol and in certificates that","   conform to [RFC8410] are generated and verified according to","   [RFC8032].  The digitally-signed element is encoded as an opaque","   vector <0..2^16-1>, the contents of which include the octet string","   output of the EdDSA signing algorithm.","","   Actions of the sender:","","   The server selects elliptic curve domain parameters and an ephemeral","   ECDH public key corresponding to these parameters according to the","   ECKAS-DH1 scheme from IEEE 1363 [IEEE.P1363].  It conveys this","   information to the client in the ServerKeyExchange message using the","   format defined above.","","   Actions of the receiver:","","   The client verifies the signature (when present) and retrieves the","   server's elliptic curve domain parameters and ephemeral ECDH public","   key from the ServerKeyExchange message.  (A possible reason for a","   fatal handshake failure is that the client's capabilities for","   handling elliptic curves and point formats are exceeded; cf.","   Section 5.1.)"],"requirements":[368]},{"id":"section-5.4.1","title":"Uncompressed Point Format for NIST Curves","lines":["   The following represents the wire format for representing ECPoint in","   ServerKeyExchange records.  The first octet of the representation","   indicates the form, which may be compressed, uncompressed, or hybrid.","   This specification supports only the uncompressed format for these","   curves.  This is followed by the binary representation of the X value","   in \"big-endian\" or \"network\" format, followed by the binary","   representation of the Y value in \"big-endian\" or \"network\" format.","   There are no internal length markers, so each number representation","   occupies as many octets as implied by the curve parameters.  For","","   P-256 this means that each of X and Y use 32 octets, padded on the","   left by zeros if necessary.  For P-384, they take 48 octets each, and","   for P-521, they take 66 octets each.","","   Here's a more formal representation:","","             enum {","                 uncompressed(4),","                 (255)","               } PointConversionForm;","","             struct {","                 PointConversionForm  form;","                 opaque               X[coordinate_length];","                 opaque               Y[coordinate_length];","             } UncompressedPointRepresentation;"]},{"id":"section-5.5","title":"Certificate Request","lines":["   When this message is sent:","","   This message is sent when requesting client authentication.","","   Meaning of this message:","","   The server uses this message to suggest acceptable client","   authentication methods.","","   Structure of this message:","","   The TLS CertificateRequest message is extended as follows.","","           enum {","               ecdsa_sign(64),","               deprecated1(65),  /* was rsa_fixed_ecdh */","               deprecated2(66),  /* was ecdsa_fixed_ecdh */","               (255)","           } ClientCertificateType;","","   o  ecdsa_sign: Indicates that the server would like to use the","      corresponding client authentication method specified in Section 3.","","   Note that RFC 4492 also defined RSA and ECDSA certificates that","   included a fixed ECDH public key.  These mechanisms saw very little","   implementation, so this specification is deprecating them.","","   Actions of the sender:","","   The server decides which client authentication methods it would like","   to use and conveys this information to the client using the format","   defined above.","","   Actions of the receiver:","","   The client determines whether it has a suitable certificate for use","   with any of the requested methods and whether to proceed with client","   authentication."]},{"id":"section-5.6","title":"Client Certificate","lines":["   When this message is sent:","","   This message is sent in response to a CertificateRequest when a","   client has a suitable certificate and has decided to proceed with","   client authentication.  (Note that if the server has used a Supported","   Point Formats Extension, a certificate can only be considered","   suitable for use with the ECDSA_sign authentication method if the","   public key point specified in it is uncompressed, as that is the only","   point format still supported.","","   Meaning of this message:","","   This message is used to authentically convey the client's static","   public key to the server.  ECC public keys must be encoded in",[[[],0,"   certificates as described in Section 5.9.  "],[[369],224,"The certificate MUST"]],[[[],0,"   "],[[369],224,"contain an ECDSA- or EdDSA-capable public key."]],"","   NOTE: The client's Certificate message is capable of carrying a chain","   of certificates.  The restrictions mentioned above apply only to the","   client's certificate (first in the chain).","","   Structure of this message:","","   Identical to the TLS client Certificate format.","","   Actions of the sender:","","   The client constructs an appropriate certificate chain and conveys it","   to the server in the Certificate message.","","   Actions of the receiver:","","   The TLS server validates the certificate chain, extracts the client's","   public key, and checks that the key type is appropriate for the","   client authentication method."],"requirements":[369]},{"id":"section-5.7","title":"Client Key Exchange","lines":["   When this message is sent:","","   This message is sent in all key exchange algorithms.  It contains the","   client's ephemeral ECDH public key.","","   Meaning of the message:","","   This message is used to convey ephemeral data relating to the key","   exchange belonging to the client (such as its ephemeral ECDH public","   key).","","   Structure of this message:","","   The TLS ClientKeyExchange message is extended as follows.","","           enum {","               implicit,","               explicit","           } PublicValueEncoding;","","   o  implicit, explicit: For ECC cipher suites, this indicates whether","      the client's ECDH public key is in the client's certificate","      (\"implicit\") or is provided, as an ephemeral ECDH public key, in","      the ClientKeyExchange message (\"explicit\").  The implicit encoding","      is deprecated and is retained here for backward compatibility","      only.","","           struct {","               ECPoint ecdh_Yc;","           } ClientECDiffieHellmanPublic;","","   ecdh_Yc: Contains the client's ephemeral ECDH public key as a byte","   string ECPoint.point, which may represent an elliptic curve point in","   uncompressed format.","","           struct {","               select (KeyExchangeAlgorithm) {","                   case ec_diffie_hellman: ClientECDiffieHellmanPublic;","               } exchange_keys;","           } ClientKeyExchange;","","   Actions of the sender:","","   The client selects an ephemeral ECDH public key corresponding to the","   parameters it received from the server.  The format is the same as in","   Section 5.4.","","   Actions of the receiver:","","   The server retrieves the client's ephemeral ECDH public key from the","   ClientKeyExchange message and checks that it is on the same elliptic","   curve as the server's ECDH key."]},{"id":"section-5.8","title":"Certificate Verify","lines":["   When this message is sent:","","   This message is sent when the client sends a client certificate","   containing a public key usable for digital signatures.","","   Meaning of the message:","","   This message contains a signature that proves possession of the","   private key corresponding to the public key in the client's","   Certificate message.","","   Structure of this message:","","   The TLS CertificateVerify message and the underlying signature type","   are defined in the TLS base specifications, and the latter is","   extended here in Section 5.4.  For the \"ecdsa\" and \"eddsa\" cases, the","   signature field in the CertificateVerify message contains an ECDSA or","   EdDSA (respectively) signature computed over handshake messages","   exchanged so far, exactly similar to CertificateVerify with other","   signing algorithms:","","           CertificateVerify.signature.sha_hash","               SHA(handshake_messages);","           CertificateVerify.signature.rawdata","               handshake_messages;","","   ECDSA signatures are computed as described in Section 5.10, and SHA","   in the above template for sha_hash accordingly may denote a hash","   algorithm other than SHA-1.  As per ANSI X9.62, an ECDSA signature","   consists of a pair of integers, r and s.  The digitally-signed","   element is encoded as an opaque vector <0..2^16-1>, the contents of","   which are the DER encoding [X.690] corresponding to the following","   ASN.1 notation [X.680].","","           Ecdsa-Sig-Value ::= SEQUENCE {","               r       INTEGER,","               s       INTEGER","           }","","   EdDSA signatures are generated and verified according to [RFC8032].","   The digitally-signed element is encoded as an opaque vector","   <0..2^16-1>, the contents of which include the octet string output of","   the EdDSA signing algorithm.","","   Actions of the sender:","","   The client computes its signature over all handshake messages sent or","   received starting at client hello and up to but not including this","   message.  It uses the private key corresponding to its certified","   public key to compute the signature, which is conveyed in the format","   defined above.","","   Actions of the receiver:","","   The server extracts the client's signature from the CertificateVerify","   message and verifies the signature using the public key it received","   in the client's Certificate message."]},{"id":"section-5.9","title":"Elliptic Curve Certificates","lines":[[[[],0,"   "],[[370],224,"X.509 certificates containing ECC public keys or signed using ECDSA"]],[[[],0,"   "],[[370],224,"MUST comply with [RFC3279] or another RFC that replaces or extends"]],[[[],0,"   "],[[370],224,"it."],[[],0,"  "],[[371],224,"X.509 certificates containing ECC public keys or signed using"]],[[[],0,"   "],[[371],224,"EdDSA MUST comply with [RFC8410]."],[[],0,"  "],[[372],160,"Clients SHOULD use the elliptic"]],[[[],0,"   "],[[372],160,"curve domain parameters recommended in ANSI X9.62, FIPS 186-4, and"]],[[[],0,"   "],[[372],160,"SEC 2 [SECG-SEC2], or in [RFC8032]."]],"",[[[],0,"   "],[[373,374],224,"EdDSA keys using the Ed25519 algorithm MUST use the ed25519 signature"]],[[[],0,"   "],[[373,374],224,"algorithm, and Ed448 keys MUST use the ed448 signature algorithm."]],"   This document does not define use of Ed25519ph and Ed448ph keys with",[[[],0,"   TLS.  "],[[375],224,"Ed25519, Ed25519ph, Ed448, and Ed448ph keys MUST NOT be used"]],[[[],0,"   "],[[375],224,"with ECDSA."]]],"requirements":[370,371,372,373,374,375]},{"id":"section-5.10","title":"ECDH, ECDSA, and RSA Computations","lines":["   All ECDH calculations for the NIST curves (including parameter and","   key generation as well as the shared secret calculation) are","   performed according to [IEEE.P1363] using the ECKAS-DH1 scheme with","   the identity map as the Key Derivation Function (KDF) so that the","   premaster secret is the x-coordinate of the ECDH shared secret","   elliptic curve point represented as an octet string.  Note that this","   octet string (Z in IEEE 1363 terminology), as output by FE2OSP (Field","",[[[],0,"   "],[[350],224,"Element to Octet String Conversion Primitive), has constant length"]],[[[],0,"   "],[[350],224,"for any given field; leading zeros found in this octet string MUST"]],[[[],0,"   "],[[350],224,"NOT be truncated."]],"","   (Note that this use of the identity KDF is a technicality.  The","   complete picture is that ECDH is employed with a non-trivial KDF","   because TLS does not directly use the premaster secret for anything","   other than for computing the master secret.  In TLS 1.0 and 1.1, this","   means that the MD5- and SHA-1-based TLS Pseudorandom Function (PRF)","   serves as a KDF; in TLS 1.2, the KDF is determined by ciphersuite,","   and it is conceivable that future TLS versions or new TLS extensions","   introduced in the future may vary this computation.)","",[[[],0,"   "],[[351],224,"An ECDHE key exchange using X25519 (curve x25519) goes as follows:"]],[[[],0,"   "],[[351],224,"(1) each party picks a secret key d uniformly at random and computes"]],[[[],0,"   "],[[351],224,"the corresponding public key x = X25519(d, G); (2) parties exchange"]],[[[],0,"   "],[[351],224,"their public keys and compute a shared secret as x_S = X25519(d,"]],[[[],0,"   "],[[351],224,"x_peer); and (3), if either party obtains all-zeroes x_S, it MUST"]],[[[],0,"   "],[[351],224,"abort the handshake (as required by definition of X25519 and X448)."]],"   ECDHE for X448 works similarly, replacing X25519 with X448 and x25519","   with x448.  The derived shared secret is used directly as the","   premaster secret, which is always exactly 32 bytes when ECDHE with","   X25519 is used and 56 bytes when ECDHE with X448 is used.","",[[[],0,"   "],[[352],224,"All ECDSA computations MUST be performed according to ANSI X9.62 or"]],[[[],0,"   "],[[352],224,"its successors."],[[],0,"  Data to be signed/verified is hashed, and the result"]],"   runs directly through the ECDSA algorithm with no additional hashing.",[[[],0,"   "],[[353],224,"A secure hash function such as SHA-256, SHA-384, or SHA-512 from"]],[[[],0,"   "],[[353],224,"[FIPS.180-4] MUST be used."]],"",[[[],0,"   "],[[354],224,"All EdDSA computations MUST be performed according to [RFC8032] or"]],[[[],0,"   "],[[354],224,"its successors."],[[],0,"  Data to be signed/verified is run through the EdDSA"]],"   algorithm with no hashing (EdDSA will internally run the data through",[[[],0,"   the \"prehash\" function PH).  "],[[355],224,"The context parameter for Ed448 MUST be"]],[[[],0,"   "],[[355],224,"set to the empty string."]],"","   RFC 4492 anticipated the standardization of a mechanism for","   specifying the required hash function in the certificate, perhaps in","   the parameters field of the subjectPublicKeyInfo.  Such","   standardization never took place, and as a result, SHA-1 is used in","   TLS 1.1 and earlier (except for EdDSA, which uses identity function).","   TLS 1.2 added a SignatureAndHashAlgorithm parameter to the","   DigitallySigned struct, thus allowing agility in choosing the",[[[],0,"   signature hash.  "],[[356],224,"EdDSA signatures MUST have HashAlgorithm of 8"]],[[[],0,"   "],[[356],224,"(Intrinsic)."]],"","   All RSA signatures must be generated and verified according to","   Section 7.2 of [RFC8017]."],"requirements":[350,351,352,353,354,355,356]},{"id":"section-5.11","title":"Public Key Validation","lines":[[[[],0,"   "],[[357],224,"With the NIST curves, each party MUST validate the public key sent by"]],[[[],0,"   "],[[357],224,"its peer in the ClientKeyExchange and ServerKeyExchange messages."],[[],0,"  "],[[],0,"A"]],[[[],0,"   "],[[358],224,"receiving party MUST check that the x and y parameters from the"]],[[[],0,"   "],[[358],224,"peer's public value satisfy the curve equation, y^2 = x^3 + ax + b"]],[[[],0,"   "],[[358],224,"mod p."],[[],0,"  See Section 2.3 of [Menezes] for details.  Failing to do so"]],"   allows attackers to gain information about the private key to the","   point that they may recover the entire private key in a few requests","   if that key is not really ephemeral.","",[[[],0,"   "],[[359],224,"With X25519 and X448, a receiving party MUST check whether the"]],[[[],0,"   "],[[359],224,"computed premaster secret is the all-zero value and abort the"]],[[[],0,"   "],[[359],224,"handshake if so, as described in Section 6 of [RFC7748]."]],"","   Ed25519 and Ed448 internally do public key validation as part of","   signature verification."],"requirements":[357,358,359]},{"id":"section-6","title":"Cipher Suites","lines":["   The table below defines ECC cipher suites that use the key exchange","   algorithms specified in Section 2.","","       +-----------------------------------------+----------------+","       | CipherSuite                             | Identifier     |","       +-----------------------------------------+----------------+","       | TLS_ECDHE_ECDSA_WITH_NULL_SHA           | { 0xC0, 0x06 } |","       | TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA   | { 0xC0, 0x08 } |","       | TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA    | { 0xC0, 0x09 } |","       | TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA    | { 0xC0, 0x0A } |","       | TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 | { 0xC0, 0x2B } |","       | TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 | { 0xC0, 0x2C } |","       |                                         |                |","       | TLS_ECDHE_RSA_WITH_NULL_SHA             | { 0xC0, 0x10 } |","       | TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA     | { 0xC0, 0x12 } |","       | TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA      | { 0xC0, 0x13 } |","       | TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA      | { 0xC0, 0x14 } |","       | TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256   | { 0xC0, 0x2F } |","       | TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384   | { 0xC0, 0x30 } |","       |                                         |                |","       | TLS_ECDH_anon_WITH_NULL_SHA             | { 0xC0, 0x15 } |","       | TLS_ECDH_anon_WITH_3DES_EDE_CBC_SHA     | { 0xC0, 0x17 } |","       | TLS_ECDH_anon_WITH_AES_128_CBC_SHA      | { 0xC0, 0x18 } |","       | TLS_ECDH_anon_WITH_AES_256_CBC_SHA      | { 0xC0, 0x19 } |","       +-----------------------------------------+----------------+","","                      Table 3: TLS ECC Cipher Suites","","   The key exchange method, cipher, and hash algorithm for each of these","   cipher suites are easily determined by examining the name.  Ciphers","   (other than AES ciphers) and hash algorithms are defined in [RFC2246]","   and [RFC4346].  AES ciphers are defined in [RFC5246], and AES-GCM","   ciphersuites are in [RFC5289].","",[[[],0,"   "],[[376,377],160,"Server implementations SHOULD support all of the following cipher"]],[[[],0,"   "],[[376,377],160,"suites, and client implementations SHOULD support at least one of"]],[[[],0,"   "],[[376,377],160,"them:"]],"","   o  TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","","   o  TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA","","   o  TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256","","   o  TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA"],"requirements":[376,377]},{"id":"section-7","title":"Implementation Status","lines":["   Both ECDHE and ECDSA with the NIST curves are widely implemented and","   supported in all major browsers and all widely used TLS libraries.","   ECDHE with Curve25519 is by now implemented in several browsers and","   several TLS libraries including OpenSSL.  Curve448 and EdDSA have","   working interoperable implementations, but they are not yet as widely","   deployed."]},{"id":"section-8","title":"Security Considerations","lines":["   Security issues are discussed throughout this memo.","","   For TLS handshakes using ECC cipher suites, the security","   considerations in Appendix D of each of the three TLS base documents","   apply accordingly.","","   Security discussions specific to ECC can be found in [IEEE.P1363] and","   [ANSI.X9-62.2005].  One important issue that implementers and users","   must consider is elliptic curve selection.  Guidance on selecting an","   appropriate elliptic curve size is given in Table 1.  Security","   considerations specific to X25519 and X448 are discussed in Section 7","   of [RFC7748].","","   Beyond elliptic curve size, the main issue is elliptic curve","   structure.  As a general principle, it is more conservative to use","   elliptic curves with as little algebraic structure as possible.","   Thus, random curves are more conservative than special curves such as","   Koblitz curves, and curves over F_p with p random are more","   conservative than curves over F_p with p of a special form, and","","   curves over F_p with p random are considered more conservative than","   curves over F_2^m as there is no choice between multiple fields of","   similar size for characteristic 2.","","   Another issue is the potential for catastrophic failures when a","   single elliptic curve is widely used.  In this case, an attack on the","   elliptic curve might result in the compromise of a large number of","   keys.  Again, this concern may need to be balanced against efficiency","   and interoperability improvements associated with widely used curves.","   Substantial additional information on elliptic curve choice can be","   found in [IEEE.P1363], [ANSI.X9-62.2005], and [FIPS.186-4].","","   The Introduction of [RFC8032] lists the security, performance, and","   operational advantages of EdDSA signatures over ECDSA signatures","   using the NIST curves.","","   All of the key exchange algorithms defined in this document provide","   forward secrecy.  Some of the deprecated key exchange algorithms do","   not."]},{"id":"section-9","title":"IANA Considerations","lines":["   [RFC4492], the predecessor of this document, defined the IANA","   registries for the following:","","   o  Supported Groups (Section 5.1)","","   o  EC Point Format (Section 5.1)","","   o  EC Curve Type (Section 5.4)","","   IANA has prepended \"TLS\" to the names of these three registries.","","   For each name space, this document defines the initial value","   assignments and defines a range of 256 values (NamedCurve) or eight","   values (ECPointFormat and ECCurveType) reserved for Private Use.  The","   policy for any additional assignments is \"Specification Required\".","   (RFC 4492 required IETF review.)","","   All existing entries in the \"ExtensionType Values\", \"TLS","   ClientCertificateType Identifiers\", \"TLS Cipher Suites\", \"TLS","   Supported Groups\", \"TLS EC Point Format\", and \"TLS EC Curve Type\"","   registries that referred to RFC 4492 have been updated to refer to","   this document.","","   IANA has assigned the value 29 to x25519 and the value 30 to x448 in","   the \"TLS Supported Groups\" registry.","","   IANA has assigned two values in the \"TLS SignatureAlgorithm\" registry","   for ed25519 (7) and ed448 (8) with this document as reference.  This","   keeps compatibility with TLS 1.3.","","   IANA has assigned one value from the \"TLS HashAlgorithm\" registry for","   Intrinsic (8) with DTLS-OK set to true (Y) and this document as","   reference.  This keeps compatibility with TLS 1.3."]},{"id":"section-10","title":"References","lines":[]},{"id":"section-10.1","title":"Normative References","lines":["   [ANSI.X9-62.2005]","              American National Standards Institute, \"Public Key","              Cryptography for the Financial Services Industry: The","              Elliptic Curve Digital Signature Algorithm (ECDSA)\",","              ANSI X9.62, November 2005.","","   [FIPS.186-4]","              National Institute of Standards and Technology, \"Digital","              Signature Standard (DSS)\", FIPS PUB 186-4,","              DOI 10.6028/NIST.FIPS.186-4, July 2013,","              <http://nvlpubs.nist.gov/nistpubs/FIPS/","              NIST.FIPS.186-4.pdf>.","","   [RFC2119]  Bradner, S., \"Key words for use in RFCs to Indicate","              Requirement Levels\", BCP 14, RFC 2119,","              DOI 10.17487/RFC2119, March 1997,","              <https://www.rfc-editor.org/info/rfc2119>.","","   [RFC2246]  Dierks, T. and C. Allen, \"The TLS Protocol Version 1.0\",","              RFC 2246, DOI 10.17487/RFC2246, January 1999,","              <https://www.rfc-editor.org/info/rfc2246>.","","   [RFC3279]  Bassham, L., Polk, W., and R. Housley, \"Algorithms and","              Identifiers for the Internet X.509 Public Key","              Infrastructure Certificate and Certificate Revocation List","              (CRL) Profile\", RFC 3279, DOI 10.17487/RFC3279, April","              2002, <https://www.rfc-editor.org/info/rfc3279>.","","   [RFC4346]  Dierks, T. and E. Rescorla, \"The Transport Layer Security","              (TLS) Protocol Version 1.1\", RFC 4346,","              DOI 10.17487/RFC4346, April 2006,","              <https://www.rfc-editor.org/info/rfc4346>.","","   [RFC4366]  Blake-Wilson, S., Nystrom, M., Hopwood, D., Mikkelsen, J.,","              and T. Wright, \"Transport Layer Security (TLS)","              Extensions\", RFC 4366, DOI 10.17487/RFC4366, April 2006,","              <https://www.rfc-editor.org/info/rfc4366>.","","   [RFC5246]  Dierks, T. and E. Rescorla, \"The Transport Layer Security","              (TLS) Protocol Version 1.2\", RFC 5246,","              DOI 10.17487/RFC5246, August 2008,","              <https://www.rfc-editor.org/info/rfc5246>.","","   [RFC5289]  Rescorla, E., \"TLS Elliptic Curve Cipher Suites with SHA-","              256/384 and AES Galois Counter Mode (GCM)\", RFC 5289,","              DOI 10.17487/RFC5289, August 2008,","              <https://www.rfc-editor.org/info/rfc5289>.","","   [RFC7748]  Langley, A., Hamburg, M., and S. Turner, \"Elliptic Curves","              for Security\", RFC 7748, DOI 10.17487/RFC7748, January","              2016, <https://www.rfc-editor.org/info/rfc7748>.","","   [RFC8017]  Moriarty, K., Ed., Kaliski, B., Jonsson, J., and A. Rusch,","              \"PKCS #1: RSA Cryptography Specifications Version 2.2\",","              RFC 8017, DOI 10.17487/RFC8017, November 2016,","              <https://www.rfc-editor.org/info/rfc8017>.","","   [RFC8032]  Josefsson, S. and I. Liusvaara, \"Edwards-Curve Digital","              Signature Algorithm (EdDSA)\", RFC 8032,","              DOI 10.17487/RFC8032, January 2017,","              <https://www.rfc-editor.org/info/rfc8032>.","","   [RFC8174]  Leiba, B., \"Ambiguity of Uppercase vs Lowercase in RFC","              2119 Key Words\", BCP 14, RFC 8174, DOI 10.17487/RFC8174,","              May 2017, <https://www.rfc-editor.org/info/rfc8174>.","","   [RFC8410]  Josefsson, S. and J. Schaad, \"Algorithm Identifiers for","              Ed25519, Ed448, X25519 and X448 for Use in the Internet","              X.509 Public Key Infrastructure\", RFC 8410,","              DOI 10.17487/RFC8410, August 2018,","              <https://www.rfc-editor.org/info/rfc8410>.","","   [SECG-SEC2]","              Certicom Research, \"SEC 2: Recommended Elliptic Curve","              Domain Parameters\", Standards for Efficient Cryptography 2","              (SEC 2), Version 2.0, January 2010,","              <http://www.secg.org/sec2-v2.pdf>.","","   [X.680]    ITU-T, \"Abstract Syntax Notation One (ASN.1):","              Specification of basic notation\", ITU-T Recommendation","              X.680, ISO/IEC 8824-1, August 2015.","","   [X.690]    ITU-T, \"Information technology-ASN.1 encoding rules:","              Specification of Basic Encoding Rules (BER), Canonical","              Encoding Rules (CER) and Distinguished Encoding Rules","              (DER)\", ITU-T Recommendation X.690, ISO/IEC 8825-1, August","              2015."]},{"id":"section-10.2","title":"Informative References","lines":["   [FIPS.180-4]","              National Institute of Standards and Technology, \"Secure","              Hash Standard (SHS)\", FIPS PUB 180-4, DOI","              10.6028/NIST.FIPS.180-4, August 2015,","              <http://nvlpubs.nist.gov/nistpubs/FIPS/","              NIST.FIPS.180-4.pdf>.","","   [IEEE.P1363]","              IEEE, \"Standard Specifications for Public Key","              Cryptography\", IEEE Std P1363,","              <http://ieeexplore.ieee.org/document/891000/>.","","   [Menezes]  Menezes, A. and B. Ustaoglu, \"On reusing ephemeral keys in","              Diffie-Hellman key agreement protocols\", International","              Journal of Applied Cryptography, Vol. 2, Issue 2,","              DOI 10.1504/IJACT.2010.038308, January 2010.","","   [RFC4492]  Blake-Wilson, S., Bolyard, N., Gupta, V., Hawk, C., and B.","              Moeller, \"Elliptic Curve Cryptography (ECC) Cipher Suites","              for Transport Layer Security (TLS)\", RFC 4492,","              DOI 10.17487/RFC4492, May 2006,","              <https://www.rfc-editor.org/info/rfc4492>.","","   [RFC7919]  Gillmor, D., \"Negotiated Finite Field Diffie-Hellman","              Ephemeral Parameters for Transport Layer Security (TLS)\",","              RFC 7919, DOI 10.17487/RFC7919, August 2016,","              <https://www.rfc-editor.org/info/rfc7919>.","","   [TLS1.3]   Rescorla, E., \"The Transport Layer Security (TLS) Protocol","              Version 1.3\", Work in Progress, draft-ietf-tls-tls13-28,","              March 2018."]},{"id":"appendix-A","title":"Equivalent Curves (Informative)","lines":["   All of the NIST curves [FIPS.186-4] and several of the ANSI curves","   [ANSI.X9-62.2005] are equivalent to curves listed in Section 5.1.1.","   The following table displays the curve names chosen by different","   standards organizations; multiple names in one row represent aliases","   for the same curve.","","                  +-----------+------------+------------+","                  | SECG      | ANSI X9.62 | NIST       |","                  +-----------+------------+------------+","                  | sect163k1 |            | NIST K-163 |","                  | sect163r1 |            |            |","                  | sect163r2 |            | NIST B-163 |","                  | sect193r1 |            |            |","                  | sect193r2 |            |            |","                  | sect233k1 |            | NIST K-233 |","                  | sect233r1 |            | NIST B-233 |","                  | sect239k1 |            |            |","                  | sect283k1 |            | NIST K-283 |","                  | sect283r1 |            | NIST B-283 |","                  | sect409k1 |            | NIST K-409 |","                  | sect409r1 |            | NIST B-409 |","                  | sect571k1 |            | NIST K-571 |","                  | sect571r1 |            | NIST B-571 |","                  | secp160k1 |            |            |","                  | secp160r1 |            |            |","                  | secp160r2 |            |            |","                  | secp192k1 |            |            |","                  | secp192r1 | prime192v1 | NIST P-192 |","                  | secp224k1 |            |            |","                  | secp224r1 |            | NIST P-224 |","                  | secp256k1 |            |            |","                  | secp256r1 | prime256v1 | NIST P-256 |","                  | secp384r1 |            | NIST P-384 |","                  | secp521r1 |            | NIST P-521 |","                  +-----------+------------+------------+","","        Table 4: Equivalent Curves Defined by SECG, ANSI, and NIST"]},{"id":"appendix-B","title":"Differences from RFC 4492","lines":["   o  Renamed EllipticCurveList to NamedCurveList.","","   o  Added TLS 1.2.","","   o  Merged errata.","","   o  Removed the ECDH key exchange algorithms: ECDH_RSA and ECDH_ECDSA","","   o  Deprecated a bunch of ciphersuites:","","         TLS_ECDH_ECDSA_WITH_NULL_SHA","","         TLS_ECDH_ECDSA_WITH_RC4_128_SHA","","         TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA","","         TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA","","         TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA","","         TLS_ECDH_RSA_WITH_NULL_SHA","","         TLS_ECDH_RSA_WITH_RC4_128_SHA","","         TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA","","         TLS_ECDH_RSA_WITH_AES_128_CBC_SHA","","         TLS_ECDH_RSA_WITH_AES_256_CBC_SHA","","         All the other RC4 ciphersuites","","   o  Removed unused curves and all but the uncompressed point format.","","   o  Added X25519 and X448.","","   o  Deprecated explicit curves.","","   o  Removed restriction on signature algorithm in certificate."]},{"id":"name-acknowledgements","title":"Acknowledgements","lines":["   Most of the text in this document is taken from [RFC4492], the","   predecessor of this document.  The authors of that document were:","","   o  Simon Blake-Wilson","   o  Nelson Bolyard","   o  Vipul Gupta","   o  Chris Hawk","   o  Bodo Moeller","","   In the predecessor document, the authors acknowledged the","   contributions of Bill Anderson and Tim Dierks.","","   The authors would like to thank Nikos Mavrogiannopoulos, Martin","   Thomson, and Tanja Lange for contributions to this document."]},{"id":"name-authors-addresses","title":"Authors' Addresses","lines":["   Yoav Nir","   Check Point Software Technologies Ltd.","   5 Hasolelim st.","   Tel Aviv  6789735","   Israel","","   Email: ynir.ietf@gmail.com","","   Simon Josefsson","   SJD AB","","   Email: simon@josefsson.org","","   Manuel Pegourie-Gonnard","   ARM","","   Email: mpg@elzevir.fr"]}]},"https://www.rfc-editor.org/rfc/rfc8446":{"format":"ietf","requirements":[378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836],"sections":[{"id":"name-abstract","title":"Abstract","lines":["   This document specifies version 1.3 of the Transport Layer Security","   (TLS) protocol.  TLS allows client/server applications to communicate","   over the Internet in a way that is designed to prevent eavesdropping,","   tampering, and message forgery.","","   This document updates RFCs 5705 and 6066, and obsoletes RFCs 5077,","   5246, and 6961.  This document also specifies new requirements for","   TLS 1.2 implementations."]},{"id":"name-status-of-this-memo","title":"Status of This Memo","lines":["   This is an Internet Standards Track document.","","   This document is a product of the Internet Engineering Task Force","   (IETF).  It represents the consensus of the IETF community.  It has","   received public review and has been approved for publication by the","   Internet Engineering Steering Group (IESG).  Further information on","   Internet Standards is available in Section 2 of RFC 7841.","","   Information about the current status of this document, any errata,","   and how to provide feedback on it may be obtained at","   https://www.rfc-editor.org/info/rfc8446."]},{"id":"name-copyright-notice","title":"Copyright Notice","lines":["   Copyright (c) 2018 IETF Trust and the persons identified as the","   document authors.  All rights reserved.","","   This document is subject to BCP 78 and the IETF Trust's Legal","   Provisions Relating to IETF Documents","   (https://trustee.ietf.org/license-info) in effect on the date of","   publication of this document.  Please review these documents","   carefully, as they describe your rights and restrictions with respect","   to this document.  Code Components extracted from this document must","   include Simplified BSD License text as described in Section 4.e of","   the Trust Legal Provisions and are provided without warranty as","   described in the Simplified BSD License.","","   This document may contain material from IETF Documents or IETF","   Contributions published or made publicly available before November","   10, 2008.  The person(s) controlling the copyright in some of this","   material may not have granted the IETF Trust the right to allow","   modifications of such material outside the IETF Standards Process.","   Without obtaining an adequate license from the person(s) controlling","   the copyright in such materials, this document may not be modified","   outside the IETF Standards Process, and derivative works of it may","   not be created outside the IETF Standards Process, except to format","   it for publication as an RFC or to translate it into languages other","   than English."]},{"id":"name-table-of-contents","title":"Table of Contents","lines":["   1. Introduction ....................................................6","      1.1. Conventions and Terminology ................................7","      1.2. Major Differences from TLS 1.2 .............................8","      1.3. Updates Affecting TLS 1.2 ..................................9","   2. Protocol Overview ..............................................10","      2.1. Incorrect DHE Share .......................................14","      2.2. Resumption and Pre-Shared Key (PSK) .......................15","      2.3. 0-RTT Data ................................................17","   3. Presentation Language ..........................................19","      3.1. Basic Block Size ..........................................19","      3.2. Miscellaneous .............................................20","      3.3. Numbers ...................................................20","      3.4. Vectors ...................................................20","      3.5. Enumerateds ...............................................21","      3.6. Constructed Types .........................................22","      3.7. Constants .................................................23","      3.8. Variants ..................................................23","   4. Handshake Protocol .............................................24","      4.1. Key Exchange Messages .....................................25","           4.1.1. Cryptographic Negotiation ..........................26","           4.1.2. Client Hello .......................................27","           4.1.3. Server Hello .......................................31","           4.1.4. Hello Retry Request ................................33","      4.2. Extensions ................................................35","           4.2.1. Supported Versions .................................39","           4.2.2. Cookie .............................................40","           4.2.3. Signature Algorithms ...............................41","           4.2.4. Certificate Authorities ............................45","           4.2.5. OID Filters ........................................45","           4.2.6. Post-Handshake Client Authentication ...............47","           4.2.7. Supported Groups ...................................47","           4.2.8. Key Share ..........................................48","           4.2.9. Pre-Shared Key Exchange Modes ......................51","           4.2.10. Early Data Indication .............................52","           4.2.11. Pre-Shared Key Extension ..........................55","      4.3. Server Parameters .........................................59","           4.3.1. Encrypted Extensions ...............................60","           4.3.2. Certificate Request ................................60","      4.4. Authentication Messages ...................................61","           4.4.1. The Transcript Hash ................................63","           4.4.2. Certificate ........................................64","           4.4.3. Certificate Verify .................................69","           4.4.4. Finished ...........................................71","      4.5. End of Early Data .........................................72","","      4.6. Post-Handshake Messages ...................................73","           4.6.1. New Session Ticket Message .........................73","           4.6.2. Post-Handshake Authentication ......................75","           4.6.3. Key and Initialization Vector Update ...............76","   5. Record Protocol ................................................77","      5.1. Record Layer ..............................................78","      5.2. Record Payload Protection .................................80","      5.3. Per-Record Nonce ..........................................82","      5.4. Record Padding ............................................83","      5.5. Limits on Key Usage .......................................84","   6. Alert Protocol .................................................85","      6.1. Closure Alerts ............................................87","      6.2. Error Alerts ..............................................88","   7. Cryptographic Computations .....................................90","      7.1. Key Schedule ..............................................91","      7.2. Updating Traffic Secrets ..................................94","      7.3. Traffic Key Calculation ...................................95","      7.4. (EC)DHE Shared Secret Calculation .........................95","           7.4.1. Finite Field Diffie-Hellman ........................95","           7.4.2. Elliptic Curve Diffie-Hellman ......................96","      7.5. Exporters .................................................97","   8. 0-RTT and Anti-Replay ..........................................98","      8.1. Single-Use Tickets ........................................99","      8.2. Client Hello Recording ....................................99","      8.3. Freshness Checks .........................................101","   9. Compliance Requirements .......................................102","      9.1. Mandatory-to-Implement Cipher Suites .....................102","      9.2. Mandatory-to-Implement Extensions ........................103","      9.3. Protocol Invariants ......................................104","   10. Security Considerations ......................................106","   11. IANA Considerations ..........................................106","   12. References ...................................................109","      12.1. Normative References ....................................109","      12.2. Informative References ..................................112","   Appendix A. State Machine ........................................120","     A.1. Client ....................................................120","     A.2. Server ....................................................121","   Appendix B. Protocol Data Structures and Constant Values .........122","     B.1. Record Layer ..............................................122","     B.2. Alert Messages ............................................123","     B.3. Handshake Protocol ........................................124","       B.3.1. Key Exchange Messages .................................125","       B.3.2. Server Parameters Messages ............................131","       B.3.3. Authentication Messages ...............................132","       B.3.4. Ticket Establishment ..................................132","       B.3.5. Updating Keys .........................................133","     B.4. Cipher Suites .............................................133","","   Appendix C. Implementation Notes .................................134","     C.1. Random Number Generation and Seeding ......................134","     C.2. Certificates and Authentication ...........................135","     C.3. Implementation Pitfalls ...................................135","     C.4. Client Tracking Prevention ................................137","     C.5. Unauthenticated Operation .................................137","   Appendix D. Backward Compatibility ...............................138","     D.1. Negotiating with an Older Server ..........................139","     D.2. Negotiating with an Older Client ..........................139","     D.3. 0-RTT Backward Compatibility ..............................140","     D.4. Middlebox Compatibility Mode ..............................140","     D.5. Security Restrictions Related to Backward Compatibility ...141","   Appendix E. Overview of Security Properties ......................142","     E.1. Handshake .................................................142","       E.1.1. Key Derivation and HKDF ...............................145","       E.1.2. Client Authentication .................................146","       E.1.3. 0-RTT .................................................146","       E.1.4. Exporter Independence .................................146","       E.1.5. Post-Compromise Security ..............................146","       E.1.6. External References ...................................147","     E.2. Record Layer ..............................................147","       E.2.1. External References ...................................148","     E.3. Traffic Analysis ..........................................148","     E.4. Side-Channel Attacks ......................................149","     E.5. Replay Attacks on 0-RTT ...................................150","       E.5.1. Replay and Exporters ..................................151","     E.6. PSK Identity Exposure .....................................152","     E.7. Sharing PSKs ..............................................152","     E.8. Attacks on Static RSA .....................................152","   Contributors .....................................................153","   Author's Address .................................................160"]},{"id":"section-1","title":"Introduction","lines":["   The primary goal of TLS is to provide a secure channel between two","   communicating peers; the only requirement from the underlying","   transport is a reliable, in-order data stream.  Specifically, the","   secure channel should provide the following properties:","","   -  Authentication: The server side of the channel is always","      authenticated; the client side is optionally authenticated.","      Authentication can happen via asymmetric cryptography (e.g., RSA","      [RSA], the Elliptic Curve Digital Signature Algorithm (ECDSA)","      [ECDSA], or the Edwards-Curve Digital Signature Algorithm (EdDSA)","      [RFC8032]) or a symmetric pre-shared key (PSK).","","   -  Confidentiality: Data sent over the channel after establishment is","      only visible to the endpoints.  TLS does not hide the length of","      the data it transmits, though endpoints are able to pad TLS","      records in order to obscure lengths and improve protection against","      traffic analysis techniques.","","   -  Integrity: Data sent over the channel after establishment cannot","      be modified by attackers without detection.","","   These properties should be true even in the face of an attacker who","   has complete control of the network, as described in [RFC3552].  See","   Appendix E for a more complete statement of the relevant security","   properties.","","   TLS consists of two primary components:","","   -  A handshake protocol (Section 4) that authenticates the","      communicating parties, negotiates cryptographic modes and","      parameters, and establishes shared keying material.  The handshake","      protocol is designed to resist tampering; an active attacker","      should not be able to force the peers to negotiate different","      parameters than they would if the connection were not under","      attack.","","   -  A record protocol (Section 5) that uses the parameters established","      by the handshake protocol to protect traffic between the","      communicating peers.  The record protocol divides traffic up into","      a series of records, each of which is independently protected","      using the traffic keys.","","   TLS is application protocol independent; higher-level protocols can","   layer on top of TLS transparently.  The TLS standard, however, does","   not specify how protocols add security with TLS; how to initiate TLS","   handshaking and how to interpret the authentication certificates","   exchanged are left to the judgment of the designers and implementors","   of protocols that run on top of TLS.","","   This document defines TLS version 1.3.  While TLS 1.3 is not directly","   compatible with previous versions, all versions of TLS incorporate a","   versioning mechanism which allows clients and servers to","   interoperably negotiate a common version if one is supported by both","   peers.","","   This document supersedes and obsoletes previous versions of TLS,","   including version 1.2 [RFC5246].  It also obsoletes the TLS ticket","   mechanism defined in [RFC5077] and replaces it with the mechanism","   defined in Section 2.2.  Because TLS 1.3 changes the way keys are","   derived, it updates [RFC5705] as described in Section 7.5.  It also","   changes how Online Certificate Status Protocol (OCSP) messages are","   carried and therefore updates [RFC6066] and obsoletes [RFC6961] as","   described in Section 4.4.2.1."]},{"id":"section-1.1","title":"Conventions and Terminology","lines":["   The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\",","   \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"NOT RECOMMENDED\", \"MAY\", and","   \"OPTIONAL\" in this document are to be interpreted as described in","   BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all","   capitals, as shown here.","","   The following terms are used:","","   client:  The endpoint initiating the TLS connection.","","   connection:  A transport-layer connection between two endpoints.","","   endpoint:  Either the client or server of the connection.","","   handshake:  An initial negotiation between client and server that","      establishes the parameters of their subsequent interactions","      within TLS.","","   peer:  An endpoint.  When discussing a particular endpoint, \"peer\"","      refers to the endpoint that is not the primary subject of","      discussion.","","   receiver:  An endpoint that is receiving records.","","   sender:  An endpoint that is transmitting records.","","   server:  The endpoint that did not initiate the TLS connection."]},{"id":"section-1.2","title":"Major Differences from TLS 1.2","lines":["   The following is a list of the major functional differences between","   TLS 1.2 and TLS 1.3.  It is not intended to be exhaustive, and there","   are many minor differences.","","   -  The list of supported symmetric encryption algorithms has been","      pruned of all algorithms that are considered legacy.  Those that","      remain are all Authenticated Encryption with Associated Data","      (AEAD) algorithms.  The cipher suite concept has been changed to","      separate the authentication and key exchange mechanisms from the","      record protection algorithm (including secret key length) and a","      hash to be used with both the key derivation function and","      handshake message authentication code (MAC).","","   -  A zero round-trip time (0-RTT) mode was added, saving a round trip","      at connection setup for some application data, at the cost of","      certain security properties.","","   -  Static RSA and Diffie-Hellman cipher suites have been removed; all","      public-key based key exchange mechanisms now provide forward","      secrecy.","","   -  All handshake messages after the ServerHello are now encrypted.","      The newly introduced EncryptedExtensions message allows various","      extensions previously sent in the clear in the ServerHello to also","      enjoy confidentiality protection.","","   -  The key derivation functions have been redesigned.  The new design","      allows easier analysis by cryptographers due to their improved key","      separation properties.  The HMAC-based Extract-and-Expand Key","      Derivation Function (HKDF) is used as an underlying primitive.","","   -  The handshake state machine has been significantly restructured to","      be more consistent and to remove superfluous messages such as","      ChangeCipherSpec (except when needed for middlebox compatibility).","","   -  Elliptic curve algorithms are now in the base spec, and new","      signature algorithms, such as EdDSA, are included.  TLS 1.3","      removed point format negotiation in favor of a single point format","      for each curve.","","   -  Other cryptographic improvements were made, including changing the","      RSA padding to use the RSA Probabilistic Signature Scheme","      (RSASSA-PSS), and the removal of compression, the Digital","      Signature Algorithm (DSA), and custom Ephemeral Diffie-Hellman","      (DHE) groups.","","   -  The TLS 1.2 version negotiation mechanism has been deprecated in","      favor of a version list in an extension.  This increases","      compatibility with existing servers that incorrectly implemented","      version negotiation.","","   -  Session resumption with and without server-side state as well as","      the PSK-based cipher suites of earlier TLS versions have been","      replaced by a single new PSK exchange.","","   -  References have been updated to point to the updated versions of","      RFCs, as appropriate (e.g., RFC 5280 rather than RFC 3280)."]},{"id":"section-1.3","title":"Updates Affecting TLS 1.2","lines":["   This document defines several changes that optionally affect","   implementations of TLS 1.2, including those which do not also support","   TLS 1.3:","","   -  A version downgrade protection mechanism is described in","      Section 4.1.3.","","   -  RSASSA-PSS signature schemes are defined in Section 4.2.3.","","   -  The \"supported_versions\" ClientHello extension can be used to","      negotiate the version of TLS to use, in preference to the","      legacy_version field of the ClientHello.","","   -  The \"signature_algorithms_cert\" extension allows a client to","      indicate which signature algorithms it can validate in X.509","      certificates.","","   Additionally, this document clarifies some compliance requirements","   for earlier versions of TLS; see Section 9.3."]},{"id":"section-2","title":"Protocol Overview","lines":["   The cryptographic parameters used by the secure channel are produced","   by the TLS handshake protocol.  This sub-protocol of TLS is used by","   the client and server when first communicating with each other.  The","   handshake protocol allows peers to negotiate a protocol version,","   select cryptographic algorithms, optionally authenticate each other,","   and establish shared secret keying material.  Once the handshake is","   complete, the peers use the established keys to protect the","   application-layer traffic.","","   A failure of the handshake or other protocol error triggers the","   termination of the connection, optionally preceded by an alert","   message (Section 6).","","   TLS supports three basic key exchange modes:","","   -  (EC)DHE (Diffie-Hellman over either finite fields or elliptic","      curves)","","   -  PSK-only","","   -  PSK with (EC)DHE","","   Figure 1 below shows the basic full TLS handshake:","","       Client                                           Server","","Key  ^ ClientHello","Exch | + key_share*","     | + signature_algorithms*","     | + psk_key_exchange_modes*","     v + pre_shared_key*       -------->","                                                  ServerHello  ^ Key","                                                 + key_share*  | Exch","                                            + pre_shared_key*  v","                                        {EncryptedExtensions}  ^  Server","                                        {CertificateRequest*}  v  Params","                                               {Certificate*}  ^","                                         {CertificateVerify*}  | Auth","                                                   {Finished}  v","                               <--------  [Application Data*]","     ^ {Certificate*}","Auth | {CertificateVerify*}","     v {Finished}              -------->","       [Application Data]      <------->  [Application Data]","","              +  Indicates noteworthy extensions sent in the","                 previously noted message.","","              *  Indicates optional or situation-dependent","                 messages/extensions that are not always sent.","","              {} Indicates messages protected using keys","                 derived from a [sender]_handshake_traffic_secret.","","              [] Indicates messages protected using keys","                 derived from [sender]_application_traffic_secret_N.","","               Figure 1: Message Flow for Full TLS Handshake","","   The handshake can be thought of as having three phases (indicated in","   the diagram above):","","   -  Key Exchange: Establish shared keying material and select the","      cryptographic parameters.  Everything after this phase is","      encrypted.","","   -  Server Parameters: Establish other handshake parameters","      (whether the client is authenticated, application-layer protocol","      support, etc.).","","   -  Authentication: Authenticate the server (and, optionally, the","      client) and provide key confirmation and handshake integrity.","","   In the Key Exchange phase, the client sends the ClientHello","   (Section 4.1.2) message, which contains a random nonce","   (ClientHello.random); its offered protocol versions; a list of","   symmetric cipher/HKDF hash pairs; either a set of Diffie-Hellman key","   shares (in the \"key_share\" (Section 4.2.8) extension), a set of","   pre-shared key labels (in the \"pre_shared_key\" (Section 4.2.11)","   extension), or both; and potentially additional extensions.","   Additional fields and/or messages may also be present for middlebox","   compatibility.","","   The server processes the ClientHello and determines the appropriate","   cryptographic parameters for the connection.  It then responds with","   its own ServerHello (Section 4.1.3), which indicates the negotiated","   connection parameters.  The combination of the ClientHello and the",[[[],0,"   ServerHello determines the shared keys.  "],[[435],224,"If (EC)DHE key establishment"]],[[[],0,"   "],[[435],224,"is in use, then the ServerHello contains a \"key_share\" extension with"]],[[[],0,"   "],[[435],224,"the server's ephemeral Diffie-Hellman share; the server's share MUST"]],[[[],0,"   "],[[435],224,"be in the same group as one of the client's shares."],[[],0,"  If PSK key"]],"   establishment is in use, then the ServerHello contains a","   \"pre_shared_key\" extension indicating which of the client's offered","   PSKs was selected.  Note that implementations can use (EC)DHE and PSK","   together, in which case both extensions will be supplied.","","   The server then sends two messages to establish the Server","   Parameters:","","   EncryptedExtensions:  responses to ClientHello extensions that are","      not required to determine the cryptographic parameters, other than","      those that are specific to individual certificates.","      [Section 4.3.1]","","   CertificateRequest:  if certificate-based client authentication is","      desired, the desired parameters for that certificate.  This","      message is omitted if client authentication is not desired.","      [Section 4.3.2]","","   Finally, the client and server exchange Authentication messages.  TLS","   uses the same set of messages every time that certificate-based","   authentication is needed.  (PSK-based authentication happens as a","   side effect of key exchange.)  Specifically:","","   Certificate:  The certificate of the endpoint and any per-certificate","      extensions.  This message is omitted by the server if not","      authenticating with a certificate and by the client if the server","      did not send CertificateRequest (thus indicating that the client","      should not authenticate with a certificate).  Note that if raw","      public keys [RFC7250] or the cached information extension","      [RFC7924] are in use, then this message will not contain a","      certificate but rather some other value corresponding to the","      server's long-term key.  [Section 4.4.2]","","   CertificateVerify:  A signature over the entire handshake using the","      private key corresponding to the public key in the Certificate","      message.  This message is omitted if the endpoint is not","      authenticating via a certificate.  [Section 4.4.3]","","   Finished:  A MAC (Message Authentication Code) over the entire","      handshake.  This message provides key confirmation, binds the","      endpoint's identity to the exchanged keys, and in PSK mode also","      authenticates the handshake.  [Section 4.4.4]","","   Upon receiving the server's messages, the client responds with its","   Authentication messages, namely Certificate and CertificateVerify (if","   requested), and Finished.","","   At this point, the handshake is complete, and the client and server","   derive the keying material required by the record layer to exchange","   application-layer data protected through authenticated encryption.",[[[],0,"   "],[[436],224,"Application Data MUST NOT be sent prior to sending the Finished"]],[[[],0,"   "],[[436],224,"message, except as specified in Section 2.3."],[[],0,"  Note that while the"]],"   server may send Application Data prior to receiving the client's","   Authentication messages, any data sent at that point is, of course,","   being sent to an unauthenticated peer."],"requirements":[435,436]},{"id":"section-2.1","title":"Incorrect DHE Share","lines":["   If the client has not provided a sufficient \"key_share\" extension","   (e.g., it includes only DHE or ECDHE groups unacceptable to or","   unsupported by the server), the server corrects the mismatch with a","   HelloRetryRequest and the client needs to restart the handshake with",[[[],0,"   an appropriate \"key_share\" extension, as shown in Figure 2.  "],[[432],224,"If no"]],[[[],0,"   "],[[432],224,"common cryptographic parameters can be negotiated, the server MUST"]],[[[],0,"   "],[[432],224,"abort the handshake with an appropriate alert."]],"","        Client                                               Server","","        ClientHello","        + key_share             -------->","                                                  HelloRetryRequest","                                <--------               + key_share","        ClientHello","        + key_share             -------->","                                                        ServerHello","                                                        + key_share","                                              {EncryptedExtensions}","                                              {CertificateRequest*}","                                                     {Certificate*}","                                               {CertificateVerify*}","                                                         {Finished}","                                <--------       [Application Data*]","        {Certificate*}","        {CertificateVerify*}","        {Finished}              -------->","        [Application Data]      <------->        [Application Data]","","             Figure 2: Message Flow for a Full Handshake with","                           Mismatched Parameters","","   Note: The handshake transcript incorporates the initial","   ClientHello/HelloRetryRequest exchange; it is not reset with the","   new ClientHello.","","   TLS also allows several optimized variants of the basic handshake, as","   described in the following sections."],"requirements":[432]},{"id":"section-2.2","title":"Resumption and Pre-Shared Key (PSK)","lines":["   Although TLS PSKs can be established out of band, PSKs can also be","   established in a previous connection and then used to establish a new","   connection (\"session resumption\" or \"resuming\" with a PSK).  Once a","   handshake has completed, the server can send the client a PSK","   identity that corresponds to a unique key derived from the initial","   handshake (see Section 4.6.1).  The client can then use that PSK","   identity in future handshakes to negotiate the use of the associated","   PSK.  If the server accepts the PSK, then the security context of the","   new connection is cryptographically tied to the original connection","   and the key derived from the initial handshake is used to bootstrap","   the cryptographic state instead of a full handshake.  In TLS 1.2 and","   below, this functionality was provided by \"session IDs\" and \"session","   tickets\" [RFC5077].  Both mechanisms are obsoleted in TLS 1.3.","","   PSKs can be used with (EC)DHE key exchange in order to provide","   forward secrecy in combination with shared keys, or can be used","   alone, at the cost of losing forward secrecy for the application","   data.","","   Figure 3 shows a pair of handshakes in which the first handshake","   establishes a PSK and the second handshake uses it:","","          Client                                               Server","","   Initial Handshake:","          ClientHello","          + key_share               -------->","                                                          ServerHello","                                                          + key_share","                                                {EncryptedExtensions}","                                                {CertificateRequest*}","                                                       {Certificate*}","                                                 {CertificateVerify*}","                                                           {Finished}","                                    <--------     [Application Data*]","          {Certificate*}","          {CertificateVerify*}","          {Finished}                -------->","                                    <--------      [NewSessionTicket]","          [Application Data]        <------->      [Application Data]","","   Subsequent Handshake:","          ClientHello","          + key_share*","          + pre_shared_key          -------->","                                                          ServerHello","                                                     + pre_shared_key","                                                         + key_share*","                                                {EncryptedExtensions}","                                                           {Finished}","                                    <--------     [Application Data*]","          {Finished}                -------->","          [Application Data]        <------->      [Application Data]","","               Figure 3: Message Flow for Resumption and PSK","","   As the server is authenticating via a PSK, it does not send a",[[[],0,"   Certificate or a CertificateVerify message.  "],[[433],160,"When a client offers"]],[[[],0,"   "],[[433],160,"resumption via a PSK, it SHOULD also supply a \"key_share\" extension"]],[[[],0,"   "],[[433],160,"to the server to allow the server to decline resumption and fall back"]],[[[],0,"   "],[[433],160,"to a full handshake, if needed."],[[],0,"  The server responds with a"]],"   \"pre_shared_key\" extension to negotiate the use of PSK key","   establishment and can (as shown here) respond with a \"key_share\"","   extension to do (EC)DHE key establishment, thus providing forward","   secrecy.","",[[[],0,"   "],[[434],224,"When PSKs are provisioned out of band, the PSK identity and the KDF"]],[[[],0,"   "],[[434],224,"hash algorithm to be used with the PSK MUST also be provisioned."]],"","   Note:  When using an out-of-band provisioned pre-shared secret, a","      critical consideration is using sufficient entropy during the key","      generation, as discussed in [RFC4086].  Deriving a shared secret","      from a password or other low-entropy sources is not secure.  A","      low-entropy secret, or password, is subject to dictionary attacks","      based on the PSK binder.  The specified PSK authentication is not","      a strong password-based authenticated key exchange even when used","      with Diffie-Hellman key establishment.  Specifically, it does not","      prevent an attacker that can observe the handshake from performing","      a brute-force attack on the password/pre-shared key."],"requirements":[433,434]},{"id":"section-2.3","title":"0-RTT Data","lines":["   When clients and servers share a PSK (either obtained externally or","   via a previous handshake), TLS 1.3 allows clients to send data on the","   first flight (\"early data\").  The client uses the PSK to authenticate","   the server and to encrypt the early data.","","   As shown in Figure 4, the 0-RTT data is just added to the 1-RTT","   handshake in the first flight.  The rest of the handshake uses the","   same messages as for a 1-RTT handshake with PSK resumption.","","         Client                                               Server","","         ClientHello","         + early_data","         + key_share*","         + psk_key_exchange_modes","         + pre_shared_key","         (Application Data*)     -------->","                                                         ServerHello","                                                    + pre_shared_key","                                                        + key_share*","                                               {EncryptedExtensions}","                                                       + early_data*","                                                          {Finished}","                                 <--------       [Application Data*]","         (EndOfEarlyData)","         {Finished}              -------->","         [Application Data]      <------->        [Application Data]","","               +  Indicates noteworthy extensions sent in the","                  previously noted message.","","               *  Indicates optional or situation-dependent","                  messages/extensions that are not always sent.","","               () Indicates messages protected using keys","                  derived from a client_early_traffic_secret.","","               {} Indicates messages protected using keys","                  derived from a [sender]_handshake_traffic_secret.","","               [] Indicates messages protected using keys","                  derived from [sender]_application_traffic_secret_N.","","               Figure 4: Message Flow for a 0-RTT Handshake","","   IMPORTANT NOTE: The security properties for 0-RTT data are weaker","   than those for other kinds of TLS data.  Specifically:","","   1.  This data is not forward secret, as it is encrypted solely under","       keys derived using the offered PSK.","","   2.  There are no guarantees of non-replay between connections.","       Protection against replay for ordinary TLS 1.3 1-RTT data is","       provided via the server's Random value, but 0-RTT data does not","       depend on the ServerHello and therefore has weaker guarantees.","       This is especially relevant if the data is authenticated either","       with TLS client authentication or inside the application","       protocol.  The same warnings apply to any use of the","       early_exporter_master_secret.","","   0-RTT data cannot be duplicated within a connection (i.e., the server","   will not process the same data twice for the same connection), and an","   attacker will not be able to make 0-RTT data appear to be 1-RTT data","   (because it is protected with different keys).  Appendix E.5 contains","   a description of potential attacks, and Section 8 describes","   mechanisms which the server can use to limit the impact of replay."]},{"id":"section-3","title":"Presentation Language","lines":["   This document deals with the formatting of data in an external","   representation.  The following very basic and somewhat casually","   defined presentation syntax will be used."]},{"id":"section-3.1","title":"Basic Block Size","lines":["   The representation of all data items is explicitly specified.  The","   basic data block size is one byte (i.e., 8 bits).  Multiple-byte data","   items are concatenations of bytes, from left to right, from top to","   bottom.  From the byte stream, a multi-byte item (a numeric in the","   following example) is formed (using C notation) by:","","      value = (byte[0] << 8*(n-1)) | (byte[1] << 8*(n-2)) |","              ... | byte[n-1];","","   This byte ordering for multi-byte values is the commonplace network","   byte order or big-endian format."]},{"id":"section-3.2","title":"Miscellaneous","lines":["   Comments begin with \"/*\" and end with \"*/\".","","   Optional components are denoted by enclosing them in \"[[ ]]\" (double","   brackets).","","   Single-byte entities containing uninterpreted data are of","   type opaque.","","   A type alias T' for an existing type T is defined by:","","      T T';"]},{"id":"section-3.3","title":"Numbers","lines":["   The basic numeric data type is an unsigned byte (uint8).  All larger","   numeric data types are constructed from a fixed-length series of","   bytes concatenated as described in Section 3.1 and are also unsigned.","   The following numeric types are predefined.","","      uint8 uint16[2];","      uint8 uint24[3];","      uint8 uint32[4];","      uint8 uint64[8];","","   All values, here and elsewhere in the specification, are transmitted","   in network byte (big-endian) order; the uint32 represented by the hex","   bytes 01 02 03 04 is equivalent to the decimal value 16909060."]},{"id":"section-3.4","title":"Vectors","lines":["   A vector (single-dimensioned array) is a stream of homogeneous data","   elements.  The size of the vector may be specified at documentation","   time or left unspecified until runtime.  In either case, the length","   declares the number of bytes, not the number of elements, in the","   vector.  The syntax for specifying a new type, T', that is a fixed-","   length vector of type T is","","      T T'[n];","","   Here, T' occupies n bytes in the data stream, where n is a multiple","   of the size of T.  The length of the vector is not included in the","   encoded stream.","","   In the following example, Datum is defined to be three consecutive","   bytes that the protocol does not interpret, while Data is three","   consecutive Datum, consuming a total of nine bytes.","","      opaque Datum[3];      /* three uninterpreted bytes */","      Datum Data[9];        /* three consecutive 3-byte vectors */","","   Variable-length vectors are defined by specifying a subrange of legal","   lengths, inclusively, using the notation <floor..ceiling>.  When","   these are encoded, the actual length precedes the vector's contents","   in the byte stream.  The length will be in the form of a number","   consuming as many bytes as required to hold the vector's specified","   maximum (ceiling) length.  A variable-length vector with an actual","   length field of zero is referred to as an empty vector.","","      T T'<floor..ceiling>;","","   In the following example, \"mandatory\" is a vector that must contain","   between 300 and 400 bytes of type opaque.  It can never be empty.","   The actual length field consumes two bytes, a uint16, which is","   sufficient to represent the value 400 (see Section 3.3).  Similarly,","   \"longer\" can represent up to 800 bytes of data, or 400 uint16","   elements, and it may be empty.  Its encoding will include a two-byte","   actual length field prepended to the vector.  The length of an","   encoded vector must be an exact multiple of the length of a single","   element (e.g., a 17-byte vector of uint16 would be illegal).","","      opaque mandatory<300..400>;","            /* length field is two bytes, cannot be empty */","      uint16 longer<0..800>;","            /* zero to 400 16-bit unsigned integers */"]},{"id":"section-3.5","title":"Enumerateds","lines":["   An additional sparse data type, called \"enum\" or \"enumerated\", is","   available.  Each definition is a different type.  Only enumerateds of","   the same type may be assigned or compared.  Every element of an","   enumerated must be assigned a value, as demonstrated in the following","   example.  Since the elements of the enumerated are not ordered, they","   can be assigned any unique value, in any order.","","      enum { e1(v1), e2(v2), ... , en(vn) [[, (n)]] } Te;","","   Future extensions or additions to the protocol may define new values.","   Implementations need to be able to parse and ignore unknown values","   unless the definition of the field states otherwise.","","   An enumerated occupies as much space in the byte stream as would its","   maximal defined ordinal value.  The following definition would cause","   one byte to be used to carry fields of type Color.","","      enum { red(3), blue(5), white(7) } Color;","","   One may optionally specify a value without its associated tag to","   force the width definition without defining a superfluous element.","","   In the following example, Taste will consume two bytes in the data","   stream but can only assume the values 1, 2, or 4 in the current","   version of the protocol.","","      enum { sweet(1), sour(2), bitter(4), (32000) } Taste;","","   The names of the elements of an enumeration are scoped within the","   defined type.  In the first example, a fully qualified reference to","   the second element of the enumeration would be Color.blue.  Such","   qualification is not required if the target of the assignment is well","   specified.","","      Color color = Color.blue;     /* overspecified, legal */","      Color color = blue;           /* correct, type implicit */","","   The names assigned to enumerateds do not need to be unique.  The","   numerical value can describe a range over which the same name","   applies.  The value includes the minimum and maximum inclusive values","   in that range, separated by two period characters.  This is","   principally useful for reserving regions of the space.","","      enum { sad(0), meh(1..254), happy(255) } Mood;"]},{"id":"section-3.6","title":"Constructed Types","lines":["   Structure types may be constructed from primitive types for","   convenience.  Each specification declares a new, unique type.  The","   syntax used for definitions is much like that of C.","","      struct {","          T1 f1;","          T2 f2;","          ...","          Tn fn;","      } T;","","   Fixed- and variable-length vector fields are allowed using the","   standard vector syntax.  Structures V1 and V2 in the variants example","   (Section 3.8) demonstrate this.","","   The fields within a structure may be qualified using the type's name,","   with a syntax much like that available for enumerateds.  For example,","   T.f2 refers to the second field of the previous declaration."]},{"id":"section-3.7","title":"Constants","lines":["   Fields and variables may be assigned a fixed value using \"=\", as in:","","      struct {","          T1 f1 = 8;  /* T.f1 must always be 8 */","          T2 f2;","      } T;"]},{"id":"section-3.8","title":"Variants","lines":["   Defined structures may have variants based on some knowledge that is","   available within the environment.  The selector must be an enumerated","   type that defines the possible variants the structure defines.  Each","   arm of the select (below) specifies the type of that variant's field","   and an optional field label.  The mechanism by which the variant is","   selected at runtime is not prescribed by the presentation language.","","      struct {","          T1 f1;","          T2 f2;","          ....","          Tn fn;","          select (E) {","              case e1: Te1 [[fe1]];","              case e2: Te2 [[fe2]];","              ....","              case en: Ten [[fen]];","          };","      } Tv;","","   For example:","","      enum { apple(0), orange(1) } VariantTag;","","      struct {","          uint16 number;","          opaque string<0..10>; /* variable length */","      } V1;","","      struct {","          uint32 number;","          opaque string[10];    /* fixed length */","      } V2;","","      struct {","          VariantTag type;","          select (VariantRecord.type) {","              case apple:  V1;","              case orange: V2;","          };","      } VariantRecord;"]},{"id":"section-4","title":"Handshake Protocol","lines":["   The handshake protocol is used to negotiate the security parameters","   of a connection.  Handshake messages are supplied to the TLS record","   layer, where they are encapsulated within one or more TLSPlaintext or","   TLSCiphertext structures which are processed and transmitted as","   specified by the current active connection state.","","      enum {","          client_hello(1),","          server_hello(2),","          new_session_ticket(4),","          end_of_early_data(5),","          encrypted_extensions(8),","          certificate(11),","          certificate_request(13),","          certificate_verify(15),","          finished(20),","          key_update(24),","          message_hash(254),","          (255)","      } HandshakeType;","","      struct {","          HandshakeType msg_type;    /* handshake type */","          uint24 length;             /* remaining bytes in message */","          select (Handshake.msg_type) {","              case client_hello:          ClientHello;","              case server_hello:          ServerHello;","              case end_of_early_data:     EndOfEarlyData;","              case encrypted_extensions:  EncryptedExtensions;","              case certificate_request:   CertificateRequest;","              case certificate:           Certificate;","              case certificate_verify:    CertificateVerify;","              case finished:              Finished;","              case new_session_ticket:    NewSessionTicket;","              case key_update:            KeyUpdate;","          };","      } Handshake;","",[[[],0,"   "],[[724],224,"Protocol messages MUST be sent in the order defined in Section 4.4.1"]],[[[],0,"   "],[[724],224,"and shown in the diagrams in Section 2."],[[],0,"  "],[[725],224,"A peer which receives a"]],[[[],0,"   "],[[725],224,"handshake message in an unexpected order MUST abort the handshake"]],[[[],0,"   "],[[725],224,"with an \"unexpected_message\" alert."]],"","   New handshake message types are assigned by IANA as described in","   Section 11."],"requirements":[724,725]},{"id":"section-4.1","title":"Key Exchange Messages","lines":["   The key exchange messages are used to determine the security","   capabilities of the client and the server and to establish shared","   secrets, including the traffic keys used to protect the rest of the","   handshake and the data."]},{"id":"section-4.1.1","title":"Cryptographic Negotiation","lines":["   In TLS, the cryptographic negotiation proceeds by the client offering","   the following four sets of options in its ClientHello:","","   -  A list of cipher suites which indicates the AEAD algorithm/HKDF","      hash pairs which the client supports.","","   -  A \"supported_groups\" (Section 4.2.7) extension which indicates the","      (EC)DHE groups which the client supports and a \"key_share\"","      (Section 4.2.8) extension which contains (EC)DHE shares for some","      or all of these groups.","","   -  A \"signature_algorithms\" (Section 4.2.3) extension which indicates","      the signature algorithms which the client can accept.  A","      \"signature_algorithms_cert\" extension (Section 4.2.3) may also be","      added to indicate certificate-specific signature algorithms.","","   -  A \"pre_shared_key\" (Section 4.2.11) extension which contains a","      list of symmetric key identities known to the client and a","      \"psk_key_exchange_modes\" (Section 4.2.9) extension which indicates","      the key exchange modes that may be used with PSKs.","","   If the server does not select a PSK, then the first three of these","   options are entirely orthogonal: the server independently selects a","   cipher suite, an (EC)DHE group and key share for key establishment,","   and a signature algorithm/certificate pair to authenticate itself to",[[[],0,"   the client.  "],[[437],224,"If there is no overlap between the received"]],[[[],0,"   "],[[437],224,"\"supported_groups\" and the groups supported by the server, then the"]],[[[],0,"   "],[[437],224,"server MUST abort the handshake with a \"handshake_failure\" or an"]],[[[],0,"   "],[[437],224,"\"insufficient_security\" alert."]],"",[[[],0,"   "],[[438],224,"If the server selects a PSK, then it MUST also select a key"]],[[[],0,"   "],[[438],224,"establishment mode from the set indicated by the client's"]],[[[],0,"   "],[[438],224,"\"psk_key_exchange_modes\" extension (at present, PSK alone or with"]],[[[],0,"   "],[[438],224,"(EC)DHE)."],[[],0,"  Note that if the PSK can be used without (EC)DHE, then"]],"   non-overlap in the \"supported_groups\" parameters need not be fatal,","   as it is in the non-PSK case discussed in the previous paragraph.","",[[[],0,"   "],[[439],224,"If the server selects an (EC)DHE group and the client did not offer a"]],[[[],0,"   "],[[439],224,"compatible \"key_share\" extension in the initial ClientHello, the"]],[[[],0,"   "],[[439],224,"server MUST respond with a HelloRetryRequest (Section 4.1.4) message."]],"","   If the server successfully selects parameters and does not require a","   HelloRetryRequest, it indicates the selected parameters in the","   ServerHello as follows:","","   -  If PSK is being used, then the server will send a \"pre_shared_key\"","      extension indicating the selected key.","","   -  When (EC)DHE is in use, the server will also provide a \"key_share\"","      extension.  If PSK is not being used, then (EC)DHE and","      certificate-based authentication are always used.","","   -  When authenticating via a certificate, the server will send the","      Certificate (Section 4.4.2) and CertificateVerify (Section 4.4.3)","      messages.  In TLS 1.3 as defined by this document, either a PSK or","      a certificate is always used, but not both.  Future documents may","      define how to use them together.","",[[[],0,"   "],[[440],224,"If the server is unable to negotiate a supported set of parameters"]],[[[],0,"   "],[[440],224,"(i.e., there is no overlap between the client and server parameters),"]],[[[],0,"   "],[[440],224,"it MUST abort the handshake with either a \"handshake_failure\" or"]],[[[],0,"   "],[[440],224,"\"insufficient_security\" fatal alert (see Section 6)."]]],"requirements":[437,438,439,440]},{"id":"section-4.1.2","title":"Client Hello","lines":[[[[],0,"   "],[[441,838],240,"When a client first connects to a server, it is REQUIRED to send the"]],[[[],0,"   "],[[441,838],240,"ClientHello as its first TLS message."],[[],0,"  The client will also send a"]],"   ClientHello when the server has responded to its ClientHello with a",[[[],0,"   HelloRetryRequest.  "],[[442],224,"In that case, the client MUST send the same"]],[[[],0,"   "],[[442],224,"ClientHello without modification, except as follows:"]],"","   -  If a \"key_share\" extension was supplied in the HelloRetryRequest,","      replacing the list of shares with a list containing a single","      KeyShareEntry from the indicated group.","","   -  Removing the \"early_data\" extension (Section 4.2.10) if one was","      present.  Early data is not permitted after a HelloRetryRequest.","","   -  Including a \"cookie\" extension if one was provided in the","      HelloRetryRequest.","","   -  Updating the \"pre_shared_key\" extension if present by recomputing","      the \"obfuscated_ticket_age\" and binder values and (optionally)","      removing any PSKs which are incompatible with the server's","      indicated cipher suite.","","   -  Optionally adding, removing, or changing the length of the","      \"padding\" extension [RFC7685].","","   -  Other modifications that may be allowed by an extension defined in","      the future and present in the HelloRetryRequest.","",[[[],0,"   "],[[443],224,"Because TLS 1.3 forbids renegotiation, if a server has negotiated"]],[[[],0,"   "],[[443],224,"TLS 1.3 and receives a ClientHello at any other time, it MUST"]],[[[],0,"   "],[[443],224,"terminate the connection with an \"unexpected_message\" alert."]],"",[[[],0,"   "],[[444],224,"If a server established a TLS connection with a previous version of"]],[[[],0,"   "],[[444],224,"TLS and receives a TLS 1.3 ClientHello in a renegotiation, it MUST"]],[[[],0,"   "],[[444],224,"retain the previous protocol version."],[[],0,"  "],[[445],224,"In particular, it MUST NOT"]],[[[],0,"   "],[[445],224,"negotiate TLS 1.3."]],"","   Structure of this message:","","      uint16 ProtocolVersion;","      opaque Random[32];","","      uint8 CipherSuite[2];    /* Cryptographic suite selector */","",[[[],0,"      "],[[837],16,"struct {"]],[[[],0,"          "],[[837],16,"ProtocolVersion legacy_version = 0x0303;    /* TLS v1.2 */"]],[[[],0,"          "],[[837],16,"Random random;"]],[[[],0,"          "],[[837],16,"opaque legacy_session_id<0..32>;"]],[[[],0,"          "],[[837],16,"CipherSuite cipher_suites<2..2^16-2>;"]],[[[],0,"          "],[[837],16,"opaque legacy_compression_methods<1..2^8-1>;"]],[[[],0,"          "],[[837],16,"Extension extensions<8..2^16-1>;"]],[[[],0,"      "],[[837],16,"} ClientHello;"]],"",[[[],0,"   "],[[839],16,"legacy_version:  In previous versions of TLS, this field was used for"]],[[[],0,"      "],[[839],16,"version negotiation and represented the highest version number"]],[[[],0,"      "],[[839],16,"supported by the client.  Experience has shown that many servers"]],[[[],0,"      "],[[839],16,"do not properly implement version negotiation, leading to \"version"]],[[[],0,"      "],[[839],16,"intolerance\" in which the server rejects an otherwise acceptable"]],[[[],0,"      "],[[839],16,"ClientHello with a version number higher than it supports.  "],[[446,839],240,"In"]],[[[],0,"      "],[[446,839],240,"TLS 1.3, the client indicates its version preferences in the"]],[[[],0,"      "],[[446,839],240,"\"supported_versions\" extension (Section 4.2.1) and the"]],[[[],0,"      "],[[446,839],240,"legacy_version field MUST be set to 0x0303, which is the version"]],[[[],0,"      "],[[446,839],240,"number for TLS 1.2."],[[839],16,"  TLS 1.3 ClientHellos are identified as having"]],[[[],0,"      "],[[839],16,"a legacy_version of 0x0303 and a supported_versions extension"]],[[[],0,"      "],[[839],16,"present with 0x0304 as the highest version indicated therein."]],[[[],0,"      "],[[839],16,"(See Appendix D for details about backward compatibility.)"]],"",[[[],0,"   "],[[840],16,"random:  32 bytes generated by a secure random number generator.  See"]],[[[],0,"      "],[[840],16,"Appendix C for additional information."]],"",[[[],0,"   "],[[841],16,"legacy_session_id:  Versions of TLS before TLS 1.3 supported a"]],[[[],0,"      "],[[841],16,"\"session resumption\" feature which has been merged with pre-shared"]],[[[],0,"      "],[[841],16,"keys in this version (see Section 2.2).  "],[[447,841],176,"A client which has a"]],[[[],0,"      "],[[447,841],176,"cached session ID set by a pre-TLS 1.3 server SHOULD set this"]],[[[],0,"      "],[[447,841],176,"field to that value."],[[841],16,"  "],[[448,449,841],240,"In compatibility mode (see Appendix D.4),"]],[[[],0,"      "],[[448,449,841],240,"this field MUST be non-empty, so a client not offering a"]],[[[],0,"      "],[[448,449,841],240,"pre-TLS 1.3 session MUST generate a new 32-byte value."],[[841],16,"  "],[[450,841],176,"This value"]],[[[],0,"      "],[[450,841],176,"need not be random but SHOULD be unpredictable to avoid"]],[[[],0,"      "],[[450,841],176,"implementations fixating on a specific value (also known as"]],[[[],0,"      "],[[450,841],176,"ossification)."],[[841],16,"  "],[[451,841],240,"Otherwise, it MUST be set as a zero-length vector"]],[[[],0,"      "],[[451,841],240,"(i.e., a zero-valued single byte length field)."]],"","   cipher_suites:  A list of the symmetric cipher options supported by","      the client, specifically the record protection algorithm","      (including secret key length) and a hash to be used with HKDF, in","      descending order of client preference.  Values are defined in",[[[],0,"      Appendix B.4.  "],[[452],224,"If the list contains cipher suites that the server"]],[[[],0,"      "],[[452],224,"does not recognize, support, or wish to use, the server MUST"]],[[[],0,"      "],[[452],224,"ignore those cipher suites and process the remaining ones as"]],[[[],0,"      "],[[452],224,"usual."],[[],0,"  "],[[453],160,"If the client is attempting a PSK key establishment, it"]],[[[],0,"      "],[[453],160,"SHOULD advertise at least one cipher suite indicating a Hash"]],[[[],0,"      "],[[453],160,"associated with the PSK."]],"","   legacy_compression_methods:  Versions of TLS before 1.3 supported","      compression with the list of supported compression methods being",[[[],0,"      sent in this field.  "],[[454],224,"For every TLS 1.3 ClientHello, this vector"]],[[[],0,"      "],[[454],224,"MUST contain exactly one byte, set to zero, which corresponds to"]],[[[],0,"      "],[[454],224,"the \"null\" compression method in prior versions of TLS."],[[],0,"  "],[[455],224,"If a"]],[[[],0,"      "],[[455],224,"TLS 1.3 ClientHello is received with any other value in this"]],[[[],0,"      "],[[455],224,"field, the server MUST abort the handshake with an"]],[[[],0,"      "],[[455],224,"\"illegal_parameter\" alert."],[[],0,"  "],[[456],224,"Note that TLS 1.3 servers might"]],[[[],0,"      "],[[456],224,"receive TLS 1.2 or prior ClientHellos which contain other"]],[[[],0,"      "],[[456],224,"compression methods and (if negotiating such a prior version) MUST"]],[[[],0,"      "],[[456],224,"follow the procedures for the appropriate prior version of TLS."]],"","   extensions:  Clients request extended functionality from servers by","      sending data in the extensions field.  The actual \"Extension\"","      format is defined in Section 4.2.  In TLS 1.3, the use of certain","      extensions is mandatory, as functionality has moved into","      extensions to preserve ClientHello compatibility with previous",[[[],0,"      versions of TLS.  "],[[457],224,"Servers MUST ignore unrecognized extensions."]],"","   All versions of TLS allow an extensions field to optionally follow","   the compression_methods field.  TLS 1.3 ClientHello messages always","   contain extensions (minimally \"supported_versions\", otherwise, they","   will be interpreted as TLS 1.2 ClientHello messages).  However,","   TLS 1.3 servers might receive ClientHello messages without an","   extensions field from prior versions of TLS.  The presence of","   extensions can be detected by determining whether there are bytes","   following the compression_methods field at the end of the","   ClientHello.  Note that this method of detecting optional data","   differs from the normal TLS method of having a variable-length field,","   but it is used for compatibility with TLS before extensions were","   defined.  TLS 1.3 servers will need to perform this check first and","   only attempt to negotiate TLS 1.3 if the \"supported_versions\"",[[[],0,"   extension is present.  "],[[458],224,"If negotiating a version of TLS prior to 1.3,"]],[[[],0,"   "],[[458],224,"a server MUST check that the message either contains no data after"]],[[[],0,"   "],[[458],224,"legacy_compression_methods or that it contains a valid extensions"]],[[[],0,"   "],[[458],224,"block with no data following."],[[],0,"  "],[[459],224,"If not, then it MUST abort the"]],[[[],0,"   "],[[459],224,"handshake with a \"decode_error\" alert."]],"",[[[],0,"   "],[[460],96,"In the event that a client requests additional functionality using"]],[[[],0,"   "],[[460],96,"extensions and this functionality is not supplied by the server, the"]],[[[],0,"   "],[[460],96,"client MAY abort the handshake."]],"","   After sending the ClientHello message, the client waits for a","   ServerHello or HelloRetryRequest message.  If early data is in use,","   the client may transmit early Application Data (Section 2.3) while","   waiting for the next handshake message."],"requirements":[441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460]},{"id":"section-4.1.3","title":"Server Hello","lines":["   The server will send this message in response to a ClientHello","   message to proceed with the handshake if it is able to negotiate an","   acceptable set of handshake parameters based on the ClientHello.","","   Structure of this message:","","      struct {","          ProtocolVersion legacy_version = 0x0303;    /* TLS v1.2 */","          Random random;","          opaque legacy_session_id_echo<0..32>;","          CipherSuite cipher_suite;","          uint8 legacy_compression_method = 0;","          Extension extensions<6..2^16-1>;","      } ServerHello;","","   legacy_version:  In previous versions of TLS, this field was used for","      version negotiation and represented the selected version number","      for the connection.  Unfortunately, some middleboxes fail when",[[[],0,"      presented with new values.  "],[[461],224,"In TLS 1.3, the TLS server indicates"]],[[[],0,"      "],[[461],224,"its version using the \"supported_versions\" extension"]],[[[],0,"      "],[[461],224,"(Section 4.2.1), and the legacy_version field MUST be set to"]],[[[],0,"      "],[[461],224,"0x0303, which is the version number for TLS 1.2."],[[],0,"  (See Appendix D"]],"      for details about backward compatibility.)","","   random:  32 bytes generated by a secure random number generator.  See",[[[],0,"      Appendix C for additional information.  "],[[462,463],224,"The last 8 bytes MUST be"]],[[[],0,"      "],[[462,463],224,"overwritten as described below if negotiating TLS 1.2 or TLS 1.1,"]],[[[],0,"      "],[[462,463],224,"but the remaining bytes MUST be random."],[[],0,"  "],[[464],224,"This structure is"]],[[[],0,"      "],[[464],224,"generated by the server and MUST be generated independently of the"]],[[[],0,"      "],[[464],224,"ClientHello.random."]],"","   legacy_session_id_echo:  The contents of the client's","      legacy_session_id field.  Note that this field is echoed even if","      the client's value corresponded to a cached pre-TLS 1.3 session",[[[],0,"      which the server has chosen not to resume.  "],[[465],224,"A client which"]],[[[],0,"      "],[[465],224,"receives a legacy_session_id_echo field that does not match what"]],[[[],0,"      "],[[465],224,"it sent in the ClientHello MUST abort the handshake with an"]],[[[],0,"      "],[[465],224,"\"illegal_parameter\" alert."]],"","   cipher_suite:  The single cipher suite selected by the server from",[[[],0,"      the list in ClientHello.cipher_suites.  "],[[466],224,"A client which receives a"]],[[[],0,"      "],[[466],224,"cipher suite that was not offered MUST abort the handshake with an"]],[[[],0,"      "],[[466],224,"\"illegal_parameter\" alert."]],"",[[[],0,"   "],[[467],224,"legacy_compression_method:  A single byte which MUST have the"]],[[[],0,"      "],[[467],224,"value 0."]],"",[[[],0,"   extensions:  A list of extensions.  "],[[468],224,"The ServerHello MUST only include"]],[[[],0,"      "],[[468],224,"extensions which are required to establish the cryptographic"]],[[[],0,"      "],[[468],224,"context and negotiate the protocol version."],[[],0,"  "],[[469],224,"All TLS 1.3"]],[[[],0,"      "],[[469],224,"ServerHello messages MUST contain the \"supported_versions\""]],[[[],0,"      "],[[469],224,"extension."],[[],0,"  Current ServerHello messages additionally contain"]],"      either the \"pre_shared_key\" extension or the \"key_share\"","      extension, or both (when using a PSK with (EC)DHE key","      establishment).  Other extensions (see Section 4.2) are sent","      separately in the EncryptedExtensions message.","","   For reasons of backward compatibility with middleboxes (see","   Appendix D.4), the HelloRetryRequest message uses the same structure","   as the ServerHello, but with Random set to the special value of the","   SHA-256 of \"HelloRetryRequest\":","","     CF 21 AD 74 E5 9A 61 11 BE 1D 8C 02 1E 65 B8 91","     C2 A2 11 16 7A BB 8C 5E 07 9E 09 E2 C8 A8 33 9C","",[[[],0,"   "],[[470],224,"Upon receiving a message with type server_hello, implementations MUST"]],[[[],0,"   "],[[470],224,"first examine the Random value and, if it matches this value, process"]],[[[],0,"   "],[[470],224,"it as described in Section 4.1.4)."]],"","   TLS 1.3 has a downgrade protection mechanism embedded in the server's",[[[],0,"   random value.  "],[[471],224,"TLS 1.3 servers which negotiate TLS 1.2 or below in"]],[[[],0,"   "],[[471],224,"response to a ClientHello MUST set the last 8 bytes of their Random"]],[[[],0,"   "],[[471],224,"value specially in their ServerHello."]],"",[[[],0,"   "],[[472],224,"If negotiating TLS 1.2, TLS 1.3 servers MUST set the last 8 bytes of"]],[[[],0,"   "],[[472],224,"their Random value to the bytes:"]],"","     44 4F 57 4E 47 52 44 01","",[[[],0,"   "],[[473],224,"If negotiating TLS 1.1 or below, TLS 1.3 servers MUST, and TLS 1.2"]],[[[],0,"   "],[[473],224,"servers SHOULD, set the last 8 bytes of their ServerHello.Random"]],[[[],0,"   "],[[473],224,"value to the bytes:"]],"","     44 4F 57 4E 47 52 44 00","",[[[],0,"   "],[[474],224,"TLS 1.3 clients receiving a ServerHello indicating TLS 1.2 or below"]],[[[],0,"   "],[[474],224,"MUST check that the last 8 bytes are not equal to either of these"]],[[[],0,"   "],[[474],224,"values."],[[],0,"  "],[[475],160,"TLS 1.2 clients SHOULD also check that the last 8 bytes are"]],[[[],0,"   "],[[475],160,"not equal to the second value if the ServerHello indicates TLS 1.1 or"]],[[[],0,"   "],[[475],160,"below."],[[],0,"  "],[[476],224,"If a match is found, the client MUST abort the handshake with"]],[[[],0,"   "],[[476],224,"an \"illegal_parameter\" alert."],[[],0,"  This mechanism provides limited"]],"   protection against downgrade attacks over and above what is provided","   by the Finished exchange: because the ServerKeyExchange, a message","   present in TLS 1.2 and below, includes a signature over both random","   values, it is not possible for an active attacker to modify the","","   random values without detection as long as ephemeral ciphers are","   used.  It does not provide downgrade protection when static RSA","   is used.","","   Note: This is a change from [RFC5246], so in practice many TLS 1.2","   clients and servers will not behave as specified above.","",[[[],0,"   "],[[477],224,"A legacy TLS client performing renegotiation with TLS 1.2 or prior"]],[[[],0,"   "],[[477],224,"and which receives a TLS 1.3 ServerHello during renegotiation MUST"]],[[[],0,"   "],[[477],224,"abort the handshake with a \"protocol_version\" alert."],[[],0,"  Note that"]],"   renegotiation is not possible when TLS 1.3 has been negotiated."],"requirements":[461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477]},{"id":"section-4.1.4","title":"Hello Retry Request","lines":["   The server will send this message in response to a ClientHello","   message if it is able to find an acceptable set of parameters but the","   ClientHello does not contain sufficient information to proceed with","   the handshake.  As discussed in Section 4.1.3, the HelloRetryRequest","   has the same format as a ServerHello message, and the legacy_version,","   legacy_session_id_echo, cipher_suite, and legacy_compression_method","   fields have the same meaning.  However, for convenience we discuss","   \"HelloRetryRequest\" throughout this document as if it were a distinct","   message.","",[[[],0,"   "],[[478],224,"The server's extensions MUST contain \"supported_versions\"."]],[[[],0,"   "],[[479],160,"Additionally, it SHOULD contain the minimal set of extensions"]],[[[],0,"   "],[[479],160,"necessary for the client to generate a correct ClientHello pair."],[[],0,"  "],[[480],224,"As"]],[[[],0,"   "],[[480],224,"with the ServerHello, a HelloRetryRequest MUST NOT contain any"]],[[[],0,"   "],[[480],224,"extensions that were not first offered by the client in its"]],[[[],0,"   "],[[480],224,"ClientHello, with the exception of optionally the \"cookie\" (see"]],[[[],0,"   "],[[480],224,"Section 4.2.2) extension."]],"",[[[],0,"   "],[[481],224,"Upon receipt of a HelloRetryRequest, the client MUST check the"]],[[[],0,"   "],[[481],224,"legacy_version, legacy_session_id_echo, cipher_suite, and"]],[[[],0,"   "],[[481],224,"legacy_compression_method as specified in Section 4.1.3 and then"]],[[[],0,"   "],[[481],224,"process the extensions, starting with determining the version using"]],[[[],0,"   "],[[481],224,"\"supported_versions\"."],[[],0,"  "],[[482],224,"Clients MUST abort the handshake with an"]],[[[],0,"   "],[[482],224,"\"illegal_parameter\" alert if the HelloRetryRequest would not result"]],[[[],0,"   "],[[482],224,"in any change in the ClientHello."],[[],0,"  "],[[483],224,"If a client receives a second"]],[[[],0,"   "],[[483],224,"HelloRetryRequest in the same connection (i.e., where the ClientHello"]],[[[],0,"   "],[[483],224,"was itself in response to a HelloRetryRequest), it MUST abort the"]],[[[],0,"   "],[[483],224,"handshake with an \"unexpected_message\" alert."]],"",[[[],0,"   "],[[484],224,"Otherwise, the client MUST process all extensions in the"]],[[[],0,"   "],[[484],224,"HelloRetryRequest and send a second updated ClientHello."],[[],0,"  The"]],"   HelloRetryRequest extensions defined in this specification are:","","   -  supported_versions (see Section 4.2.1)","","   -  cookie (see Section 4.2.2)","","   -  key_share (see Section 4.2.8)","",[[[],0,"   "],[[485],224,"A client which receives a cipher suite that was not offered MUST"]],[[[],0,"   "],[[485],224,"abort the handshake."],[[],0,"  "],[[486],224,"Servers MUST ensure that they negotiate the"]],[[[],0,"   "],[[486],224,"same cipher suite when receiving a conformant updated ClientHello (if"]],[[[],0,"   "],[[486],224,"the server selects the cipher suite as the first step in the"]],[[[],0,"   "],[[486],224,"negotiation, then this will happen automatically)."],[[],0,"  "],[[487],224,"Upon receiving"]],[[[],0,"   "],[[487],224,"the ServerHello, clients MUST check that the cipher suite supplied in"]],[[[],0,"   "],[[487],224,"the ServerHello is the same as that in the HelloRetryRequest and"]],[[[],0,"   "],[[487],224,"otherwise abort the handshake with an \"illegal_parameter\" alert."]],"",[[[],0,"   "],[[488],160,"In addition, in its updated ClientHello, the client SHOULD NOT offer"]],[[[],0,"   "],[[488],160,"any pre-shared keys associated with a hash other than that of the"]],[[[],0,"   "],[[488],160,"selected cipher suite."],[[],0,"  This allows the client to avoid having to"]],"   compute partial hash transcripts for multiple hashes in the second","   ClientHello.","",[[[],0,"   "],[[489,490],224,"The value of selected_version in the HelloRetryRequest"]],[[[],0,"   "],[[489,490],224,"\"supported_versions\" extension MUST be retained in the ServerHello,"]],[[[],0,"   "],[[489,490],224,"and a client MUST abort the handshake with an \"illegal_parameter\""]],[[[],0,"   "],[[489,490],224,"alert if the value changes."]]],"requirements":[478,479,480,481,482,483,484,485,486,487,488,489,490]},{"id":"section-4.2","title":"Extensions","lines":["   A number of TLS messages contain tag-length-value encoded extensions","   structures.","","    struct {","        ExtensionType extension_type;","        opaque extension_data<0..2^16-1>;","    } Extension;","","    enum {","        server_name(0),                             /* RFC 6066 */","        max_fragment_length(1),                     /* RFC 6066 */","        status_request(5),                          /* RFC 6066 */","        supported_groups(10),                       /* RFC 8422, 7919 */","        signature_algorithms(13),                   /* RFC 8446 */","        use_srtp(14),                               /* RFC 5764 */","        heartbeat(15),                              /* RFC 6520 */","        application_layer_protocol_negotiation(16), /* RFC 7301 */","        signed_certificate_timestamp(18),           /* RFC 6962 */","        client_certificate_type(19),                /* RFC 7250 */","        server_certificate_type(20),                /* RFC 7250 */","        padding(21),                                /* RFC 7685 */","        pre_shared_key(41),                         /* RFC 8446 */","        early_data(42),                             /* RFC 8446 */","        supported_versions(43),                     /* RFC 8446 */","        cookie(44),                                 /* RFC 8446 */","        psk_key_exchange_modes(45),                 /* RFC 8446 */","        certificate_authorities(47),                /* RFC 8446 */","        oid_filters(48),                            /* RFC 8446 */","        post_handshake_auth(49),                    /* RFC 8446 */","        signature_algorithms_cert(50),              /* RFC 8446 */","        key_share(51),                              /* RFC 8446 */","        (65535)","    } ExtensionType;","","   Here:","","   -  \"extension_type\" identifies the particular extension type.","","   -  \"extension_data\" contains information specific to the particular","      extension type.","","   The list of extension types is maintained by IANA as described in","   Section 11.","","   Extensions are generally structured in a request/response fashion,","   though some extensions are just indications with no corresponding","   response.  The client sends its extension requests in the ClientHello","   message, and the server sends its extension responses in the","   ServerHello, EncryptedExtensions, HelloRetryRequest, and Certificate",[[[],0,"   messages.  "],[[614],96,"The server sends extension requests in the"]],[[[],0,"   "],[[614],96,"CertificateRequest message which a client MAY respond to with a"]],[[[],0,"   "],[[614],96,"Certificate message."],[[],0,"  "],[[615],96,"The server MAY also send unsolicited extensions"]],[[[],0,"   "],[[615],96,"in the NewSessionTicket, though the client does not respond directly"]],[[[],0,"   "],[[615],96,"to these."]],"",[[[],0,"   "],[[616],224,"Implementations MUST NOT send extension responses if the remote"]],[[[],0,"   "],[[616],224,"endpoint did not send the corresponding extension requests, with the"]],[[[],0,"   "],[[616],224,"exception of the \"cookie\" extension in the HelloRetryRequest."],[[],0,"  "],[[617],224,"Upon"]],[[[],0,"   "],[[617],224,"receiving such an extension, an endpoint MUST abort the handshake"]],[[[],0,"   "],[[617],224,"with an \"unsupported_extension\" alert."]],"","   The table below indicates the messages where a given extension may","   appear, using the following notation: CH (ClientHello),","   SH (ServerHello), EE (EncryptedExtensions), CT (Certificate),","   CR (CertificateRequest), NST (NewSessionTicket), and",[[[],0,"   HRR (HelloRetryRequest).  "],[[618],224,"If an implementation receives an extension"]],[[[],0,"   "],[[618],224,"which it recognizes and which is not specified for the message in"]],[[[],0,"   "],[[618],224,"which it appears, it MUST abort the handshake with an"]],[[[],0,"   "],[[618],224,"\"illegal_parameter\" alert."]],"","   +--------------------------------------------------+-------------+","   | Extension                                        |     TLS 1.3 |","   +--------------------------------------------------+-------------+","   | server_name [RFC6066]                            |      CH, EE |","   |                                                  |             |","   | max_fragment_length [RFC6066]                    |      CH, EE |","   |                                                  |             |","   | status_request [RFC6066]                         |  CH, CR, CT |","   |                                                  |             |","   | supported_groups [RFC7919]                       |      CH, EE |","   |                                                  |             |","   | signature_algorithms (RFC 8446)                  |      CH, CR |","   |                                                  |             |","   | use_srtp [RFC5764]                               |      CH, EE |","   |                                                  |             |","   | heartbeat [RFC6520]                              |      CH, EE |","   |                                                  |             |","   | application_layer_protocol_negotiation [RFC7301] |      CH, EE |","   |                                                  |             |","   | signed_certificate_timestamp [RFC6962]           |  CH, CR, CT |","   |                                                  |             |","   | client_certificate_type [RFC7250]                |      CH, EE |","   |                                                  |             |","   | server_certificate_type [RFC7250]                |      CH, EE |","   |                                                  |             |","   | padding [RFC7685]                                |          CH |","   |                                                  |             |","   | key_share (RFC 8446)                             | CH, SH, HRR |","   |                                                  |             |","   | pre_shared_key (RFC 8446)                        |      CH, SH |","   |                                                  |             |","   | psk_key_exchange_modes (RFC 8446)                |          CH |","   |                                                  |             |","   | early_data (RFC 8446)                            | CH, EE, NST |","   |                                                  |             |","   | cookie (RFC 8446)                                |     CH, HRR |","   |                                                  |             |","   | supported_versions (RFC 8446)                    | CH, SH, HRR |","   |                                                  |             |","   | certificate_authorities (RFC 8446)               |      CH, CR |","   |                                                  |             |","   | oid_filters (RFC 8446)                           |          CR |","   |                                                  |             |","   | post_handshake_auth (RFC 8446)                   |          CH |","   |                                                  |             |","   | signature_algorithms_cert (RFC 8446)             |      CH, CR |","   +--------------------------------------------------+-------------+","",[[[],0,"   "],[[619],224,"When multiple extensions of different types are present, the"]],[[[],0,"   "],[[619],224,"extensions MAY appear in any order, with the exception of"]],[[[],0,"   "],[[619],224,"\"pre_shared_key\" (Section 4.2.11) which MUST be the last extension in"]],[[[],0,"   "],[[619],224,"the ClientHello (but can appear anywhere in the ServerHello"]],[[[],0,"   "],[[619],224,"extensions block)."],[[],0,"  "],[[620],224,"There MUST NOT be more than one extension of the"]],[[[],0,"   "],[[620],224,"same type in a given extension block."]],"","   In TLS 1.3, unlike TLS 1.2, extensions are negotiated for each","   handshake even when in resumption-PSK mode.  However, 0-RTT","   parameters are those negotiated in the previous handshake; mismatches","   may require rejecting 0-RTT (see Section 4.2.10).","","   There are subtle (and not so subtle) interactions that may occur in","   this protocol between new features and existing features which may","   result in a significant reduction in overall security.  The following","   considerations should be taken into account when designing new","   extensions:","","   -  Some cases where a server does not agree to an extension are error","      conditions (e.g., the handshake cannot continue), and some are","      simply refusals to support particular features.  In general, error","      alerts should be used for the former and a field in the server","      extension response for the latter.","","   -  Extensions should, as far as possible, be designed to prevent any","      attack that forces use (or non-use) of a particular feature by","      manipulation of handshake messages.  This principle should be","      followed regardless of whether the feature is believed to cause a","      security problem.  Often the fact that the extension fields are","      included in the inputs to the Finished message hashes will be","      sufficient, but extreme care is needed when the extension changes","      the meaning of messages sent in the handshake phase.  Designers","      and implementors should be aware of the fact that until the","      handshake has been authenticated, active attackers can modify","      messages and insert, remove, or replace extensions."],"requirements":[614,615,616,617,618,619,620]},{"id":"section-4.2.1","title":"Supported Versions","lines":["      struct {","          select (Handshake.msg_type) {","              case client_hello:","                   ProtocolVersion versions<2..254>;","","              case server_hello: /* and HelloRetryRequest */","                   ProtocolVersion selected_version;","          };","      } SupportedVersions;","","   The \"supported_versions\" extension is used by the client to indicate","   which versions of TLS it supports and by the server to indicate which","   version it is using.  The extension contains a list of supported","   versions in preference order, with the most preferred version first.",[[[],0,"   "],[[491,492],224,"Implementations of this specification MUST send this extension in the"]],[[[],0,"   "],[[491,492],224,"ClientHello containing all versions of TLS which they are prepared to"]],[[[],0,"   "],[[491,492],224,"negotiate (for this specification, that means minimally 0x0304, but"]],[[[],0,"   "],[[491,492],224,"if previous versions of TLS are allowed to be negotiated, they MUST"]],[[[],0,"   "],[[491,492],224,"be present as well)."]],"",[[[],0,"   "],[[493],224,"If this extension is not present, servers which are compliant with"]],[[[],0,"   "],[[493],224,"this specification and which also support TLS 1.2 MUST negotiate"]],[[[],0,"   "],[[493],224,"TLS 1.2 or prior as specified in [RFC5246], even if"]],[[[],0,"   "],[[493],224,"ClientHello.legacy_version is 0x0304 or later."],[[],0,"  "],[[494],96,"Servers MAY abort the"]],[[[],0,"   "],[[494],96,"handshake upon receiving a ClientHello with legacy_version 0x0304 or"]],[[[],0,"   "],[[494],96,"later."]],"",[[[],0,"   "],[[495,496],224,"If this extension is present in the ClientHello, servers MUST NOT use"]],[[[],0,"   "],[[495,496],224,"the ClientHello.legacy_version value for version negotiation and MUST"]],[[[],0,"   "],[[495,496],224,"use only the \"supported_versions\" extension to determine client"]],[[[],0,"   "],[[495,496],224,"preferences."],[[],0,"  "],[[497,498],224,"Servers MUST only select a version of TLS present in"]],[[[],0,"   "],[[497,498],224,"that extension and MUST ignore any unknown versions that are present"]],[[[],0,"   "],[[497,498],224,"in that extension."],[[],0,"  Note that this mechanism makes it possible to"]],"   negotiate a version prior to TLS 1.2 if one side supports a sparse",[[[],0,"   range.  "],[[500],160,"Implementations of TLS 1.3 which choose to support prior"]],[[[],0,"   "],[[500],160,"versions of TLS SHOULD support TLS 1.2."],[[],0,"  "],[[499],224,"Servers MUST be prepared to"]],[[[],0,"   "],[[499],224,"receive ClientHellos that include this extension but do not include"]],[[[],0,"   "],[[499],224,"0x0304 in the list of versions."]],"",[[[],0,"   "],[[501,502],224,"A server which negotiates a version of TLS prior to TLS 1.3 MUST set"]],[[[],0,"   "],[[501,502],224,"ServerHello.version and MUST NOT send the \"supported_versions\""]],[[[],0,"   "],[[501,502],224,"extension."],[[],0,"  "],[[503],224,"A server which negotiates TLS 1.3 MUST respond by sending"]],[[[],0,"   "],[[503],224,"a \"supported_versions\" extension containing the selected version"]],[[[],0,"   "],[[503],224,"value (0x0304)."],[[],0,"  "],[[504],224,"It MUST set the ServerHello.legacy_version field to"]],[[[],0,"   "],[[504],224,"0x0303 (TLS 1.2)."],[[],0,"  "],[[505],224,"Clients MUST check for this extension prior to"]],[[[],0,"   "],[[505],224,"processing the rest of the ServerHello (although they will have to"]],"",[[[],0,"   parse the ServerHello in order to read the extension).  "],[[506,507],224,"If this"]],[[[],0,"   "],[[506,507],224,"extension is present, clients MUST ignore the"]],[[[],0,"   "],[[506,507],224,"ServerHello.legacy_version value and MUST use only the"]],[[[],0,"   "],[[506,507],224,"\"supported_versions\" extension to determine the selected version."],[[],0,"  "],[[508],224,"If"]],[[[],0,"   "],[[508],224,"the \"supported_versions\" extension in the ServerHello contains a"]],[[[],0,"   "],[[508],224,"version not offered by the client or contains a version prior to"]],[[[],0,"   "],[[508],224,"TLS 1.3, the client MUST abort the handshake with an"]],[[[],0,"   "],[[508],224,"\"illegal_parameter\" alert."]]],"requirements":[491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508]},{"id":"section-4.2.2","title":"Cookie","lines":["      struct {","          opaque cookie<1..2^16-1>;","      } Cookie;","","   Cookies serve two primary purposes:","","   -  Allowing the server to force the client to demonstrate","      reachability at their apparent network address (thus providing a","      measure of DoS protection).  This is primarily useful for","      non-connection-oriented transports (see [RFC6347] for an example","      of this).","","   -  Allowing the server to offload state to the client, thus allowing","      it to send a HelloRetryRequest without storing any state.  The","      server can do this by storing the hash of the ClientHello in the","      HelloRetryRequest cookie (protected with some suitable integrity","      protection algorithm).","",[[[],0,"   "],[[544],96,"When sending a HelloRetryRequest, the server MAY provide a \"cookie\""]],[[[],0,"   "],[[544],96,"extension to the client (this is an exception to the usual rule that"]],[[[],0,"   "],[[544],96,"the only extensions that may be sent are those that appear in the"]],[[[],0,"   "],[[544],96,"ClientHello)."],[[],0,"  "],[[545],224,"When sending the new ClientHello, the client MUST copy"]],[[[],0,"   "],[[545],224,"the contents of the extension received in the HelloRetryRequest into"]],[[[],0,"   "],[[545],224,"a \"cookie\" extension in the new ClientHello."],[[],0,"  "],[[546],224,"Clients MUST NOT use"]],[[[],0,"   "],[[546],224,"cookies in their initial ClientHello in subsequent connections."]],"","   When a server is operating statelessly, it may receive an unprotected","   record of type change_cipher_spec between the first and second","   ClientHello (see Section 5).  Since the server is not storing any","   state, this will appear as if it were the first message to be",[[[],0,"   received.  "],[[547],224,"Servers operating statelessly MUST ignore these records."]]],"requirements":[544,545,546,547]},{"id":"section-4.2.3","title":"Signature Algorithms","lines":["   TLS 1.3 provides two extensions for indicating which signature","   algorithms may be used in digital signatures.  The","   \"signature_algorithms_cert\" extension applies to signatures in","   certificates, and the \"signature_algorithms\" extension, which","   originally appeared in TLS 1.2, applies to signatures in",[[[],0,"   CertificateVerify messages.  "],[[548],224,"The keys found in certificates MUST also"]],[[[],0,"   "],[[548],224,"be of appropriate type for the signature algorithms they are used"]],[[[],0,"   "],[[548],224,"with."],[[],0,"  This is a particular issue for RSA keys and PSS signatures, as"]],"   described below.  If no \"signature_algorithms_cert\" extension is","   present, then the \"signature_algorithms\" extension also applies to",[[[],0,"   signatures appearing in certificates.  "],[[549],224,"Clients which desire the"]],[[[],0,"   "],[[549],224,"server to authenticate itself via a certificate MUST send the"]],[[[],0,"   "],[[549],224,"\"signature_algorithms\" extension."],[[],0,"  "],[[550],224,"If a server is authenticating via"]],[[[],0,"   "],[[550],224,"a certificate and the client has not sent a \"signature_algorithms\""]],[[[],0,"   "],[[550],224,"extension, then the server MUST abort the handshake with a"]],[[[],0,"   "],[[550],224,"\"missing_extension\" alert (see Section 9.2)."]],"","   The \"signature_algorithms_cert\" extension was added to allow","   implementations which supported different sets of algorithms for","   certificates and in TLS itself to clearly signal their capabilities.",[[[],0,"   "],[[551],160,"TLS 1.2 implementations SHOULD also process this extension."]],[[[],0,"   "],[[552],96,"Implementations which have the same policy in both cases MAY omit the"]],[[[],0,"   "],[[552],96,"\"signature_algorithms_cert\" extension."]],"","   The \"extension_data\" field of these extensions contains a","   SignatureSchemeList value:","","      enum {","          /* RSASSA-PKCS1-v1_5 algorithms */","          rsa_pkcs1_sha256(0x0401),","          rsa_pkcs1_sha384(0x0501),","          rsa_pkcs1_sha512(0x0601),","","          /* ECDSA algorithms */","          ecdsa_secp256r1_sha256(0x0403),","          ecdsa_secp384r1_sha384(0x0503),","          ecdsa_secp521r1_sha512(0x0603),","","          /* RSASSA-PSS algorithms with public key OID rsaEncryption */","          rsa_pss_rsae_sha256(0x0804),","          rsa_pss_rsae_sha384(0x0805),","          rsa_pss_rsae_sha512(0x0806),","","          /* EdDSA algorithms */","          ed25519(0x0807),","          ed448(0x0808),","","          /* RSASSA-PSS algorithms with public key OID RSASSA-PSS */","          rsa_pss_pss_sha256(0x0809),","          rsa_pss_pss_sha384(0x080a),","          rsa_pss_pss_sha512(0x080b),","","          /* Legacy algorithms */","          rsa_pkcs1_sha1(0x0201),","          ecdsa_sha1(0x0203),","","          /* Reserved Code Points */","          private_use(0xFE00..0xFFFF),","          (0xFFFF)","      } SignatureScheme;","","      struct {","          SignatureScheme supported_signature_algorithms<2..2^16-2>;","      } SignatureSchemeList;","","   Note: This enum is named \"SignatureScheme\" because there is already a","   \"SignatureAlgorithm\" type in TLS 1.2, which this replaces.  We use","   the term \"signature algorithm\" throughout the text.","","   Each SignatureScheme value lists a single signature algorithm that","   the client is willing to verify.  The values are indicated in","   descending order of preference.  Note that a signature algorithm","   takes as input an arbitrary-length message, rather than a digest.","   Algorithms which traditionally act on a digest should be defined in","   TLS to first hash the input with a specified hash algorithm and then","   proceed as usual.  The code point groups listed above have the","   following meanings:","","   RSASSA-PKCS1-v1_5 algorithms:  Indicates a signature algorithm using","      RSASSA-PKCS1-v1_5 [RFC8017] with the corresponding hash algorithm",[[[],0,"      as defined in [SHS].  "],[[553,560],96,"These values refer solely to signatures"]],[[[],0,"      "],[[553,560],96,"which appear in certificates (see Section 4.4.2.2) and are not"]],[[[],0,"      "],[[553,560],96,"defined for use in signed TLS handshake messages, although they"]],[[[],0,"      "],[[553,560],96,"MAY appear in \"signature_algorithms\" and"]],[[[],0,"      "],[[553,560],96,"\"signature_algorithms_cert\" for backward compatibility with"]],[[[],0,"      "],[[553,560],96,"TLS 1.2."]],"","   ECDSA algorithms:  Indicates a signature algorithm using ECDSA","      [ECDSA], the corresponding curve as defined in ANSI X9.62 [ECDSA]","      and FIPS 186-4 [DSS], and the corresponding hash algorithm as","      defined in [SHS].  The signature is represented as a DER-encoded","      [X690] ECDSA-Sig-Value structure.","","   RSASSA-PSS RSAE algorithms:  Indicates a signature algorithm using","      RSASSA-PSS [RFC8017] with mask generation function 1.  The digest","      used in the mask generation function and the digest being signed","      are both the corresponding hash algorithm as defined in [SHS].",[[[],0,"      "],[[554],224,"The length of the Salt MUST be equal to the length of the output"]],[[[],0,"      "],[[554],224,"of the digest algorithm."],[[],0,"  "],[[555],224,"If the public key is carried in an X.509"]],[[[],0,"      "],[[555],224,"certificate, it MUST use the rsaEncryption OID [RFC5280]."]],"","   EdDSA algorithms:  Indicates a signature algorithm using EdDSA as","      defined in [RFC8032] or its successors.  Note that these","      correspond to the \"PureEdDSA\" algorithms and not the \"prehash\"","      variants.","","   RSASSA-PSS PSS algorithms:  Indicates a signature algorithm using","      RSASSA-PSS [RFC8017] with mask generation function 1.  The digest","      used in the mask generation function and the digest being signed","      are both the corresponding hash algorithm as defined in [SHS].",[[[],0,"      "],[[556],224,"The length of the Salt MUST be equal to the length of the digest"]],[[[],0,"      "],[[556],224,"algorithm."],[[],0,"  "],[[557],224,"If the public key is carried in an X.509 certificate,"]],[[[],0,"      "],[[557],224,"it MUST use the RSASSA-PSS OID [RFC5756]."],[[],0,"  "],[[558],224,"When used in"]],[[[],0,"      "],[[558],224,"certificate signatures, the algorithm parameters MUST be DER"]],[[[],0,"      "],[[558],224,"encoded."],[[],0,"  "],[[559],224,"If the corresponding public key's parameters are"]],[[[],0,"      "],[[559],224,"present, then the parameters in the signature MUST be identical to"]],[[[],0,"      "],[[559],224,"those in the public key."]],"","   Legacy algorithms:  Indicates algorithms which are being deprecated","      because they use algorithms with known weaknesses, specifically","      SHA-1 which is used in this context with either (1) RSA using","      RSASSA-PKCS1-v1_5 or (2) ECDSA.  These values refer solely to","      signatures which appear in certificates (see Section 4.4.2.2) and","      are not defined for use in signed TLS handshake messages, although","      they MAY appear in \"signature_algorithms\" and","      \"signature_algorithms_cert\" for backward compatibility with",[[[],0,"      TLS 1.2.  "],[[561],160,"Endpoints SHOULD NOT negotiate these algorithms but are"]],[[[],0,"      "],[[561],160,"permitted to do so solely for backward compatibility."],[[],0,"  "],[[562],224,"Clients"]],[[[],0,"      "],[[562],224,"offering these values MUST list them as the lowest priority"]],[[[],0,"      "],[[562],224,"(listed after all other algorithms in SignatureSchemeList)."]],[[[],0,"      "],[[563],224,"TLS 1.3 servers MUST NOT offer a SHA-1 signed certificate unless"]],[[[],0,"      "],[[563],224,"no valid certificate chain can be produced without it (see"]],[[[],0,"      "],[[563],224,"Section 4.4.2.2)."]],"","   The signatures on certificates that are self-signed or certificates","   that are trust anchors are not validated, since they begin a",[[[],0,"   certification path (see [RFC5280], Section 3.2).  "],[[564],96,"A certificate that"]],[[[],0,"   "],[[564],96,"begins a certification path MAY use a signature algorithm that is not"]],[[[],0,"   "],[[564],96,"advertised as being supported in the \"signature_algorithms\""]],[[[],0,"   "],[[564],96,"extension."]],"",[[[],0,"   Note that TLS 1.2 defines this extension differently.  "],[[565],224,"TLS 1.3"]],[[[],0,"   "],[[565],224,"implementations willing to negotiate TLS 1.2 MUST behave in"]],[[[],0,"   "],[[565],224,"accordance with the requirements of [RFC5246] when negotiating that"]],[[[],0,"   "],[[565],224,"version."],[[],0,"  In particular:"]],"",[[[],0,"   "],[[566],96,"-  TLS 1.2 ClientHellos MAY omit this extension."]],"","   -  In TLS 1.2, the extension contained hash/signature pairs.  The","      pairs are encoded in two octets, so SignatureScheme values have","      been allocated to align with TLS 1.2's encoding.  Some legacy","      pairs are left unallocated.  These algorithms are deprecated as of",[[[],0,"      TLS 1.3.  "],[[567],224,"They MUST NOT be offered or negotiated by any"]],[[[],0,"      "],[[567],224,"implementation."],[[],0,"  "],[[568],224,"In particular, MD5 [SLOTH], SHA-224, and DSA"]],[[[],0,"      "],[[568],224,"MUST NOT be used."]],"","   -  ECDSA signature schemes align with TLS 1.2's ECDSA hash/signature","      pairs.  However, the old semantics did not constrain the signing",[[[],0,"      curve.  "],[[569],224,"If TLS 1.2 is negotiated, implementations MUST be prepared"]],[[[],0,"      "],[[569],224,"to accept a signature that uses any curve that they advertised in"]],[[[],0,"      "],[[569],224,"the \"supported_groups\" extension."]],"",[[[],0,"   "],[[570],224,"-  Implementations that advertise support for RSASSA-PSS (which is"]],[[[],0,"      "],[[570],224,"mandatory in TLS 1.3) MUST be prepared to accept a signature using"]],[[[],0,"      "],[[570],224,"that scheme even when TLS 1.2 is negotiated."],[[],0,"  In TLS 1.2,"]],"      RSASSA-PSS is used with RSA cipher suites."],"requirements":[548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570]},{"id":"section-4.2.4","title":"Certificate Authorities","lines":[[[[],0,"   "],[[571],160,"The \"certificate_authorities\" extension is used to indicate the"]],[[[],0,"   "],[[571],160,"certificate authorities (CAs) which an endpoint supports and which"]],[[[],0,"   "],[[571],160,"SHOULD be used by the receiving endpoint to guide certificate"]],[[[],0,"   "],[[571],160,"selection."]],"","   The body of the \"certificate_authorities\" extension consists of a","   CertificateAuthoritiesExtension structure.","","      opaque DistinguishedName<1..2^16-1>;","","      struct {","          DistinguishedName authorities<3..2^16-1>;","      } CertificateAuthoritiesExtension;","","   authorities:  A list of the distinguished names [X501] of acceptable","      certificate authorities, represented in DER-encoded [X690] format.","      These distinguished names specify a desired distinguished name for","      a trust anchor or subordinate CA; thus, this message can be used","      to describe known trust anchors as well as a desired authorization","      space.","",[[[],0,"   "],[[572],96,"The client MAY send the \"certificate_authorities\" extension in the"]],[[[],0,"   "],[[572],96,"ClientHello message."],[[],0,"  "],[[573],96,"The server MAY send it in the"]],[[[],0,"   "],[[573],96,"CertificateRequest message."]],"","   The \"trusted_ca_keys\" extension [RFC6066], which serves a similar","   purpose but is more complicated, is not used in TLS 1.3 (although it","   may appear in ClientHello messages from clients which are offering","   prior versions of TLS)."],"requirements":[571,572,573]},{"id":"section-4.2.5","title":"OID Filters","lines":["   The \"oid_filters\" extension allows servers to provide a set of","   OID/value pairs which it would like the client's certificate to",[[[],0,"   match.  "],[[574],224,"This extension, if provided by the server, MUST only be sent"]],[[[],0,"   "],[[574],224,"in the CertificateRequest message."]],"","      struct {","          opaque certificate_extension_oid<1..2^8-1>;","          opaque certificate_extension_values<0..2^16-1>;","      } OIDFilter;","","      struct {","          OIDFilter filters<0..2^16-1>;","      } OIDFilterExtension;","","   filters:  A list of certificate extension OIDs [RFC5280] with their","      allowed value(s) and represented in DER-encoded [X690] format.","      Some certificate extension OIDs allow multiple values (e.g.,",[[[],0,"      Extended Key Usage).  "],[[575],224,"If the server has included a non-empty"]],[[[],0,"      "],[[575],224,"filters list, the client certificate included in the response MUST"]],[[[],0,"      "],[[575],224,"contain all of the specified extension OIDs that the client"]],[[[],0,"      "],[[575],224,"recognizes."],[[],0,"  "],[[576],224,"For each extension OID recognized by the client, all"]],[[[],0,"      "],[[576],224,"of the specified values MUST be present in the client certificate"]],[[[],0,"      "],[[576],224,"(but the certificate MAY have other values as well)."],[[],0,"  "],[[577],224,"However, the"]],[[[],0,"      "],[[577],224,"client MUST ignore and skip any unrecognized certificate extension"]],[[[],0,"      "],[[577],224,"OIDs."],[[],0,"  "],[[578],96,"If the client ignored some of the required certificate"]],[[[],0,"      "],[[578],96,"extension OIDs and supplied a certificate that does not satisfy"]],[[[],0,"      "],[[578],96,"the request, the server MAY at its discretion either continue the"]],[[[],0,"      "],[[578],96,"connection without client authentication or abort the handshake"]],[[[],0,"      "],[[578],96,"with an \"unsupported_certificate\" alert."],[[],0,"  "],[[579],224,"Any given OID MUST NOT"]],[[[],0,"      "],[[579],224,"appear more than once in the filters list."]],"","   PKIX RFCs define a variety of certificate extension OIDs and their","   corresponding value types.  Depending on the type, matching","   certificate extension values are not necessarily bitwise-equal.  It","   is expected that TLS implementations will rely on their PKI libraries","   to perform certificate selection using certificate extension OIDs.","","   This document defines matching rules for two standard certificate","   extensions defined in [RFC5280]:","","   -  The Key Usage extension in a certificate matches the request when","      all key usage bits asserted in the request are also asserted in","      the Key Usage certificate extension.","","   -  The Extended Key Usage extension in a certificate matches the","      request when all key purpose OIDs present in the request are also",[[[],0,"      found in the Extended Key Usage certificate extension.  "],[[580],224,"The"]],[[[],0,"      "],[[580],224,"special anyExtendedKeyUsage OID MUST NOT be used in the request."]],"","   Separate specifications may define matching rules for other","   certificate extensions."],"requirements":[574,575,576,577,578,579,580]},{"id":"section-4.2.6","title":"Post-Handshake Client Authentication","lines":["   The \"post_handshake_auth\" extension is used to indicate that a client","   is willing to perform post-handshake authentication (Section 4.6.2).",[[[],0,"   "],[[581],224,"Servers MUST NOT send a post-handshake CertificateRequest to clients"]],[[[],0,"   "],[[581],224,"which do not offer this extension."],[[],0,"  "],[[582],224,"Servers MUST NOT send this"]],[[[],0,"   "],[[582],224,"extension."]],"","      struct {} PostHandshakeAuth;","","   The \"extension_data\" field of the \"post_handshake_auth\" extension is","   zero length."],"requirements":[581,582]},{"id":"section-4.2.7","title":"Supported Groups","lines":["   When sent by the client, the \"supported_groups\" extension indicates","   the named groups which the client supports for key exchange, ordered","   from most preferred to least preferred.","","   Note: In versions of TLS prior to TLS 1.3, this extension was named","   \"elliptic_curves\" and only contained elliptic curve groups.  See","   [RFC8422] and [RFC7919].  This extension was also used to negotiate","   ECDSA curves.  Signature algorithms are now negotiated independently","   (see Section 4.2.3).","","   The \"extension_data\" field of this extension contains a","   \"NamedGroupList\" value:","","      enum {","","          /* Elliptic Curve Groups (ECDHE) */","          secp256r1(0x0017), secp384r1(0x0018), secp521r1(0x0019),","          x25519(0x001D), x448(0x001E),","","          /* Finite Field Groups (DHE) */","          ffdhe2048(0x0100), ffdhe3072(0x0101), ffdhe4096(0x0102),","          ffdhe6144(0x0103), ffdhe8192(0x0104),","","          /* Reserved Code Points */","          ffdhe_private_use(0x01FC..0x01FF),","          ecdhe_private_use(0xFE00..0xFEFF),","          (0xFFFF)","      } NamedGroup;","","      struct {","          NamedGroup named_group_list<2..2^16-1>;","      } NamedGroupList;","","   Elliptic Curve Groups (ECDHE):  Indicates support for the","      corresponding named curve, defined in either FIPS 186-4 [DSS] or","      [RFC7748].  Values 0xFE00 through 0xFEFF are reserved for","      Private Use [RFC8126].","","   Finite Field Groups (DHE):  Indicates support for the corresponding","      finite field group, defined in [RFC7919].  Values 0x01FC through","      0x01FF are reserved for Private Use.","","   Items in named_group_list are ordered according to the sender's","   preferences (most preferred choice first).","","   As of TLS 1.3, servers are permitted to send the \"supported_groups\"",[[[],0,"   extension to the client.  "],[[583],224,"Clients MUST NOT act upon any information"]],[[[],0,"   "],[[583],224,"found in \"supported_groups\" prior to successful completion of the"]],[[[],0,"   "],[[583],224,"handshake but MAY use the information learned from a successfully"]],[[[],0,"   "],[[583],224,"completed handshake to change what groups they use in their"]],[[[],0,"   "],[[583],224,"\"key_share\" extension in subsequent connections."],[[],0,"  "],[[584,585],160,"If the server has a"]],[[[],0,"   "],[[584,585],160,"group it prefers to the ones in the \"key_share\" extension but is"]],[[[],0,"   "],[[584,585],160,"still willing to accept the ClientHello, it SHOULD send"]],[[[],0,"   "],[[584,585],160,"\"supported_groups\" to update the client's view of its preferences;"]],[[[],0,"   "],[[584,585],160,"this extension SHOULD contain all groups the server supports,"]],[[[],0,"   "],[[584,585],160,"regardless of whether they are currently supported by the client."]]],"requirements":[583,584,585]},{"id":"section-4.2.8","title":"Key Share","lines":["   The \"key_share\" extension contains the endpoint's cryptographic","   parameters.","",[[[],0,"   "],[[588],96,"Clients MAY send an empty client_shares vector in order to request"]],[[[],0,"   "],[[588],96,"group selection from the server, at the cost of an additional round"]],[[[],0,"   "],[[588],96,"trip (see Section 4.1.4)."]],"","      struct {","          NamedGroup group;","          opaque key_exchange<1..2^16-1>;","      } KeyShareEntry;","","   group:  The named group for the key being exchanged.","","   key_exchange:  Key exchange information.  The contents of this field","      are determined by the specified group and its corresponding","      definition.  Finite Field Diffie-Hellman [DH76] parameters are","      described in Section 4.2.8.1; Elliptic Curve Diffie-Hellman","      parameters are described in Section 4.2.8.2.","","   In the ClientHello message, the \"extension_data\" field of this","   extension contains a \"KeyShareClientHello\" value:","","      struct {","          KeyShareEntry client_shares<0..2^16-1>;","      } KeyShareClientHello;","","   client_shares:  A list of offered KeyShareEntry values in descending","      order of client preference.","",[[[],0,"   "],[[589],96,"This vector MAY be empty if the client is requesting a"]],[[[],0,"   "],[[589],96,"HelloRetryRequest."],[[],0,"  "],[[590,591],224,"Each KeyShareEntry value MUST correspond to a"]],[[[],0,"   "],[[590,591],224,"group offered in the \"supported_groups\" extension and MUST appear in"]],[[[],0,"   "],[[590,591],224,"the same order."],[[],0,"  "],[[592,593],96,"However, the values MAY be a non-contiguous subset"]],[[[],0,"   "],[[592,593],96,"of the \"supported_groups\" extension and MAY omit the most preferred"]],[[[],0,"   "],[[592,593],96,"groups."],[[],0,"  Such a situation could arise if the most preferred groups"]],"   are new and unlikely to be supported in enough places to make","   pregenerating key shares for them efficient.","","   Clients can offer as many KeyShareEntry values as the number of","   supported groups it is offering, each representing a single set of","   key exchange parameters.  For instance, a client might offer shares",[[[],0,"   for several elliptic curves or multiple FFDHE groups.  "],[[594],224,"The"]],[[[],0,"   "],[[594],224,"key_exchange values for each KeyShareEntry MUST be generated"]],[[[],0,"   "],[[594],224,"independently."],[[],0,"  "],[[595],224,"Clients MUST NOT offer multiple KeyShareEntry values"]],[[[],0,"   "],[[595],224,"for the same group."],[[],0,"  "],[[596],224,"Clients MUST NOT offer any KeyShareEntry values"]],[[[],0,"   "],[[596],224,"for groups not listed in the client's \"supported_groups\" extension."]],[[[],0,"   "],[[597],96,"Servers MAY check for violations of these rules and abort the"]],[[[],0,"   "],[[597],96,"handshake with an \"illegal_parameter\" alert if one is violated."]],"","   In a HelloRetryRequest message, the \"extension_data\" field of this","   extension contains a KeyShareHelloRetryRequest value:","","      struct {","          NamedGroup selected_group;","      } KeyShareHelloRetryRequest;","","   selected_group:  The mutually supported group the server intends to","      negotiate and is requesting a retried ClientHello/KeyShare for.","",[[[],0,"   "],[[598],224,"Upon receipt of this extension in a HelloRetryRequest, the client"]],[[[],0,"   "],[[598],224,"MUST verify that (1) the selected_group field corresponds to a group"]],[[[],0,"   "],[[598],224,"which was provided in the \"supported_groups\" extension in the"]],[[[],0,"   "],[[598],224,"original ClientHello and (2) the selected_group field does not"]],[[[],0,"   "],[[598],224,"correspond to a group which was provided in the \"key_share\" extension"]],[[[],0,"   "],[[598],224,"in the original ClientHello."],[[],0,"  "],[[599],224,"If either of these checks fails, then"]],[[[],0,"   "],[[599],224,"the client MUST abort the handshake with an \"illegal_parameter\""]],[[[],0,"   "],[[599],224,"alert."],[[],0,"  "],[[600],224,"Otherwise, when sending the new ClientHello, the client MUST"]],"","   replace the original \"key_share\" extension with one containing only a","   new KeyShareEntry for the group indicated in the selected_group field","   of the triggering HelloRetryRequest.","","   In a ServerHello message, the \"extension_data\" field of this","   extension contains a KeyShareServerHello value:","","      struct {","          KeyShareEntry server_share;","      } KeyShareServerHello;","","   server_share:  A single KeyShareEntry value that is in the same group","      as one of the client's shares.","","   If using (EC)DHE key establishment, servers offer exactly one",[[[],0,"   KeyShareEntry in the ServerHello.  "],[[601],224,"This value MUST be in the same"]],[[[],0,"   "],[[601],224,"group as the KeyShareEntry value offered by the client that the"]],[[[],0,"   "],[[601],224,"server has selected for the negotiated key exchange."],[[],0,"  "],[[602,603],224,"Servers"]],[[[],0,"   "],[[602,603],224,"MUST NOT send a KeyShareEntry for any group not indicated in the"]],[[[],0,"   "],[[602,603],224,"client's \"supported_groups\" extension and MUST NOT send a"]],[[[],0,"   "],[[602,603],224,"KeyShareEntry when using the \"psk_ke\" PskKeyExchangeMode."],[[],0,"  "],[[604],224,"If using"]],[[[],0,"   "],[[604],224,"(EC)DHE key establishment and a HelloRetryRequest containing a"]],[[[],0,"   "],[[604],224,"\"key_share\" extension was received by the client, the client MUST"]],[[[],0,"   "],[[604],224,"verify that the selected NamedGroup in the ServerHello is the same as"]],[[[],0,"   "],[[604],224,"that in the HelloRetryRequest."],[[],0,"  "],[[605],224,"If this check fails, the client MUST"]],[[[],0,"   "],[[605],224,"abort the handshake with an \"illegal_parameter\" alert."]]],"requirements":[588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605]},{"id":"section-4.2.8.1","title":"Diffie-Hellman Parameters","lines":["   Diffie-Hellman [DH76] parameters for both clients and servers are","   encoded in the opaque key_exchange field of a KeyShareEntry in a","   KeyShare structure.  The opaque value contains the Diffie-Hellman","   public value (Y = g^X mod p) for the specified group (see [RFC7919]","   for group definitions) encoded as a big-endian integer and padded to","   the left with zeros to the size of p in bytes.","","   Note: For a given Diffie-Hellman group, the padding results in all","   public keys having the same length.","",[[[],0,"   "],[[586],224,"Peers MUST validate each other's public key Y by ensuring that 1 < Y"]],[[[],0,"   "],[[586],224,"< p-1."],[[],0,"  This check ensures that the remote peer is properly behaved"]],"   and isn't forcing the local system into a small subgroup."],"requirements":[586]},{"id":"section-4.2.8.2","title":"ECDHE Parameters","lines":["   ECDHE parameters for both clients and servers are encoded in the","   opaque key_exchange field of a KeyShareEntry in a KeyShare structure.","","   For secp256r1, secp384r1, and secp521r1, the contents are the","   serialized value of the following struct:","","      struct {","          uint8 legacy_form = 4;","          opaque X[coordinate_length];","          opaque Y[coordinate_length];","      } UncompressedPointRepresentation;","","   X and Y, respectively, are the binary representations of the x and y","   values in network byte order.  There are no internal length markers,","   so each number representation occupies as many octets as implied by","   the curve parameters.  For P-256, this means that each of X and Y use","   32 octets, padded on the left by zeros if necessary.  For P-384, they","   take 48 octets each.  For P-521, they take 66 octets each.","",[[[],0,"   "],[[587],224,"For the curves secp256r1, secp384r1, and secp521r1, peers MUST"]],[[[],0,"   "],[[587],224,"validate each other's public value Q by ensuring that the point is a"]],[[[],0,"   "],[[587],224,"valid point on the elliptic curve."],[[],0,"  The appropriate validation"]],"   procedures are defined in Section 4.3.7 of [ECDSA] and alternatively","   in Section 5.6.2.3 of [KEYAGREEMENT].  This process consists of three","   steps: (1) verify that Q is not the point at infinity (O), (2) verify","   that for Q = (x, y) both integers x and y are in the correct","   interval, and (3) ensure that (x, y) is a correct solution to the","   elliptic curve equation.  For these curves, implementors do not need","   to verify membership in the correct subgroup.","","   For X25519 and X448, the contents of the public value are the byte","   string inputs and outputs of the corresponding functions defined in","   [RFC7748]: 32 bytes for X25519 and 56 bytes for X448.","","   Note: Versions of TLS prior to 1.3 permitted point format","   negotiation; TLS 1.3 removes this feature in favor of a single point","   format for each curve."],"requirements":[587]},{"id":"section-4.2.9","title":"Pre-Shared Key Exchange Modes","lines":[[[[],0,"   "],[[606],224,"In order to use PSKs, clients MUST also send a"]],[[[],0,"   "],[[606],224,"\"psk_key_exchange_modes\" extension."],[[],0,"  The semantics of this extension"]],"   are that the client only supports the use of PSKs with these modes,","   which restricts both the use of PSKs offered in this ClientHello and","   those which the server might supply via NewSessionTicket.","",[[[],0,"   "],[[607],224,"A client MUST provide a \"psk_key_exchange_modes\" extension if it"]],[[[],0,"   "],[[607],224,"offers a \"pre_shared_key\" extension."],[[],0,"  "],[[608],224,"If clients offer"]],[[[],0,"   "],[[608],224,"\"pre_shared_key\" without a \"psk_key_exchange_modes\" extension,"]],[[[],0,"   "],[[608],224,"servers MUST abort the handshake."],[[],0,"  "],[[609],224,"Servers MUST NOT select a key"]],[[[],0,"   "],[[609],224,"exchange mode that is not listed by the client."],[[],0,"  This extension also"]],[[[],0,"   restricts the modes for use with PSK resumption.  "],[[610],160,"Servers SHOULD NOT"]],[[[],0,"   "],[[610],160,"send NewSessionTicket with tickets that are not compatible with the"]],[[[],0,"   "],[[610],160,"advertised modes; however, if a server does so, the impact will just"]],[[[],0,"   "],[[610],160,"be that the client's attempts at resumption fail."]],"",[[[],0,"   "],[[611],224,"The server MUST NOT send a \"psk_key_exchange_modes\" extension."]],"","      enum { psk_ke(0), psk_dhe_ke(1), (255) } PskKeyExchangeMode;","","      struct {","          PskKeyExchangeMode ke_modes<1..255>;","      } PskKeyExchangeModes;","",[[[],0,"   psk_ke:  PSK-only key establishment.  "],[[612],224,"In this mode, the server"]],[[[],0,"      "],[[612],224,"MUST NOT supply a \"key_share\" value."]],"",[[[],0,"   psk_dhe_ke:  PSK with (EC)DHE key establishment.  "],[[613],224,"In this mode, the"]],[[[],0,"      "],[[613],224,"client and server MUST supply \"key_share\" values as described in"]],[[[],0,"      "],[[613],224,"Section 4.2.8."]],"","   Any future values that are allocated must ensure that the transmitted","   protocol messages unambiguously identify which mode was selected by","   the server; at present, this is indicated by the presence of the","   \"key_share\" in the ServerHello."],"requirements":[606,607,608,609,610,611,612,613]},{"id":"section-4.2.10","title":"Early Data Indication","lines":["   When a PSK is used and early data is allowed for that PSK, the client",[[[],0,"   can send Application Data in its first flight of messages.  "],[[509],224,"If the"]],[[[],0,"   "],[[509],224,"client opts to do so, it MUST supply both the \"pre_shared_key\" and"]],[[[],0,"   "],[[509],224,"\"early_data\" extensions."]],"","   The \"extension_data\" field of this extension contains an","   \"EarlyDataIndication\" value.","","      struct {} Empty;","","      struct {","          select (Handshake.msg_type) {","              case new_session_ticket:   uint32 max_early_data_size;","              case client_hello:         Empty;","              case encrypted_extensions: Empty;","          };","      } EarlyDataIndication;","","   See Section 4.6.1 for details regarding the use of the","   max_early_data_size field.","","   The parameters for the 0-RTT data (version, symmetric cipher suite,","   Application-Layer Protocol Negotiation (ALPN) [RFC7301] protocol,","   etc.) are those associated with the PSK in use.  For externally","   provisioned PSKs, the associated values are those provisioned along","   with the key.  For PSKs established via a NewSessionTicket message,","   the associated values are those which were negotiated in the",[[[],0,"   connection which established the PSK.  "],[[510],224,"The PSK used to encrypt the"]],[[[],0,"   "],[[510],224,"early data MUST be the first PSK listed in the client's"]],[[[],0,"   "],[[510],224,"\"pre_shared_key\" extension."]],"",[[[],0,"   "],[[511],224,"For PSKs provisioned via NewSessionTicket, a server MUST validate"]],[[[],0,"   "],[[511],224,"that the ticket age for the selected PSK identity (computed by"]],[[[],0,"   "],[[511],224,"subtracting ticket_age_add from PskIdentity.obfuscated_ticket_age"]],[[[],0,"   "],[[511],224,"modulo 2^32) is within a small tolerance of the time since the ticket"]],[[[],0,"   "],[[511],224,"was issued (see Section 8)."],[[],0,"  "],[[512,513],160,"If it is not, the server SHOULD proceed"]],[[[],0,"   "],[[512,513],160,"with the handshake but reject 0-RTT, and SHOULD NOT take any other"]],[[[],0,"   "],[[512,513],160,"action that assumes that this ClientHello is fresh."]],"","   0-RTT messages sent in the first flight have the same (encrypted)","   content types as messages of the same type sent in other flights","   (handshake and application_data) but are protected under different","   keys.  After receiving the server's Finished message, if the server","   has accepted early data, an EndOfEarlyData message will be sent to","   indicate the key change.  This message will be encrypted with the","   0-RTT traffic keys.","",[[[],0,"   "],[[514],224,"A server which receives an \"early_data\" extension MUST behave in one"]],[[[],0,"   "],[[514],224,"of three ways:"]],"","   -  Ignore the extension and return a regular 1-RTT response.  The","      server then skips past early data by attempting to deprotect","      received records using the handshake traffic key, discarding","      records which fail deprotection (up to the configured","      max_early_data_size).  Once a record is deprotected successfully,","      it is treated as the start of the client's second flight and the","      server proceeds as with an ordinary 1-RTT handshake.","","   -  Request that the client send another ClientHello by responding",[[[],0,"      with a HelloRetryRequest.  "],[[515],224,"A client MUST NOT include the"]],[[[],0,"      "],[[515],224,"\"early_data\" extension in its followup ClientHello."],[[],0,"  The server"]],"      then ignores early data by skipping all records with an external","      content type of \"application_data\" (indicating that they are","      encrypted), up to the configured max_early_data_size.","","   -  Return its own \"early_data\" extension in EncryptedExtensions,","      indicating that it intends to process the early data.  It is not","      possible for the server to accept only a subset of the early data","      messages.  Even though the server sends a message accepting early","      data, the actual early data itself may already be in flight by the","      time the server generates this message.","",[[[],0,"   "],[[516],224,"In order to accept early data, the server MUST have accepted a PSK"]],[[[],0,"   "],[[516],224,"cipher suite and selected the first key offered in the client's"]],[[[],0,"   "],[[516],224,"\"pre_shared_key\" extension."],[[],0,"  "],[[517],224,"In addition, it MUST verify that the"]],[[[],0,"   "],[[517],224,"following values are the same as those associated with the"]],[[[],0,"   "],[[517],224,"selected PSK:"]],"","   -  The TLS version number","","   -  The selected cipher suite","","   -  The selected ALPN [RFC7301] protocol, if any","","   These requirements are a superset of those needed to perform a 1-RTT","   handshake using the PSK in question.  For externally established","   PSKs, the associated values are those provisioned along with the key.","   For PSKs established via a NewSessionTicket message, the associated","   values are those negotiated in the connection during which the ticket","   was established.","",[[[],0,"   "],[[518],224,"Future extensions MUST define their interaction with 0-RTT."]],"",[[[],0,"   "],[[519],224,"If any of these checks fail, the server MUST NOT respond with the"]],[[[],0,"   "],[[519],224,"extension and must discard all the first-flight data using one of the"]],[[[],0,"   "],[[519],224,"first two mechanisms listed above (thus falling back to 1-RTT or"]],[[[],0,"   "],[[519],224,"2-RTT)."],[[],0,"  If the client attempts a 0-RTT handshake but the server"]],"   rejects it, the server will generally not have the 0-RTT record","   protection keys and must instead use trial decryption (either with","   the 1-RTT handshake keys or by looking for a cleartext ClientHello in","   the case of a HelloRetryRequest) to find the first non-0-RTT message.","",[[[],0,"   "],[[520],224,"If the server chooses to accept the \"early_data\" extension, then it"]],[[[],0,"   "],[[520],224,"MUST comply with the same error-handling requirements specified for"]],[[[],0,"   "],[[520],224,"all records when processing early data records."],[[],0,"  "],[[521],224,"Specifically, if the"]],[[[],0,"   "],[[521],224,"server fails to decrypt a 0-RTT record following an accepted"]],[[[],0,"   "],[[521],224,"\"early_data\" extension, it MUST terminate the connection with a"]],[[[],0,"   "],[[521],224,"\"bad_record_mac\" alert as per Section 5.2."]],"",[[[],0,"   "],[[522],96,"If the server rejects the \"early_data\" extension, the client"]],[[[],0,"   "],[[522],96,"application MAY opt to retransmit the Application Data previously"]],[[[],0,"   "],[[522],96,"sent in early data once the handshake has been completed."],[[],0,"  Note that"]],"   automatic retransmission of early data could result in incorrect","   assumptions regarding the status of the connection.  For instance,","   when the negotiated connection selects a different ALPN protocol from","   what was used for the early data, an application might need to","   construct different messages.  Similarly, if early data assumes","   anything about the connection state, it might be sent in error after","   the handshake completes.","",[[[],0,"   "],[[523],160,"A TLS implementation SHOULD NOT automatically resend early data;"]],[[[],0,"   "],[[523],160,"applications are in a better position to decide when retransmission"]],[[[],0,"   "],[[523],160,"is appropriate."],[[],0,"  "],[[524],224,"A TLS implementation MUST NOT automatically resend"]],[[[],0,"   "],[[524],224,"early data unless the negotiated connection selects the same ALPN"]],[[[],0,"   "],[[524],224,"protocol."]]],"requirements":[509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524]},{"id":"section-4.2.11","title":"Pre-Shared Key Extension","lines":["   The \"pre_shared_key\" extension is used to negotiate the identity of","   the pre-shared key to be used with a given handshake in association","   with PSK key establishment.","","   The \"extension_data\" field of this extension contains a","   \"PreSharedKeyExtension\" value:","","      struct {","          opaque identity<1..2^16-1>;","          uint32 obfuscated_ticket_age;","      } PskIdentity;","","      opaque PskBinderEntry<32..255>;","","      struct {","          PskIdentity identities<7..2^16-1>;","          PskBinderEntry binders<33..2^16-1>;","      } OfferedPsks;","","      struct {","          select (Handshake.msg_type) {","              case client_hello: OfferedPsks;","              case server_hello: uint16 selected_identity;","          };","      } PreSharedKeyExtension;","","   identity:  A label for a key.  For instance, a ticket (as defined in","      Appendix B.3.4) or a label for a pre-shared key established","      externally.","","   obfuscated_ticket_age:  An obfuscated version of the age of the key.","      Section 4.2.11.1 describes how to form this value for identities",[[[],0,"      established via the NewSessionTicket message.  "],[[527],224,"For identities"]],[[[],0,"      "],[[527],224,"established externally, an obfuscated_ticket_age of 0 SHOULD be"]],[[[],0,"      "],[[527],224,"used, and servers MUST ignore the value."]],"","   identities:  A list of the identities that the client is willing to","      negotiate with the server.  If sent alongside the \"early_data\"","      extension (see Section 4.2.10), the first identity is the one used","      for 0-RTT data.","","   binders:  A series of HMAC values, one for each value in the","      identities list and in the same order, computed as described","      below.","","   selected_identity:  The server's chosen identity expressed as a","      (0-based) index into the identities in the client's list.","","   Each PSK is associated with a single Hash algorithm.  For PSKs","   established via the ticket mechanism (Section 4.6.1), this is the KDF","   Hash algorithm on the connection where the ticket was established.",[[[],0,"   "],[[528],224,"For externally established PSKs, the Hash algorithm MUST be set when"]],"","   the PSK is established or default to SHA-256 if no such algorithm is",[[[],0,"   defined.  "],[[529],224,"The server MUST ensure that it selects a compatible PSK"]],[[[],0,"   "],[[529],224,"(if any) and cipher suite."]],"","   In TLS versions prior to TLS 1.3, the Server Name Identification","   (SNI) value was intended to be associated with the session (Section 3","   of [RFC6066]), with the server being required to enforce that the SNI","   value associated with the session matches the one specified in the","   resumption handshake.  However, in reality the implementations were","   not consistent on which of two supplied SNI values they would use,","   leading to the consistency requirement being de facto enforced by the","   clients.  In TLS 1.3, the SNI value is always explicitly specified in","   the resumption handshake, and there is no need for the server to",[[[],0,"   associate an SNI value with the ticket.  "],[[530],160,"Clients, however, SHOULD"]],[[[],0,"   "],[[530],160,"store the SNI with the PSK to fulfill the requirements of"]],[[[],0,"   "],[[530],160,"Section 4.6.1."]],"","   Implementor's note: When session resumption is the primary use case","   of PSKs, the most straightforward way to implement the PSK/cipher","   suite matching requirements is to negotiate the cipher suite first",[[[],0,"   and then exclude any incompatible PSKs.  "],[[531],160,"Any unknown PSKs (e.g., ones"]],[[[],0,"   "],[[531],160,"not in the PSK database or encrypted with an unknown key) SHOULD"]],[[[],0,"   "],[[531],160,"simply be ignored."],[[],0,"  "],[[532],160,"If no acceptable PSKs are found, the server"]],[[[],0,"   "],[[532],160,"SHOULD perform a non-PSK handshake if possible."],[[],0,"  "],[[533],160,"If backward"]],[[[],0,"   "],[[533],160,"compatibility is important, client-provided, externally established"]],[[[],0,"   "],[[533],160,"PSKs SHOULD influence cipher suite selection."]],"",[[[],0,"   "],[[534],224,"Prior to accepting PSK key establishment, the server MUST validate"]],[[[],0,"   "],[[534],224,"the corresponding binder value (see Section 4.2.11.2 below)."],[[],0,"  "],[[535],224,"If this"]],[[[],0,"   "],[[535],224,"value is not present or does not validate, the server MUST abort the"]],[[[],0,"   "],[[535],224,"handshake."],[[],0,"  "],[[536,537],160,"Servers SHOULD NOT attempt to validate multiple binders;"]],[[[],0,"   "],[[536,537],160,"rather, they SHOULD select a single PSK and validate solely the"]],[[[],0,"   "],[[536,537],160,"binder that corresponds to that PSK."],[[],0,"  See Section 8.2 and"]],"   Appendix E.6 for the security rationale for this requirement.  In","   order to accept PSK key establishment, the server sends a","   \"pre_shared_key\" extension indicating the selected identity.","",[[[],0,"   "],[[538],224,"Clients MUST verify that the server's selected_identity is within the"]],[[[],0,"   "],[[538],224,"range supplied by the client, that the server selected a cipher suite"]],[[[],0,"   "],[[538],224,"indicating a Hash associated with the PSK, and that a server"]],[[[],0,"   "],[[538],224,"\"key_share\" extension is present if required by the ClientHello"]],[[[],0,"   "],[[538],224,"\"psk_key_exchange_modes\" extension."],[[],0,"  "],[[539],224,"If these values are not"]],[[[],0,"   "],[[539],224,"consistent, the client MUST abort the handshake with an"]],[[[],0,"   "],[[539],224,"\"illegal_parameter\" alert."]],"",[[[],0,"   "],[[540],224,"If the server supplies an \"early_data\" extension, the client MUST"]],[[[],0,"   "],[[540],224,"verify that the server's selected_identity is 0."],[[],0,"  "],[[541],224,"If any other value"]],[[[],0,"   "],[[541],224,"is returned, the client MUST abort the handshake with an"]],[[[],0,"   "],[[541],224,"\"illegal_parameter\" alert."]],"",[[[],0,"   "],[[542],224,"The \"pre_shared_key\" extension MUST be the last extension in the"]],[[[],0,"   "],[[542],224,"ClientHello (this facilitates implementation as described below)."]],[[[],0,"   "],[[543],224,"Servers MUST check that it is the last extension and otherwise fail"]],[[[],0,"   "],[[543],224,"the handshake with an \"illegal_parameter\" alert."]]],"requirements":[527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543]},{"id":"section-4.2.11.1","title":"Ticket Age","lines":["   The client's view of the age of a ticket is the time since the",[[[],0,"   receipt of the NewSessionTicket message.  "],[[525],224,"Clients MUST NOT attempt to"]],[[[],0,"   "],[[525],224,"use tickets which have ages greater than the \"ticket_lifetime\" value"]],[[[],0,"   "],[[525],224,"which was provided with the ticket."],[[],0,"  The \"obfuscated_ticket_age\""]],"   field of each PskIdentity contains an obfuscated version of the","   ticket age formed by taking the age in milliseconds and adding the","   \"ticket_age_add\" value that was included with the ticket (see","   Section 4.6.1), modulo 2^32.  This addition prevents passive","   observers from correlating connections unless tickets are reused.","   Note that the \"ticket_lifetime\" field in the NewSessionTicket message","   is in seconds but the \"obfuscated_ticket_age\" is in milliseconds.","   Because ticket lifetimes are restricted to a week, 32 bits is enough","   to represent any plausible age, even in milliseconds."],"requirements":[525]},{"id":"section-4.2.11.2","title":"PSK Binder","lines":["   The PSK binder value forms a binding between a PSK and the current","   handshake, as well as a binding between the handshake in which the","   PSK was generated (if via a NewSessionTicket message) and the current","   handshake.  Each entry in the binders list is computed as an HMAC","   over a transcript hash (see Section 4.4.1) containing a partial","   ClientHello up to and including the PreSharedKeyExtension.identities","   field.  That is, it includes all of the ClientHello but not the","   binders list itself.  The length fields for the message (including","   the overall length, the length of the extensions block, and the","   length of the \"pre_shared_key\" extension) are all set as if binders","   of the correct lengths were present.","","   The PskBinderEntry is computed in the same way as the Finished","   message (Section 4.4.4) but with the BaseKey being the binder_key","   derived via the key schedule from the corresponding PSK which is","   being offered (see Section 7.1).","","   If the handshake includes a HelloRetryRequest, the initial","   ClientHello and HelloRetryRequest are included in the transcript","   along with the new ClientHello.  For instance, if the client sends","   ClientHello1, its binder will be computed over:","","      Transcript-Hash(Truncate(ClientHello1))","","   Where Truncate() removes the binders list from the ClientHello.","","   If the server responds with a HelloRetryRequest and the client then","   sends ClientHello2, its binder will be computed over:","","      Transcript-Hash(ClientHello1,","                      HelloRetryRequest,","                      Truncate(ClientHello2))","","   The full ClientHello1/ClientHello2 is included in all other handshake","   hash computations.  Note that in the first flight,","   Truncate(ClientHello1) is hashed directly, but in the second flight,","   ClientHello1 is hashed and then reinjected as a \"message_hash\"","   message, as described in Section 4.4.1."]},{"id":"section-4.2.11.3","title":"Processing Order","lines":["   Clients are permitted to \"stream\" 0-RTT data until they receive the","   server's Finished, only then sending the EndOfEarlyData message,",[[[],0,"   followed by the rest of the handshake.  "],[[526],224,"In order to avoid deadlocks,"]],[[[],0,"   "],[[526],224,"when accepting \"early_data\", servers MUST process the client's"]],[[[],0,"   "],[[526],224,"ClientHello and then immediately send their flight of messages,"]],[[[],0,"   "],[[526],224,"rather than waiting for the client's EndOfEarlyData message before"]],[[[],0,"   "],[[526],224,"sending its ServerHello."]]],"requirements":[526]},{"id":"section-4.3","title":"Server Parameters","lines":["   The next two messages from the server, EncryptedExtensions and","   CertificateRequest, contain information from the server that","   determines the rest of the handshake.  These messages are encrypted","   with keys derived from the server_handshake_traffic_secret."]},{"id":"section-4.3.1","title":"Encrypted Extensions","lines":[[[[],0,"   "],[[621],224,"In all handshakes, the server MUST send the EncryptedExtensions"]],[[[],0,"   "],[[621],224,"message immediately after the ServerHello message."],[[],0,"  This is the first"]],"   message that is encrypted under keys derived from the","   server_handshake_traffic_secret.","","   The EncryptedExtensions message contains extensions that can be","   protected, i.e., any which are not needed to establish the","   cryptographic context but which are not associated with individual",[[[],0,"   certificates.  "],[[622,623],224,"The client MUST check EncryptedExtensions for the"]],[[[],0,"   "],[[622,623],224,"presence of any forbidden extensions and if any are found MUST abort"]],[[[],0,"   "],[[622,623],224,"the handshake with an \"illegal_parameter\" alert."]],"","   Structure of this message:","","      struct {","          Extension extensions<0..2^16-1>;","      } EncryptedExtensions;","","   extensions:  A list of extensions.  For more information, see the","      table in Section 4.2."],"requirements":[621,622,623]},{"id":"section-4.3.2","title":"Certificate Request","lines":[[[[],0,"   "],[[624],96,"A server which is authenticating with a certificate MAY optionally"]],[[[],0,"   "],[[624],96,"request a certificate from the client."],[[],0,"  "],[[625],224,"This message, if sent, MUST"]],[[[],0,"   "],[[625],224,"follow EncryptedExtensions."]],"","   Structure of this message:","","      struct {","          opaque certificate_request_context<0..2^8-1>;","          Extension extensions<2..2^16-1>;","      } CertificateRequest;","","   certificate_request_context:  An opaque string which identifies the","      certificate request and which will be echoed in the client's",[[[],0,"      Certificate message.  "],[[626],224,"The certificate_request_context MUST be"]],[[[],0,"      "],[[626],224,"unique within the scope of this connection (thus preventing replay"]],[[[],0,"      "],[[626],224,"of client CertificateVerify messages)."],[[],0,"  "],[[627],224,"This field SHALL be zero"]],[[[],0,"      "],[[627],224,"length unless used for the post-handshake authentication exchanges"]],[[[],0,"      "],[[627],224,"described in Section 4.6.2."],[[],0,"  "],[[628],160,"When requesting post-handshake"]],[[[],0,"      "],[[628],160,"authentication, the server SHOULD make the context unpredictable"]],[[[],0,"      "],[[628],160,"to the client (e.g., by randomly generating it) in order to"]],[[[],0,"      "],[[628],160,"prevent an attacker who has temporary access to the client's"]],[[[],0,"      "],[[628],160,"private key from pre-computing valid CertificateVerify messages."]],"","   extensions:  A set of extensions describing the parameters of the",[[[],0,"      certificate being requested.  "],[[629],224,"The \"signature_algorithms\" extension"]],[[[],0,"      "],[[629],224,"MUST be specified, and other extensions may optionally be included"]],[[[],0,"      "],[[629],224,"if defined for this message."],[[],0,"  "],[[630],224,"Clients MUST ignore unrecognized"]],[[[],0,"      "],[[630],224,"extensions."]],"","   In prior versions of TLS, the CertificateRequest message carried a","   list of signature algorithms and certificate authorities which the","   server would accept.  In TLS 1.3, the former is expressed by sending","   the \"signature_algorithms\" and optionally \"signature_algorithms_cert\"","   extensions.  The latter is expressed by sending the","   \"certificate_authorities\" extension (see Section 4.2.4).","",[[[],0,"   "],[[631],224,"Servers which are authenticating with a PSK MUST NOT send the"]],[[[],0,"   "],[[631],224,"CertificateRequest message in the main handshake, though they MAY"]],[[[],0,"   "],[[631],224,"send it in post-handshake authentication (see Section 4.6.2) provided"]],[[[],0,"   "],[[631],224,"that the client has sent the \"post_handshake_auth\" extension (see"]],[[[],0,"   "],[[631],224,"Section 4.2.6)."]]],"requirements":[624,625,626,627,628,629,630,631]},{"id":"section-4.4","title":"Authentication Messages","lines":["   As discussed in Section 2, TLS generally uses a common set of","   messages for authentication, key confirmation, and handshake","   integrity: Certificate, CertificateVerify, and Finished.  (The PSK","   binders also perform key confirmation, in a similar fashion.)  These","   three messages are always sent as the last messages in their","   handshake flight.  The Certificate and CertificateVerify messages are","   only sent under certain circumstances, as defined below.  The","   Finished message is always sent as part of the Authentication Block.","   These messages are encrypted under keys derived from the","   [sender]_handshake_traffic_secret.","","   The computations for the Authentication messages all uniformly take","   the following inputs:","","   -  The certificate and signing key to be used.","","   -  A Handshake Context consisting of the set of messages to be","      included in the transcript hash.","","   -  A Base Key to be used to compute a MAC key.","","   Based on these inputs, the messages then contain:","","   Certificate:  The certificate to be used for authentication, and any","      supporting certificates in the chain.  Note that certificate-based","      client authentication is not available in PSK handshake flows","      (including 0-RTT).","","   CertificateVerify:  A signature over the value","      Transcript-Hash(Handshake Context, Certificate).","","   Finished:  A MAC over the value Transcript-Hash(Handshake Context,","      Certificate, CertificateVerify) using a MAC key derived from the","      Base Key.","","   The following table defines the Handshake Context and MAC Base Key","   for each scenario:","","   +-----------+-------------------------+-----------------------------+","   | Mode      | Handshake Context       | Base Key                    |","   +-----------+-------------------------+-----------------------------+","   | Server    | ClientHello ... later   | server_handshake_traffic_   |","   |           | of EncryptedExtensions/ | secret                      |","   |           | CertificateRequest      |                             |","   |           |                         |                             |","   | Client    | ClientHello ... later   | client_handshake_traffic_   |","   |           | of server               | secret                      |","   |           | Finished/EndOfEarlyData |                             |","   |           |                         |                             |","   | Post-     | ClientHello ... client  | client_application_traffic_ |","   | Handshake | Finished +              | secret_N                    |","   |           | CertificateRequest      |                             |","   +-----------+-------------------------+-----------------------------+"]},{"id":"section-4.4.1","title":"The Transcript Hash","lines":["   Many of the cryptographic computations in TLS make use of a","   transcript hash.  This value is computed by hashing the concatenation","   of each included handshake message, including the handshake message","   header carrying the handshake message type and length fields, but not","   including record layer headers.  I.e.,","","    Transcript-Hash(M1, M2, ... Mn) = Hash(M1 || M2 || ... || Mn)","","   As an exception to this general rule, when the server responds to a","   ClientHello with a HelloRetryRequest, the value of ClientHello1 is","   replaced with a special synthetic handshake message of handshake type","   \"message_hash\" containing Hash(ClientHello1).  I.e.,","","  Transcript-Hash(ClientHello1, HelloRetryRequest, ... Mn) =","      Hash(message_hash ||        /* Handshake type */","           00 00 Hash.length  ||  /* Handshake message length (bytes) */","           Hash(ClientHello1) ||  /* Hash of ClientHello1 */","           HelloRetryRequest  || ... || Mn)","","   The reason for this construction is to allow the server to do a","   stateless HelloRetryRequest by storing just the hash of ClientHello1","   in the cookie, rather than requiring it to export the entire","   intermediate hash state (see Section 4.2.2).","","   For concreteness, the transcript hash is always taken from the","   following sequence of handshake messages, starting at the first","   ClientHello and including only those messages that were sent:","   ClientHello, HelloRetryRequest, ClientHello, ServerHello,","   EncryptedExtensions, server CertificateRequest, server Certificate,","   server CertificateVerify, server Finished, EndOfEarlyData, client","   Certificate, client CertificateVerify, client Finished.","","   In general, implementations can implement the transcript by keeping a","   running transcript hash value based on the negotiated hash.  Note,","   however, that subsequent post-handshake authentications do not","   include each other, just the messages through the end of the main","   handshake."]},{"id":"section-4.4.2","title":"Certificate","lines":["   This message conveys the endpoint's certificate chain to the peer.","",[[[],0,"   "],[[659],224,"The server MUST send a Certificate message whenever the agreed-upon"]],[[[],0,"   "],[[659],224,"key exchange method uses certificates for authentication (this"]],[[[],0,"   "],[[659],224,"includes all key exchange methods defined in this document"]],[[[],0,"   "],[[659],224,"except PSK)."]],"",[[[],0,"   "],[[660],224,"The client MUST send a Certificate message if and only if the server"]],[[[],0,"   "],[[660],224,"has requested client authentication via a CertificateRequest message"]],[[[],0,"   "],[[660],224,"(Section 4.3.2)."],[[],0,"  "],[[661],224,"If the server requests client authentication but no"]],[[[],0,"   "],[[661],224,"suitable certificate is available, the client MUST send a Certificate"]],[[[],0,"   "],[[661],224,"message containing no certificates (i.e., with the \"certificate_list\""]],[[[],0,"   "],[[661],224,"field having length 0)."],[[],0,"  "],[[662],224,"A Finished message MUST be sent regardless"]],[[[],0,"   "],[[662],224,"of whether the Certificate message is empty."]],"","   Structure of this message:","","      enum {","          X509(0),","          RawPublicKey(2),","          (255)","      } CertificateType;","","      struct {","          select (certificate_type) {","              case RawPublicKey:","                /* From RFC 7250 ASN.1_subjectPublicKeyInfo */","                opaque ASN1_subjectPublicKeyInfo<1..2^24-1>;","","              case X509:","                opaque cert_data<1..2^24-1>;","          };","          Extension extensions<0..2^16-1>;","      } CertificateEntry;","","      struct {","          opaque certificate_request_context<0..2^8-1>;","          CertificateEntry certificate_list<0..2^24-1>;","      } Certificate;","","   certificate_request_context:  If this message is in response to a","      CertificateRequest, the value of certificate_request_context in",[[[],0,"      that message.  "],[[663],224,"Otherwise (in the case of server authentication),"]],[[[],0,"      "],[[663],224,"this field SHALL be zero length."]],"","   certificate_list:  A sequence (chain) of CertificateEntry structures,","      each containing a single certificate and set of extensions.","","   extensions:  A set of extension values for the CertificateEntry.  The","      \"Extension\" format is defined in Section 4.2.  Valid extensions","      for server certificates at present include the OCSP Status","      extension [RFC6066] and the SignedCertificateTimestamp extension","      [RFC6962]; future extensions may be defined for this message as",[[[],0,"      well.  "],[[664],224,"Extensions in the Certificate message from the server MUST"]],[[[],0,"      "],[[664],224,"correspond to ones from the ClientHello message."],[[],0,"  "],[[665],224,"Extensions in"]],[[[],0,"      "],[[665],224,"the Certificate message from the client MUST correspond to"]],[[[],0,"      "],[[665],224,"extensions in the CertificateRequest message from the server."],[[],0,"  "],[[666],160,"If"]],[[[],0,"      "],[[666],160,"an extension applies to the entire chain, it SHOULD be included in"]],[[[],0,"      "],[[666],160,"the first CertificateEntry."]],"","   If the corresponding certificate type extension","   (\"server_certificate_type\" or \"client_certificate_type\") was not","   negotiated in EncryptedExtensions, or the X.509 certificate type was","   negotiated, then each CertificateEntry contains a DER-encoded X.509",[[[],0,"   certificate.  "],[[667],224,"The sender's certificate MUST come in the first"]],[[[],0,"   "],[[667],224,"CertificateEntry in the list."],[[],0,"  "],[[668],160,"Each following certificate SHOULD"]],[[[],0,"   "],[[668],160,"directly certify the one immediately preceding it."],[[],0,"  "],[[669],96,"Because"]],[[[],0,"   "],[[669],96,"certificate validation requires that trust anchors be distributed"]],[[[],0,"   "],[[669],96,"independently, a certificate that specifies a trust anchor MAY be"]],[[[],0,"   "],[[669],96,"omitted from the chain, provided that supported peers are known to"]],[[[],0,"   "],[[669],96,"possess any omitted certificates."]],"","   Note: Prior to TLS 1.3, \"certificate_list\" ordering required each","   certificate to certify the one immediately preceding it; however,","   some implementations allowed some flexibility.  Servers sometimes","   send both a current and deprecated intermediate for transitional","   purposes, and others are simply configured incorrectly, but these",[[[],0,"   cases can nonetheless be validated properly.  "],[[670],224,"For maximum"]],[[[],0,"   "],[[670],224,"compatibility, all implementations SHOULD be prepared to handle"]],[[[],0,"   "],[[670],224,"potentially extraneous certificates and arbitrary orderings from any"]],[[[],0,"   "],[[670],224,"TLS version, with the exception of the end-entity certificate which"]],[[[],0,"   "],[[670],224,"MUST be first."]],"",[[[],0,"   "],[[671],224,"If the RawPublicKey certificate type was negotiated, then the"]],[[[],0,"   "],[[671],224,"certificate_list MUST contain no more than one CertificateEntry,"]],[[[],0,"   "],[[671],224,"which contains an ASN1_subjectPublicKeyInfo value as defined in"]],[[[],0,"   "],[[671],224,"[RFC7250], Section 3."]],"",[[[],0,"   "],[[672],224,"The OpenPGP certificate type [RFC6091] MUST NOT be used with TLS 1.3."]],"",[[[],0,"   "],[[673],224,"The server's certificate_list MUST always be non-empty."],[[],0,"  A client"]],"   will send an empty certificate_list if it does not have an","   appropriate certificate to send in response to the server's","   authentication request."],"requirements":[659,660,661,662,663,664,665,666,667,668,669,670,671,672,673]},{"id":"section-4.4.2.1","title":"OCSP Status and SCT Extensions","lines":["   [RFC6066] and [RFC6961] provide extensions to negotiate the server","   sending OCSP responses to the client.  In TLS 1.2 and below, the","   server replies with an empty extension to indicate negotiation of","   this extension and the OCSP information is carried in a","   CertificateStatus message.  In TLS 1.3, the server's OCSP information","   is carried in an extension in the CertificateEntry containing the",[[[],0,"   associated certificate.  "],[[632],224,"Specifically, the body of the"]],[[[],0,"   "],[[632],224,"\"status_request\" extension from the server MUST be a"]],[[[],0,"   "],[[632],224,"CertificateStatus structure as defined in [RFC6066], which is"]],[[[],0,"   "],[[632],224,"interpreted as defined in [RFC6960]."]],"","   Note: The status_request_v2 extension [RFC6961] is deprecated.",[[[],0,"   "],[[633,634],224,"TLS 1.3 servers MUST NOT act upon its presence or information in it"]],[[[],0,"   "],[[633,634],224,"when processing ClientHello messages; in particular, they MUST NOT"]],[[[],0,"   "],[[633,634],224,"send the status_request_v2 extension in the EncryptedExtensions,"]],[[[],0,"   "],[[633,634],224,"CertificateRequest, or Certificate messages."],[[],0,"  "],[[635],224,"TLS 1.3 servers MUST be"]],[[[],0,"   "],[[635],224,"able to process ClientHello messages that include it, as it MAY be"]],[[[],0,"   "],[[635],224,"sent by clients that wish to use it in earlier protocol versions."]],"",[[[],0,"   "],[[636],96,"A server MAY request that a client present an OCSP response with its"]],[[[],0,"   "],[[636],96,"certificate by sending an empty \"status_request\" extension in its"]],[[[],0,"   "],[[636],96,"CertificateRequest message."],[[],0,"  "],[[637],224,"If the client opts to send an OCSP"]],[[[],0,"   "],[[637],224,"response, the body of its \"status_request\" extension MUST be a"]],[[[],0,"   "],[[637],224,"CertificateStatus structure as defined in [RFC6066]."]],"","   Similarly, [RFC6962] provides a mechanism for a server to send a","   Signed Certificate Timestamp (SCT) as an extension in the ServerHello","   in TLS 1.2 and below.  In TLS 1.3, the server's SCT information is","   carried in an extension in the CertificateEntry."],"requirements":[632,633,634,635,636,637]},{"id":"section-4.4.2.2","title":"Server Certificate Selection","lines":["   The following rules apply to the certificates sent by the server:","",[[[],0,"   "],[[638],224,"-  The certificate type MUST be X.509v3 [RFC5280], unless explicitly"]],[[[],0,"      "],[[638],224,"negotiated otherwise (e.g., [RFC7250])."]],"",[[[],0,"   "],[[639],224,"-  The server's end-entity certificate's public key (and associated"]],[[[],0,"      "],[[639],224,"restrictions) MUST be compatible with the selected authentication"]],[[[],0,"      "],[[639],224,"algorithm from the client's \"signature_algorithms\" extension"]],[[[],0,"      "],[[639],224,"(currently RSA, ECDSA, or EdDSA)."]],"",[[[],0,"   "],[[640,641],224,"-  The certificate MUST allow the key to be used for signing (i.e.,"]],[[[],0,"      "],[[640,641],224,"the digitalSignature bit MUST be set if the Key Usage extension is"]],[[[],0,"      "],[[640,641],224,"present) with a signature scheme indicated in the client's"]],[[[],0,"      "],[[640,641],224,"\"signature_algorithms\"/\"signature_algorithms_cert\" extensions (see"]],[[[],0,"      "],[[640,641],224,"Section 4.2.3)."]],"","   -  The \"server_name\" [RFC6066] and \"certificate_authorities\"",[[[],0,"      extensions are used to guide certificate selection.  "],[[642],160,"As servers"]],[[[],0,"      "],[[642],160,"MAY require the presence of the \"server_name\" extension, clients"]],[[[],0,"      "],[[642],160,"SHOULD send this extension, when applicable."]],"",[[[],0,"   "],[[643],224,"All certificates provided by the server MUST be signed by a signature"]],[[[],0,"   "],[[643],224,"algorithm advertised by the client if it is able to provide such a"]],[[[],0,"   "],[[643],224,"chain (see Section 4.2.3)."],[[],0,"  "],[[644],96,"Certificates that are self-signed or"]],[[[],0,"   "],[[644],96,"certificates that are expected to be trust anchors are not validated"]],[[[],0,"   "],[[644],96,"as part of the chain and therefore MAY be signed with any algorithm."]],"",[[[],0,"   "],[[645],160,"If the server cannot produce a certificate chain that is signed only"]],[[[],0,"   "],[[645],160,"via the indicated supported algorithms, then it SHOULD continue the"]],[[[],0,"   "],[[645],160,"handshake by sending the client a certificate chain of its choice"]],[[[],0,"   "],[[645],160,"that may include algorithms that are not known to be supported by the"]],[[[],0,"   "],[[645],160,"client."],[[],0,"  "],[[646],224,"This fallback chain SHOULD NOT use the deprecated SHA-1 hash"]],[[[],0,"   "],[[646],224,"algorithm in general, but MAY do so if the client's advertisement"]],[[[],0,"   "],[[646],224,"permits it, and MUST NOT do so otherwise."]],"",[[[],0,"   "],[[647],224,"If the client cannot construct an acceptable chain using the provided"]],[[[],0,"   "],[[647],224,"certificates and decides to abort the handshake, then it MUST abort"]],[[[],0,"   "],[[647],224,"the handshake with an appropriate certificate-related alert (by"]],[[[],0,"   "],[[647],224,"default, \"unsupported_certificate\"; see Section 6.2 for more"]],[[[],0,"   "],[[647],224,"information)."]],"","   If the server has multiple certificates, it chooses one of them based","   on the above-mentioned criteria (in addition to other criteria, such","   as transport-layer endpoint, local configuration, and preferences)."],"requirements":[638,639,640,641,642,643,644,645,646,647]},{"id":"section-4.4.2.3","title":"Client Certificate Selection","lines":["   The following rules apply to certificates sent by the client:","",[[[],0,"   "],[[648],224,"-  The certificate type MUST be X.509v3 [RFC5280], unless explicitly"]],[[[],0,"      "],[[648],224,"negotiated otherwise (e.g., [RFC7250])."]],"",[[[],0,"   "],[[649],160,"-  If the \"certificate_authorities\" extension in the"]],[[[],0,"      "],[[649],160,"CertificateRequest message was present, at least one of the"]],[[[],0,"      "],[[649],160,"certificates in the certificate chain SHOULD be issued by one of"]],[[[],0,"      "],[[649],160,"the listed CAs."]],"",[[[],0,"   "],[[650],224,"-  The certificates MUST be signed using an acceptable signature"]],[[[],0,"      "],[[650],224,"algorithm, as described in Section 4.3.2."],[[],0,"  Note that this relaxes"]],"      the constraints on certificate-signing algorithms found in prior","      versions of TLS.","",[[[],0,"   "],[[651],224,"-  If the CertificateRequest message contained a non-empty"]],[[[],0,"      "],[[651],224,"\"oid_filters\" extension, the end-entity certificate MUST match the"]],[[[],0,"      "],[[651],224,"extension OIDs that are recognized by the client, as described in"]],[[[],0,"      "],[[651],224,"Section 4.2.5."]]],"requirements":[648,649,650,651]},{"id":"section-4.4.2.4","title":"Receiving a Certificate Message","lines":["   In general, detailed certificate validation procedures are out of","   scope for TLS (see [RFC5280]).  This section provides TLS-specific","   requirements.","",[[[],0,"   "],[[652],224,"If the server supplies an empty Certificate message, the client MUST"]],[[[],0,"   "],[[652],224,"abort the handshake with a \"decode_error\" alert."]],"",[[[],0,"   "],[[653],96,"If the client does not send any certificates (i.e., it sends an empty"]],[[[],0,"   "],[[653],96,"Certificate message), the server MAY at its discretion either"]],[[[],0,"   "],[[653],96,"continue the handshake without client authentication or abort the"]],[[[],0,"   "],[[653],96,"handshake with a \"certificate_required\" alert."],[[],0,"  "],[[654],96,"Also, if some aspect"]],[[[],0,"   "],[[654],96,"of the certificate chain was unacceptable (e.g., it was not signed by"]],[[[],0,"   "],[[654],96,"a known, trusted CA), the server MAY at its discretion either"]],[[[],0,"   "],[[654],96,"continue the handshake (considering the client unauthenticated) or"]],[[[],0,"   "],[[654],96,"abort the handshake."]],"",[[[],0,"   "],[[655],224,"Any endpoint receiving any certificate which it would need to"]],[[[],0,"   "],[[655],224,"validate using any signature algorithm using an MD5 hash MUST abort"]],[[[],0,"   "],[[655],224,"the handshake with a \"bad_certificate\" alert."],[[],0,"  "],[[656],160,"SHA-1 is deprecated,"]],[[[],0,"   "],[[656],160,"and it is RECOMMENDED that any endpoint receiving any certificate"]],[[[],0,"   "],[[656],160,"which it would need to validate using any signature algorithm using a"]],[[[],0,"   "],[[656],160,"SHA-1 hash abort the handshake with a \"bad_certificate\" alert."],[[],0,"  For"]],"   clarity, this means that endpoints can accept these algorithms for","   certificates that are self-signed or are trust anchors.","",[[[],0,"   "],[[657],160,"All endpoints are RECOMMENDED to transition to SHA-256 or better as"]],[[[],0,"   "],[[657],160,"soon as possible to maintain interoperability with implementations"]],[[[],0,"   "],[[657],160,"currently in the process of phasing out SHA-1 support."]],"",[[[],0,"   "],[[658],96,"Note that a certificate containing a key for one signature algorithm"]],[[[],0,"   "],[[658],96,"MAY be signed using a different signature algorithm (for instance, an"]],[[[],0,"   "],[[658],96,"RSA key signed with an ECDSA key)."]]],"requirements":[652,653,654,655,656,657,658]},{"id":"section-4.4.3","title":"Certificate Verify","lines":["   This message is used to provide explicit proof that an endpoint","   possesses the private key corresponding to its certificate.  The","   CertificateVerify message also provides integrity for the handshake",[[[],0,"   up to this point.  "],[[674],224,"Servers MUST send this message when authenticating"]],[[[],0,"   "],[[674],224,"via a certificate."],[[],0,"  "],[[675],224,"Clients MUST send this message whenever"]],[[[],0,"   "],[[675],224,"authenticating via a certificate (i.e., when the Certificate message"]],[[[],0,"   "],[[675],224,"is non-empty)."],[[],0,"  "],[[676],224,"When sent, this message MUST appear immediately after"]],[[[],0,"   "],[[676],224,"the Certificate message and immediately prior to the Finished"]],[[[],0,"   "],[[676],224,"message."]],"","   Structure of this message:","","      struct {","          SignatureScheme algorithm;","          opaque signature<0..2^16-1>;","      } CertificateVerify;","","   The algorithm field specifies the signature algorithm used (see","   Section 4.2.3 for the definition of this type).  The signature is a","   digital signature using that algorithm.  The content that is covered","   under the signature is the hash output as described in Section 4.4.1,","   namely:","","      Transcript-Hash(Handshake Context, Certificate)","","   The digital signature is then computed over the concatenation of:","","   -  A string that consists of octet 32 (0x20) repeated 64 times","","   -  The context string","","   -  A single 0 byte which serves as the separator","","   -  The content to be signed","","   This structure is intended to prevent an attack on previous versions","   of TLS in which the ServerKeyExchange format meant that attackers","   could obtain a signature of a message with a chosen 32-byte prefix","   (ClientHello.random).  The initial 64-byte pad clears that prefix","   along with the server-controlled ServerHello.random.","","   The context string for a server signature is","   \"TLS 1.3, server CertificateVerify\".  The context string for a","   client signature is \"TLS 1.3, client CertificateVerify\".  It is","   used to provide separation between signatures made in different","   contexts, helping against potential cross-protocol attacks.","","   For example, if the transcript hash was 32 bytes of 01 (this length","   would make sense for SHA-256), the content covered by the digital","   signature for a server CertificateVerify would be:","","      2020202020202020202020202020202020202020202020202020202020202020","      2020202020202020202020202020202020202020202020202020202020202020","      544c5320312e332c207365727665722043657274696669636174655665726966","      79","      00","      0101010101010101010101010101010101010101010101010101010101010101","","   On the sender side, the process for computing the signature field of","   the CertificateVerify message takes as input:","","   -  The content covered by the digital signature","","   -  The private signing key corresponding to the certificate sent in","      the previous message","",[[[],0,"   "],[[677],224,"If the CertificateVerify message is sent by a server, the signature"]],[[[],0,"   "],[[677],224,"algorithm MUST be one offered in the client's \"signature_algorithms\""]],[[[],0,"   "],[[677],224,"extension unless no valid certificate chain can be produced without"]],[[[],0,"   "],[[677],224,"unsupported algorithms (see Section 4.2.3)."]],"",[[[],0,"   "],[[678],224,"If sent by a client, the signature algorithm used in the signature"]],[[[],0,"   "],[[678],224,"MUST be one of those present in the supported_signature_algorithms"]],[[[],0,"   "],[[678],224,"field of the \"signature_algorithms\" extension in the"]],[[[],0,"   "],[[678],224,"CertificateRequest message."]],"",[[[],0,"   "],[[679],224,"In addition, the signature algorithm MUST be compatible with the key"]],[[[],0,"   "],[[679],224,"in the sender's end-entity certificate."],[[],0,"  "],[[680],224,"RSA signatures MUST use an"]],[[[],0,"   "],[[680],224,"RSASSA-PSS algorithm, regardless of whether RSASSA-PKCS1-v1_5"]],[[[],0,"   "],[[680],224,"algorithms appear in \"signature_algorithms\"."],[[],0,"  "],[[681],224,"The SHA-1 algorithm"]],[[[],0,"   "],[[681],224,"MUST NOT be used in any signatures of CertificateVerify messages."]],"","   All SHA-1 signature algorithms in this specification are defined","   solely for use in legacy certificates and are not valid for","   CertificateVerify signatures.","",[[[],0,"   "],[[682],224,"The receiver of a CertificateVerify message MUST verify the signature"]],[[[],0,"   "],[[682],224,"field."],[[],0,"  The verification process takes as input:"]],"","   -  The content covered by the digital signature","","   -  The public key contained in the end-entity certificate found in","      the associated Certificate message","","   -  The digital signature received in the signature field of the","      CertificateVerify message","",[[[],0,"   "],[[683],224,"If the verification fails, the receiver MUST terminate the handshake"]],[[[],0,"   "],[[683],224,"with a \"decrypt_error\" alert."]]],"requirements":[674,675,676,677,678,679,680,681,682,683]},{"id":"section-4.4.4","title":"Finished","lines":["   The Finished message is the final message in the Authentication","   Block.  It is essential for providing authentication of the handshake","   and of the computed keys.","",[[[],0,"   "],[[684,685],224,"Recipients of Finished messages MUST verify that the contents are"]],[[[],0,"   "],[[684,685],224,"correct and if incorrect MUST terminate the connection with a"]],[[[],0,"   "],[[684,685],224,"\"decrypt_error\" alert."]],"","   Once a side has sent its Finished message and has received and","   validated the Finished message from its peer, it may begin to send","   and receive Application Data over the connection.  There are two","   settings in which it is permitted to send data prior to receiving the","   peer's Finished:","","   1.  Clients sending 0-RTT data as described in Section 4.2.10.","",[[[],0,"   2.  "],[[686],96,"Servers MAY send data after sending their first flight, but"]],[[[],0,"       "],[[686],96,"because the handshake is not yet complete, they have no assurance"]],[[[],0,"       "],[[686],96,"of either the peer's identity or its liveness (i.e., the"]],[[[],0,"       "],[[686],96,"ClientHello might have been replayed)."]],"","   The key used to compute the Finished message is computed from the","   Base Key defined in Section 4.4 using HKDF (see Section 7.1).","   Specifically:","","   finished_key =","       HKDF-Expand-Label(BaseKey, \"finished\", \"\", Hash.length)","","   Structure of this message:","","      struct {","          opaque verify_data[Hash.length];","      } Finished;","","   The verify_data value is computed as follows:","","      verify_data =","          HMAC(finished_key,","               Transcript-Hash(Handshake Context,","                               Certificate*, CertificateVerify*))","","      * Only included if present.","","   HMAC [RFC2104] uses the Hash algorithm for the handshake.  As noted","   above, the HMAC input can generally be implemented by a running hash,","   i.e., just the handshake hash at this point.","","   In previous versions of TLS, the verify_data was always 12 octets","   long.  In TLS 1.3, it is the size of the HMAC output for the Hash","   used for the handshake.","","   Note: Alerts and any other non-handshake record types are not","   handshake messages and are not included in the hash computations.","",[[[],0,"   "],[[687],224,"Any records following a Finished message MUST be encrypted under the"]],[[[],0,"   "],[[687],224,"appropriate application traffic key as described in Section 7.2."],[[],0,"  In"]],"   particular, this includes any alerts sent by the server in response","   to client Certificate and CertificateVerify messages."],"requirements":[684,685,686,687]},{"id":"section-4.5","title":"End of Early Data","lines":["      struct {} EndOfEarlyData;","",[[[],0,"   "],[[688],224,"If the server sent an \"early_data\" extension in EncryptedExtensions,"]],[[[],0,"   "],[[688],224,"the client MUST send an EndOfEarlyData message after receiving the"]],[[[],0,"   "],[[688],224,"server Finished."],[[],0,"  "],[[689],224,"If the server does not send an \"early_data\""]],[[[],0,"   "],[[689],224,"extension in EncryptedExtensions, then the client MUST NOT send an"]],[[[],0,"   "],[[689],224,"EndOfEarlyData message."],[[],0,"  This message indicates that all 0-RTT"]],"   application_data messages, if any, have been transmitted and that the","","   following records are protected under handshake traffic keys.",[[[],0,"   "],[[690,691],224,"Servers MUST NOT send this message, and clients receiving it MUST"]],[[[],0,"   "],[[690,691],224,"terminate the connection with an \"unexpected_message\" alert."],[[],0,"  This"]],"   message is encrypted under keys derived from the","   client_early_traffic_secret."],"requirements":[688,689,690,691]},{"id":"section-4.6","title":"Post-Handshake Messages","lines":["   TLS also allows other messages to be sent after the main handshake.","   These messages use a handshake content type and are encrypted under","   the appropriate application traffic key."]},{"id":"section-4.6.1","title":"New Session Ticket Message","lines":[[[[],0,"   "],[[692],96,"At any time after the server has received the client Finished"]],[[[],0,"   "],[[692],96,"message, it MAY send a NewSessionTicket message."],[[],0,"  This message"]],"   creates a unique association between the ticket value and a secret","   PSK derived from the resumption master secret (see Section 7).","",[[[],0,"   "],[[693],96,"The client MAY use this PSK for future handshakes by including the"]],[[[],0,"   "],[[693],96,"ticket value in the \"pre_shared_key\" extension in its ClientHello"]],[[[],0,"   "],[[693],96,"(Section 4.2.11)."],[[],0,"  "],[[694],96,"Servers MAY send multiple tickets on a single"]],[[[],0,"   "],[[694],96,"connection, either immediately after each other or after specific"]],[[[],0,"   "],[[694],96,"events (see Appendix C.4)."],[[],0,"  For instance, the server might send a new"]],"   ticket after post-handshake authentication in order to encapsulate","   the additional client authentication state.  Multiple tickets are","   useful for clients for a variety of purposes, including:","","   -  Opening multiple parallel HTTP connections.","","   -  Performing connection racing across interfaces and address","      families via (for example) Happy Eyeballs [RFC8305] or related","      techniques.","",[[[],0,"   "],[[695],224,"Any ticket MUST only be resumed with a cipher suite that has the same"]],[[[],0,"   "],[[695],224,"KDF hash algorithm as that used to establish the original connection."]],"",[[[],0,"   "],[[696],224,"Clients MUST only resume if the new SNI value is valid for the server"]],[[[],0,"   "],[[696],224,"certificate presented in the original session and SHOULD only resume"]],[[[],0,"   "],[[696],224,"if the SNI value matches the one used in the original session."],[[],0,"  The"]],"   latter is a performance optimization: normally, there is no reason to","   expect that different servers covered by a single certificate would","   be able to accept each other's tickets; hence, attempting resumption",[[[],0,"   in that case would waste a single-use ticket.  "],[[697],96,"If such an indication"]],[[[],0,"   "],[[697],96,"is provided (externally or by any other means), clients MAY resume"]],[[[],0,"   "],[[697],96,"with a different SNI value."]],"",[[[],0,"   "],[[698],224,"On resumption, if reporting an SNI value to the calling application,"]],[[[],0,"   "],[[698],224,"implementations MUST use the value sent in the resumption ClientHello"]],[[[],0,"   "],[[698],224,"rather than the value sent in the previous session."],[[],0,"  Note that if a"]],"   server implementation declines all PSK identities with different SNI","   values, these two values are always the same.","",[[[],0,"   "],[[699],96,"Note: Although the resumption master secret depends on the client's"]],[[[],0,"   "],[[699],96,"second flight, a server which does not request client authentication"]],[[[],0,"   "],[[699],96,"MAY compute the remainder of the transcript independently and then"]],[[[],0,"   "],[[699],96,"send a NewSessionTicket immediately upon sending its Finished rather"]],[[[],0,"   "],[[699],96,"than waiting for the client Finished."],[[],0,"  This might be appropriate in"]],"   cases where the client is expected to open multiple TLS connections","   in parallel and would benefit from the reduced overhead of a","   resumption handshake, for example.","","      struct {","          uint32 ticket_lifetime;","          uint32 ticket_age_add;","          opaque ticket_nonce<0..255>;","          opaque ticket<1..2^16-1>;","          Extension extensions<0..2^16-2>;","      } NewSessionTicket;","","   ticket_lifetime:  Indicates the lifetime in seconds as a 32-bit","      unsigned integer in network byte order from the time of ticket",[[[],0,"      issuance.  "],[[700],224,"Servers MUST NOT use any value greater than"]],[[[],0,"      "],[[700],224,"604800 seconds (7 days)."],[[],0,"  The value of zero indicates that the"]],[[[],0,"      ticket should be discarded immediately.  "],[[701],224,"Clients MUST NOT cache"]],[[[],0,"      "],[[701],224,"tickets for longer than 7 days, regardless of the ticket_lifetime,"]],[[[],0,"      "],[[701],224,"and MAY delete tickets earlier based on local policy."],[[],0,"  "],[[702],96,"A server"]],[[[],0,"      "],[[702],96,"MAY treat a ticket as valid for a shorter period of time than what"]],[[[],0,"      "],[[702],96,"is stated in the ticket_lifetime."]],"","   ticket_age_add:  A securely generated, random 32-bit value that is","      used to obscure the age of the ticket that the client includes in","      the \"pre_shared_key\" extension.  The client-side ticket age is","      added to this value modulo 2^32 to obtain the value that is",[[[],0,"      transmitted by the client.  "],[[703],224,"The server MUST generate a fresh value"]],[[[],0,"      "],[[703],224,"for each ticket it sends."]],"","   ticket_nonce:  A per-ticket value that is unique across all tickets","      issued on this connection.","","   ticket:  The value of the ticket to be used as the PSK identity.  The",[[[],0,"      ticket itself is an opaque label.  "],[[704],96,"It MAY be either a database"]],[[[],0,"      "],[[704],96,"lookup key or a self-encrypted and self-authenticated value."]],"","   extensions:  A set of extension values for the ticket.  The",[[[],0,"      \"Extension\" format is defined in Section 4.2.  "],[[705],224,"Clients MUST ignore"]],[[[],0,"      "],[[705],224,"unrecognized extensions."]],"","   The sole extension currently defined for NewSessionTicket is","   \"early_data\", indicating that the ticket may be used to send 0-RTT","   data (Section 4.2.10).  It contains the following value:","","   max_early_data_size:  The maximum amount of 0-RTT data that the","      client is allowed to send when using this ticket, in bytes.  Only","      Application Data payload (i.e., plaintext but not padding or the",[[[],0,"      inner content type byte) is counted.  "],[[706],160,"A server receiving more than"]],[[[],0,"      "],[[706],160,"max_early_data_size bytes of 0-RTT data SHOULD terminate the"]],[[[],0,"      "],[[706],160,"connection with an \"unexpected_message\" alert."],[[],0,"  "],[[707],160,"Note that servers"]],[[[],0,"      "],[[707],160,"that reject early data due to lack of cryptographic material will"]],[[[],0,"      "],[[707],160,"be unable to differentiate padding from content, so clients"]],[[[],0,"      "],[[707],160,"SHOULD NOT depend on being able to send large quantities of"]],[[[],0,"      "],[[707],160,"padding in early data records."]],"","   The PSK associated with the ticket is computed as:","","       HKDF-Expand-Label(resumption_master_secret,","                        \"resumption\", ticket_nonce, Hash.length)","","   Because the ticket_nonce value is distinct for each NewSessionTicket","   message, a different PSK will be derived for each ticket.","","   Note that in principle it is possible to continue issuing new tickets","   which indefinitely extend the lifetime of the keying material","   originally derived from an initial non-PSK handshake (which was most",[[[],0,"   likely tied to the peer's certificate).  "],[[708],160,"It is RECOMMENDED that"]],[[[],0,"   "],[[708],160,"implementations place limits on the total lifetime of such keying"]],[[[],0,"   "],[[708],160,"material; these limits should take into account the lifetime of the"]],[[[],0,"   "],[[708],160,"peer's certificate, the likelihood of intervening revocation, and the"]],[[[],0,"   "],[[708],160,"time since the peer's online CertificateVerify signature."]]],"requirements":[692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708]},{"id":"section-4.6.2","title":"Post-Handshake Authentication","lines":[[[[],0,"   "],[[709],96,"When the client has sent the \"post_handshake_auth\" extension (see"]],[[[],0,"   "],[[709],96,"Section 4.2.6), a server MAY request client authentication at any"]],[[[],0,"   "],[[709],96,"time after the handshake has completed by sending a"]],[[[],0,"   "],[[709],96,"CertificateRequest message."],[[],0,"  "],[[710],224,"The client MUST respond with the"]],[[[],0,"   "],[[710],224,"appropriate Authentication messages (see Section 4.4)."],[[],0,"  "],[[711],224,"If the client"]],[[[],0,"   "],[[711],224,"chooses to authenticate, it MUST send Certificate, CertificateVerify,"]],"",[[[],0,"   and Finished.  "],[[712],224,"If it declines, it MUST send a Certificate message"]],[[[],0,"   "],[[712],224,"containing no certificates followed by Finished."],[[],0,"  "],[[713],224,"All of the client's"]],[[[],0,"   "],[[713],224,"messages for a given response MUST appear consecutively on the wire"]],[[[],0,"   "],[[713],224,"with no intervening messages of other types."]],"",[[[],0,"   "],[[714],224,"A client that receives a CertificateRequest message without having"]],[[[],0,"   "],[[714],224,"sent the \"post_handshake_auth\" extension MUST send an"]],[[[],0,"   "],[[714],224,"\"unexpected_message\" fatal alert."]],"",[[[],0,"   "],[[715],224,"Note: Because client authentication could involve prompting the user,"]],[[[],0,"   "],[[715],224,"servers MUST be prepared for some delay, including receiving an"]],[[[],0,"   "],[[715],224,"arbitrary number of other messages between sending the"]],[[[],0,"   "],[[715],224,"CertificateRequest and receiving a response."],[[],0,"  "],[[716],96,"In addition, clients"]],[[[],0,"   "],[[716],96,"which receive multiple CertificateRequests in close succession MAY"]],[[[],0,"   "],[[716],96,"respond to them in a different order than they were received (the"]],[[[],0,"   "],[[716],96,"certificate_request_context value allows the server to disambiguate"]],[[[],0,"   "],[[716],96,"the responses)."]]],"requirements":[709,710,711,712,713,714,715,716]},{"id":"section-4.6.3","title":"Key and Initialization Vector Update","lines":["   The KeyUpdate handshake message is used to indicate that the sender","   is updating its sending cryptographic keys.  This message can be sent",[[[],0,"   by either peer after it has sent a Finished message.  "],[[717],224,"Implementations"]],[[[],0,"   "],[[717],224,"that receive a KeyUpdate message prior to receiving a Finished"]],[[[],0,"   "],[[717],224,"message MUST terminate the connection with an \"unexpected_message\""]],[[[],0,"   "],[[717],224,"alert."],[[],0,"  "],[[718],224,"After sending a KeyUpdate message, the sender SHALL send all"]],[[[],0,"   "],[[718],224,"its traffic using the next generation of keys, computed as described"]],[[[],0,"   "],[[718],224,"in Section 7.2."],[[],0,"  "],[[719],224,"Upon receiving a KeyUpdate, the receiver MUST update"]],[[[],0,"   "],[[719],224,"its receiving keys."]],"","      enum {","          update_not_requested(0), update_requested(1), (255)","      } KeyUpdateRequest;","","      struct {","          KeyUpdateRequest request_update;","      } KeyUpdate;","","   request_update:  Indicates whether the recipient of the KeyUpdate",[[[],0,"      should respond with its own KeyUpdate.  "],[[720],224,"If an implementation"]],[[[],0,"      "],[[720],224,"receives any other value, it MUST terminate the connection with an"]],[[[],0,"      "],[[720],224,"\"illegal_parameter\" alert."]],"",[[[],0,"   "],[[721],224,"If the request_update field is set to \"update_requested\", then the"]],[[[],0,"   "],[[721],224,"receiver MUST send a KeyUpdate of its own with request_update set to"]],[[[],0,"   "],[[721],224,"\"update_not_requested\" prior to sending its next Application Data"]],[[[],0,"   "],[[721],224,"record."],[[],0,"  This mechanism allows either side to force an update to the"]],"   entire connection, but causes an implementation which receives","","   multiple KeyUpdates while it is silent to respond with a single","   update.  Note that implementations may receive an arbitrary number of","   messages between sending a KeyUpdate with request_update set to","   \"update_requested\" and receiving the peer's KeyUpdate, because those","   messages may already be in flight.  However, because send and receive","   keys are derived from independent traffic secrets, retaining the","   receive traffic secret does not threaten the forward secrecy of data","   sent before the sender changed keys.","","   If implementations independently send their own KeyUpdates with","   request_update set to \"update_requested\" and they cross in flight,","   then each side will also send a response, with the result that each","   side increments by two generations.","",[[[],0,"   "],[[722],224,"Both sender and receiver MUST encrypt their KeyUpdate messages with"]],[[[],0,"   "],[[722],224,"the old keys."],[[],0,"  "],[[723],224,"Additionally, both sides MUST enforce that a KeyUpdate"]],[[[],0,"   "],[[723],224,"with the old key is received before accepting any messages encrypted"]],[[[],0,"   "],[[723],224,"with the new key."],[[],0,"  Failure to do so may allow message truncation"]],"   attacks."],"requirements":[717,718,719,720,721,722,723]},{"id":"section-5","title":"Record Protocol","lines":["   The TLS record protocol takes messages to be transmitted, fragments","   the data into manageable blocks, protects the records, and transmits","   the result.  Received data is verified, decrypted, reassembled, and","   then delivered to higher-level clients.","","   TLS records are typed, which allows multiple higher-level protocols","   to be multiplexed over the same record layer.  This document","   specifies four content types: handshake, application_data, alert, and","   change_cipher_spec.  The change_cipher_spec record is used only for","   compatibility purposes (see Appendix D.4).","",[[[],0,"   "],[[762],224,"An implementation may receive an unencrypted record of type"]],[[[],0,"   "],[[762],224,"change_cipher_spec consisting of the single byte value 0x01 at any"]],[[[],0,"   "],[[762],224,"time after the first ClientHello message has been sent or received"]],[[[],0,"   "],[[762],224,"and before the peer's Finished message has been received and MUST"]],[[[],0,"   "],[[762],224,"simply drop it without further processing."],[[],0,"  Note that this record may"]],"   appear at a point at the handshake where the implementation is","   expecting protected records, and so it is necessary to detect this",[[[],0,"   condition prior to attempting to deprotect the record.  "],[[763],224,"An"]],[[[],0,"   "],[[763],224,"implementation which receives any other change_cipher_spec value or"]],[[[],0,"   "],[[763],224,"which receives a protected change_cipher_spec record MUST abort the"]],[[[],0,"   "],[[763],224,"handshake with an \"unexpected_message\" alert."],[[],0,"  "],[[764],224,"If an implementation"]],[[[],0,"   "],[[764],224,"detects a change_cipher_spec record received before the first"]],[[[],0,"   "],[[764],224,"ClientHello message or after the peer's Finished message, it MUST be"]],[[[],0,"   "],[[764],224,"treated as an unexpected record type (though stateless servers may"]],[[[],0,"   "],[[764],224,"not be able to distinguish these cases from allowed cases)."]],"",[[[],0,"   "],[[765],224,"Implementations MUST NOT send record types not defined in this"]],[[[],0,"   "],[[765],224,"document unless negotiated by some extension."],[[],0,"  "],[[766],224,"If a TLS"]],[[[],0,"   "],[[766],224,"implementation receives an unexpected record type, it MUST terminate"]],[[[],0,"   "],[[766],224,"the connection with an \"unexpected_message\" alert."],[[],0,"  New record"]],"   content type values are assigned by IANA in the TLS ContentType","   registry as described in Section 11."],"requirements":[762,763,764,765,766]},{"id":"section-5.1","title":"Record Layer","lines":["   The record layer fragments information blocks into TLSPlaintext","   records carrying data in chunks of 2^14 bytes or less.  Message","   boundaries are handled differently depending on the underlying",[[[],0,"   ContentType.  "],[[726],224,"Any future content types MUST specify appropriate"]],[[[],0,"   "],[[726],224,"rules."],[[],0,"  Note that these rules are stricter than what was enforced in"]],"   TLS 1.2.","",[[[],0,"   "],[[727],96,"Handshake messages MAY be coalesced into a single TLSPlaintext record"]],[[[],0,"   "],[[727],96,"or fragmented across several records, provided that:"]],"",[[[],0,"   "],[[728],224,"-  Handshake messages MUST NOT be interleaved with other record"]],[[[],0,"      "],[[728],224,"types."],[[],0,"  "],[[729],224,"That is, if a handshake message is split over two or more"]],[[[],0,"      "],[[729],224,"records, there MUST NOT be any other records between them."]],"",[[[],0,"   "],[[730],224,"-  Handshake messages MUST NOT span key changes."],[[],0,"  "],[[731,732],224,"Implementations"]],[[[],0,"      "],[[731,732],224,"MUST verify that all messages immediately preceding a key change"]],[[[],0,"      "],[[731,732],224,"align with a record boundary; if not, then they MUST terminate the"]],[[[],0,"      "],[[731,732],224,"connection with an \"unexpected_message\" alert."],[[],0,"  "],[[733],224,"Because the"]],[[[],0,"      "],[[733],224,"ClientHello, EndOfEarlyData, ServerHello, Finished, and KeyUpdate"]],[[[],0,"      "],[[733],224,"messages can immediately precede a key change, implementations"]],[[[],0,"      "],[[733],224,"MUST send these messages in alignment with a record boundary."]],"",[[[],0,"   "],[[734],224,"Implementations MUST NOT send zero-length fragments of Handshake"]],[[[],0,"   "],[[734],224,"types, even if those fragments contain padding."]],"",[[[],0,"   "],[[735,736],224,"Alert messages (Section 6) MUST NOT be fragmented across records, and"]],[[[],0,"   "],[[735,736],224,"multiple alert messages MUST NOT be coalesced into a single"]],[[[],0,"   "],[[735,736],224,"TLSPlaintext record."],[[],0,"  "],[[737],224,"In other words, a record with an Alert type"]],[[[],0,"   "],[[737],224,"MUST contain exactly one message."]],"","   Application Data messages contain data that is opaque to TLS.",[[[],0,"   Application Data messages are always protected.  "],[[738],96,"Zero-length"]],[[[],0,"   "],[[738],96,"fragments of Application Data MAY be sent, as they are potentially"]],[[[],0,"   "],[[738],96,"useful as a traffic analysis countermeasure."],[[],0,"  "],[[739],96,"Application Data"]],[[[],0,"   "],[[739],96,"fragments MAY be split across multiple records or coalesced into a"]],[[[],0,"   "],[[739],96,"single record."]],"","      enum {","          invalid(0),","          change_cipher_spec(20),","          alert(21),","          handshake(22),","          application_data(23),","          (255)","      } ContentType;","","      struct {","          ContentType type;","          ProtocolVersion legacy_record_version;","          uint16 length;","          opaque fragment[TLSPlaintext.length];","      } TLSPlaintext;","","   type:  The higher-level protocol used to process the enclosed","      fragment.","",[[[],0,"   "],[[740],224,"legacy_record_version:  MUST be set to 0x0303 for all records"]],[[[],0,"      "],[[740],224,"generated by a TLS 1.3 implementation other than an initial"]],[[[],0,"      "],[[740],224,"ClientHello (i.e., one not generated after a HelloRetryRequest),"]],[[[],0,"      "],[[740],224,"where it MAY also be 0x0301 for compatibility purposes."],[[],0,"  "],[[741],224,"This"]],[[[],0,"      "],[[741],224,"field is deprecated and MUST be ignored for all purposes."]],"      Previous versions of TLS would use other values in this field","      under some circumstances.","","   length:  The length (in bytes) of the following",[[[],0,"      TLSPlaintext.fragment.  "],[[742],224,"The length MUST NOT exceed 2^14 bytes."],[[],0,"  "],[[743],224,"An"]],[[[],0,"      "],[[743],224,"endpoint that receives a record that exceeds this length MUST"]],[[[],0,"      "],[[743],224,"terminate the connection with a \"record_overflow\" alert."]],"","   fragment:  The data being transmitted.  This value is transparent and","      is treated as an independent block to be dealt with by the higher-","      level protocol specified by the type field.","","   This document describes TLS 1.3, which uses the version 0x0304.  This","   version value is historical, deriving from the use of 0x0301 for",[[[],0,"   TLS 1.0 and 0x0300 for SSL 3.0.  "],[[744],224,"In order to maximize backward"]],[[[],0,"   "],[[744],224,"compatibility, a record containing an initial ClientHello SHOULD have"]],[[[],0,"   "],[[744],224,"version 0x0301 (reflecting TLS 1.0) and a record containing a second"]],[[[],0,"   "],[[744],224,"ClientHello or a ServerHello MUST have version 0x0303 (reflecting"]],[[[],0,"   "],[[744],224,"TLS 1.2)."],[[],0,"  When negotiating prior versions of TLS, endpoints follow"]],"   the procedure and requirements provided in Appendix D.","","   When record protection has not yet been engaged, TLSPlaintext","   structures are written directly onto the wire.  Once record","   protection has started, TLSPlaintext records are protected and sent",[[[],0,"   as described in the following section.  "],[[745],224,"Note that Application Data"]],[[[],0,"   "],[[745],224,"records MUST NOT be written to the wire unprotected (see Section 2"]],[[[],0,"   "],[[745],224,"for details)."]]],"requirements":[726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745]},{"id":"section-5.2","title":"Record Payload Protection","lines":["   The record protection functions translate a TLSPlaintext structure","   into a TLSCiphertext structure.  The deprotection functions reverse","   the process.  In TLS 1.3, as opposed to previous versions of TLS, all","   ciphers are modeled as \"Authenticated Encryption with Associated","   Data\" (AEAD) [RFC5116].  AEAD functions provide a unified encryption","   and authentication operation which turns plaintext into authenticated","   ciphertext and back again.  Each encrypted record consists of a","   plaintext header followed by an encrypted body, which itself contains","   a type and optional padding.","","      struct {","          opaque content[TLSPlaintext.length];","          ContentType type;","          uint8 zeros[length_of_padding];","      } TLSInnerPlaintext;","","      struct {","          ContentType opaque_type = application_data; /* 23 */","          ProtocolVersion legacy_record_version = 0x0303; /* TLS v1.2 */","          uint16 length;","          opaque encrypted_record[TLSCiphertext.length];","      } TLSCiphertext;","","   content:  The TLSPlaintext.fragment value, containing the byte","      encoding of a handshake or an alert message, or the raw bytes of","      the application's data to send.","","   type:  The TLSPlaintext.type value containing the content type of the","      record.","","   zeros:  An arbitrary-length run of zero-valued bytes may appear in","      the cleartext after the type field.  This provides an opportunity","      for senders to pad any TLS record by a chosen amount as long as","      the total stays within record size limits.  See Section 5.4 for","      more details.","","   opaque_type:  The outer opaque_type field of a TLSCiphertext record","      is always set to the value 23 (application_data) for outward","      compatibility with middleboxes accustomed to parsing previous","      versions of TLS.  The actual content type of the record is found","      in TLSInnerPlaintext.type after decryption.","","   legacy_record_version:  The legacy_record_version field is always","      0x0303.  TLS 1.3 TLSCiphertexts are not generated until after","      TLS 1.3 has been negotiated, so there are no historical","      compatibility concerns where other values might be received.  Note","      that the handshake protocol, including the ClientHello and","      ServerHello messages, authenticates the protocol version, so this","      value is redundant.","","   length:  The length (in bytes) of the following","      TLSCiphertext.encrypted_record, which is the sum of the lengths of","      the content and the padding, plus one for the inner content type,",[[[],0,"      plus any expansion added by the AEAD algorithm.  "],[[746],224,"The length"]],[[[],0,"      "],[[746],224,"MUST NOT exceed 2^14 + 256 bytes."],[[],0,"  "],[[747],224,"An endpoint that receives a"]],[[[],0,"      "],[[747],224,"record that exceeds this length MUST terminate the connection with"]],[[[],0,"      "],[[747],224,"a \"record_overflow\" alert."]],"","   encrypted_record:  The AEAD-encrypted form of the serialized","      TLSInnerPlaintext structure.","","   AEAD algorithms take as input a single key, a nonce, a plaintext, and","   \"additional data\" to be included in the authentication check, as","   described in Section 2.1 of [RFC5116].  The key is either the","   client_write_key or the server_write_key, the nonce is derived from","   the sequence number and the client_write_iv or server_write_iv (see","   Section 5.3), and the additional data input is the record header.","","   I.e.,","","      additional_data = TLSCiphertext.opaque_type ||","                        TLSCiphertext.legacy_record_version ||","                        TLSCiphertext.length","","   The plaintext input to the AEAD algorithm is the encoded","   TLSInnerPlaintext structure.  Derivation of traffic keys is defined","   in Section 7.3.","","   The AEAD output consists of the ciphertext output from the AEAD","   encryption operation.  The length of the plaintext is greater than","   the corresponding TLSPlaintext.length due to the inclusion of","   TLSInnerPlaintext.type and any padding supplied by the sender.  The","   length of the AEAD output will generally be larger than the","   plaintext, but by an amount that varies with the AEAD algorithm.","","   Since the ciphers might incorporate padding, the amount of overhead","   could vary with different lengths of plaintext.  Symbolically,","","      AEADEncrypted =","          AEAD-Encrypt(write_key, nonce, additional_data, plaintext)","","   The encrypted_record field of TLSCiphertext is set to AEADEncrypted.","","   In order to decrypt and verify, the cipher takes as input the key,","   nonce, additional data, and the AEADEncrypted value.  The output is","   either the plaintext or an error indicating that the decryption","   failed.  There is no separate integrity check.  Symbolically,","","      plaintext of encrypted_record =","          AEAD-Decrypt(peer_write_key, nonce,","                       additional_data, AEADEncrypted)","",[[[],0,"   "],[[748],224,"If the decryption fails, the receiver MUST terminate the connection"]],[[[],0,"   "],[[748],224,"with a \"bad_record_mac\" alert."]],"",[[[],0,"   "],[[749],224,"An AEAD algorithm used in TLS 1.3 MUST NOT produce an expansion"]],[[[],0,"   "],[[749],224,"greater than 255 octets."],[[],0,"  "],[[750],224,"An endpoint that receives a record from its"]],[[[],0,"   "],[[750],224,"peer with TLSCiphertext.length larger than 2^14 + 256 octets MUST"]],[[[],0,"   "],[[750],224,"terminate the connection with a \"record_overflow\" alert."],[[],0,"  This limit"]],"   is derived from the maximum TLSInnerPlaintext length of 2^14 octets +","   1 octet for ContentType + the maximum AEAD expansion of 255 octets."],"requirements":[746,747,748,749,750]},{"id":"section-5.3","title":"Per-Record Nonce","lines":["   A 64-bit sequence number is maintained separately for reading and","   writing records.  The appropriate sequence number is incremented by",[[[],0,"   one after reading or writing each record.  "],[[751],224,"Each sequence number is"]],[[[],0,"   "],[[751],224,"set to zero at the beginning of a connection and whenever the key is"]],[[[],0,"   "],[[751],224,"changed; the first record transmitted under a particular traffic key"]],[[[],0,"   "],[[751],224,"MUST use sequence number 0."]],"","   Because the size of sequence numbers is 64-bit, they should not wrap.",[[[],0,"   "],[[752],224,"If a TLS implementation would need to wrap a sequence number, it MUST"]],[[[],0,"   "],[[752],224,"either rekey (Section 4.6.3) or terminate the connection."]],"","   Each AEAD algorithm will specify a range of possible lengths for the","   per-record nonce, from N_MIN bytes to N_MAX bytes of input [RFC5116].","   The length of the TLS per-record nonce (iv_length) is set to the","   larger of 8 bytes and N_MIN for the AEAD algorithm (see [RFC5116],",[[[],0,"   Section 4).  "],[[753],224,"An AEAD algorithm where N_MAX is less than 8 bytes"]],[[[],0,"   "],[[753],224,"MUST NOT be used with TLS."],[[],0,"  The per-record nonce for the AEAD"]],"   construction is formed as follows:","","   1.  The 64-bit record sequence number is encoded in network byte","       order and padded to the left with zeros to iv_length.","","   2.  The padded sequence number is XORed with either the static","       client_write_iv or server_write_iv (depending on the role).","","   The resulting quantity (of length iv_length) is used as the","   per-record nonce.","","   Note: This is a different construction from that in TLS 1.2, which","   specified a partially explicit nonce."],"requirements":[751,752,753]},{"id":"section-5.4","title":"Record Padding","lines":["   All encrypted TLS records can be padded to inflate the size of the","   TLSCiphertext.  This allows the sender to hide the size of the","   traffic from an observer.","",[[[],0,"   "],[[754],96,"When generating a TLSCiphertext record, implementations MAY choose to"]],[[[],0,"   "],[[754],96,"pad."],[[],0,"  An unpadded record is just a record with a padding length of"]],"   zero.  Padding is a string of zero-valued bytes appended to the",[[[],0,"   ContentType field before encryption.  "],[[755],224,"Implementations MUST set the"]],[[[],0,"   "],[[755],224,"padding octets to all zeros before encrypting."]],"","   Application Data records may contain a zero-length","   TLSInnerPlaintext.content if the sender desires.  This permits","   generation of plausibly sized cover traffic in contexts where the",[[[],0,"   presence or absence of activity may be sensitive.  "],[[756,757],224,"Implementations"]],[[[],0,"   "],[[756,757],224,"MUST NOT send Handshake and Alert records that have a zero-length"]],[[[],0,"   "],[[756,757],224,"TLSInnerPlaintext.content; if such a message is received, the"]],[[[],0,"   "],[[756,757],224,"receiving implementation MUST terminate the connection with an"]],[[[],0,"   "],[[756,757],224,"\"unexpected_message\" alert."]],"","   The padding sent is automatically verified by the record protection","   mechanism; upon successful decryption of a","   TLSCiphertext.encrypted_record, the receiving implementation scans","   the field from the end toward the beginning until it finds a non-zero","   octet.  This non-zero octet is the content type of the message.  This","   padding scheme was selected because it allows padding of any","   encrypted TLS record by an arbitrary size (from zero up to TLS record","   size limits) without introducing new content types.  The design also","   enforces all-zero padding octets, which allows for quick detection of","   padding errors.","",[[[],0,"   "],[[758],224,"Implementations MUST limit their scanning to the cleartext returned"]],[[[],0,"   "],[[758],224,"from the AEAD decryption."],[[],0,"  "],[[759],224,"If a receiving implementation does not"]],[[[],0,"   "],[[759],224,"find a non-zero octet in the cleartext, it MUST terminate the"]],[[[],0,"   "],[[759],224,"connection with an \"unexpected_message\" alert."]],"",[[[],0,"   "],[[760],224,"The presence of padding does not change the overall record size"]],[[[],0,"   "],[[760],224,"limitations: the full encoded TLSInnerPlaintext MUST NOT exceed 2^14"]],[[[],0,"   "],[[760],224,"+ 1 octets."],[[],0,"  If the maximum fragment length is reduced -- as, for"]],"   example, by the record_size_limit extension from [RFC8449] -- then","   the reduced limit applies to the full plaintext, including the","   content type and padding.","","   Selecting a padding policy that suggests when and how much to pad is","   a complex topic and is beyond the scope of this specification.  If","   the application-layer protocol on top of TLS has its own padding, it","   may be preferable to pad Application Data TLS records within the","   application layer.  Padding for encrypted Handshake or Alert records","   must still be handled at the TLS layer, though.  Later documents may","   define padding selection algorithms or define a padding policy","   request mechanism through TLS extensions or some other means."],"requirements":[754,755,756,757,758,759,760]},{"id":"section-5.5","title":"Limits on Key Usage","lines":["   There are cryptographic limits on the amount of plaintext which can","   be safely encrypted under a given set of keys.  [AEAD-LIMITS]","   provides an analysis of these limits under the assumption that the","   underlying primitive (AES or ChaCha20) has no weaknesses.",[[[],0,"   "],[[761],160,"Implementations SHOULD do a key update as described in Section 4.6.3"]],[[[],0,"   "],[[761],160,"prior to reaching these limits."]],"","   For AES-GCM, up to 2^24.5 full-size records (about 24 million) may be","   encrypted on a given connection while keeping a safety margin of","   approximately 2^-57 for Authenticated Encryption (AE) security.  For","   ChaCha20/Poly1305, the record sequence number would wrap before the","   safety limit is reached."],"requirements":[761]},{"id":"section-6","title":"Alert Protocol","lines":["   TLS provides an Alert content type to indicate closure information","   and errors.  Like other messages, alert messages are encrypted as","   specified by the current connection state.","","   Alert messages convey a description of the alert and a legacy field","   that conveyed the severity level of the message in previous versions","   of TLS.  Alerts are divided into two classes: closure alerts and","   error alerts.  In TLS 1.3, the severity is implicit in the type of","   alert being sent, and the \"level\" field can safely be ignored.  The","   \"close_notify\" alert is used to indicate orderly closure of one",[[[],0,"   direction of the connection.  "],[[780],160,"Upon receiving such an alert, the TLS"]],[[[],0,"   "],[[780],160,"implementation SHOULD indicate end-of-data to the application."]],"","   Error alerts indicate abortive closure of the connection (see",[[[],0,"   Section 6.2).  "],[[781],224,"Upon receiving an error alert, the TLS implementation"]],[[[],0,"   "],[[781],224,"SHOULD indicate an error to the application and MUST NOT allow any"]],[[[],0,"   "],[[781],224,"further data to be sent or received on the connection."],[[],0,"  "],[[782],224,"Servers and"]],[[[],0,"   "],[[782],224,"clients MUST forget the secret values and keys established in failed"]],[[[],0,"   "],[[782],224,"connections, with the exception of the PSKs associated with session"]],[[[],0,"   "],[[782],224,"tickets, which SHOULD be discarded if possible."]],"",[[[],0,"   "],[[783,784],224,"All the alerts listed in Section 6.2 MUST be sent with"]],[[[],0,"   "],[[783,784],224,"AlertLevel=fatal and MUST be treated as error alerts when received"]],[[[],0,"   "],[[783,784],224,"regardless of the AlertLevel in the message."],[[],0,"  "],[[785],224,"Unknown Alert types"]],[[[],0,"   "],[[785],224,"MUST be treated as error alerts."]],"","   Note: TLS defines two generic alerts (see Section 6) to use upon",[[[],0,"   failure to parse a message.  "],[[786],224,"Peers which receive a message which"]],[[[],0,"   "],[[786],224,"cannot be parsed according to the syntax (e.g., have a length"]],[[[],0,"   "],[[786],224,"extending beyond the message boundary or contain an out-of-range"]],[[[],0,"   "],[[786],224,"length) MUST terminate the connection with a \"decode_error\" alert."]],[[[],0,"   "],[[787],224,"Peers which receive a message which is syntactically correct but"]],[[[],0,"   "],[[787],224,"semantically invalid (e.g., a DHE share of p - 1, or an invalid enum)"]],[[[],0,"   "],[[787],224,"MUST terminate the connection with an \"illegal_parameter\" alert."]],"","      enum { warning(1), fatal(2), (255) } AlertLevel;","","      enum {","          close_notify(0),","          unexpected_message(10),","          bad_record_mac(20),","          record_overflow(22),","          handshake_failure(40),","          bad_certificate(42),","          unsupported_certificate(43),","          certificate_revoked(44),","          certificate_expired(45),","          certificate_unknown(46),","          illegal_parameter(47),","          unknown_ca(48),","          access_denied(49),","          decode_error(50),","          decrypt_error(51),","          protocol_version(70),","          insufficient_security(71),","          internal_error(80),","          inappropriate_fallback(86),","          user_canceled(90),","          missing_extension(109),","          unsupported_extension(110),","          unrecognized_name(112),","          bad_certificate_status_response(113),","          unknown_psk_identity(115),","          certificate_required(116),","          no_application_protocol(120),","          (255)","      } AlertDescription;","","      struct {","          AlertLevel level;","          AlertDescription description;","      } Alert;"],"requirements":[780,781,782,783,784,785,786,787]},{"id":"section-6.1","title":"Closure Alerts","lines":["   The client and the server must share knowledge that the connection is","   ending in order to avoid a truncation attack.","","   close_notify:  This alert notifies the recipient that the sender will",[[[],0,"      not send any more messages on this connection.  "],[[767,770],224,"Any data received"]],[[[],0,"      "],[[767,770],224,"after a closure alert has been received MUST be ignored."]],"","   user_canceled:  This alert notifies the recipient that the sender is","      canceling the handshake for some reason unrelated to a protocol","      failure.  If a user cancels an operation after the handshake is","      complete, just closing the connection by sending a \"close_notify\"",[[[],0,"      is more appropriate.  "],[[768],160,"This alert SHOULD be followed by a"]],[[[],0,"      "],[[768],160,"\"close_notify\"."],[[],0,"  This alert generally has AlertLevel=warning."]],"",[[[],0,"   "],[[769],96,"Either party MAY initiate a close of its write side of the connection"]],[[[],0,"   "],[[769],96,"by sending a \"close_notify\" alert."],[[],0,"  Any data received after a closure"]],"   alert has been received MUST be ignored.  If a transport-level close","   is received prior to a \"close_notify\", the receiver cannot know that","   all the data that was sent has been received.","",[[[],0,"   "],[[771],224,"Each party MUST send a \"close_notify\" alert before closing its write"]],[[[],0,"   "],[[771],224,"side of the connection, unless it has already sent some error alert."]],"   This does not have any effect on its read side of the connection.","   Note that this is a change from versions of TLS prior to TLS 1.3 in","   which implementations were required to react to a \"close_notify\" by","   discarding pending writes and sending an immediate \"close_notify\"","   alert of their own.  That previous requirement could cause truncation","   in the read side.  Both parties need not wait to receive a","   \"close_notify\" alert before closing their read side of the","   connection, though doing so would introduce the possibility of","   truncation.","",[[[],0,"   "],[[772],224,"If the application protocol using TLS provides that any data may be"]],[[[],0,"   "],[[772],224,"carried over the underlying transport after the TLS connection is"]],[[[],0,"   "],[[772],224,"closed, the TLS implementation MUST receive a \"close_notify\" alert"]],[[[],0,"   "],[[772],224,"before indicating end-of-data to the application layer."],[[],0,"  No part of"]],"   this standard should be taken to dictate the manner in which a usage","   profile for TLS manages its data transport, including when","   connections are opened or closed.","","   Note: It is assumed that closing the write side of a connection","   reliably delivers pending data before destroying the transport."],"requirements":[767,768,769,770,771,772]},{"id":"section-6.2","title":"Error Alerts","lines":["   Error handling in TLS is very simple.  When an error is detected, the",[[[],0,"   detecting party sends a message to its peer.  "],[[773],224,"Upon transmission or"]],[[[],0,"   "],[[773],224,"receipt of a fatal alert message, both parties MUST immediately close"]],[[[],0,"   "],[[773],224,"the connection."]],"",[[[],0,"   "],[[774],224,"Whenever an implementation encounters a fatal error condition, it"]],[[[],0,"   "],[[774],224,"SHOULD send an appropriate fatal alert and MUST close the connection"]],[[[],0,"   "],[[774],224,"without sending or receiving any additional data."],[[],0,"  "],[[775],160,"In the rest of"]],[[[],0,"   "],[[775],160,"this specification, when the phrases \"terminate the connection\" and"]],[[[],0,"   "],[[775],160,"\"abort the handshake\" are used without a specific alert it means that"]],[[[],0,"   "],[[775],160,"the implementation SHOULD send the alert indicated by the"]],[[[],0,"   "],[[775],160,"descriptions below."],[[],0,"  "],[[776],224,"The phrases \"terminate the connection with an X"]],[[[],0,"   "],[[776],224,"alert\" and \"abort the handshake with an X alert\" mean that the"]],[[[],0,"   "],[[776],224,"implementation MUST send alert X if it sends any alert."],[[],0,"  All alerts"]],"   defined below in this section, as well as all unknown alerts, are",[[[],0,"   universally considered fatal as of TLS 1.3 (see Section 6).  "],[[777],160,"The"]],[[[],0,"   "],[[777],160,"implementation SHOULD provide a way to facilitate logging the sending"]],[[[],0,"   "],[[777],160,"and receiving of alerts."]],"","   The following error alerts are defined:","","   unexpected_message:  An inappropriate message (e.g., the wrong","      handshake message, premature Application Data, etc.) was received.","      This alert should never be observed in communication between","      proper implementations.","","   bad_record_mac:  This alert is returned if a record is received which","      cannot be deprotected.  Because AEAD algorithms combine decryption","      and verification, and also to avoid side-channel attacks, this","      alert is used for all deprotection failures.  This alert should","      never be observed in communication between proper implementations,","      except when messages were corrupted in the network.","","   record_overflow:  A TLSCiphertext record was received that had a","      length more than 2^14 + 256 bytes, or a record decrypted to a","      TLSPlaintext record with more than 2^14 bytes (or some other","      negotiated limit).  This alert should never be observed in","      communication between proper implementations, except when messages","      were corrupted in the network.","","   handshake_failure:  Receipt of a \"handshake_failure\" alert message","      indicates that the sender was unable to negotiate an acceptable","      set of security parameters given the options available.","","   bad_certificate:  A certificate was corrupt, contained signatures","      that did not verify correctly, etc.","","   unsupported_certificate:  A certificate was of an unsupported type.","","   certificate_revoked:  A certificate was revoked by its signer.","","   certificate_expired:  A certificate has expired or is not currently","      valid.","","   certificate_unknown:  Some other (unspecified) issue arose in","      processing the certificate, rendering it unacceptable.","","   illegal_parameter:  A field in the handshake was incorrect or","      inconsistent with other fields.  This alert is used for errors","      which conform to the formal protocol syntax but are otherwise","      incorrect.","","   unknown_ca:  A valid certificate chain or partial chain was received,","      but the certificate was not accepted because the CA certificate","      could not be located or could not be matched with a known trust","      anchor.","","   access_denied:  A valid certificate or PSK was received, but when","      access control was applied, the sender decided not to proceed with","      negotiation.","","   decode_error:  A message could not be decoded because some field was","      out of the specified range or the length of the message was","      incorrect.  This alert is used for errors where the message does","      not conform to the formal protocol syntax.  This alert should","      never be observed in communication between proper implementations,","      except when messages were corrupted in the network.","","   decrypt_error:  A handshake (not record layer) cryptographic","      operation failed, including being unable to correctly verify a","      signature or validate a Finished message or a PSK binder.","","   protocol_version:  The protocol version the peer has attempted to","      negotiate is recognized but not supported (see Appendix D).","","   insufficient_security:  Returned instead of \"handshake_failure\" when","      a negotiation has failed specifically because the server requires","      parameters more secure than those supported by the client.","","   internal_error:  An internal error unrelated to the peer or the","      correctness of the protocol (such as a memory allocation failure)","      makes it impossible to continue.","","   inappropriate_fallback:  Sent by a server in response to an invalid","      connection retry attempt from a client (see [RFC7507]).","","   missing_extension:  Sent by endpoints that receive a handshake","      message not containing an extension that is mandatory to send for","      the offered TLS version or other negotiated parameters.","","   unsupported_extension:  Sent by endpoints receiving any handshake","      message containing an extension known to be prohibited for","      inclusion in the given handshake message, or including any","      extensions in a ServerHello or Certificate not first offered in","      the corresponding ClientHello or CertificateRequest.","","   unrecognized_name:  Sent by servers when no server exists identified","      by the name provided by the client via the \"server_name\" extension","      (see [RFC6066]).","","   bad_certificate_status_response:  Sent by clients when an invalid or","      unacceptable OCSP response is provided by the server via the","      \"status_request\" extension (see [RFC6066]).","","   unknown_psk_identity:  Sent by servers when PSK key establishment is","      desired but no acceptable PSK identity is provided by the client.",[[[],0,"      "],[[778,779],96,"Sending this alert is OPTIONAL; servers MAY instead choose to send"]],[[[],0,"      "],[[778,779],96,"a \"decrypt_error\" alert to merely indicate an invalid PSK"]],[[[],0,"      "],[[778,779],96,"identity."]],"","   certificate_required:  Sent by servers when a client certificate is","      desired but none was provided by the client.","","   no_application_protocol:  Sent by servers when a client","      \"application_layer_protocol_negotiation\" extension advertises only","      protocols that the server does not support (see [RFC7301]).","","   New Alert values are assigned by IANA as described in Section 11."],"requirements":[773,774,775,776,777,778,779]},{"id":"section-7","title":"Cryptographic Computations","lines":["   The TLS handshake establishes one or more input secrets which are","   combined to create the actual working keying material, as detailed","   below.  The key derivation process incorporates both the input","   secrets and the handshake transcript.  Note that because the","   handshake transcript includes the random values from the Hello","   messages, any given handshake will have different traffic secrets,","   even if the same input secrets are used, as is the case when the same","   PSK is used for multiple connections."]},{"id":"section-7.1","title":"Key Schedule","lines":["   The key derivation process makes use of the HKDF-Extract and","   HKDF-Expand functions as defined for HKDF [RFC5869], as well as the","   functions defined below:","","       HKDF-Expand-Label(Secret, Label, Context, Length) =","            HKDF-Expand(Secret, HkdfLabel, Length)","","       Where HkdfLabel is specified as:","","       struct {","           uint16 length = Length;","           opaque label<7..255> = \"tls13 \" + Label;","           opaque context<0..255> = Context;","       } HkdfLabel;","","       Derive-Secret(Secret, Label, Messages) =","            HKDF-Expand-Label(Secret, Label,","                              Transcript-Hash(Messages), Hash.length)","","   The Hash function used by Transcript-Hash and HKDF is the cipher","   suite hash algorithm.  Hash.length is its output length in bytes.","   Messages is the concatenation of the indicated handshake messages,","   including the handshake message type and length fields, but not","   including record layer headers.  Note that in some cases a zero-","   length Context (indicated by \"\") is passed to HKDF-Expand-Label.  The","   labels specified in this document are all ASCII strings and do not","   include a trailing NUL byte.","","   Note: With common hash functions, any label longer than 12 characters","   requires an additional iteration of the hash function to compute.","   The labels in this specification have all been chosen to fit within","   this limit.","","   Keys are derived from two input secrets using the HKDF-Extract and","   Derive-Secret functions.  The general pattern for adding a new secret","   is to use HKDF-Extract with the Salt being the current secret state","   and the Input Keying Material (IKM) being the new secret to be added.","   In this version of TLS 1.3, the two input secrets are:","","   -  PSK (a pre-shared key established externally or derived from the","      resumption_master_secret value from a previous connection)","","   -  (EC)DHE shared secret (Section 7.4)","","   This produces a full key derivation schedule shown in the diagram","   below.  In this diagram, the following formatting conventions apply:","","   -  HKDF-Extract is drawn as taking the Salt argument from the top and","      the IKM argument from the left, with its output to the bottom and","      the name of the output on the right.","","   -  Derive-Secret's Secret argument is indicated by the incoming","      arrow.  For instance, the Early Secret is the Secret for","      generating the client_early_traffic_secret.","","   -  \"0\" indicates a string of Hash.length bytes set to zero.","","             0","             |","             v","   PSK ->  HKDF-Extract = Early Secret","             |","             +-----> Derive-Secret(., \"ext binder\" | \"res binder\", \"\")","             |                     = binder_key","             |","             +-----> Derive-Secret(., \"c e traffic\", ClientHello)","             |                     = client_early_traffic_secret","             |","             +-----> Derive-Secret(., \"e exp master\", ClientHello)","             |                     = early_exporter_master_secret","             v","       Derive-Secret(., \"derived\", \"\")","             |","             v","   (EC)DHE -> HKDF-Extract = Handshake Secret","             |","             +-----> Derive-Secret(., \"c hs traffic\",","             |                     ClientHello...ServerHello)","             |                     = client_handshake_traffic_secret","             |","             +-----> Derive-Secret(., \"s hs traffic\",","             |                     ClientHello...ServerHello)","             |                     = server_handshake_traffic_secret","             v","       Derive-Secret(., \"derived\", \"\")","             |","             v","   0 -> HKDF-Extract = Master Secret","             |","             +-----> Derive-Secret(., \"c ap traffic\",","             |                     ClientHello...server Finished)","             |                     = client_application_traffic_secret_0","             |","             +-----> Derive-Secret(., \"s ap traffic\",","             |                     ClientHello...server Finished)","             |                     = server_application_traffic_secret_0","             |","             +-----> Derive-Secret(., \"exp master\",","             |                     ClientHello...server Finished)","             |                     = exporter_master_secret","             |","             +-----> Derive-Secret(., \"res master\",","                                   ClientHello...client Finished)","                                   = resumption_master_secret","","   The general pattern here is that the secrets shown down the left side","   of the diagram are just raw entropy without context, whereas the","   secrets down the right side include Handshake Context and therefore","   can be used to derive working keys without additional context.  Note","   that the different calls to Derive-Secret may take different Messages","   arguments, even with the same secret.  In a 0-RTT exchange,","   Derive-Secret is called with four distinct transcripts; in a","   1-RTT-only exchange, it is called with three distinct transcripts.","","   If a given secret is not available, then the 0-value consisting of a","   string of Hash.length bytes set to zeros is used.  Note that this","   does not mean skipping rounds, so if PSK is not in use, Early Secret","   will still be HKDF-Extract(0, 0).  For the computation of the","   binder_key, the label is \"ext binder\" for external PSKs (those","   provisioned outside of TLS) and \"res binder\" for resumption PSKs","   (those provisioned as the resumption master secret of a previous","   handshake).  The different labels prevent the substitution of one","   type of PSK for the other.","","   There are multiple potential Early Secret values, depending on which","   PSK the server ultimately selects.  The client will need to compute","   one for each potential PSK; if no PSK is selected, it will then need","   to compute the Early Secret corresponding to the zero PSK.","",[[[],0,"   "],[[788],160,"Once all the values which are to be derived from a given secret have"]],[[[],0,"   "],[[788],160,"been computed, that secret SHOULD be erased."]]],"requirements":[788]},{"id":"section-7.2","title":"Updating Traffic Secrets","lines":["   Once the handshake is complete, it is possible for either side to","   update its sending traffic keys using the KeyUpdate handshake message","   defined in Section 4.6.3.  The next generation of traffic keys is","   computed by generating client_/server_application_traffic_secret_N+1","   from client_/server_application_traffic_secret_N as described in this","   section and then re-deriving the traffic keys as described in","   Section 7.3.","","   The next-generation application_traffic_secret is computed as:","","       application_traffic_secret_N+1 =","           HKDF-Expand-Label(application_traffic_secret_N,","                             \"traffic upd\", \"\", Hash.length)","",[[[],0,"   "],[[789],160,"Once client_/server_application_traffic_secret_N+1 and its associated"]],[[[],0,"   "],[[789],160,"traffic keys have been computed, implementations SHOULD delete"]],[[[],0,"   "],[[789],160,"client_/server_application_traffic_secret_N and its associated"]],[[[],0,"   "],[[789],160,"traffic keys."]]],"requirements":[789]},{"id":"section-7.3","title":"Traffic Key Calculation","lines":["   The traffic keying material is generated from the following input","   values:","","   -  A secret value","","   -  A purpose value indicating the specific value being generated","","   -  The length of the key being generated","","   The traffic keying material is generated from an input traffic secret","   value using:","","   [sender]_write_key = HKDF-Expand-Label(Secret, \"key\", \"\", key_length)","   [sender]_write_iv  = HKDF-Expand-Label(Secret, \"iv\", \"\", iv_length)","","   [sender] denotes the sending side.  The value of Secret for each","   record type is shown in the table below.","","       +-------------------+---------------------------------------+","       | Record Type       | Secret                                |","       +-------------------+---------------------------------------+","       | 0-RTT Application | client_early_traffic_secret           |","       |                   |                                       |","       | Handshake         | [sender]_handshake_traffic_secret     |","       |                   |                                       |","       | Application Data  | [sender]_application_traffic_secret_N |","       +-------------------+---------------------------------------+","","   All the traffic keying material is recomputed whenever the underlying","   Secret changes (e.g., when changing from the handshake to Application","   Data keys or upon a key update)."]},{"id":"section-7.4","title":"(EC)DHE Shared Secret Calculation","lines":[]},{"id":"section-7.4.1","title":"Finite Field Diffie-Hellman","lines":["   For finite field groups, a conventional Diffie-Hellman [DH76]","   computation is performed.  The negotiated key (Z) is converted to a","   byte string by encoding in big-endian form and left-padded with zeros","   up to the size of the prime.  This byte string is used as the shared","   secret in the key schedule as specified above.","","   Note that this construction differs from previous versions of TLS","   which removed leading zeros."]},{"id":"section-7.4.2","title":"Elliptic Curve Diffie-Hellman","lines":["   For secp256r1, secp384r1, and secp521r1, ECDH calculations (including","   parameter and key generation as well as the shared secret","   calculation) are performed according to [IEEE1363] using the","   ECKAS-DH1 scheme with the identity map as the key derivation function","   (KDF), so that the shared secret is the x-coordinate of the ECDH","   shared secret elliptic curve point represented as an octet string.",[[[],0,"   "],[[790],224,"Note that this octet string (\"Z\" in IEEE 1363 terminology) as output"]],[[[],0,"   "],[[790],224,"by FE2OSP (the Field Element to Octet String Conversion Primitive)"]],[[[],0,"   "],[[790],224,"has constant length for any given field; leading zeros found in this"]],[[[],0,"   "],[[790],224,"octet string MUST NOT be truncated."]],"","   (Note that this use of the identity KDF is a technicality.  The","   complete picture is that ECDH is employed with a non-trivial KDF","   because TLS does not directly use this secret for anything other than","   for computing other secrets.)","","   For X25519 and X448, the ECDH calculations are as follows:","","   -  The public key to put into the KeyShareEntry.key_exchange","      structure is the result of applying the ECDH scalar multiplication","      function to the secret key of appropriate length (into scalar","      input) and the standard public basepoint (into u-coordinate point","      input).","","   -  The ECDH shared secret is the result of applying the ECDH scalar","      multiplication function to the secret key (into scalar input) and","      the peer's public key (into u-coordinate point input).  The output","      is used raw, with no processing.","",[[[],0,"   "],[[791],160,"For these curves, implementations SHOULD use the approach specified"]],[[[],0,"   "],[[791],160,"in [RFC7748] to calculate the Diffie-Hellman shared secret."]],[[[],0,"   "],[[792],224,"Implementations MUST check whether the computed Diffie-Hellman shared"]],[[[],0,"   "],[[792],224,"secret is the all-zero value and abort if so, as described in"]],[[[],0,"   "],[[792],224,"Section 6 of [RFC7748]."],[[],0,"  "],[[793],160,"If implementors use an alternative"]],[[[],0,"   "],[[793],160,"implementation of these elliptic curves, they SHOULD perform the"]],[[[],0,"   "],[[793],160,"additional checks specified in Section 7 of [RFC7748]."]]],"requirements":[790,791,792,793]},{"id":"section-7.5","title":"Exporters","lines":["   [RFC5705] defines keying material exporters for TLS in terms of the","   TLS pseudorandom function (PRF).  This document replaces the PRF with","   HKDF, thus requiring a new construction.  The exporter interface","   remains the same.","","   The exporter value is computed as:","","   TLS-Exporter(label, context_value, key_length) =","       HKDF-Expand-Label(Derive-Secret(Secret, label, \"\"),","                         \"exporter\", Hash(context_value), key_length)","","   Where Secret is either the early_exporter_master_secret or the",[[[],0,"   exporter_master_secret.  "],[[794],224,"Implementations MUST use the"]],[[[],0,"   "],[[794],224,"exporter_master_secret unless explicitly specified by the"]],[[[],0,"   "],[[794],224,"application."],[[],0,"  The early_exporter_master_secret is defined for use in"]],[[[],0,"   settings where an exporter is needed for 0-RTT data.  "],[[795],160,"A separate"]],[[[],0,"   "],[[795],160,"interface for the early exporter is RECOMMENDED; this avoids the"]],[[[],0,"   "],[[795],160,"exporter user accidentally using an early exporter when a regular one"]],[[[],0,"   "],[[795],160,"is desired or vice versa."]],"","   If no context is provided, the context_value is zero length.","   Consequently, providing no context computes the same value as","   providing an empty context.  This is a change from previous versions","   of TLS where an empty context produced a different output than an","   absent context.  As of this document's publication, no allocated",[[[],0,"   exporter label is used both with and without a context.  "],[[796],224,"Future"]],[[[],0,"   "],[[796],224,"specifications MUST NOT define a use of exporters that permit both an"]],[[[],0,"   "],[[796],224,"empty context and no context with the same label."],[[],0,"  "],[[797],160,"New uses of"]],[[[],0,"   "],[[797],160,"exporters SHOULD provide a context in all exporter computations,"]],[[[],0,"   "],[[797],160,"though the value could be empty."]],"","   Requirements for the format of exporter labels are defined in","   Section 4 of [RFC5705]."],"requirements":[794,795,796,797]},{"id":"section-8","title":"0-RTT and Anti-Replay","lines":["   As noted in Section 2.3 and Appendix E.5, TLS does not provide","   inherent replay protections for 0-RTT data.  There are two potential","   threats to be concerned with:","","   -  Network attackers who mount a replay attack by simply duplicating","      a flight of 0-RTT data.","","   -  Network attackers who take advantage of client retry behavior to","      arrange for the server to receive multiple copies of an","      application message.  This threat already exists to some extent","      because clients that value robustness respond to network errors by","      attempting to retry requests.  However, 0-RTT adds an additional","      dimension for any server system which does not maintain globally","      consistent server state.  Specifically, if a server system has","      multiple zones where tickets from zone A will not be accepted in","      zone B, then an attacker can duplicate a ClientHello and early","      data intended for A to both A and B.  At A, the data will be","      accepted in 0-RTT, but at B the server will reject 0-RTT data and","      instead force a full handshake.  If the attacker blocks the","      ServerHello from A, then the client will complete the handshake","      with B and probably retry the request, leading to duplication on","      the server system as a whole.","","   The first class of attack can be prevented by sharing state to",[[[],0,"   guarantee that the 0-RTT data is accepted at most once.  "],[[802],160,"Servers"]],[[[],0,"   "],[[802],160,"SHOULD provide that level of replay safety by implementing one of the"]],[[[],0,"   "],[[802],160,"methods described in this section or by equivalent means."],[[],0,"  It is"]],"   understood, however, that due to operational concerns not all",[[[],0,"   deployments will maintain state at that level.  "],[[803],224,"Therefore, in normal"]],[[[],0,"   "],[[803],224,"operation, clients will not know which, if any, of these mechanisms"]],[[[],0,"   "],[[803],224,"servers actually implement and hence MUST only send early data which"]],[[[],0,"   "],[[803],224,"they deem safe to be replayed."]],"","   In addition to the direct effects of replays, there is a class of","   attacks where even operations normally considered idempotent could be","   exploited by a large number of replays (timing attacks, resource","   limit exhaustion and others, as described in Appendix E.5).  Those","   can be mitigated by ensuring that every 0-RTT payload can be replayed",[[[],0,"   only a limited number of times.  "],[[804],224,"The server MUST ensure that any"]],[[[],0,"   "],[[804],224,"instance of it (be it a machine, a thread, or any other entity within"]],[[[],0,"   "],[[804],224,"the relevant serving infrastructure) would accept 0-RTT for the same"]],[[[],0,"   "],[[804],224,"0-RTT handshake at most once; this limits the number of replays to"]],[[[],0,"   "],[[804],224,"the number of server instances in the deployment."],[[],0,"  Such a guarantee"]],"   can be accomplished by locally recording data from recently received","   ClientHellos and rejecting repeats, or by any other method that","",[[[],0,"   provides the same or a stronger guarantee.  "],[[805],160,"The \"at most once per"]],[[[],0,"   "],[[805],160,"server instance\" guarantee is a minimum requirement; servers SHOULD"]],[[[],0,"   "],[[805],160,"limit 0-RTT replays further when feasible."]],"",[[[],0,"   "],[[806],224,"The second class of attack cannot be prevented at the TLS layer and"]],[[[],0,"   "],[[806],224,"MUST be dealt with by any application."],[[],0,"  Note that any application"]],"   whose clients implement any kind of retry behavior already needs to","   implement some sort of anti-replay defense."],"requirements":[802,803,804,805,806]},{"id":"section-8.1","title":"Single-Use Tickets","lines":["   The simplest form of anti-replay defense is for the server to only","   allow each session ticket to be used once.  For instance, the server","   can maintain a database of all outstanding valid tickets, deleting","   each ticket from the database as it is used.  If an unknown ticket is","   provided, the server would then fall back to a full handshake.","","   If the tickets are not self-contained but rather are database keys,","   and the corresponding PSKs are deleted upon use, then connections","   established using PSKs enjoy forward secrecy.  This improves security","   for all 0-RTT data and PSK usage when PSK is used without (EC)DHE.","","   Because this mechanism requires sharing the session database between","   server nodes in environments with multiple distributed servers, it","   may be hard to achieve high rates of successful PSK 0-RTT connections","   when compared to self-encrypted tickets.  Unlike session databases,","   session tickets can successfully do PSK-based session establishment","   even without consistent storage, though when 0-RTT is allowed they","   still require consistent storage for anti-replay of 0-RTT data, as","   detailed in the following section."]},{"id":"section-8.2","title":"Client Hello Recording","lines":["   An alternative form of anti-replay is to record a unique value","   derived from the ClientHello (generally either the random value or","   the PSK binder) and reject duplicates.  Recording all ClientHellos","   causes state to grow without bound, but a server can instead record","   ClientHellos within a given time window and use the","   \"obfuscated_ticket_age\" to ensure that tickets aren't reused outside","   that window.","","   In order to implement this, when a ClientHello is received, the","   server first verifies the PSK binder as described in Section 4.2.11.","   It then computes the expected_arrival_time as described in the next","   section and rejects 0-RTT if it is outside the recording window,","   falling back to the 1-RTT handshake.","","   If the expected_arrival_time is in the window, then the server checks","   to see if it has recorded a matching ClientHello.  If one is found,","   it either aborts the handshake with an \"illegal_parameter\" alert or","   accepts the PSK but rejects 0-RTT.  If no matching ClientHello is","   found, then it accepts 0-RTT and then stores the ClientHello for as",[[[],0,"   long as the expected_arrival_time is inside the window.  "],[[798,799],224,"Servers MAY"]],[[[],0,"   "],[[798,799],224,"also implement data stores with false positives, such as Bloom"]],[[[],0,"   "],[[798,799],224,"filters, in which case they MUST respond to apparent replay by"]],[[[],0,"   "],[[798,799],224,"rejecting 0-RTT but MUST NOT abort the handshake."]],"",[[[],0,"   "],[[800],224,"The server MUST derive the storage key only from validated sections"]],[[[],0,"   "],[[800],224,"of the ClientHello."],[[],0,"  If the ClientHello contains multiple PSK"]],"   identities, then an attacker can create multiple ClientHellos with","   different binder values for the less-preferred identity on the","   assumption that the server will not verify it (as recommended by","   Section 4.2.11).  I.e., if the client sends PSKs A and B but the","   server prefers A, then the attacker can change the binder for B","   without affecting the binder for A.  If the binder for B is part of","   the storage key, then this ClientHello will not appear as a","   duplicate, which will cause the ClientHello to be accepted, and may","   cause side effects such as replay cache pollution, although any 0-RTT","   data will not be decryptable because it will use different keys.  If","   the validated binder or the ClientHello.random is used as the storage","   key, then this attack is not possible.","","   Because this mechanism does not require storing all outstanding","   tickets, it may be easier to implement in distributed systems with","   high rates of resumption and 0-RTT, at the cost of potentially weaker","   anti-replay defense because of the difficulty of reliably storing and","   retrieving the received ClientHello messages.  In many such systems,","   it is impractical to have globally consistent storage of all the","   received ClientHellos.  In this case, the best anti-replay protection","   is provided by having a single storage zone be authoritative for a","   given ticket and refusing 0-RTT for that ticket in any other zone.","   This approach prevents simple replay by the attacker because only one","   zone will accept 0-RTT data.  A weaker design is to implement","   separate storage for each zone but allow 0-RTT in any zone.  This","   approach limits the number of replays to once per zone.  Application","   message duplication of course remains possible with either design.","",[[[],0,"   "],[[801],160,"When implementations are freshly started, they SHOULD reject 0-RTT as"]],[[[],0,"   "],[[801],160,"long as any portion of their recording window overlaps the startup"]],[[[],0,"   "],[[801],160,"time."],[[],0,"  Otherwise, they run the risk of accepting replays which were"]],"   originally sent during that period.","","   Note: If the client's clock is running much faster than the server's,","   then a ClientHello may be received that is outside the window in the","   future, in which case it might be accepted for 1-RTT, causing a","   client retry, and then acceptable later for 0-RTT.  This is another","   variant of the second form of attack described in Section 8."],"requirements":[798,799,800,801]},{"id":"section-8.3","title":"Freshness Checks","lines":["   Because the ClientHello indicates the time at which the client sent","   it, it is possible to efficiently determine whether a ClientHello was","   likely sent reasonably recently and only accept 0-RTT for such a","   ClientHello, otherwise falling back to a 1-RTT handshake.  This is","   necessary for the ClientHello storage mechanism described in","   Section 8.2 because otherwise the server needs to store an unlimited","   number of ClientHellos, and is a useful optimization for self-","   contained single-use tickets because it allows efficient rejection of","   ClientHellos which cannot be used for 0-RTT.","","   In order to implement this mechanism, a server needs to store the","   time that the server generated the session ticket, offset by an","   estimate of the round-trip time between client and server.  I.e.,","","       adjusted_creation_time = creation_time + estimated_RTT","","   This value can be encoded in the ticket, thus avoiding the need to","   keep state for each outstanding ticket.  The server can determine the","   client's view of the age of the ticket by subtracting the ticket's","   \"ticket_age_add\" value from the \"obfuscated_ticket_age\" parameter in","   the client's \"pre_shared_key\" extension.  The server can determine","   the expected_arrival_time of the ClientHello as:","","     expected_arrival_time = adjusted_creation_time + clients_ticket_age","","   When a new ClientHello is received, the expected_arrival_time is then","   compared against the current server wall clock time and if they","   differ by more than a certain amount, 0-RTT is rejected, though the","   1-RTT handshake can be allowed to complete.","","   There are several potential sources of error that might cause","   mismatches between the expected_arrival_time and the measured time.","   Variations in client and server clock rates are likely to be minimal,","   though potentially the absolute times may be off by large values.","   Network propagation delays are the most likely causes of a mismatch","   in legitimate values for elapsed time.  Both the NewSessionTicket and","   ClientHello messages might be retransmitted and therefore delayed,","   which might be hidden by TCP.  For clients on the Internet, this","   implies windows on the order of ten seconds to account for errors in","   clocks and variations in measurements; other deployment scenarios may","   have different needs.  Clock skew distributions are not symmetric, so","   the optimal tradeoff may involve an asymmetric range of permissible","   mismatch values.","","   Note that freshness checking alone is not sufficient to prevent","   replays because it does not detect them during the error window,","   which -- depending on bandwidth and system capacity -- could include","   billions of replays in real-world settings.  In addition, this","   freshness checking is only done at the time the ClientHello is","   received and not when subsequent early Application Data records are","   received.  After early data is accepted, records may continue to be","   streamed to the server over a longer time period."]},{"id":"section-9","title":"Compliance Requirements","lines":[]},{"id":"section-9.1","title":"Mandatory-to-Implement Cipher Suites","lines":["   In the absence of an application profile standard specifying","   otherwise:","",[[[],0,"   "],[[807],224,"A TLS-compliant application MUST implement the TLS_AES_128_GCM_SHA256"]],[[[],0,"   "],[[807],224,"[GCM] cipher suite and SHOULD implement the TLS_AES_256_GCM_SHA384"]],[[[],0,"   "],[[807],224,"[GCM] and TLS_CHACHA20_POLY1305_SHA256 [RFC8439] cipher suites (see"]],[[[],0,"   "],[[807],224,"Appendix B.4)."]],"",[[[],0,"   "],[[808],224,"A TLS-compliant application MUST support digital signatures with"]],[[[],0,"   "],[[808],224,"rsa_pkcs1_sha256 (for certificates), rsa_pss_rsae_sha256 (for"]],[[[],0,"   "],[[808],224,"CertificateVerify and certificates), and ecdsa_secp256r1_sha256."],[[],0,"  "],[[],0,"A"]],[[[],0,"   "],[[809],224,"TLS-compliant application MUST support key exchange with secp256r1"]],[[[],0,"   "],[[809],224,"(NIST P-256) and SHOULD support key exchange with X25519 [RFC7748]."]]],"requirements":[807,808,809]},{"id":"section-9.2","title":"Mandatory-to-Implement Extensions","lines":[[[[],0,"   "],[[810],224,"In the absence of an application profile standard specifying"]],[[[],0,"   "],[[810],224,"otherwise, a TLS-compliant application MUST implement the following"]],[[[],0,"   "],[[810],224,"TLS extensions:"]],"","   -  Supported Versions (\"supported_versions\"; Section 4.2.1)","","   -  Cookie (\"cookie\"; Section 4.2.2)","","   -  Signature Algorithms (\"signature_algorithms\"; Section 4.2.3)","","   -  Signature Algorithms Certificate (\"signature_algorithms_cert\";","      Section 4.2.3)","","   -  Negotiated Groups (\"supported_groups\"; Section 4.2.7)","","   -  Key Share (\"key_share\"; Section 4.2.8)","","   -  Server Name Indication (\"server_name\"; Section 3 of [RFC6066])","",[[[],0,"   "],[[811],224,"All implementations MUST send and use these extensions when offering"]],[[[],0,"   "],[[811],224,"applicable features:"]],"",[[[],0,"   "],[[812],224,"-  \"supported_versions\" is REQUIRED for all ClientHello, ServerHello,"]],[[[],0,"      "],[[812],224,"and HelloRetryRequest messages."]],"",[[[],0,"   "],[[813],224,"-  \"signature_algorithms\" is REQUIRED for certificate authentication."]],"",[[[],0,"   "],[[814],224,"-  \"supported_groups\" is REQUIRED for ClientHello messages using DHE"]],[[[],0,"      "],[[814],224,"or ECDHE key exchange."]],"",[[[],0,"   "],[[815],224,"-  \"key_share\" is REQUIRED for DHE or ECDHE key exchange."]],"",[[[],0,"   "],[[816],224,"-  \"pre_shared_key\" is REQUIRED for PSK key agreement."]],"",[[[],0,"   "],[[817],224,"-  \"psk_key_exchange_modes\" is REQUIRED for PSK key agreement."]],"","   A client is considered to be attempting to negotiate using this","   specification if the ClientHello contains a \"supported_versions\"",[[[],0,"   extension with 0x0304 contained in its body.  "],[[818],224,"Such a ClientHello"]],[[[],0,"   "],[[818],224,"message MUST meet the following requirements:"]],"",[[[],0,"   "],[[819],224,"-  If not containing a \"pre_shared_key\" extension, it MUST contain"]],[[[],0,"      "],[[819],224,"both a \"signature_algorithms\" extension and a \"supported_groups\""]],[[[],0,"      "],[[819],224,"extension."]],"",[[[],0,"   "],[[820],224,"-  If containing a \"supported_groups\" extension, it MUST also contain"]],[[[],0,"      "],[[820],224,"a \"key_share\" extension, and vice versa."],[[],0,"  An empty"]],"      KeyShare.client_shares vector is permitted.","",[[[],0,"   "],[[821],224,"Servers receiving a ClientHello which does not conform to these"]],[[[],0,"   "],[[821],224,"requirements MUST abort the handshake with a \"missing_extension\""]],[[[],0,"   "],[[821],224,"alert."]],"",[[[],0,"   "],[[822],224,"Additionally, all implementations MUST support the use of the"]],[[[],0,"   "],[[822],224,"\"server_name\" extension with applications capable of using it."]],[[[],0,"   "],[[823],96,"Servers MAY require clients to send a valid \"server_name\" extension."]],[[[],0,"   "],[[824],160,"Servers requiring this extension SHOULD respond to a ClientHello"]],[[[],0,"   "],[[824],160,"lacking a \"server_name\" extension by terminating the connection with"]],[[[],0,"   "],[[824],160,"a \"missing_extension\" alert."]]],"requirements":[810,811,812,813,814,815,816,817,818,819,820,821,822,823,824]},{"id":"section-9.3","title":"Protocol Invariants","lines":[[[[],0,"   "],[[825],224,"This section describes invariants that TLS endpoints and middleboxes"]],[[[],0,"   "],[[825],224,"MUST follow."],[[],0,"  It also applies to earlier versions of TLS."]],"","   TLS is designed to be securely and compatibly extensible.  Newer","   clients or servers, when communicating with newer peers, should","   negotiate the most preferred common parameters.  The TLS handshake","   provides downgrade protection: Middleboxes passing traffic between a","   newer client and newer server without terminating TLS should be",[[[],0,"   unable to influence the handshake (see Appendix E.1).  "],[[826],96,"At the same"]],[[[],0,"   "],[[826],96,"time, deployments update at different rates, so a newer client or"]],[[[],0,"   "],[[826],96,"server MAY continue to support older parameters, which would allow it"]],[[[],0,"   "],[[826],96,"to interoperate with older endpoints."]],"",[[[],0,"   "],[[827],224,"For this to work, implementations MUST correctly handle extensible"]],[[[],0,"   "],[[827],224,"fields:"]],"",[[[],0,"   "],[[828],224,"-  A client sending a ClientHello MUST support all parameters"]],[[[],0,"      "],[[828],224,"advertised in it."],[[],0,"  Otherwise, the server may fail to interoperate"]],"      by selecting one of those parameters.","",[[[],0,"   "],[[829],224,"-  A server receiving a ClientHello MUST correctly ignore all"]],[[[],0,"      "],[[829],224,"unrecognized cipher suites, extensions, and other parameters."]],[[[],0,"      Otherwise, it may fail to interoperate with newer clients.  "],[[830],224,"In"]],[[[],0,"      "],[[830],224,"TLS 1.3, a client receiving a CertificateRequest or"]],[[[],0,"      "],[[830],224,"NewSessionTicket MUST also ignore all unrecognized extensions."]],"",[[[],0,"   "],[[831],224,"-  A middlebox which terminates a TLS connection MUST behave as a"]],[[[],0,"      "],[[831],224,"compliant TLS server (to the original client), including having a"]],[[[],0,"      "],[[831],224,"certificate which the client is willing to accept, and also as a"]],[[[],0,"      "],[[831],224,"compliant TLS client (to the original server), including verifying"]],[[[],0,"      "],[[831],224,"the original server's certificate."],[[],0,"  "],[[832,833],224,"In particular, it MUST"]],[[[],0,"      "],[[832,833],224,"generate its own ClientHello containing only parameters it"]],[[[],0,"      "],[[832,833],224,"understands, and it MUST generate a fresh ServerHello random"]],[[[],0,"      "],[[832,833],224,"value, rather than forwarding the endpoint's value."]],"","      Note that TLS's protocol requirements and security analysis only","      apply to the two connections separately.  Safely deploying a TLS","      terminator requires additional security considerations which are","      beyond the scope of this document.","",[[[],0,"   "],[[834],224,"-  A middlebox which forwards ClientHello parameters it does not"]],[[[],0,"      "],[[834],224,"understand MUST NOT process any messages beyond that ClientHello."]],[[[],0,"      "],[[835],224,"It MUST forward all subsequent traffic unmodified."],[[],0,"  Otherwise, it"]],"      may fail to interoperate with newer clients and servers.","","      Forwarded ClientHellos may contain advertisements for features not","      supported by the middlebox, so the response may include future TLS",[[[],0,"      additions the middlebox does not recognize.  "],[[836],96,"These additions MAY"]],[[[],0,"      "],[[836],96,"change any message beyond the ClientHello arbitrarily."],[[],0,"  In"]],"      particular, the values sent in the ServerHello might change, the","      ServerHello format might change, and the TLSCiphertext format","      might change.","","   The design of TLS 1.3 was constrained by widely deployed","   non-compliant TLS middleboxes (see Appendix D.4); however, it does","   not relax the invariants.  Those middleboxes continue to be","   non-compliant."],"requirements":[825,826,827,828,829,830,831,832,833,834,835,836]},{"id":"section-10","title":"Security Considerations","lines":["   Security issues are discussed throughout this memo, especially in","   Appendices C, D, and E."]},{"id":"section-11","title":"IANA Considerations","lines":["   This document uses several registries that were originally created in","   [RFC4346] and updated in [RFC8447].  IANA has updated these to","   reference this document.  The registries and their allocation","   policies are below:","","   -  TLS Cipher Suites registry: values with the first byte in the","      range 0-254 (decimal) are assigned via Specification Required","      [RFC8126].  Values with the first byte 255 (decimal) are reserved","      for Private Use [RFC8126].","","      IANA has added the cipher suites listed in Appendix B.4 to the","      registry.  The \"Value\" and \"Description\" columns are taken from","      the table.  The \"DTLS-OK\" and \"Recommended\" columns are both","      marked as \"Y\" for each new cipher suite.","","   -  TLS ContentType registry: Future values are allocated via","      Standards Action [RFC8126].","","   -  TLS Alerts registry: Future values are allocated via Standards","      Action [RFC8126].  IANA has populated this registry with the","      values from Appendix B.2.  The \"DTLS-OK\" column is marked as \"Y\"","      for all such values.  Values marked as \"_RESERVED\" have comments","      describing their previous usage.","","   -  TLS HandshakeType registry: Future values are allocated via","      Standards Action [RFC8126].  IANA has updated this registry to","      rename item 4 from \"NewSessionTicket\" to \"new_session_ticket\" and","      populated this registry with the values from Appendix B.3.  The","      \"DTLS-OK\" column is marked as \"Y\" for all such values.  Values","      marked \"_RESERVED\" have comments describing their previous or","      temporary usage.","","   This document also uses the TLS ExtensionType Values registry","   originally created in [RFC4366].  IANA has updated it to reference","   this document.  Changes to the registry follow:","","   -  IANA has updated the registration policy as follows:","","      Values with the first byte in the range 0-254 (decimal) are","      assigned via Specification Required [RFC8126].  Values with the","      first byte 255 (decimal) are reserved for Private Use [RFC8126].","","   -  IANA has updated this registry to include the \"key_share\",","      \"pre_shared_key\", \"psk_key_exchange_modes\", \"early_data\",","      \"cookie\", \"supported_versions\", \"certificate_authorities\",","      \"oid_filters\", \"post_handshake_auth\", and","      \"signature_algorithms_cert\" extensions with the values defined in","      this document and the \"Recommended\" value of \"Y\".","","   -  IANA has updated this registry to include a \"TLS 1.3\" column which","      lists the messages in which the extension may appear.  This column","      has been initially populated from the table in Section 4.2, with","      any extension not listed there marked as \"-\" to indicate that it","      is not used by TLS 1.3.","","   This document updates an entry in the TLS Certificate Types registry","   originally created in [RFC6091] and updated in [RFC8447].  IANA has","   updated the entry for value 1 to have the name \"OpenPGP_RESERVED\",","   \"Recommended\" value \"N\", and comment \"Used in TLS versions prior","   to 1.3.\"","","   This document updates an entry in the TLS Certificate Status Types","   registry originally created in [RFC6961].  IANA has updated the entry","   for value 2 to have the name \"ocsp_multi_RESERVED\" and comment \"Used","   in TLS versions prior to 1.3\".","","   This document updates two entries in the TLS Supported Groups","   registry (created under a different name by [RFC4492]; now maintained","   by [RFC8422]) and updated by [RFC7919] and [RFC8447].  The entries","   for values 29 and 30 (x25519 and x448) have been updated to also","   refer to this document.","","   In addition, this document defines two new registries that are","   maintained by IANA:","","   -  TLS SignatureScheme registry: Values with the first byte in the","      range 0-253 (decimal) are assigned via Specification Required","      [RFC8126].  Values with the first byte 254 or 255 (decimal) are","      reserved for Private Use [RFC8126].  Values with the first byte in","      the range 0-6 or with the second byte in the range 0-3 that are","      not currently allocated are reserved for backward compatibility.","      This registry has a \"Recommended\" column.  The registry has been","      initially populated with the values described in Section 4.2.3.","      The following values are marked as \"Recommended\":","      ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384,","      rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512,","      rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, and","      ed25519.  The \"Recommended\" column is assigned a value of \"N\"","      unless explicitly requested, and adding a value with a","      \"Recommended\" value of \"Y\" requires Standards Action [RFC8126].",[[[],0,"      "],[[430,431],224,"IESG Approval is REQUIRED for a Y->N transition."]],"","   -  TLS PskKeyExchangeMode registry: Values in the range 0-253","      (decimal) are assigned via Specification Required [RFC8126].","      The values 254 and 255 (decimal) are reserved for Private Use","      [RFC8126].  This registry has a \"Recommended\" column.  The","      registry has been initially populated with psk_ke (0) and","      psk_dhe_ke (1).  Both are marked as \"Recommended\".  The","      \"Recommended\" column is assigned a value of \"N\" unless explicitly","      requested, and adding a value with a \"Recommended\" value of \"Y\"","      requires Standards Action [RFC8126].  IESG Approval is REQUIRED","      for a Y->N transition."],"requirements":[430,431]},{"id":"section-12","title":"References","lines":[]},{"id":"section-12.1","title":"Normative References","lines":["   [DH76]     Diffie, W. and M. Hellman, \"New directions in","              cryptography\", IEEE Transactions on Information","              Theory, Vol. 22 No. 6, pp. 644-654,","              DOI 10.1109/TIT.1976.1055638, November 1976.","","   [ECDSA]    American National Standards Institute, \"Public Key","              Cryptography for the Financial Services Industry: The","              Elliptic Curve Digital Signature Algorithm (ECDSA)\",","              ANSI ANS X9.62-2005, November 2005.","","   [GCM]      Dworkin, M., \"Recommendation for Block Cipher Modes of","              Operation: Galois/Counter Mode (GCM) and GMAC\",","              NIST Special Publication 800-38D,","              DOI 10.6028/NIST.SP.800-38D, November 2007.","","   [RFC2104]  Krawczyk, H., Bellare, M., and R. Canetti, \"HMAC: Keyed-","              Hashing for Message Authentication\", RFC 2104,","              DOI 10.17487/RFC2104, February 1997,","              <https://www.rfc-editor.org/info/rfc2104>.","","   [RFC2119]  Bradner, S., \"Key words for use in RFCs to Indicate","              Requirement Levels\", BCP 14, RFC 2119,","              DOI 10.17487/RFC2119, March 1997,","              <https://www.rfc-editor.org/info/rfc2119>.","","   [RFC5116]  McGrew, D., \"An Interface and Algorithms for Authenticated","              Encryption\", RFC 5116, DOI 10.17487/RFC5116, January 2008,","              <https://www.rfc-editor.org/info/rfc5116>.","","   [RFC5280]  Cooper, D., Santesson, S., Farrell, S., Boeyen, S.,","              Housley, R., and W. Polk, \"Internet X.509 Public Key","              Infrastructure Certificate and Certificate Revocation List","              (CRL) Profile\", RFC 5280, DOI 10.17487/RFC5280, May 2008,","              <https://www.rfc-editor.org/info/rfc5280>.","","   [RFC5705]  Rescorla, E., \"Keying Material Exporters for Transport","              Layer Security (TLS)\", RFC 5705, DOI 10.17487/RFC5705,","              March 2010, <https://www.rfc-editor.org/info/rfc5705>.","","   [RFC5756]  Turner, S., Brown, D., Yiu, K., Housley, R., and T. Polk,","              \"Updates for RSAES-OAEP and RSASSA-PSS Algorithm","              Parameters\", RFC 5756, DOI 10.17487/RFC5756, January 2010,","              <https://www.rfc-editor.org/info/rfc5756>.","","   [RFC5869]  Krawczyk, H. and P. Eronen, \"HMAC-based Extract-and-Expand","              Key Derivation Function (HKDF)\", RFC 5869,","              DOI 10.17487/RFC5869, May 2010,","              <https://www.rfc-editor.org/info/rfc5869>.","","   [RFC6066]  Eastlake 3rd, D., \"Transport Layer Security (TLS)","              Extensions: Extension Definitions\", RFC 6066,","              DOI 10.17487/RFC6066, January 2011,","              <https://www.rfc-editor.org/info/rfc6066>.","","   [RFC6655]  McGrew, D. and D. Bailey, \"AES-CCM Cipher Suites for","              Transport Layer Security (TLS)\", RFC 6655,","              DOI 10.17487/RFC6655, July 2012,","              <https://www.rfc-editor.org/info/rfc6655>.","","   [RFC6960]  Santesson, S., Myers, M., Ankney, R., Malpani, A.,","              Galperin, S., and C. Adams, \"X.509 Internet Public Key","              Infrastructure Online Certificate Status Protocol - OCSP\",","              RFC 6960, DOI 10.17487/RFC6960, June 2013,","              <https://www.rfc-editor.org/info/rfc6960>.","","   [RFC6961]  Pettersen, Y., \"The Transport Layer Security (TLS)","              Multiple Certificate Status Request Extension\", RFC 6961,","              DOI 10.17487/RFC6961, June 2013,","              <https://www.rfc-editor.org/info/rfc6961>.","","   [RFC6962]  Laurie, B., Langley, A., and E. Kasper, \"Certificate","              Transparency\", RFC 6962, DOI 10.17487/RFC6962, June 2013,","              <https://www.rfc-editor.org/info/rfc6962>.","","   [RFC6979]  Pornin, T., \"Deterministic Usage of the Digital Signature","              Algorithm (DSA) and Elliptic Curve Digital Signature","              Algorithm (ECDSA)\", RFC 6979, DOI 10.17487/RFC6979,","              August 2013, <https://www.rfc-editor.org/info/rfc6979>.","","   [RFC7301]  Friedl, S., Popov, A., Langley, A., and E. Stephan,","              \"Transport Layer Security (TLS) Application-Layer Protocol","              Negotiation Extension\", RFC 7301, DOI 10.17487/RFC7301,","              July 2014, <https://www.rfc-editor.org/info/rfc7301>.","","   [RFC7507]  Moeller, B. and A. Langley, \"TLS Fallback Signaling Cipher","              Suite Value (SCSV) for Preventing Protocol Downgrade","              Attacks\", RFC 7507, DOI 10.17487/RFC7507, April 2015,","              <https://www.rfc-editor.org/info/rfc7507>.","","   [RFC7748]  Langley, A., Hamburg, M., and S. Turner, \"Elliptic Curves","              for Security\", RFC 7748, DOI 10.17487/RFC7748,","              January 2016, <https://www.rfc-editor.org/info/rfc7748>.","","   [RFC7919]  Gillmor, D., \"Negotiated Finite Field Diffie-Hellman","              Ephemeral Parameters for Transport Layer Security (TLS)\",","              RFC 7919, DOI 10.17487/RFC7919, August 2016,","              <https://www.rfc-editor.org/info/rfc7919>.","","   [RFC8017]  Moriarty, K., Ed., Kaliski, B., Jonsson, J., and A. Rusch,","              \"PKCS #1: RSA Cryptography Specifications Version 2.2\",","              RFC 8017, DOI 10.17487/RFC8017, November 2016,","              <https://www.rfc-editor.org/info/rfc8017>.","","   [RFC8032]  Josefsson, S. and I. Liusvaara, \"Edwards-Curve Digital","              Signature Algorithm (EdDSA)\", RFC 8032,","              DOI 10.17487/RFC8032, January 2017,","              <https://www.rfc-editor.org/info/rfc8032>.","","   [RFC8126]  Cotton, M., Leiba, B., and T. Narten, \"Guidelines for","              Writing an IANA Considerations Section in RFCs\", BCP 26,","              RFC 8126, DOI 10.17487/RFC8126, June 2017,","              <https://www.rfc-editor.org/info/rfc8126>.","","   [RFC8174]  Leiba, B., \"Ambiguity of Uppercase vs Lowercase in","              RFC 2119 Key Words\", BCP 14, RFC 8174,","              DOI 10.17487/RFC8174, May 2017,","              <https://www.rfc-editor.org/info/rfc8174>.","","   [RFC8439]  Nir, Y. and A. Langley, \"ChaCha20 and Poly1305 for IETF","              Protocols\", RFC 8439, DOI 10.17487/RFC8439, June 2018,","              <https://www.rfc-editor.org/info/rfc8439>.","","   [SHS]      Dang, Q., \"Secure Hash Standard (SHS)\", National Institute","              of Standards and Technology report,","              DOI 10.6028/NIST.FIPS.180-4, August 2015.","","   [X690]     ITU-T, \"Information technology -- ASN.1 encoding rules:","              Specification of Basic Encoding Rules (BER), Canonical","              Encoding Rules (CER) and Distinguished Encoding Rules","              (DER)\", ISO/IEC 8825-1:2015, November 2015."]},{"id":"section-12.2","title":"Informative References","lines":["   [AEAD-LIMITS]","              Luykx, A. and K. Paterson, \"Limits on Authenticated","              Encryption Use in TLS\", August 2017,","              <http://www.isg.rhul.ac.uk/~kp/TLS-AEbounds.pdf>.","","   [BBFGKZ16]","              Bhargavan, K., Brzuska, C., Fournet, C., Green, M.,","              Kohlweiss, M., and S. Zanella-Beguelin, \"Downgrade","              Resilience in Key-Exchange Protocols\", Proceedings of IEEE","              Symposium on Security and Privacy (San Jose),","              DOI 10.1109/SP.2016.37, May 2016.","","   [BBK17]    Bhargavan, K., Blanchet, B., and N. Kobeissi, \"Verified","              Models and Reference Implementations for the TLS 1.3","              Standard Candidate\", Proceedings of IEEE Symposium on","              Security and Privacy (San Jose), DOI 10.1109/SP.2017.26,","              May 2017.","","   [BDFKPPRSZZ16]","              Bhargavan, K., Delignat-Lavaud, A., Fournet, C.,","              Kohlweiss, M., Pan, J., Protzenko, J., Rastogi, A., Swamy,","              N., Zanella-Beguelin, S., and J. Zinzindohoue,","              \"Implementing and Proving the TLS 1.3 Record Layer\",","              Proceedings of IEEE Symposium on Security and Privacy (San","              Jose), May 2017, <https://eprint.iacr.org/2016/1178>.","","   [Ben17a]   Benjamin, D., \"Presentation before the TLS WG at","              IETF 100\", November 2017,","              <https://datatracker.ietf.org/meeting/100/materials/","              slides-100-tls-sessa-tls13/>.","","   [Ben17b]   Benjamin, D., \"Additional TLS 1.3 results from Chrome\",","              message to the TLS mailing list, 18 December 2017,","              <https://www.ietf.org/mail-archive/web/tls/current/","              msg25168.html>.","","   [Blei98]   Bleichenbacher, D., \"Chosen Ciphertext Attacks against","              Protocols Based on RSA Encryption Standard PKCS #1\",","              Proceedings of CRYPTO '98, 1998.","","   [BMMRT15]  Badertscher, C., Matt, C., Maurer, U., Rogaway, P., and B.","              Tackmann, \"Augmented Secure Channels and the Goal of the","              TLS 1.3 Record Layer\", ProvSec 2015, September 2015,","              <https://eprint.iacr.org/2015/394>.","","   [BT16]     Bellare, M. and B. Tackmann, \"The Multi-User Security of","              Authenticated Encryption: AES-GCM in TLS 1.3\", Proceedings","              of CRYPTO 2016, July 2016,","              <https://eprint.iacr.org/2016/564>.","","   [CCG16]    Cohn-Gordon, K., Cremers, C., and L. Garratt, \"On","              Post-compromise Security\", IEEE Computer Security","              Foundations Symposium, DOI 10.1109/CSF.2016.19, July 2015.","","   [CHECKOWAY]","              Checkoway, S., Maskiewicz, J., Garman, C., Fried, J.,","              Cohney, S., Green, M., Heninger, N., Weinmann, R.,","              Rescorla, E., and H. Shacham, \"A Systematic Analysis of","              the Juniper Dual EC Incident\", Proceedings of the 2016 ACM","              SIGSAC Conference on Computer and Communications Security","              - CCS '16, DOI 10.1145/2976749.2978395, October 2016.","","   [CHHSV17]  Cremers, C., Horvat, M., Hoyland, J., Scott, S., and T.","              van der Merwe, \"Awkward Handshake: Possible mismatch of","              client/server view on client authentication in","              post-handshake mode in Revision 18\", message to the TLS","              mailing list, 10 February 2017, <https://www.ietf.org/","              mail-archive/web/tls/current/msg22382.html>.","","   [CHSV16]   Cremers, C., Horvat, M., Scott, S., and T. van der Merwe,","              \"Automated Analysis and Verification of TLS 1.3: 0-RTT,","              Resumption and Delayed Authentication\", Proceedings of","              IEEE Symposium on Security and Privacy (San Jose),","              DOI 10.1109/SP.2016.35, May 2016,","              <https://ieeexplore.ieee.org/document/7546518/>.","","   [CK01]     Canetti, R. and H. Krawczyk, \"Analysis of Key-Exchange","              Protocols and Their Use for Building Secure Channels\",","              Proceedings of Eurocrypt 2001,","              DOI 10.1007/3-540-44987-6_28, April 2001.","","   [CLINIC]   Miller, B., Huang, L., Joseph, A., and J. Tygar, \"I Know","              Why You Went to the Clinic: Risks and Realization of HTTPS","              Traffic Analysis\", Privacy Enhancing Technologies, pp.","              143-163, DOI 10.1007/978-3-319-08506-7_8, 2014.","","   [DFGS15]   Dowling, B., Fischlin, M., Guenther, F., and D. Stebila,","              \"A Cryptographic Analysis of the TLS 1.3 Handshake","              Protocol Candidates\", Proceedings of ACM CCS 2015,","              October 2015, <https://eprint.iacr.org/2015/914>.","","   [DFGS16]   Dowling, B., Fischlin, M., Guenther, F., and D. Stebila,","              \"A Cryptographic Analysis of the TLS 1.3 Full and","              Pre-shared Key Handshake Protocol\", TRON 2016,","              February 2016, <https://eprint.iacr.org/2016/081>.","","   [DOW92]    Diffie, W., van Oorschot, P., and M. Wiener,","              \"Authentication and authenticated key exchanges\", Designs,","              Codes and Cryptography, DOI 10.1007/BF00124891, June 1992.","","   [DSS]      National Institute of Standards and Technology, U.S.","              Department of Commerce, \"Digital Signature Standard","              (DSS)\", NIST FIPS PUB 186-4, DOI 10.6028/NIST.FIPS.186-4,","              July 2013.","","   [FG17]     Fischlin, M. and F. Guenther, \"Replay Attacks on Zero","              Round-Trip Time: The Case of the TLS 1.3 Handshake","              Candidates\", Proceedings of EuroS&P 2017, April 2017,","              <https://eprint.iacr.org/2017/082>.","","   [FGSW16]   Fischlin, M., Guenther, F., Schmidt, B., and B. Warinschi,","              \"Key Confirmation in Key Exchange: A Formal Treatment and","              Implications for TLS 1.3\", Proceedings of IEEE Symposium","              on Security and Privacy (San Jose),","              DOI 10.1109/SP.2016.34, May 2016,","              <https://ieeexplore.ieee.org/document/7546517/>.","","   [FW15]     Weimer, F., \"Factoring RSA Keys With TLS Perfect Forward","              Secrecy\", September 2015.","","   [HCJC16]   Husak, M., Cermak, M., Jirsik, T., and P. Celeda, \"HTTPS","              traffic analysis and client identification using passive","              SSL/TLS fingerprinting\", EURASIP Journal on Information","              Security, Vol. 2016, DOI 10.1186/s13635-016-0030-7,","              February 2016.","","   [HGFS15]   Hlauschek, C., Gruber, M., Fankhauser, F., and C. Schanes,","              \"Prying Open Pandora's Box: KCI Attacks against TLS\",","              Proceedings of USENIX Workshop on Offensive Technologies,","              August 2015.","","   [IEEE1363]","              IEEE, \"IEEE Standard Specifications for Public Key","              Cryptography\", IEEE Std. 1363-2000,","              DOI 10.1109/IEEESTD.2000.92292.","","   [JSS15]    Jager, T., Schwenk, J., and J. Somorovsky, \"On the","              Security of TLS 1.3 and QUIC Against Weaknesses in PKCS#1","              v1.5 Encryption\", Proceedings of ACM CCS 2015,","              DOI 10.1145/2810103.2813657, October 2015,","              <https://www.nds.rub.de/media/nds/","              veroeffentlichungen/2015/08/21/Tls13QuicAttacks.pdf>.","","   [KEYAGREEMENT]","              Barker, E., Chen, L., Roginsky, A., Vassilev, A., and R.","              Davis, \"Recommendation for Pair-Wise Key Establishment","              Schemes Using Discrete Logarithm Cryptography\", National","              Institute of Standards and Technology,","              DOI 10.6028/NIST.SP.800-56Ar3, April 2018.","","   [Kraw10]   Krawczyk, H., \"Cryptographic Extraction and Key","              Derivation: The HKDF Scheme\", Proceedings of CRYPTO 2010,","              August 2010, <https://eprint.iacr.org/2010/264>.","","   [Kraw16]   Krawczyk, H., \"A Unilateral-to-Mutual Authentication","              Compiler for Key Exchange (with Applications to Client","              Authentication in TLS 1.3\", Proceedings of ACM CCS 2016,","              October 2016, <https://eprint.iacr.org/2016/711>.","","   [KW16]     Krawczyk, H. and H. Wee, \"The OPTLS Protocol and TLS 1.3\",","              Proceedings of EuroS&P 2016, March 2016,","              <https://eprint.iacr.org/2015/978>.","","   [LXZFH16]  Li, X., Xu, J., Zhang, Z., Feng, D., and H. Hu, \"Multiple","              Handshakes Security of TLS 1.3 Candidates\", Proceedings of","              IEEE Symposium on Security and Privacy (San Jose),","              DOI 10.1109/SP.2016.36, May 2016,","              <https://ieeexplore.ieee.org/document/7546519/>.","","   [Mac17]    MacCarthaigh, C., \"Security Review of TLS1.3 0-RTT\",","              March 2017, <https://github.com/tlswg/tls13-spec/","              issues/1001>.","","   [PS18]     Patton, C. and T. Shrimpton, \"Partially specified","              channels: The TLS 1.3 record layer without elision\", 2018,","              <https://eprint.iacr.org/2018/634>.","","   [PSK-FINISHED]","              Scott, S., Cremers, C., Horvat, M., and T. van der Merwe,","              \"Revision 10: possible attack if client authentication is","              allowed during PSK\", message to the TLS mailing list,","              31 October 2015, <https://www.ietf.org/","              mail-archive/web/tls/current/msg18215.html>.","","   [REKEY]    Abdalla, M. and M. Bellare, \"Increasing the Lifetime of a","              Key: A Comparative Analysis of the Security of Re-keying","              Techniques\", ASIACRYPT 2000, DOI 10.1007/3-540-44448-3_42,","              October 2000.","","   [Res17a]   Rescorla, E., \"Preliminary data on Firefox TLS 1.3","              Middlebox experiment\", message to the TLS mailing list,","              5 December 2017, <https://www.ietf.org/","              mail-archive/web/tls/current/msg25091.html>.","","   [Res17b]   Rescorla, E., \"More compatibility measurement results\",","              message to the TLS mailing list, 22 December 2017,","              <https://www.ietf.org/mail-archive/web/tls/current/","              msg25179.html>.","","   [RFC3552]  Rescorla, E. and B. Korver, \"Guidelines for Writing RFC","              Text on Security Considerations\", BCP 72, RFC 3552,","              DOI 10.17487/RFC3552, July 2003,","              <https://www.rfc-editor.org/info/rfc3552>.","","   [RFC4086]  Eastlake 3rd, D., Schiller, J., and S. Crocker,","              \"Randomness Requirements for Security\", BCP 106, RFC 4086,","              DOI 10.17487/RFC4086, June 2005,","              <https://www.rfc-editor.org/info/rfc4086>.","","   [RFC4346]  Dierks, T. and E. Rescorla, \"The Transport Layer Security","              (TLS) Protocol Version 1.1\", RFC 4346,","              DOI 10.17487/RFC4346, April 2006,","              <https://www.rfc-editor.org/info/rfc4346>.","","   [RFC4366]  Blake-Wilson, S., Nystrom, M., Hopwood, D., Mikkelsen, J.,","              and T. Wright, \"Transport Layer Security (TLS)","              Extensions\", RFC 4366, DOI 10.17487/RFC4366, April 2006,","              <https://www.rfc-editor.org/info/rfc4366>.","","   [RFC4492]  Blake-Wilson, S., Bolyard, N., Gupta, V., Hawk, C., and B.","              Moeller, \"Elliptic Curve Cryptography (ECC) Cipher Suites","              for Transport Layer Security (TLS)\", RFC 4492,","              DOI 10.17487/RFC4492, May 2006,","              <https://www.rfc-editor.org/info/rfc4492>.","","   [RFC5077]  Salowey, J., Zhou, H., Eronen, P., and H. Tschofenig,","              \"Transport Layer Security (TLS) Session Resumption without","              Server-Side State\", RFC 5077, DOI 10.17487/RFC5077,","              January 2008, <https://www.rfc-editor.org/info/rfc5077>.","","   [RFC5246]  Dierks, T. and E. Rescorla, \"The Transport Layer Security","              (TLS) Protocol Version 1.2\", RFC 5246,","              DOI 10.17487/RFC5246, August 2008,","              <https://www.rfc-editor.org/info/rfc5246>.","","   [RFC5764]  McGrew, D. and E. Rescorla, \"Datagram Transport Layer","              Security (DTLS) Extension to Establish Keys for the Secure","              Real-time Transport Protocol (SRTP)\", RFC 5764,","              DOI 10.17487/RFC5764, May 2010,","              <https://www.rfc-editor.org/info/rfc5764>.","","   [RFC5929]  Altman, J., Williams, N., and L. Zhu, \"Channel Bindings","              for TLS\", RFC 5929, DOI 10.17487/RFC5929, July 2010,","              <https://www.rfc-editor.org/info/rfc5929>.","","   [RFC6091]  Mavrogiannopoulos, N. and D. Gillmor, \"Using OpenPGP Keys","              for Transport Layer Security (TLS) Authentication\",","              RFC 6091, DOI 10.17487/RFC6091, February 2011,","              <https://www.rfc-editor.org/info/rfc6091>.","","   [RFC6101]  Freier, A., Karlton, P., and P. Kocher, \"The Secure","              Sockets Layer (SSL) Protocol Version 3.0\", RFC 6101,","              DOI 10.17487/RFC6101, August 2011,","              <https://www.rfc-editor.org/info/rfc6101>.","","   [RFC6176]  Turner, S. and T. Polk, \"Prohibiting Secure Sockets Layer","              (SSL) Version 2.0\", RFC 6176, DOI 10.17487/RFC6176,","              March 2011, <https://www.rfc-editor.org/info/rfc6176>.","","   [RFC6347]  Rescorla, E. and N. Modadugu, \"Datagram Transport Layer","              Security Version 1.2\", RFC 6347, DOI 10.17487/RFC6347,","              January 2012, <https://www.rfc-editor.org/info/rfc6347>.","","   [RFC6520]  Seggelmann, R., Tuexen, M., and M. Williams, \"Transport","              Layer Security (TLS) and Datagram Transport Layer Security","              (DTLS) Heartbeat Extension\", RFC 6520,","              DOI 10.17487/RFC6520, February 2012,","              <https://www.rfc-editor.org/info/rfc6520>.","","   [RFC7230]  Fielding, R., Ed. and J. Reschke, Ed., \"Hypertext Transfer","              Protocol (HTTP/1.1): Message Syntax and Routing\",","              RFC 7230, DOI 10.17487/RFC7230, June 2014,","              <https://www.rfc-editor.org/info/rfc7230>.","","   [RFC7250]  Wouters, P., Ed., Tschofenig, H., Ed., Gilmore, J.,","              Weiler, S., and T. Kivinen, \"Using Raw Public Keys in","              Transport Layer Security (TLS) and Datagram Transport","              Layer Security (DTLS)\", RFC 7250, DOI 10.17487/RFC7250,","              June 2014, <https://www.rfc-editor.org/info/rfc7250>.","","   [RFC7465]  Popov, A., \"Prohibiting RC4 Cipher Suites\", RFC 7465,","              DOI 10.17487/RFC7465, February 2015,","              <https://www.rfc-editor.org/info/rfc7465>.","","   [RFC7568]  Barnes, R., Thomson, M., Pironti, A., and A. Langley,","              \"Deprecating Secure Sockets Layer Version 3.0\", RFC 7568,","              DOI 10.17487/RFC7568, June 2015,","              <https://www.rfc-editor.org/info/rfc7568>.","","   [RFC7627]  Bhargavan, K., Ed., Delignat-Lavaud, A., Pironti, A.,","              Langley, A., and M. Ray, \"Transport Layer Security (TLS)","              Session Hash and Extended Master Secret Extension\",","              RFC 7627, DOI 10.17487/RFC7627, September 2015,","              <https://www.rfc-editor.org/info/rfc7627>.","","   [RFC7685]  Langley, A., \"A Transport Layer Security (TLS) ClientHello","              Padding Extension\", RFC 7685, DOI 10.17487/RFC7685,","              October 2015, <https://www.rfc-editor.org/info/rfc7685>.","","   [RFC7924]  Santesson, S. and H. Tschofenig, \"Transport Layer Security","              (TLS) Cached Information Extension\", RFC 7924,","              DOI 10.17487/RFC7924, July 2016,","              <https://www.rfc-editor.org/info/rfc7924>.","","   [RFC8305]  Schinazi, D. and T. Pauly, \"Happy Eyeballs Version 2:","              Better Connectivity Using Concurrency\", RFC 8305,","              DOI 10.17487/RFC8305, December 2017,","              <https://www.rfc-editor.org/info/rfc8305>.","","   [RFC8422]  Nir, Y., Josefsson, S., and M. Pegourie-Gonnard, \"Elliptic","              Curve Cryptography (ECC) Cipher Suites for Transport Layer","              Security (TLS) Versions 1.2 and Earlier\", RFC 8422,","              DOI 10.17487/RFC8422, August 2018,","              <https://www.rfc-editor.org/info/rfc8422>.","","   [RFC8447]  Salowey, J. and S. Turner, \"IANA Registry Updates for TLS","              and DTLS\", RFC 8447, DOI 10.17487/RFC8447, August 2018,","              <https://www.rfc-editor.org/info/rfc8447>.","","   [RFC8449]  Thomson, M., \"Record Size Limit Extension for TLS\",","              RFC 8449, DOI 10.17487/RFC8449, August 2018,","              <https://www.rfc-editor.org/info/rfc8449>.","","   [RSA]      Rivest, R., Shamir, A., and L. Adleman, \"A Method for","              Obtaining Digital Signatures and Public-Key","              Cryptosystems\", Communications of the ACM, Vol. 21 No. 2,","              pp. 120-126, DOI 10.1145/359340.359342, February 1978.","","   [SIGMA]    Krawczyk, H., \"SIGMA: The 'SIGn-and-MAc' Approach to","              Authenticated Diffie-Hellman and its Use in the IKE","              Protocols\", Proceedings of CRYPTO 2003,","              DOI 10.1007/978-3-540-45146-4_24, August 2003.","","   [SLOTH]    Bhargavan, K. and G. Leurent, \"Transcript Collision","              Attacks: Breaking Authentication in TLS, IKE, and SSH\",","              Network and Distributed System Security","              Symposium (NDSS 2016), DOI 10.14722/ndss.2016.23418,","              February 2016.","","   [SSL2]     Hickman, K., \"The SSL Protocol\", February 1995.","","   [TIMING]   Boneh, D. and D. Brumley, \"Remote Timing Attacks Are","              Practical\", USENIX Security Symposium, August 2003.","","   [TLS13-TRACES]","              Thomson, M., \"Example Handshake Traces for TLS 1.3\", Work","              in Progress, draft-ietf-tls-tls13-vectors-06, July 2018.","","   [X501]     ITU-T, \"Information Technology - Open Systems","              Interconnection - The Directory: Models\", ITU-T X.501,","              October 2016, <https://www.itu.int/rec/T-REC-X.501/en>."]},{"id":"appendix-A","title":"State Machine","lines":["   This appendix provides a summary of the legal state transitions for","   the client and server handshakes.  State names (in all capitals,","   e.g., START) have no formal meaning but are provided for ease of","   comprehension.  Actions which are taken only in certain circumstances","   are indicated in [].  The notation \"K_{send,recv} = foo\" means \"set","   the send/recv key to the given key\"."]},{"id":"appendix-A.1","title":"Client","lines":["                              START <----+","               Send ClientHello |        | Recv HelloRetryRequest","          [K_send = early data] |        |","                                v        |","           /                 WAIT_SH ----+","           |                    | Recv ServerHello","           |                    | K_recv = handshake","       Can |                    V","      send |                 WAIT_EE","     early |                    | Recv EncryptedExtensions","      data |           +--------+--------+","           |     Using |                 | Using certificate","           |       PSK |                 v","           |           |            WAIT_CERT_CR","           |           |        Recv |       | Recv CertificateRequest","           |           | Certificate |       v","           |           |             |    WAIT_CERT","           |           |             |       | Recv Certificate","           |           |             v       v","           |           |              WAIT_CV","           |           |                 | Recv CertificateVerify","           |           +> WAIT_FINISHED <+","           |                  | Recv Finished","           \\                  | [Send EndOfEarlyData]","                              | K_send = handshake","                              | [Send Certificate [+ CertificateVerify]]","    Can send                  | Send Finished","    app data   -->            | K_send = K_recv = application","    after here                v","                          CONNECTED","","   Note that with the transitions as shown above, clients may send","   alerts that derive from post-ServerHello messages in the clear or",[[[],0,"   with the early data keys.  "],[[378],160,"If clients need to send such alerts, they"]],[[[],0,"   "],[[378],160,"SHOULD first rekey to the handshake keys if possible."]]],"requirements":[378]},{"id":"appendix-A.2","title":"Server","lines":["                              START <-----+","               Recv ClientHello |         | Send HelloRetryRequest","                                v         |","                             RECVD_CH ----+","                                | Select parameters","                                v","                             NEGOTIATED","                                | Send ServerHello","                                | K_send = handshake","                                | Send EncryptedExtensions","                                | [Send CertificateRequest]"," Can send                       | [Send Certificate + CertificateVerify]"," app data                       | Send Finished"," after   -->                    | K_send = application"," here                  +--------+--------+","              No 0-RTT |                 | 0-RTT","                       |                 |","   K_recv = handshake  |                 | K_recv = early data"," [Skip decrypt errors] |    +------> WAIT_EOED -+","                       |    |       Recv |      | Recv EndOfEarlyData","                       |    | early data |      | K_recv = handshake","                       |    +------------+      |","                       |                        |","                       +> WAIT_FLIGHT2 <--------+","                                |","                       +--------+--------+","               No auth |                 | Client auth","                       |                 |","                       |                 v","                       |             WAIT_CERT","                       |        Recv |       | Recv Certificate","                       |       empty |       v","                       | Certificate |    WAIT_CV","                       |             |       | Recv","                       |             v       | CertificateVerify","                       +-> WAIT_FINISHED <---+","                                | Recv Finished","                                | K_recv = application","                                v","                            CONNECTED"]},{"id":"appendix-B","title":"Protocol Data Structures and Constant Values","lines":["   This appendix provides the normative protocol types and the","   definitions for constants.  Values listed as \"_RESERVED\" were used in","   previous versions of TLS and are listed here for completeness.",[[[],0,"   "],[[380],224,"TLS 1.3 implementations MUST NOT send them but might receive them"]],[[[],0,"   "],[[380],224,"from older TLS implementations."]]],"requirements":[380]},{"id":"appendix-B.1","title":"Record Layer","lines":["      enum {","          invalid(0),","          change_cipher_spec(20),","          alert(21),","          handshake(22),","          application_data(23),","          heartbeat(24),  /* RFC 6520 */","          (255)","      } ContentType;","","      struct {","          ContentType type;","          ProtocolVersion legacy_record_version;","          uint16 length;","          opaque fragment[TLSPlaintext.length];","      } TLSPlaintext;","","      struct {","          opaque content[TLSPlaintext.length];","          ContentType type;","          uint8 zeros[length_of_padding];","      } TLSInnerPlaintext;","","      struct {","          ContentType opaque_type = application_data; /* 23 */","          ProtocolVersion legacy_record_version = 0x0303; /* TLS v1.2 */","          uint16 length;","          opaque encrypted_record[TLSCiphertext.length];","      } TLSCiphertext;"]},{"id":"appendix-B.2","title":"Alert Messages","lines":["      enum { warning(1), fatal(2), (255) } AlertLevel;","","      enum {","          close_notify(0),","          unexpected_message(10),","          bad_record_mac(20),","          decryption_failed_RESERVED(21),","          record_overflow(22),","          decompression_failure_RESERVED(30),","          handshake_failure(40),","          no_certificate_RESERVED(41),","          bad_certificate(42),","          unsupported_certificate(43),","          certificate_revoked(44),","          certificate_expired(45),","          certificate_unknown(46),","          illegal_parameter(47),","          unknown_ca(48),","          access_denied(49),","          decode_error(50),","          decrypt_error(51),","          export_restriction_RESERVED(60),","          protocol_version(70),","          insufficient_security(71),","          internal_error(80),","          inappropriate_fallback(86),","          user_canceled(90),","          no_renegotiation_RESERVED(100),","          missing_extension(109),","          unsupported_extension(110),","          certificate_unobtainable_RESERVED(111),","          unrecognized_name(112),","          bad_certificate_status_response(113),","          bad_certificate_hash_value_RESERVED(114),","          unknown_psk_identity(115),","          certificate_required(116),","          no_application_protocol(120),","          (255)","      } AlertDescription;","","      struct {","          AlertLevel level;","          AlertDescription description;","      } Alert;"]},{"id":"appendix-B.3","title":"Handshake Protocol","lines":["      enum {","          hello_request_RESERVED(0),","          client_hello(1),","          server_hello(2),","          hello_verify_request_RESERVED(3),","          new_session_ticket(4),","          end_of_early_data(5),","          hello_retry_request_RESERVED(6),","          encrypted_extensions(8),","          certificate(11),","          server_key_exchange_RESERVED(12),","          certificate_request(13),","          server_hello_done_RESERVED(14),","          certificate_verify(15),","          client_key_exchange_RESERVED(16),","          finished(20),","          certificate_url_RESERVED(21),","          certificate_status_RESERVED(22),","          supplemental_data_RESERVED(23),","          key_update(24),","          message_hash(254),","          (255)","      } HandshakeType;","","      struct {","          HandshakeType msg_type;    /* handshake type */","          uint24 length;             /* bytes in message */","          select (Handshake.msg_type) {","              case client_hello:          ClientHello;","              case server_hello:          ServerHello;","              case end_of_early_data:     EndOfEarlyData;","              case encrypted_extensions:  EncryptedExtensions;","              case certificate_request:   CertificateRequest;","              case certificate:           Certificate;","              case certificate_verify:    CertificateVerify;","              case finished:              Finished;","              case new_session_ticket:    NewSessionTicket;","              case key_update:            KeyUpdate;","          };","      } Handshake;"]},{"id":"appendix-B.3.1","title":"Key Exchange Messages","lines":["    uint16 ProtocolVersion;","    opaque Random[32];","","    uint8 CipherSuite[2];    /* Cryptographic suite selector */","","    struct {","        ProtocolVersion legacy_version = 0x0303;    /* TLS v1.2 */","        Random random;","        opaque legacy_session_id<0..32>;","        CipherSuite cipher_suites<2..2^16-2>;","        opaque legacy_compression_methods<1..2^8-1>;","        Extension extensions<8..2^16-1>;","    } ClientHello;","","    struct {","        ProtocolVersion legacy_version = 0x0303;    /* TLS v1.2 */","        Random random;","        opaque legacy_session_id_echo<0..32>;","        CipherSuite cipher_suite;","        uint8 legacy_compression_method = 0;","        Extension extensions<6..2^16-1>;","    } ServerHello;","","    struct {","        ExtensionType extension_type;","        opaque extension_data<0..2^16-1>;","    } Extension;","","    enum {","        server_name(0),                             /* RFC 6066 */","        max_fragment_length(1),                     /* RFC 6066 */","        status_request(5),                          /* RFC 6066 */","        supported_groups(10),                       /* RFC 8422, 7919 */","        signature_algorithms(13),                   /* RFC 8446 */","        use_srtp(14),                               /* RFC 5764 */","        heartbeat(15),                              /* RFC 6520 */","        application_layer_protocol_negotiation(16), /* RFC 7301 */","        signed_certificate_timestamp(18),           /* RFC 6962 */","        client_certificate_type(19),                /* RFC 7250 */","        server_certificate_type(20),                /* RFC 7250 */","        padding(21),                                /* RFC 7685 */","        RESERVED(40),                               /* Used but never","                                                       assigned */","        pre_shared_key(41),                         /* RFC 8446 */","        early_data(42),                             /* RFC 8446 */","        supported_versions(43),                     /* RFC 8446 */","        cookie(44),                                 /* RFC 8446 */","        psk_key_exchange_modes(45),                 /* RFC 8446 */","        RESERVED(46),                               /* Used but never","                                                       assigned */","        certificate_authorities(47),                /* RFC 8446 */","        oid_filters(48),                            /* RFC 8446 */","        post_handshake_auth(49),                    /* RFC 8446 */","        signature_algorithms_cert(50),              /* RFC 8446 */","        key_share(51),                              /* RFC 8446 */","        (65535)","    } ExtensionType;","","    struct {","        NamedGroup group;","        opaque key_exchange<1..2^16-1>;","    } KeyShareEntry;","","    struct {","        KeyShareEntry client_shares<0..2^16-1>;","    } KeyShareClientHello;","","    struct {","        NamedGroup selected_group;","    } KeyShareHelloRetryRequest;","","    struct {","        KeyShareEntry server_share;","    } KeyShareServerHello;","","    struct {","        uint8 legacy_form = 4;","        opaque X[coordinate_length];","        opaque Y[coordinate_length];","    } UncompressedPointRepresentation;","","    enum { psk_ke(0), psk_dhe_ke(1), (255) } PskKeyExchangeMode;","","    struct {","        PskKeyExchangeMode ke_modes<1..255>;","    } PskKeyExchangeModes;","","    struct {} Empty;","","    struct {","        select (Handshake.msg_type) {","            case new_session_ticket:   uint32 max_early_data_size;","            case client_hello:         Empty;","            case encrypted_extensions: Empty;","        };","    } EarlyDataIndication;","","    struct {","        opaque identity<1..2^16-1>;","        uint32 obfuscated_ticket_age;","    } PskIdentity;","","    opaque PskBinderEntry<32..255>;","","    struct {","        PskIdentity identities<7..2^16-1>;","        PskBinderEntry binders<33..2^16-1>;","    } OfferedPsks;","","    struct {","        select (Handshake.msg_type) {","            case client_hello: OfferedPsks;","            case server_hello: uint16 selected_identity;","        };","    } PreSharedKeyExtension;"]},{"id":"appendix-B.3.1.1","title":"Version Extension","lines":["      struct {","          select (Handshake.msg_type) {","              case client_hello:","                   ProtocolVersion versions<2..254>;","","              case server_hello: /* and HelloRetryRequest */","                   ProtocolVersion selected_version;","          };","      } SupportedVersions;"]},{"id":"appendix-B.3.1.2","title":"Cookie Extension","lines":["      struct {","          opaque cookie<1..2^16-1>;","      } Cookie;"]},{"id":"appendix-B.3.1.3","title":"Signature Algorithm Extension","lines":["      enum {","          /* RSASSA-PKCS1-v1_5 algorithms */","          rsa_pkcs1_sha256(0x0401),","          rsa_pkcs1_sha384(0x0501),","          rsa_pkcs1_sha512(0x0601),","","          /* ECDSA algorithms */","          ecdsa_secp256r1_sha256(0x0403),","          ecdsa_secp384r1_sha384(0x0503),","          ecdsa_secp521r1_sha512(0x0603),","","          /* RSASSA-PSS algorithms with public key OID rsaEncryption */","          rsa_pss_rsae_sha256(0x0804),","          rsa_pss_rsae_sha384(0x0805),","          rsa_pss_rsae_sha512(0x0806),","","          /* EdDSA algorithms */","          ed25519(0x0807),","          ed448(0x0808),","","          /* RSASSA-PSS algorithms with public key OID RSASSA-PSS */","          rsa_pss_pss_sha256(0x0809),","          rsa_pss_pss_sha384(0x080a),","          rsa_pss_pss_sha512(0x080b),","","          /* Legacy algorithms */","          rsa_pkcs1_sha1(0x0201),","          ecdsa_sha1(0x0203),","","          /* Reserved Code Points */","          obsolete_RESERVED(0x0000..0x0200),","          dsa_sha1_RESERVED(0x0202),","          obsolete_RESERVED(0x0204..0x0400),","          dsa_sha256_RESERVED(0x0402),","          obsolete_RESERVED(0x0404..0x0500),","          dsa_sha384_RESERVED(0x0502),","          obsolete_RESERVED(0x0504..0x0600),","          dsa_sha512_RESERVED(0x0602),","          obsolete_RESERVED(0x0604..0x06FF),","          private_use(0xFE00..0xFFFF),","          (0xFFFF)","      } SignatureScheme;","","      struct {","          SignatureScheme supported_signature_algorithms<2..2^16-2>;","      } SignatureSchemeList;"]},{"id":"appendix-B.3.1.4","title":"Supported Groups Extension","lines":["      enum {","          unallocated_RESERVED(0x0000),","","          /* Elliptic Curve Groups (ECDHE) */","          obsolete_RESERVED(0x0001..0x0016),","          secp256r1(0x0017), secp384r1(0x0018), secp521r1(0x0019),","          obsolete_RESERVED(0x001A..0x001C),","          x25519(0x001D), x448(0x001E),","","          /* Finite Field Groups (DHE) */","          ffdhe2048(0x0100), ffdhe3072(0x0101), ffdhe4096(0x0102),","          ffdhe6144(0x0103), ffdhe8192(0x0104),","","          /* Reserved Code Points */","          ffdhe_private_use(0x01FC..0x01FF),","          ecdhe_private_use(0xFE00..0xFEFF),","          obsolete_RESERVED(0xFF01..0xFF02),","          (0xFFFF)","      } NamedGroup;","","      struct {","          NamedGroup named_group_list<2..2^16-1>;","      } NamedGroupList;","",[[[],0,"   "],[[379],224,"Values within \"obsolete_RESERVED\" ranges are used in previous"]],[[[],0,"   "],[[379],224,"versions of TLS and MUST NOT be offered or negotiated by TLS 1.3"]],[[[],0,"   "],[[379],224,"implementations."],[[],0,"  The obsolete curves have various known/theoretical"]],"   weaknesses or have had very little usage, in some cases only due to","   unintentional server configuration issues.  They are no longer","   considered appropriate for general use and should be assumed to be","   potentially unsafe.  The set of curves specified here is sufficient","   for interoperability with all currently deployed and properly","   configured TLS implementations."],"requirements":[379]},{"id":"appendix-B.3.2","title":"Server Parameters Messages","lines":["      opaque DistinguishedName<1..2^16-1>;","","      struct {","          DistinguishedName authorities<3..2^16-1>;","      } CertificateAuthoritiesExtension;","","      struct {","          opaque certificate_extension_oid<1..2^8-1>;","          opaque certificate_extension_values<0..2^16-1>;","      } OIDFilter;","","      struct {","          OIDFilter filters<0..2^16-1>;","      } OIDFilterExtension;","","      struct {} PostHandshakeAuth;","","      struct {","          Extension extensions<0..2^16-1>;","      } EncryptedExtensions;","","      struct {","          opaque certificate_request_context<0..2^8-1>;","          Extension extensions<2..2^16-1>;","      } CertificateRequest;"]},{"id":"appendix-B.3.3","title":"Authentication Messages","lines":["      enum {","          X509(0),","          OpenPGP_RESERVED(1),","          RawPublicKey(2),","          (255)","      } CertificateType;","","      struct {","          select (certificate_type) {","              case RawPublicKey:","                /* From RFC 7250 ASN.1_subjectPublicKeyInfo */","                opaque ASN1_subjectPublicKeyInfo<1..2^24-1>;","","              case X509:","                opaque cert_data<1..2^24-1>;","          };","          Extension extensions<0..2^16-1>;","      } CertificateEntry;","","      struct {","          opaque certificate_request_context<0..2^8-1>;","          CertificateEntry certificate_list<0..2^24-1>;","      } Certificate;","","      struct {","          SignatureScheme algorithm;","          opaque signature<0..2^16-1>;","      } CertificateVerify;","","      struct {","          opaque verify_data[Hash.length];","      } Finished;"]},{"id":"appendix-B.3.4","title":"Ticket Establishment","lines":["      struct {","          uint32 ticket_lifetime;","          uint32 ticket_age_add;","          opaque ticket_nonce<0..255>;","          opaque ticket<1..2^16-1>;","          Extension extensions<0..2^16-2>;","      } NewSessionTicket;"]},{"id":"appendix-B.3.5","title":"Updating Keys","lines":["      struct {} EndOfEarlyData;","","      enum {","          update_not_requested(0), update_requested(1), (255)","      } KeyUpdateRequest;","","      struct {","          KeyUpdateRequest request_update;","      } KeyUpdate;"]},{"id":"appendix-B.4","title":"Cipher Suites","lines":["   A symmetric cipher suite defines the pair of the AEAD algorithm and","   hash algorithm to be used with HKDF.  Cipher suite names follow the","   naming convention:","","      CipherSuite TLS_AEAD_HASH = VALUE;","","      +-----------+------------------------------------------------+","      | Component | Contents                                       |","      +-----------+------------------------------------------------+","      | TLS       | The string \"TLS\"                               |","      |           |                                                |","      | AEAD      | The AEAD algorithm used for record protection  |","      |           |                                                |","      | HASH      | The hash algorithm used with HKDF              |","      |           |                                                |","      | VALUE     | The two-byte ID assigned for this cipher suite |","      +-----------+------------------------------------------------+","","   This specification defines the following cipher suites for use with","   TLS 1.3.","","              +------------------------------+-------------+","              | Description                  | Value       |","              +------------------------------+-------------+","              | TLS_AES_128_GCM_SHA256       | {0x13,0x01} |","              |                              |             |","              | TLS_AES_256_GCM_SHA384       | {0x13,0x02} |","              |                              |             |","              | TLS_CHACHA20_POLY1305_SHA256 | {0x13,0x03} |","              |                              |             |","              | TLS_AES_128_CCM_SHA256       | {0x13,0x04} |","              |                              |             |","              | TLS_AES_128_CCM_8_SHA256     | {0x13,0x05} |","              +------------------------------+-------------+","","   The corresponding AEAD algorithms AEAD_AES_128_GCM, AEAD_AES_256_GCM,","   and AEAD_AES_128_CCM are defined in [RFC5116].","   AEAD_CHACHA20_POLY1305 is defined in [RFC8439].  AEAD_AES_128_CCM_8","   is defined in [RFC6655].  The corresponding hash algorithms are","   defined in [SHS].","","   Although TLS 1.3 uses the same cipher suite space as previous","   versions of TLS, TLS 1.3 cipher suites are defined differently, only","   specifying the symmetric ciphers, and cannot be used for TLS 1.2.","   Similarly, cipher suites for TLS 1.2 and lower cannot be used with","   TLS 1.3.","","   New cipher suite values are assigned by IANA as described in","   Section 11."]},{"id":"appendix-C","title":"Implementation Notes","lines":["   The TLS protocol cannot prevent many common security mistakes.  This","   appendix provides several recommendations to assist implementors.","   [TLS13-TRACES] provides test vectors for TLS 1.3 handshakes."]},{"id":"appendix-C.1","title":"Random Number Generation and Seeding","lines":["   TLS requires a cryptographically secure pseudorandom number generator","   (CSPRNG).  In most cases, the operating system provides an","   appropriate facility such as /dev/urandom, which should be used",[[[],0,"   absent other (e.g., performance) concerns.  "],[[381],160,"It is RECOMMENDED to use"]],[[[],0,"   "],[[381],160,"an existing CSPRNG implementation in preference to crafting a new"]],[[[],0,"   "],[[381],160,"one."],[[],0,"  Many adequate cryptographic libraries are already available"]],"   under favorable license terms.  Should those prove unsatisfactory,","   [RFC4086] provides guidance on the generation of random values.","","   TLS uses random values (1) in public protocol fields such as the","   public Random values in the ClientHello and ServerHello and (2) to","   generate keying material.  With a properly functioning CSPRNG, this","   does not present a security problem, as it is not feasible to","   determine the CSPRNG state from its output.  However, with a broken","   CSPRNG, it may be possible for an attacker to use the public output","   to determine the CSPRNG internal state and thereby predict the keying","   material, as documented in [CHECKOWAY].  Implementations can provide","   extra security against this form of attack by using separate CSPRNGs","   to generate public and private values."],"requirements":[381]},{"id":"appendix-C.2","title":"Certificates and Authentication","lines":["   Implementations are responsible for verifying the integrity of","   certificates and should generally support certificate revocation","   messages.  Absent a specific indication from an application profile,","   certificates should always be verified to ensure proper signing by a","   trusted certificate authority (CA).  The selection and addition of","   trust anchors should be done very carefully.  Users should be able to","   view information about the certificate and trust anchor.",[[[],0,"   "],[[382],160,"Applications SHOULD also enforce minimum and maximum key sizes."],[[],0,"  For"]],"   example, certification paths containing keys or signatures weaker","   than 2048-bit RSA or 224-bit ECDSA are not appropriate for secure","   applications."],"requirements":[382]},{"id":"appendix-C.3","title":"Implementation Pitfalls","lines":["   Implementation experience has shown that certain parts of earlier TLS","   specifications are not easy to understand and have been a source of","   interoperability and security problems.  Many of these areas have","   been clarified in this document, but this appendix contains a short","   list of the most important things that require special attention from","   implementors.","","   TLS protocol issues:","","   -  Do you correctly handle handshake messages that are fragmented to","      multiple TLS records (see Section 5.1)?  Do you correctly handle","      corner cases like a ClientHello that is split into several small","      fragments?  Do you fragment handshake messages that exceed the","      maximum fragment size?  In particular, the Certificate and","      CertificateRequest handshake messages can be large enough to","      require fragmentation.","","   -  Do you ignore the TLS record layer version number in all","      unencrypted TLS records (see Appendix D)?","","   -  Have you ensured that all support for SSL, RC4, EXPORT ciphers,","      and MD5 (via the \"signature_algorithms\" extension) is completely","      removed from all possible configurations that support TLS 1.3 or","      later, and that attempts to use these obsolete capabilities fail","      correctly (see Appendix D)?","","   -  Do you handle TLS extensions in ClientHellos correctly, including","      unknown extensions?","","   -  When the server has requested a client certificate but no suitable","      certificate is available, do you correctly send an empty","      Certificate message, instead of omitting the whole message (see","      Section 4.4.2)?","","   -  When processing the plaintext fragment produced by AEAD-Decrypt","      and scanning from the end for the ContentType, do you avoid","      scanning past the start of the cleartext in the event that the","      peer has sent a malformed plaintext of all zeros?","","   -  Do you properly ignore unrecognized cipher suites (Section 4.1.2),","      hello extensions (Section 4.2), named groups (Section 4.2.7), key","      shares (Section 4.2.8), supported versions (Section 4.2.1), and","      signature algorithms (Section 4.2.3) in the ClientHello?","","   -  As a server, do you send a HelloRetryRequest to clients which","      support a compatible (EC)DHE group but do not predict it in the","      \"key_share\" extension?  As a client, do you correctly handle a","      HelloRetryRequest from the server?","","   Cryptographic details:","","   -  What countermeasures do you use to prevent timing attacks","      [TIMING]?","","   -  When using Diffie-Hellman key exchange, do you correctly preserve","      leading zero bytes in the negotiated key (see Section 7.4.1)?","","   -  Does your TLS client check that the Diffie-Hellman parameters sent","      by the server are acceptable (see Section 4.2.8.1)?","",[[[],0,"   "],[[383],160,"-  Do you use a strong and, most importantly, properly seeded random"]],[[[],0,"      "],[[383],160,"number generator (see Appendix C.1) when generating Diffie-Hellman"]],[[[],0,"      "],[[383],160,"private values, the ECDSA \"k\" parameter, and other security-"]],[[[],0,"      "],[[383],160,"critical values?  It is RECOMMENDED that implementations implement"]],[[[],0,"      "],[[383],160,"\"deterministic ECDSA\" as specified in [RFC6979]."]],"","   -  Do you zero-pad Diffie-Hellman public key values and shared","      secrets to the group size (see Section 4.2.8.1 and Section 7.4.1)?","","   -  Do you verify signatures after making them, to protect against","      RSA-CRT key leaks [FW15]?"],"requirements":[383]},{"id":"appendix-C.4","title":"Client Tracking Prevention","lines":[[[[],0,"   "],[[384],160,"Clients SHOULD NOT reuse a ticket for multiple connections."],[[],0,"  Reuse of"]],"   a ticket allows passive observers to correlate different connections.",[[[],0,"   "],[[385],160,"Servers that issue tickets SHOULD offer at least as many tickets as"]],[[[],0,"   "],[[385],160,"the number of connections that a client might use; for example, a web"]],[[[],0,"   "],[[385],160,"browser using HTTP/1.1 [RFC7230] might open six connections to a"]],[[[],0,"   "],[[385],160,"server."],[[],0,"  "],[[386],160,"Servers SHOULD issue new tickets with every connection."]],"   This ensures that clients are always able to use a new ticket when","   creating a new connection."],"requirements":[384,385,386]},{"id":"appendix-C.5","title":"Unauthenticated Operation","lines":["   Previous versions of TLS offered explicitly unauthenticated cipher","   suites based on anonymous Diffie-Hellman.  These modes have been","   deprecated in TLS 1.3.  However, it is still possible to negotiate","   parameters that do not provide verifiable server authentication by","   several methods, including:","","   -  Raw public keys [RFC7250].","","   -  Using a public key contained in a certificate but without","      validation of the certificate chain or any of its contents.","","   Either technique used alone is vulnerable to man-in-the-middle","   attacks and therefore unsafe for general use.  However, it is also","   possible to bind such connections to an external authentication","   mechanism via out-of-band validation of the server's public key,","   trust on first use, or a mechanism such as channel bindings (though","   the channel bindings described in [RFC5929] are not defined for",[[[],0,"   TLS 1.3).  "],[[387],224,"If no such mechanism is used, then the connection has no"]],[[[],0,"   "],[[387],224,"protection against active man-in-the-middle attack; applications"]],[[[],0,"   "],[[387],224,"MUST NOT use TLS in such a way absent explicit configuration or a"]],[[[],0,"   "],[[387],224,"specific application profile."]]],"requirements":[387]},{"id":"appendix-D","title":"Backward Compatibility","lines":["   The TLS protocol provides a built-in mechanism for version","   negotiation between endpoints potentially supporting different","   versions of TLS.","","   TLS 1.x and SSL 3.0 use compatible ClientHello messages.  Servers can","   also handle clients trying to use future versions of TLS as long as","   the ClientHello format remains compatible and there is at least one","   protocol version supported by both the client and the server.","","   Prior versions of TLS used the record layer version number","   (TLSPlaintext.legacy_record_version and","   TLSCiphertext.legacy_record_version) for various purposes.  As of",[[[],0,"   TLS 1.3, this field is deprecated.  "],[[413],224,"The value of"]],[[[],0,"   "],[[413],224,"TLSPlaintext.legacy_record_version MUST be ignored by all"]],[[[],0,"   "],[[413],224,"implementations."],[[],0,"  "],[[414,415],96,"The value of TLSCiphertext.legacy_record_version is"]],[[[],0,"   "],[[414,415],96,"included in the additional data for deprotection but MAY otherwise be"]],[[[],0,"   "],[[414,415],96,"ignored or MAY be validated to match the fixed constant value."]],"   Version negotiation is performed using only the handshake versions","   (ClientHello.legacy_version and ServerHello.legacy_version, as well","   as the ClientHello, HelloRetryRequest, and ServerHello",[[[],0,"   \"supported_versions\" extensions).  "],[[416],160,"In order to maximize"]],[[[],0,"   "],[[416],160,"interoperability with older endpoints, implementations that negotiate"]],[[[],0,"   "],[[416],160,"the use of TLS 1.0-1.2 SHOULD set the record layer version number to"]],[[[],0,"   "],[[416],160,"the negotiated version for the ServerHello and all records"]],[[[],0,"   "],[[416],160,"thereafter."]],"",[[[],0,"   "],[[417],160,"For maximum compatibility with previously non-standard behavior and"]],[[[],0,"   "],[[417],160,"misconfigured deployments, all implementations SHOULD support"]],[[[],0,"   "],[[417],160,"validation of certification paths based on the expectations in this"]],[[[],0,"   "],[[417],160,"document, even when handling prior TLS versions' handshakes (see"]],[[[],0,"   "],[[417],160,"Section 4.4.2.2)."]],"","   TLS 1.2 and prior supported an \"Extended Master Secret\" [RFC7627]","   extension which digested large parts of the handshake transcript into",[[[],0,"   the master secret.  "],[[418],160,"Because TLS 1.3 always hashes in the transcript"]],[[[],0,"   "],[[418],160,"up to the server Finished, implementations which support both TLS 1.3"]],[[[],0,"   "],[[418],160,"and earlier versions SHOULD indicate the use of the Extended Master"]],[[[],0,"   "],[[418],160,"Secret extension in their APIs whenever TLS 1.3 is used."]]],"requirements":[413,414,415,416,417,418]},{"id":"appendix-D.1","title":"Negotiating with an Older Server","lines":["   A TLS 1.3 client who wishes to negotiate with servers that do not","   support TLS 1.3 will send a normal TLS 1.3 ClientHello containing","   0x0303 (TLS 1.2) in ClientHello.legacy_version but with the correct","   version(s) in the \"supported_versions\" extension.  If the server does","   not support TLS 1.3, it will respond with a ServerHello containing an","   older version number.  If the client agrees to use this version, the","   negotiation will proceed as appropriate for the negotiated protocol.",[[[],0,"   "],[[388],160,"A client using a ticket for resumption SHOULD initiate the connection"]],[[[],0,"   "],[[388],160,"using the version that was previously negotiated."]],"",[[[],0,"   "],[[389],160,"Note that 0-RTT data is not compatible with older servers and"]],[[[],0,"   "],[[389],160,"SHOULD NOT be sent absent knowledge that the server supports TLS 1.3."]],"   See Appendix D.3.","",[[[],0,"   "],[[390],224,"If the version chosen by the server is not supported by the client"]],[[[],0,"   "],[[390],224,"(or is not acceptable), the client MUST abort the handshake with a"]],[[[],0,"   "],[[390],224,"\"protocol_version\" alert."]],"","   Some legacy server implementations are known to not implement the TLS","   specification properly and might abort connections upon encountering","   TLS extensions or versions which they are not aware of.","   Interoperability with buggy servers is a complex topic beyond the",[[[],0,"   scope of this document.  "],[[391],160,"Multiple connection attempts may be required"]],[[[],0,"   "],[[391],160,"in order to negotiate a backward-compatible connection; however, this"]],[[[],0,"   "],[[391],160,"practice is vulnerable to downgrade attacks and is NOT RECOMMENDED."]]],"requirements":[388,389,390,391]},{"id":"appendix-D.2","title":"Negotiating with an Older Client","lines":["   A TLS server can also receive a ClientHello indicating a version",[[[],0,"   number smaller than its highest supported version.  "],[[392],224,"If the"]],[[[],0,"   "],[[392],224,"\"supported_versions\" extension is present, the server MUST negotiate"]],[[[],0,"   "],[[392],224,"using that extension as described in Section 4.2.1."],[[],0,"  "],[[393],224,"If the"]],[[[],0,"   "],[[393],224,"\"supported_versions\" extension is not present, the server MUST"]],[[[],0,"   "],[[393],224,"negotiate the minimum of ClientHello.legacy_version and TLS 1.2."],[[],0,"  For"]],"   example, if the server supports TLS 1.0, 1.1, and 1.2, and","   legacy_version is TLS 1.0, the server will proceed with a TLS 1.0",[[[],0,"   ServerHello.  "],[[394],224,"If the \"supported_versions\" extension is absent and the"]],[[[],0,"   "],[[394],224,"server only supports versions greater than"]],[[[],0,"   "],[[394],224,"ClientHello.legacy_version, the server MUST abort the handshake with"]],[[[],0,"   "],[[394],224,"a \"protocol_version\" alert."]],"","   Note that earlier versions of TLS did not clearly specify the record","   layer version number value in all cases",[[[],0,"   (TLSPlaintext.legacy_record_version).  "],[[395],224,"Servers will receive various"]],[[[],0,"   "],[[395],224,"TLS 1.x versions in this field, but its value MUST always be ignored."]]],"requirements":[392,393,394,395]},{"id":"appendix-D.3","title":"0-RTT Backward Compatibility","lines":["   0-RTT data is not compatible with older servers.  An older server","   will respond to the ClientHello with an older ServerHello, but it","   will not correctly skip the 0-RTT data and will fail to complete the","   handshake.  This can cause issues when a client attempts to use","   0-RTT, particularly against multi-server deployments.  For example, a","   deployment could deploy TLS 1.3 gradually with some servers","   implementing TLS 1.3 and some implementing TLS 1.2, or a TLS 1.3","   deployment could be downgraded to TLS 1.2.","",[[[],0,"   "],[[396],224,"A client that attempts to send 0-RTT data MUST fail a connection if"]],[[[],0,"   "],[[396],224,"it receives a ServerHello with TLS 1.2 or older."],[[],0,"  It can then retry"]],[[[],0,"   the connection with 0-RTT disabled.  "],[[397],160,"To avoid a downgrade attack, the"]],[[[],0,"   "],[[397],160,"client SHOULD NOT disable TLS 1.3, only 0-RTT."]],"",[[[],0,"   "],[[398],160,"To avoid this error condition, multi-server deployments SHOULD ensure"]],[[[],0,"   "],[[398],160,"a uniform and stable deployment of TLS 1.3 without 0-RTT prior to"]],[[[],0,"   "],[[398],160,"enabling 0-RTT."]]],"requirements":[396,397,398]},{"id":"appendix-D.4","title":"Middlebox Compatibility Mode","lines":["   Field measurements [Ben17a] [Ben17b] [Res17a] [Res17b] have found","   that a significant number of middleboxes misbehave when a TLS","   client/server pair negotiates TLS 1.3.  Implementations can increase","   the chance of making connections through those middleboxes by making","   the TLS 1.3 handshake look more like a TLS 1.2 handshake:","","   -  The client always provides a non-empty session ID in the","      ClientHello, as described in the legacy_session_id section of","      Section 4.1.2.","","   -  If not offering early data, the client sends a dummy","      change_cipher_spec record (see the third paragraph of Section 5)","      immediately before its second flight.  This may either be before","      its second ClientHello or before its encrypted handshake flight.","      If offering early data, the record is placed immediately after the","      first ClientHello.","","   -  The server sends a dummy change_cipher_spec record immediately","      after its first handshake message.  This may either be after a","      ServerHello or a HelloRetryRequest.","","   When put together, these changes make the TLS 1.3 handshake resemble","   TLS 1.2 session resumption, which improves the chance of successfully","   connecting through middleboxes.  This \"compatibility mode\" is","   partially negotiated: the client can opt to provide a session ID or","   not, and the server has to echo it.  Either side can send","",[[[],0,"   "],[[399],224,"change_cipher_spec at any time during the handshake, as they must be"]],[[[],0,"   "],[[399],224,"ignored by the peer, but if the client sends a non-empty session ID,"]],[[[],0,"   "],[[399],224,"the server MUST send the change_cipher_spec as described in this"]],[[[],0,"   "],[[399],224,"appendix."]]],"requirements":[399]},{"id":"appendix-D.5","title":"Security Restrictions Related to Backward Compatibility","lines":[[[[],0,"   "],[[400],160,"Implementations negotiating the use of older versions of TLS SHOULD"]],[[[],0,"   "],[[400],160,"prefer forward secret and AEAD cipher suites, when available."]],"","   The security of RC4 cipher suites is considered insufficient for the",[[[],0,"   reasons cited in [RFC7465].  "],[[401],224,"Implementations MUST NOT offer or"]],[[[],0,"   "],[[401],224,"negotiate RC4 cipher suites for any version of TLS for any reason."]],"","   Old versions of TLS permitted the use of very low strength ciphers.",[[[],0,"   "],[[402],224,"Ciphers with a strength less than 112 bits MUST NOT be offered or"]],[[[],0,"   "],[[402],224,"negotiated for any version of TLS for any reason."]],"",[[[],0,"   "],[[403],224,"The security of SSL 3.0 [RFC6101] is considered insufficient for the"]],[[[],0,"   "],[[403],224,"reasons enumerated in [RFC7568], and it MUST NOT be negotiated for"]],[[[],0,"   "],[[403],224,"any reason."]],"",[[[],0,"   "],[[404],224,"The security of SSL 2.0 [SSL2] is considered insufficient for the"]],[[[],0,"   "],[[404],224,"reasons enumerated in [RFC6176], and it MUST NOT be negotiated for"]],[[[],0,"   "],[[404],224,"any reason."]],"",[[[],0,"   "],[[405],224,"Implementations MUST NOT send an SSL version 2.0 compatible"]],[[[],0,"   "],[[405],224,"CLIENT-HELLO."],[[],0,"  "],[[406],224,"Implementations MUST NOT negotiate TLS 1.3 or later"]],[[[],0,"   "],[[406],224,"using an SSL version 2.0 compatible CLIENT-HELLO."],[[],0,"  "],[[407],160,"Implementations"]],[[[],0,"   "],[[407],160,"are NOT RECOMMENDED to accept an SSL version 2.0 compatible"]],[[[],0,"   "],[[407],160,"CLIENT-HELLO in order to negotiate older versions of TLS."]],"",[[[],0,"   "],[[408],224,"Implementations MUST NOT send a ClientHello.legacy_version or"]],[[[],0,"   "],[[408],224,"ServerHello.legacy_version set to 0x0300 or less."],[[],0,"  "],[[409],224,"Any endpoint"]],[[[],0,"   "],[[409],224,"receiving a Hello message with ClientHello.legacy_version or"]],[[[],0,"   "],[[409],224,"ServerHello.legacy_version set to 0x0300 MUST abort the handshake"]],[[[],0,"   "],[[409],224,"with a \"protocol_version\" alert."]],"",[[[],0,"   "],[[410],224,"Implementations MUST NOT send any records with a version less than"]],[[[],0,"   "],[[410],224,"0x0300."],[[],0,"  "],[[411],160,"Implementations SHOULD NOT accept any records with a version"]],[[[],0,"   "],[[411],160,"less than 0x0300 (but may inadvertently do so if the record version"]],[[[],0,"   "],[[411],160,"number is ignored completely)."]],"",[[[],0,"   "],[[412],224,"Implementations MUST NOT use the Truncated HMAC extension, defined in"]],[[[],0,"   "],[[412],224,"Section 7 of [RFC6066], as it is not applicable to AEAD algorithms"]],[[[],0,"   "],[[412],224,"and has been shown to be insecure in some scenarios."]]],"requirements":[400,401,402,403,404,405,406,407,408,409,410,411,412]},{"id":"appendix-E","title":"Overview of Security Properties","lines":["   A complete security analysis of TLS is outside the scope of this","   document.  In this appendix, we provide an informal description of","   the desired properties as well as references to more detailed work in","   the research literature which provides more formal definitions.","","   We cover properties of the handshake separately from those of the","   record layer."]},{"id":"appendix-E.1","title":"Handshake","lines":["   The TLS handshake is an Authenticated Key Exchange (AKE) protocol","   which is intended to provide both one-way authenticated (server-only)","   and mutually authenticated (client and server) functionality.  At the","   completion of the handshake, each side outputs its view of the","   following values:","","   -  A set of \"session keys\" (the various secrets derived from the","      master secret) from which can be derived a set of working keys.","","   -  A set of cryptographic parameters (algorithms, etc.).","","   -  The identities of the communicating parties.","","   We assume the attacker to be an active network attacker, which means","   it has complete control over the network used to communicate between","   the parties [RFC3552].  Even under these conditions, the handshake","   should provide the properties listed below.  Note that these","   properties are not necessarily independent, but reflect the protocol","   consumers' needs.","","   Establishing the same session keys:  The handshake needs to output","      the same set of session keys on both sides of the handshake,","      provided that it completes successfully on each endpoint (see","      [CK01], Definition 1, part 1).","","   Secrecy of the session keys:  The shared session keys should be known","      only to the communicating parties and not to the attacker (see","      [CK01], Definition 1, part 2).  Note that in a unilaterally","      authenticated connection, the attacker can establish its own","      session keys with the server, but those session keys are distinct","      from those established by the client.","","   Peer authentication:  The client's view of the peer identity should","      reflect the server's identity.  If the client is authenticated,","      the server's view of the peer identity should match the client's","      identity.","","   Uniqueness of the session keys:  Any two distinct handshakes should","      produce distinct, unrelated session keys.  Individual session keys","      produced by a handshake should also be distinct and independent.","","   Downgrade protection:  The cryptographic parameters should be the","      same on both sides and should be the same as if the peers had been","      communicating in the absence of an attack (see [BBFGKZ16],","      Definitions 8 and 9).","","   Forward secret with respect to long-term keys:  If the long-term","      keying material (in this case the signature keys in certificate-","      based authentication modes or the external/resumption PSK in PSK","      with (EC)DHE modes) is compromised after the handshake is","      complete, this does not compromise the security of the session key","      (see [DOW92]), as long as the session key itself has been erased.","      The forward secrecy property is not satisfied when PSK is used in","      the \"psk_ke\" PskKeyExchangeMode.","","   Key Compromise Impersonation (KCI) resistance:  In a mutually","      authenticated connection with certificates, compromising the","      long-term secret of one actor should not break that actor's","      authentication of their peer in the given connection (see","      [HGFS15]).  For example, if a client's signature key is","      compromised, it should not be possible to impersonate arbitrary","      servers to that client in subsequent handshakes.","","   Protection of endpoint identities:  The server's identity","      (certificate) should be protected against passive attackers.  The","      client's identity should be protected against both passive and","      active attackers.","","   Informally, the signature-based modes of TLS 1.3 provide for the","   establishment of a unique, secret, shared key established by an","   (EC)DHE key exchange and authenticated by the server's signature over","   the handshake transcript, as well as tied to the server's identity by","   a MAC.  If the client is authenticated by a certificate, it also","   signs over the handshake transcript and provides a MAC tied to both","   identities.  [SIGMA] describes the design and analysis of this type","   of key exchange protocol.  If fresh (EC)DHE keys are used for each","   connection, then the output keys are forward secret.","","   The external PSK and resumption PSK bootstrap from a long-term shared","   secret into a unique per-connection set of short-term session keys.","   This secret may have been established in a previous handshake.  If","   PSK with (EC)DHE key establishment is used, these session keys will","   also be forward secret.  The resumption PSK has been designed so that","   the resumption master secret computed by connection N and needed to","   form connection N+1 is separate from the traffic keys used by","","   connection N, thus providing forward secrecy between the connections.","   In addition, if multiple tickets are established on the same","   connection, they are associated with different keys, so compromise of","   the PSK associated with one ticket does not lead to the compromise of","   connections established with PSKs associated with other tickets.","   This property is most interesting if tickets are stored in a database","   (and so can be deleted) rather than if they are self-encrypted.","","   The PSK binder value forms a binding between a PSK and the current","   handshake, as well as between the session where the PSK was","   established and the current session.  This binding transitively","   includes the original handshake transcript, because that transcript","   is digested into the values which produce the resumption master","   secret.  This requires that both the KDF used to produce the","   resumption master secret and the MAC used to compute the binder be","   collision resistant.  See Appendix E.1.1 for more on this.  Note: The","   binder does not cover the binder values from other PSKs, though they","   are included in the Finished MAC.","","   TLS does not currently permit the server to send a","   certificate_request message in non-certificate-based handshakes","   (e.g., PSK).  If this restriction were to be relaxed in future, the","   client's signature would not cover the server's certificate directly.","   However, if the PSK was established through a NewSessionTicket, the","   client's signature would transitively cover the server's certificate","   through the PSK binder.  [PSK-FINISHED] describes a concrete attack","   on constructions that do not bind to the server's certificate (see","   also [Kraw16]).  It is unsafe to use certificate-based client","   authentication when the client might potentially share the same",[[[],0,"   PSK/key-id pair with two different endpoints.  "],[[422],224,"Implementations"]],[[[],0,"   "],[[422],224,"MUST NOT combine external PSKs with certificate-based authentication"]],[[[],0,"   "],[[422],224,"of either the client or the server unless negotiated by some"]],[[[],0,"   "],[[422],224,"extension."]],"","   If an exporter is used, then it produces values which are unique and","   secret (because they are generated from a unique session key).","   Exporters computed with different labels and contexts are","   computationally independent, so it is not feasible to compute one","   from another or the session secret from the exported value.",[[[],0,"   "],[[423],224,"Note: Exporters can produce arbitrary-length values; if exporters are"]],[[[],0,"   "],[[423],224,"to be used as channel bindings, the exported value MUST be large"]],[[[],0,"   "],[[423],224,"enough to provide collision resistance."],[[],0,"  The exporters provided in"]],"   TLS 1.3 are derived from the same Handshake Contexts as the early","   traffic keys and the application traffic keys, respectively, and thus","   have similar security properties.  Note that they do not include the","   client's certificate; future applications which wish to bind to the","   client's certificate may need to define a new exporter that includes","   the full handshake transcript.","","   For all handshake modes, the Finished MAC (and, where present, the","   signature) prevents downgrade attacks.  In addition, the use of","   certain bytes in the random nonces as described in Section 4.1.3","   allows the detection of downgrade to previous TLS versions.  See","   [BBFGKZ16] for more details on TLS 1.3 and downgrade.","","   As soon as the client and the server have exchanged enough","   information to establish shared keys, the remainder of the handshake","   is encrypted, thus providing protection against passive attackers,","   even if the computed shared key is not authenticated.  Because the","   server authenticates before the client, the client can ensure that if","   it authenticates to the server, it only reveals its identity to an","   authenticated server.  Note that implementations must use the","   provided record-padding mechanism during the handshake to avoid","   leaking information about the identities due to length.  The client's","   proposed PSK identities are not encrypted, nor is the one that the","   server selects."],"requirements":[422,423]},{"id":"appendix-E.1.1","title":"Key Derivation and HKDF","lines":["   Key derivation in TLS 1.3 uses HKDF as defined in [RFC5869] and its","   two components, HKDF-Extract and HKDF-Expand.  The full rationale for","   the HKDF construction can be found in [Kraw10] and the rationale for","   the way it is used in TLS 1.3 in [KW16].  Throughout this document,","   each application of HKDF-Extract is followed by one or more",[[[],0,"   invocations of HKDF-Expand.  "],[[419],160,"This ordering should always be followed"]],[[[],0,"   "],[[419],160,"(including in future revisions of this document); in particular, one"]],[[[],0,"   "],[[419],160,"SHOULD NOT use an output of HKDF-Extract as an input to another"]],[[[],0,"   "],[[419],160,"application of HKDF-Extract without an HKDF-Expand in between."]],"   Multiple applications of HKDF-Expand to some of the same inputs are","   allowed as long as these are differentiated via the key and/or the","   labels.","","   Note that HKDF-Expand implements a pseudorandom function (PRF) with","   both inputs and outputs of variable length.  In some of the uses of","   HKDF in this document (e.g., for generating exporters and the","   resumption_master_secret), it is necessary that the application of","   HKDF-Expand be collision resistant; namely, it should be infeasible","   to find two different inputs to HKDF-Expand that output the same","   value.  This requires the underlying hash function to be collision","   resistant and the output length from HKDF-Expand to be of size at","   least 256 bits (or as much as needed for the hash function to prevent","   finding collisions)."],"requirements":[419]},{"id":"appendix-E.1.2","title":"Client Authentication","lines":["   A client that has sent authentication data to a server, either during","   the handshake or in post-handshake authentication, cannot be sure","   whether the server afterwards considers the client to be","   authenticated or not.  If the client needs to determine if the server","   considers the connection to be unilaterally or mutually","   authenticated, this has to be provisioned by the application layer.","   See [CHHSV17] for details.  In addition, the analysis of","   post-handshake authentication from [Kraw16] shows that the client","   identified by the certificate sent in the post-handshake phase","   possesses the traffic key.  This party is therefore the client that","   participated in the original handshake or one to whom the original","   client delegated the traffic key (assuming that the traffic key has","   not been compromised)."]},{"id":"appendix-E.1.3","title":"0-RTT","lines":["   The 0-RTT mode of operation generally provides security properties","   similar to those of 1-RTT data, with the two exceptions that the","   0-RTT encryption keys do not provide full forward secrecy and that","   the server is not able to guarantee uniqueness of the handshake","   (non-replayability) without keeping potentially undue amounts of","   state.  See Section 8 for mechanisms to limit the exposure to replay."]},{"id":"appendix-E.1.4","title":"Exporter Independence","lines":["   The exporter_master_secret and early_exporter_master_secret are","   derived to be independent of the traffic keys and therefore do not","   represent a threat to the security of traffic encrypted with those",[[[],0,"   keys.  "],[[420],160,"However, because these secrets can be used to compute any"]],[[[],0,"   "],[[420],160,"exporter value, they SHOULD be erased as soon as possible."],[[],0,"  "],[[421],160,"If the"]],[[[],0,"   "],[[421],160,"total set of exporter labels is known, then implementations SHOULD"]],[[[],0,"   "],[[421],160,"pre-compute the inner Derive-Secret stage of the exporter computation"]],[[[],0,"   "],[[421],160,"for all those labels, then erase the [early_]exporter_master_secret,"]],[[[],0,"   "],[[421],160,"followed by each inner value as soon as it is known that it will not"]],[[[],0,"   "],[[421],160,"be needed again."]]],"requirements":[420,421]},{"id":"appendix-E.1.5","title":"Post-Compromise Security","lines":["   TLS does not provide security for handshakes which take place after","   the peer's long-term secret (signature key or external PSK) is","   compromised.  It therefore does not provide post-compromise security","   [CCG16], sometimes also referred to as backward or future secrecy.","   This is in contrast to KCI resistance, which describes the security","   guarantees that a party has after its own long-term secret has been","   compromised."]},{"id":"appendix-E.1.6","title":"External References","lines":["   The reader should refer to the following references for analysis of","   the TLS handshake: [DFGS15], [CHSV16], [DFGS16], [KW16], [Kraw16],","   [FGSW16], [LXZFH16], [FG17], and [BBK17]."]},{"id":"appendix-E.2","title":"Record Layer","lines":["   The record layer depends on the handshake producing strong traffic","   secrets which can be used to derive bidirectional encryption keys and","   nonces.  Assuming that is true, and the keys are used for no more","   data than indicated in Section 5.5, then the record layer should","   provide the following guarantees:","","   Confidentiality:  An attacker should not be able to determine the","      plaintext contents of a given record.","","   Integrity:  An attacker should not be able to craft a new record","      which is different from an existing record which will be accepted","      by the receiver.","","   Order protection/non-replayability:  An attacker should not be able","      to cause the receiver to accept a record which it has already","      accepted or cause the receiver to accept record N+1 without having","      first processed record N.","","   Length concealment:  Given a record with a given external length, the","      attacker should not be able to determine the amount of the record","      that is content versus padding.","","   Forward secrecy after key change:  If the traffic key update","      mechanism described in Section 4.6.3 has been used and the","      previous generation key is deleted, an attacker who compromises","      the endpoint should not be able to decrypt traffic encrypted with","      the old key.","","   Informally, TLS 1.3 provides these properties by AEAD-protecting the","   plaintext with a strong key.  AEAD encryption [RFC5116] provides","   confidentiality and integrity for the data.  Non-replayability is","   provided by using a separate nonce for each record, with the nonce","   being derived from the record sequence number (Section 5.3), with the","   sequence number being maintained independently at both sides; thus,","   records which are delivered out of order result in AEAD deprotection","   failures.  In order to prevent mass cryptanalysis when the same","   plaintext is repeatedly encrypted by different users under the same","   key (as is commonly the case for HTTP), the nonce is formed by mixing","","   the sequence number with a secret per-connection initialization","   vector derived along with the traffic keys.  See [BT16] for analysis","   of this construction.","","   The rekeying technique in TLS 1.3 (see Section 7.2) follows the","   construction of the serial generator as discussed in [REKEY], which","   shows that rekeying can allow keys to be used for a larger number of","   encryptions than without rekeying.  This relies on the security of","   the HKDF-Expand-Label function as a pseudorandom function (PRF).  In","   addition, as long as this function is truly one way, it is not","   possible to compute traffic keys from prior to a key change (forward","   secrecy).","","   TLS does not provide security for data which is communicated on a","   connection after a traffic secret of that connection is compromised.","   That is, TLS does not provide post-compromise security/future","   secrecy/backward secrecy with respect to the traffic secret.  Indeed,","   an attacker who learns a traffic secret can compute all future","   traffic secrets on that connection.  Systems which want such","   guarantees need to do a fresh handshake and establish a new","   connection with an (EC)DHE exchange."]},{"id":"appendix-E.2.1","title":"External References","lines":["   The reader should refer to the following references for analysis of","   the TLS record layer: [BMMRT15], [BT16], [BDFKPPRSZZ16], [BBK17], and","   [PS18]."]},{"id":"appendix-E.3","title":"Traffic Analysis","lines":["   TLS is susceptible to a variety of traffic analysis attacks based on","   observing the length and timing of encrypted packets [CLINIC]","   [HCJC16].  This is particularly easy when there is a small set of","   possible messages to be distinguished, such as for a video server","   hosting a fixed corpus of content, but still provides usable","   information even in more complicated scenarios.","","   TLS does not provide any specific defenses against this form of","   attack but does include a padding mechanism for use by applications:","   The plaintext protected by the AEAD function consists of content plus","   variable-length padding, which allows the application to produce","   arbitrary-length encrypted records as well as padding-only cover","   traffic to conceal the difference between periods of transmission and","   periods of silence.  Because the padding is encrypted alongside the","   actual content, an attacker cannot directly determine the length of","   the padding but may be able to measure it indirectly by the use of","   timing channels exposed during record processing (i.e., seeing how","   long it takes to process a record or trickling in records to see","","   which ones elicit a response from the server).  In general, it is not","   known how to remove all of these channels because even a","   constant-time padding removal function will likely feed the content","   into data-dependent functions.  At minimum, a fully constant-time","   server or client would require close cooperation with the","   application-layer protocol implementation, including making that","   higher-level protocol constant time.","","   Note: Robust traffic analysis defenses will likely lead to inferior","   performance due to delays in transmitting packets and increased","   traffic volume."]},{"id":"appendix-E.4","title":"Side-Channel Attacks","lines":["   In general, TLS does not have specific defenses against side-channel","   attacks (i.e., those which attack the communications via secondary","   channels such as timing), leaving those to the implementation of the","   relevant cryptographic primitives.  However, certain features of TLS","   are designed to make it easier to write side-channel resistant code:","","   -  Unlike previous versions of TLS which used a composite MAC-then-","      encrypt structure, TLS 1.3 only uses AEAD algorithms, allowing","      implementations to use self-contained constant-time","      implementations of those primitives.","","   -  TLS uses a uniform \"bad_record_mac\" alert for all decryption","      errors, which is intended to prevent an attacker from gaining","      piecewise insight into portions of the message.  Additional","      resistance is provided by terminating the connection on such","      errors; a new connection will have different cryptographic","      material, preventing attacks against the cryptographic primitives","      that require multiple trials.","","   Information leakage through side channels can occur at layers above","   TLS, in application protocols and the applications that use them.","   Resistance to side-channel attacks depends on applications and","   application protocols separately ensuring that confidential","   information is not inadvertently leaked."]},{"id":"appendix-E.5","title":"Replay Attacks on 0-RTT","lines":["   Replayable 0-RTT data presents a number of security threats to TLS-","   using applications, unless those applications are specifically","   engineered to be safe under replay (minimally, this means idempotent,","   but in many cases may also require other stronger conditions, such as","   constant-time response).  Potential attacks include:","","   -  Duplication of actions which cause side effects (e.g., purchasing","      an item or transferring money) to be duplicated, thus harming the","      site or the user.","","   -  Attackers can store and replay 0-RTT messages in order to reorder","      them with respect to other messages (e.g., moving a delete to","      after a create).","","   -  Exploiting cache timing behavior to discover the content of 0-RTT","      messages by replaying a 0-RTT message to a different cache node","      and then using a separate connection to measure request latency,","      to see if the two requests address the same resource.","","   If data can be replayed a large number of times, additional attacks","   become possible, such as making repeated measurements of the speed of","   cryptographic operations.  In addition, they may be able to overload","   rate-limiting systems.  For a further description of these attacks,","   see [Mac17].","","   Ultimately, servers have the responsibility to protect themselves","   against attacks employing 0-RTT data replication.  The mechanisms","   described in Section 8 are intended to prevent replay at the TLS","   layer but do not provide complete protection against receiving","   multiple copies of client data.  TLS 1.3 falls back to the 1-RTT","   handshake when the server does not have any information about the","   client, e.g., because it is in a different cluster which does not","   share state or because the ticket has been deleted as described in","   Section 8.1.  If the application-layer protocol retransmits data in","   this setting, then it is possible for an attacker to induce message","   duplication by sending the ClientHello to both the original cluster","   (which processes the data immediately) and another cluster which will","   fall back to 1-RTT and process the data upon application-layer","   replay.  The scale of this attack is limited by the client's","   willingness to retry transactions and therefore only allows a limited","   amount of duplication, with each copy appearing as a new connection","   at the server.","","   If implemented correctly, the mechanisms described in Sections 8.1","   and 8.2 prevent a replayed ClientHello and its associated 0-RTT data","   from being accepted multiple times by any cluster with consistent","   state; for servers which limit the use of 0-RTT to one cluster for a","   single ticket, then a given ClientHello and its associated 0-RTT data","   will only be accepted once.  However, if state is not completely","   consistent, then an attacker might be able to have multiple copies of",[[[],0,"   the data be accepted during the replication window.  "],[[425],224,"Because clients"]],[[[],0,"   "],[[425],224,"do not know the exact details of server behavior, they MUST NOT send"]],[[[],0,"   "],[[425],224,"messages in early data which are not safe to have replayed and which"]],[[[],0,"   "],[[425],224,"they would not be willing to retry across multiple 1-RTT connections."]],"",[[[],0,"   "],[[426],224,"Application protocols MUST NOT use 0-RTT data without a profile that"]],[[[],0,"   "],[[426],224,"defines its use."],[[],0,"  That profile needs to identify which messages or"]],"   interactions are safe to use with 0-RTT and how to handle the","   situation when the server rejects 0-RTT and falls back to 1-RTT.","",[[[],0,"   "],[[427,428],224,"In addition, to avoid accidental misuse, TLS implementations MUST NOT"]],[[[],0,"   "],[[427,428],224,"enable 0-RTT (either sending or accepting) unless specifically"]],[[[],0,"   "],[[427,428],224,"requested by the application and MUST NOT automatically resend 0-RTT"]],[[[],0,"   "],[[427,428],224,"data if it is rejected by the server unless instructed by the"]],[[[],0,"   "],[[427,428],224,"application."],[[],0,"  Server-side applications may wish to implement special"]],"   processing for 0-RTT data for some kinds of application traffic","   (e.g., abort the connection, request that data be resent at the","   application layer, or delay processing until the handshake",[[[],0,"   completes).  "],[[429],224,"In order to allow applications to implement this kind of"]],[[[],0,"   "],[[429],224,"processing, TLS implementations MUST provide a way for the"]],[[[],0,"   "],[[429],224,"application to determine if the handshake has completed."]]],"requirements":[425,426,427,428,429]},{"id":"appendix-E.5.1","title":"Replay and Exporters","lines":["   Replays of the ClientHello produce the same early exporter, thus","   requiring additional care by applications which use these exporters.","   In particular, if these exporters are used as an authentication","   channel binding (e.g., by signing the output of the exporter), an","   attacker who compromises the PSK can transplant authenticators","   between connections without compromising the authentication key.","",[[[],0,"   "],[[424],160,"In addition, the early exporter SHOULD NOT be used to generate"]],[[[],0,"   "],[[424],160,"server-to-client encryption keys because that would entail the reuse"]],[[[],0,"   "],[[424],160,"of those keys."],[[],0,"  This parallels the use of the early application"]],"   traffic keys only in the client-to-server direction."],"requirements":[424]},{"id":"appendix-E.6","title":"PSK Identity Exposure","lines":["   Because implementations respond to an invalid PSK binder by aborting","   the handshake, it may be possible for an attacker to verify whether a","   given PSK identity is valid.  Specifically, if a server accepts both","   external-PSK handshakes and certificate-based handshakes, a valid PSK","   identity will result in a failed handshake, whereas an invalid","   identity will just be skipped and result in a successful certificate","   handshake.  Servers which solely support PSK handshakes may be able","   to resist this form of attack by treating the cases where there is no","   valid PSK identity and where there is an identity but it has an","   invalid binder identically."]},{"id":"appendix-E.7","title":"Sharing PSKs","lines":["   TLS 1.3 takes a conservative approach to PSKs by binding them to a","   specific KDF.  By contrast, TLS 1.2 allows PSKs to be used with any","   hash function and the TLS 1.2 PRF.  Thus, any PSK which is used with","   both TLS 1.2 and TLS 1.3 must be used with only one hash in TLS 1.3,","   which is less than optimal if users want to provision a single PSK.","   The constructions in TLS 1.2 and TLS 1.3 are different, although they","   are both based on HMAC.  While there is no known way in which the","   same PSK might produce related output in both versions, only limited","   analysis has been done.  Implementations can ensure safety from","   cross-protocol related output by not reusing PSKs between TLS 1.3 and","   TLS 1.2."]},{"id":"appendix-E.8","title":"Attacks on Static RSA","lines":["   Although TLS 1.3 does not use RSA key transport and so is not","   directly susceptible to Bleichenbacher-type attacks [Blei98], if TLS","   1.3 servers also support static RSA in the context of previous","   versions of TLS, then it may be possible to impersonate the server","   for TLS 1.3 connections [JSS15].  TLS 1.3 implementations can prevent","   this attack by disabling support for static RSA across all versions","   of TLS.  In principle, implementations might also be able to separate","   certificates with different keyUsage bits for static RSA decryption","   and RSA signature, but this technique relies on clients refusing to","   accept signatures using keys in certificates that do not have the","   digitalSignature bit set, and many clients do not enforce this","   restriction."]},{"id":"name-contributors","title":"Contributors","lines":["   Martin Abadi","   University of California, Santa Cruz","   abadi@cs.ucsc.edu","","   Christopher Allen","   (co-editor of TLS 1.0)","   Alacrity Ventures","   ChristopherA@AlacrityManagement.com","","   Richard Barnes","   Cisco","   rlb@ipv.sx","","   Steven M. Bellovin","   Columbia University","   smb@cs.columbia.edu","","   David Benjamin","   Google","   davidben@google.com","","   Benjamin Beurdouche","   INRIA & Microsoft Research","   benjamin.beurdouche@ens.fr","","   Karthikeyan Bhargavan","   (editor of [RFC7627])","   INRIA","   karthikeyan.bhargavan@inria.fr","","   Simon Blake-Wilson","   (co-author of [RFC4492])","   BCI","   sblakewilson@bcisse.com","","   Nelson Bolyard","   (co-author of [RFC4492])","   Sun Microsystems, Inc.","   nelson@bolyard.com","","   Ran Canetti","   IBM","   canetti@watson.ibm.com","","   Matt Caswell","   OpenSSL","   matt@openssl.org","","   Stephen Checkoway","   University of Illinois at Chicago","   sfc@uic.edu","","   Pete Chown","   Skygate Technology Ltd","   pc@skygate.co.uk","","   Katriel Cohn-Gordon","   University of Oxford","   me@katriel.co.uk","","   Cas Cremers","   University of Oxford","   cas.cremers@cs.ox.ac.uk","","   Antoine Delignat-Lavaud","   (co-author of [RFC7627])","   INRIA","   antdl@microsoft.com","","   Tim Dierks","   (co-author of TLS 1.0, co-editor of TLS 1.1 and 1.2)","   Independent","   tim@dierks.org","","   Roelof DuToit","   Symantec Corporation","   roelof_dutoit@symantec.com","","   Taher Elgamal","   Securify","   taher@securify.com","","   Pasi Eronen","   Nokia","   pasi.eronen@nokia.com","","   Cedric Fournet","   Microsoft","   fournet@microsoft.com","","   Anil Gangolli","   anil@busybuddha.org","","   David M. Garrett","   dave@nulldereference.com","","   Illya Gerasymchuk","   Independent","   illya@iluxonchik.me","","   Alessandro Ghedini","   Cloudflare Inc.","   alessandro@cloudflare.com","","   Daniel Kahn Gillmor","   ACLU","   dkg@fifthhorseman.net","","   Matthew Green","   Johns Hopkins University","   mgreen@cs.jhu.edu","","   Jens Guballa","   ETAS","   jens.guballa@etas.com","","   Felix Guenther","   TU Darmstadt","   mail@felixguenther.info","","   Vipul Gupta","   (co-author of [RFC4492])","   Sun Microsystems Laboratories","   vipul.gupta@sun.com","","   Chris Hawk","   (co-author of [RFC4492])","   Corriente Networks LLC","   chris@corriente.net","","   Kipp Hickman","","   Alfred Hoenes","","   David Hopwood","   Independent Consultant","   david.hopwood@blueyonder.co.uk","","   Marko Horvat","   MPI-SWS","   mhorvat@mpi-sws.org","","   Jonathan Hoyland","   Royal Holloway, University of London","   jonathan.hoyland@gmail.com","","   Subodh Iyengar","   Facebook","   subodh@fb.com","","   Benjamin Kaduk","   Akamai Technologies","   kaduk@mit.edu","","   Hubert Kario","   Red Hat Inc.","   hkario@redhat.com","","   Phil Karlton","   (co-author of SSL 3.0)","","   Leon Klingele","   Independent","   mail@leonklingele.de","","   Paul Kocher","   (co-author of SSL 3.0)","   Cryptography Research","   paul@cryptography.com","","   Hugo Krawczyk","   IBM","   hugokraw@us.ibm.com","","   Adam Langley","   (co-author of [RFC7627])","   Google","   agl@google.com","","   Olivier Levillain","   ANSSI","   olivier.levillain@ssi.gouv.fr","","   Xiaoyin Liu","   University of North Carolina at Chapel Hill","   xiaoyin.l@outlook.com","","   Ilari Liusvaara","   Independent","   ilariliusvaara@welho.com","","   Atul Luykx","   K.U. Leuven","   atul.luykx@kuleuven.be","","   Colm MacCarthaigh","   Amazon Web Services","   colm@allcosts.net","","   Carl Mehner","   USAA","   carl.mehner@usaa.com","","   Jan Mikkelsen","   Transactionware","   janm@transactionware.com","","   Bodo Moeller","   (co-author of [RFC4492])","   Google","   bodo@acm.org","","   Kyle Nekritz","   Facebook","   knekritz@fb.com","","   Erik Nygren","   Akamai Technologies","   erik+ietf@nygren.org","","   Magnus Nystrom","   Microsoft","   mnystrom@microsoft.com","","   Kazuho Oku","   DeNA Co., Ltd.","   kazuhooku@gmail.com","","   Kenny Paterson","   Royal Holloway, University of London","   kenny.paterson@rhul.ac.uk","","   Christopher Patton","   University of Florida","   cjpatton@ufl.edu","","   Alfredo Pironti","   (co-author of [RFC7627])","   INRIA","   alfredo.pironti@inria.fr","","   Andrei Popov","   Microsoft","   andrei.popov@microsoft.com","","   Marsh Ray","   (co-author of [RFC7627])","   Microsoft","   maray@microsoft.com","","   Robert Relyea","   Netscape Communications","   relyea@netscape.com","","   Kyle Rose","   Akamai Technologies","   krose@krose.org","","   Jim Roskind","   Amazon","   jroskind@amazon.com","","   Michael Sabin","","   Joe Salowey","   Tableau Software","   joe@salowey.net","","   Rich Salz","   Akamai","   rsalz@akamai.com","","   David Schinazi","   Apple Inc.","   dschinazi@apple.com","","   Sam Scott","   Royal Holloway, University of London","   me@samjs.co.uk","","   Thomas Shrimpton","   University of Florida","   teshrim@ufl.edu","","   Dan Simon","   Microsoft, Inc.","   dansimon@microsoft.com","","   Brian Smith","   Independent","   brian@briansmith.org","","   Brian Sniffen","   Akamai Technologies","   ietf@bts.evenmere.org","","   Nick Sullivan","   Cloudflare Inc.","   nick@cloudflare.com","","   Bjoern Tackmann","   University of California, San Diego","   btackmann@eng.ucsd.edu","","   Tim Taubert","   Mozilla","   ttaubert@mozilla.com","","   Martin Thomson","   Mozilla","   mt@mozilla.com","","   Hannes Tschofenig","   Arm Limited","   Hannes.Tschofenig@arm.com","","   Sean Turner","   sn3rd","   sean@sn3rd.com","","   Steven Valdez","   Google","   svaldez@google.com","","   Filippo Valsorda","   Cloudflare Inc.","   filippo@cloudflare.com","","   Thyla van der Merwe","   Royal Holloway, University of London","   tjvdmerwe@gmail.com","","   Victor Vasiliev","   Google","   vasilvv@google.com","","   Hoeteck Wee","   Ecole Normale Superieure, Paris","   hoeteck@alum.mit.edu","","   Tom Weinstein","","   David Wong","   NCC Group","   david.wong@nccgroup.trust","","   Christopher A. Wood","   Apple Inc.","   cawood@apple.com","","   Tim Wright","   Vodafone","   timothy.wright@vodafone.com","","   Peter Wu","   Independent","   peter@lekensteyn.nl","","   Kazu Yamamoto","   Internet Initiative Japan Inc.","   kazu@iij.ad.jp"]},{"id":"name-author-s-address","title":"Author's Address","lines":["   Eric Rescorla","   Mozilla","","   Email: ekr@rtfm.com"]}]}},"annotations":[{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-2.1","line":22,"type":"SPEC","level":"MUST","comment":"In ECDH_ECDSA, the server's certificate MUST contain an ECDH-capable\npublic key and be signed with ECDSA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-2.1","line":29,"type":"SPEC","level":"MUST","comment":"A ServerKeyExchange MUST NOT be sent (the server's certificate\ncontains all the necessary keying information required by the client\nto arrive at the premaster secret).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-2.2","line":20,"type":"SPEC","level":"MUST","comment":"In ECDHE_ECDSA, the server's certificate MUST contain an ECDSA-\ncapable public key and be signed with ECDSA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-2.2","line":27,"type":"SPEC","level":"MUST","comment":"These\nparameters MUST be signed with ECDSA using the private key\ncorresponding to the public key in the server's Certificate.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-2.3","line":8,"type":"SPEC","level":"MUST","comment":"This key exchange algorithm is the same as ECDH_ECDSA except that the\nserver's certificate MUST be signed with RSA rather than ECDSA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-2.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-2.4","line":11,"type":"SPEC","level":"MUST","comment":"This key exchange algorithm is the same as ECDHE_ECDSA except that\nthe server's certificate MUST contain an RSA public key authorized\nfor signing, and that the signature in the ServerKeyExchange message\nmust be computed with the corresponding RSA private key.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-2.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-2.4","line":20,"type":"SPEC","level":"MUST","comment":"The server\ncertificate MUST be signed with RSA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-2.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-2.5","line":35,"type":"SPEC","level":"MUST","comment":"In ECDH_anon, the server's Certificate, the CertificateRequest, the\nclient's Certificate, and the CertificateVerify messages MUST NOT be\nsent.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-2.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-2.5","line":43,"type":"SPEC","level":"MUST","comment":"The server MUST send an ephemeral ECDH public key and a specification\nof the corresponding curve in the ServerKeyExchange message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-2.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-2.5","line":50,"type":"SPEC","level":"MUST","comment":"These\nparameters MUST NOT be signed.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-2","line":100,"type":"SPEC","level":"SHOULD","comment":"Implementations of this\nalgorithm SHOULD provide authentication by other means.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-3.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-3.1","line":13,"type":"SPEC","level":"MUST","comment":"To use this authentication mechanism, the client MUST possess a\ncertificate containing an ECDSA-capable public key and signed with\nECDSA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-3.2","line":26,"type":"SPEC","level":"MUST","comment":"To use this authentication mechanism, the client MUST possess a\ncertificate containing an ECDH-capable public key, and that\ncertificate MUST be signed with ECDSA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-3.2","line":34,"type":"SPEC","level":"MUST","comment":"To use this authentication mechanism, the client MUST possess a\ncertificate containing an ECDH-capable public key, and that\ncertificate MUST be signed with ECDSA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-3.2","line":42,"type":"SPEC","level":"MUST","comment":"Furthermore, the client's\nECDH key MUST be on the same elliptic curve as the server's long-term\n(certified) ECDH key.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-3.2","line":50,"type":"SPEC","level":"MUST","comment":"When using this authentication mechanism, the client MUST send an\nempty ClientKeyExchange as described in Section 5.7 and MUST NOT send\nthe CertificateVerify message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-3.2","line":58,"type":"SPEC","level":"MUST","comment":"When using this authentication mechanism, the client MUST send an\nempty ClientKeyExchange as described in Section 5.7 and MUST NOT send\nthe CertificateVerify message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-3.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-3.3","line":20,"type":"SPEC","level":"MUST","comment":"This authentication mechanism is identical to ECDSA_fixed_ECDH except\nthat the client's certificate MUST be signed with RSA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-4","line":44,"type":"SPEC","level":"SHOULD","comment":"A TLS client that proposes ECC cipher suites in its ClientHello\nmessage SHOULD include these extensions.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-4","line":51,"type":"SPEC","level":"MUST","comment":"Servers implementing ECC\ncipher suites MUST support these extensions, and when a client uses\nthese extensions, servers MUST NOT negotiate the use of an ECC cipher\nsuite unless they can complete the handshake while respecting the\nchoice of curves and compression techniques specified by the client.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-4","line":61,"type":"SPEC","level":"MUST","comment":"Servers implementing ECC\ncipher suites MUST support these extensions, and when a client uses\nthese extensions, servers MUST NOT negotiate the use of an ECC cipher\nsuite unless they can complete the handshake while respecting the\nchoice of curves and compression techniques specified by the client.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-4","line":71,"type":"SPEC","level":"MUST","comment":"The client MUST NOT include these extensions in the ClientHello\nmessage if it does not propose any ECC cipher suites.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.1.2","line":46,"type":"SPEC","level":"MUST","comment":"The uncompressed point format is the default format in that\nimplementations of this document MUST support it for all of their\nsupported curves.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.1.2","line":54,"type":"SPEC","level":"MAY","comment":"Implementations of this document MAY support the\nansiX962_compressed_prime and ansiX962_compressed_char2 formats,\nwhere the former applies only to prime curves and the latter applies\nonly to characteristic-2 curves.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.1","line":69,"type":"SPEC","level":"SHOULD","comment":"The extensions SHOULD be sent along with any ClientHello message that\nproposes ECC cipher suites.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.1","line":76,"type":"SPEC","level":"SHOULD","comment":"Clients\nSHOULD send both the Supported Elliptic Curves Extension and the\nSupported Point Formats Extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.1","line":84,"type":"SPEC","level":"MUST","comment":"If the Supported Point Formats\nExtension is indeed sent, it MUST contain the value 0 (uncompressed)\nas one of the items in the list of point formats.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.1","line":92,"type":"SPEC","level":"MUST","comment":"A server that receives a ClientHello containing one or both of these\nextensions MUST use the client's enumerated capabilities to guide its\nselection of an appropriate cipher suite.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.1","line":100,"type":"SPEC","level":"MUST","comment":"If a server does not understand the Supported Elliptic Curves\nExtension, does not understand the Supported Point Formats Extension,\nor is unable to complete the ECC handshake while restricting itself\nto the enumerated curves and point formats, it MUST NOT negotiate the\nuse of an ECC cipher suite.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.10","line":41,"type":"SPEC","level":"MUST","comment":"Note that this octet string (Z in IEEE 1363 terminology) as\noutput by FE2OSP, the Field Element to Octet String Conversion\nPrimitive, has constant length for any given field; leading zeros\nfound in this octet string MUST NOT be truncated.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.10","line":50,"type":"SPEC","level":"MUST","comment":"All ECDSA computations MUST be performed according to ANSI X9.62 [7]\nor its successors.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.2","line":54,"type":"SPEC","level":"MUST","comment":"The Supported\nPoint Formats Extension, when used, MUST contain the value 0\n(uncompressed) as one of the items in the list of point formats.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.2","line":62,"type":"SPEC","level":"MUST","comment":"A client that receives a ServerHello message containing a Supported\nPoint Formats Extension MUST respect the server's choice of point\nformats during the handshake (cf.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.3","line":71,"type":"SPEC","level":"MUST","comment":"ECC\npublic keys MUST be encoded in certificates as described in\nSection 5.9.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.3","line":79,"type":"SPEC","level":"MUST","comment":"ECDH_ECDSA              Certificate MUST contain an\nECDH-capable public key.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.3","line":86,"type":"SPEC","level":"MUST","comment":"It\nMUST be signed with ECDSA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.3","line":93,"type":"SPEC","level":"MUST","comment":"ECDHE_ECDSA             Certificate MUST contain an\nECDSA-capable public key.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.3","line":100,"type":"SPEC","level":"MUST","comment":"It\nMUST be signed with ECDSA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.3","line":107,"type":"SPEC","level":"MUST","comment":"ECDH_RSA                Certificate MUST contain an\nECDH-capable public key.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.3","line":114,"type":"SPEC","level":"MUST","comment":"It\nMUST be signed with RSA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.3","line":121,"type":"SPEC","level":"MUST","comment":"ECDHE_RSA               Certificate MUST contain an\nRSA public key authorized for\nuse in digital signatures.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.3","line":129,"type":"SPEC","level":"MUST","comment":"It\nMUST be signed with RSA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.3","line":136,"type":"SPEC","level":"MUST","comment":"If the client has used a\nSupported Elliptic Curves Extension, the public key in the server's\ncertificate MUST respect the client's choice of elliptic curves; in\nparticular, the public key MUST employ a named curve (not the same\ncurve as an explicit curve) unless the client has indicated support\nfor explicit curves of the appropriate type.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.3","line":147,"type":"SPEC","level":"MUST","comment":"If the client has used a\nSupported Elliptic Curves Extension, the public key in the server's\ncertificate MUST respect the client's choice of elliptic curves; in\nparticular, the public key MUST employ a named curve (not the same\ncurve as an explicit curve) unless the client has indicated support\nfor explicit curves of the appropriate type.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.3","line":158,"type":"SPEC","level":"MUST","comment":"If the client has used\na Supported Point Formats Extension, both the server's public key\npoint and (in the case of an explicit curve) the curve's base point\nMUST respect the client's choice of point formats.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.3","line":167,"type":"SPEC","level":"MUST","comment":"(A server that\ncannot satisfy these requirements MUST NOT choose an ECC cipher suite\nin its ServerHello message.)\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.4","line":204,"type":"SPEC","level":"SHOULD","comment":"This option\nSHOULD be used when applicable.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.4","line":211,"type":"SPEC","level":"MUST","comment":"This byte string may represent an elliptic curve point\nin uncompressed or compressed format; it MUST conform to what the\nclient has requested through a Supported Point Formats Extension\nif this extension was used.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.6","line":67,"type":"SPEC","level":"MUST","comment":"ECDSA_sign              Certificate MUST contain an\nECDSA-capable public key and\nbe signed with ECDSA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.6","line":75,"type":"SPEC","level":"MUST","comment":"ECDSA_fixed_ECDH        Certificate MUST contain an\nECDH-capable public key on the\nsame elliptic curve as the server's\nlong-term ECDH key.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.6","line":84,"type":"SPEC","level":"MUST","comment":"This certificate\nMUST be signed with ECDSA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.6","line":91,"type":"SPEC","level":"MUST","comment":"RSA_fixed_ECDH          Certificate MUST contain an\nECDH-capable public key on the\nsame elliptic curve as the server's\nlong-term ECDH key.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.6","line":100,"type":"SPEC","level":"MUST","comment":"This certificate\nMUST be signed with RSA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.7","line":65,"type":"SPEC","level":"MUST","comment":"Here, the format MUST\nconform to what the server has requested through a Supported Point\nFormats Extension if this extension was used, and MUST be\nuncompressed if this extension was not used.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.7","line":74,"type":"SPEC","level":"MUST","comment":"Here, the format MUST\nconform to what the server has requested through a Supported Point\nFormats Extension if this extension was used, and MUST be\nuncompressed if this extension was not used.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.9","line":10,"type":"SPEC","level":"MUST","comment":"X.509 certificates containing ECC public keys or signed using ECDSA\nMUST comply with [14] or another RFC that replaces or extends it.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-5.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-5.9","line":17,"type":"SPEC","level":"SHOULD","comment":"Clients SHOULD use the elliptic curve domain parameters recommended\nin ANSI X9.62 [7], FIPS 186-2 [11], and SEC 2 [13].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-6","line":52,"type":"SPEC","level":"SHOULD","comment":"Server implementations SHOULD support all of the following cipher\nsuites, and client implementations SHOULD support at least one of\nthem: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA,\nTLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA,\nTLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, and\nTLS_ECDHE_RSA_WITH_AES_128_CBC_SHA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc4492/section-6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc4492","target_section":"section-6","line":63,"type":"SPEC","level":"SHOULD","comment":"Server implementations SHOULD support all of the following cipher\nsuites, and client implementations SHOULD support at least one of\nthem: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA,\nTLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA,\nTLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, and\nTLS_ECDHE_RSA_WITH_AES_128_CBC_SHA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-A.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-A.5","line":103,"type":"SPEC","level":"MUST","comment":"TLS_NULL_WITH_NULL_NULL is specified and is the initial state of a\nTLS connection during the first handshake on that channel, but MUST\nNOT be negotiated, as it provides no more protection than an\nunsecured connection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-A.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-A.5","line":112,"type":"SPEC","level":"MUST","comment":"Using this mode therefore is of limited use: These\ncipher suites MUST NOT be used by TLS 1.2 implementations unless the\napplication layer has specifically requested to allow anonymous key\nexchange.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.1","line":71,"type":"SPEC","level":"MUST","comment":"If the version chosen by the server is not supported by the client\n(or not acceptable), the client MUST send a \"protocol_version\" alert\nmessage and close the connection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.1","line":79,"type":"SPEC","level":"MUST","comment":"If a TLS server receives a ClientHello containing a version number\ngreater than the highest version supported by the server, it MUST\nreply according to the highest version supported by the server.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.1","line":87,"type":"SPEC","level":"MUST","comment":"If server supports (or is\nwilling to use) only versions greater than client_version, it MUST\nsend a \"protocol_version\" alert message and close the connection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.1","line":95,"type":"SPEC","level":"SHOULD","comment":"Whenever a client already knows the highest protocol version known to\na server (for example, when resuming a session), it SHOULD initiate\nthe connection in that native protocol.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.1","line":103,"type":"SPEC","level":"MUST","comment":"Thus, TLS servers\ncompliant with this specification MUST accept any value {03,XX} as\nthe record layer version number for ClientHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.1","line":111,"type":"SPEC","level":"MAY","comment":"TLS clients that wish to negotiate with older servers MAY send any\nvalue {03,XX} as the record layer version number.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.2","line":85,"type":"SPEC","level":"MUST","comment":"TLS 1.2 clients that wish to support SSL 2.0 servers MUST send\nversion 2.0 CLIENT-HELLO messages defined in [SSL2].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.2","line":92,"type":"SPEC","level":"MUST","comment":"The message\nMUST contain the same version number as would be used for ordinary\nClientHello, and MUST encode the supported TLS cipher suites in the\nCIPHER-SPECS-DATA field as described below.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.2","line":101,"type":"SPEC","level":"MUST","comment":"The message\nMUST contain the same version number as would be used for ordinary\nClientHello, and MUST encode the supported TLS cipher suites in the\nCIPHER-SPECS-DATA field as described below.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.2","line":110,"type":"SPEC","level":"SHOULD","comment":"TLS 1.2 clients SHOULD NOT support SSL 2.0.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.2","line":116,"type":"SPEC","level":"MAY","comment":"However, even TLS servers that do not support SSL 2.0 MAY accept\nversion 2.0 CLIENT-HELLO messages.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.2","line":123,"type":"SPEC","level":"MUST","comment":"Note that this message MUST be sent directly on the\nwire, not wrapped as a TLS record.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.2","line":130,"type":"SPEC","level":"MUST","comment":"msg_length\nThe highest bit MUST be 1; the remaining bits contain the length\nof the following data in bytes.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.2","line":138,"type":"SPEC","level":"MUST","comment":"The value MUST be 1.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.2","line":144,"type":"SPEC","level":"MUST","comment":"It\ncannot be zero and MUST be a multiple of the V2CipherSpec length\n(3).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.2","line":152,"type":"SPEC","level":"MUST","comment":"session_id_length\nThis field MUST have a value of zero for a client that claims to\nsupport TLS 1.2.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.2","line":160,"type":"SPEC","level":"SHOULD","comment":"When using the SSLv2 backward-\ncompatible handshake the client SHOULD use a 32-byte challenge.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.2","line":167,"type":"SPEC","level":"MUST","comment":"session_id\nThis field MUST be empty.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.2","line":174,"type":"SPEC","level":"MUST","comment":"Note: Requests to resume a TLS session MUST use a TLS client hello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.3","line":23,"type":"SPEC","level":"MUST","comment":"When TLS clients fall back to Version 2.0 compatibility mode, they\nMUST use special PKCS#1 block formatting.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.3","line":30,"type":"SPEC","level":"MUST","comment":"When a client negotiates SSL 2.0 but also supports TLS, it MUST set\nthe right-hand (least-significant) 8 random bytes of the PKCS padding\n(not including the terminal null of the padding) for the RSA\nencryption of the ENCRYPTED-KEY-DATA field of the CLIENT-MASTER-KEY\nto 0x03 (the other padding bytes are random).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.3","line":40,"type":"SPEC","level":"SHOULD","comment":"When a TLS-capable server negotiates SSL 2.0 it SHOULD, after\ndecrypting the ENCRYPTED-KEY-DATA field, check that these 8 padding\nbytes are 0x03.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-E.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-E.3","line":48,"type":"SPEC","level":"SHOULD","comment":"If they are not, the server SHOULD generate a random\nvalue for SECRET-KEY-DATA, and continue the handshake (which will\neventually fail since the keys will not match).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-F.1.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-F.1.1.3","line":53,"type":"SPEC","level":"SHOULD","comment":"Implementations SHOULD follow the\nguidelines found in [SUBGROUP].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-F.1.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-F.1.1.3","line":60,"type":"SPEC","level":"SHOULD","comment":"Implementations SHOULD generate a\nnew X for each handshake when using DHE cipher suites.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-F.1.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-F.1.1.3","line":67,"type":"SPEC","level":"SHOULD","comment":"The client SHOULD also verify that the DH public\nexponent appears to be of adequate size.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/appendix-F.1.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"appendix-F.1.1.3","line":74,"type":"SPEC","level":"MAY","comment":"The server MAY choose\nto assist the client by providing a known group, such as those\ndefined in [IKEALG] or [MODP].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-1.2","line":61,"type":"SPEC","level":"MUST","comment":"-  Alerts MUST now be sent in many cases.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-1.2","line":67,"type":"SPEC","level":"MUST","comment":"-  After a certificate_request, if no certificates are available,\nclients now MUST send an empty certificate list.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-1.2","line":74,"type":"SPEC","level":"SHOULD","comment":"-  Support for the SSLv2 backward-compatible hello is now a MAY, not\na SHOULD, with sending it a SHOULD NOT.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-1.2","line":81,"type":"SPEC","level":"SHOULD","comment":"-  Support for the SSLv2 backward-compatible hello is now a MAY, not\na SHOULD, with sending it a SHOULD NOT.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-1.2","line":88,"type":"SPEC","level":"SHOULD","comment":"Support will probably\nbecome a SHOULD NOT in the future.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-4.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-4.7","line":101,"type":"SPEC","level":"MUST","comment":"As\ndiscussed in [PKCS1], the DigestInfo MUST be DER-encoded [X680]\n[X690].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-4.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-4.7","line":109,"type":"SPEC","level":"MUST","comment":"For hash algorithms without parameters (which includes\nSHA-1), the DigestInfo.AlgorithmIdentifier.parameters field MUST be\nNULL, but implementations MUST accept both without parameters and\nwith NULL parameters.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-4.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-4.7","line":118,"type":"SPEC","level":"MUST","comment":"For hash algorithms without parameters (which includes\nSHA-1), the DigestInfo.AlgorithmIdentifier.parameters field MUST be\nNULL, but implementations MUST accept both without parameters and\nwith NULL parameters.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-5","line":56,"type":"SPEC","level":"MAY","comment":"Other cipher suites MAY define their\nown MAC constructions, if needed.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-5","line":63,"type":"SPEC","level":"MUST","comment":"New cipher suites MUST explicitly specify a\nPRF and, in general, SHOULD use the TLS PRF with SHA-256 or a\nstronger standard hash function.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.1","line":140,"type":"SPEC","level":"MUST","comment":"These current states MUST be updated for each\nrecord processed.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.1","line":147,"type":"SPEC","level":"MUST","comment":"The sequence\nnumber MUST be set to zero whenever a connection state is made the\nactive state.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.1","line":155,"type":"SPEC","level":"MUST","comment":"A sequence number is incremented after each\nrecord: specifically, the first record transmitted under a\nparticular connection state MUST use sequence number 0.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.1","line":64,"type":"SPEC","level":"MAY","comment":"Client\nmessage boundaries are not preserved in the record layer (i.e.,\nmultiple client messages of the same ContentType MAY be coalesced\ninto a single TLSPlaintext record, or a single message MAY be\nfragmented across several records).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.1","line":74,"type":"SPEC","level":"MAY","comment":"Client\nmessage boundaries are not preserved in the record layer (i.e.,\nmultiple client messages of the same ContentType MAY be coalesced\ninto a single TLSPlaintext record, or a single message MAY be\nfragmented across several records).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.1","line":84,"type":"SPEC","level":"MUST","comment":"The\nlength MUST NOT exceed 2^14.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.1","line":91,"type":"SPEC","level":"MUST","comment":"Implementations MUST NOT send zero-length fragments of Handshake,\nAlert, or ChangeCipherSpec content types.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.1","line":98,"type":"SPEC","level":"MAY","comment":"Zero-length fragments of\nApplication data MAY be sent as they are potentially useful as a\ntraffic analysis countermeasure.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.1","line":106,"type":"SPEC","level":"MAY","comment":"Note: Data of different TLS record layer content types MAY be\ninterleaved.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.1","line":113,"type":"SPEC","level":"MUST","comment":"However, records MUST be\ndelivered to the network in the same order as they are protected by\nthe record layer.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.1","line":121,"type":"SPEC","level":"MUST","comment":"Recipients MUST receive and process interleaved\napplication layer traffic during handshakes subsequent to the first\none on a connection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.2","line":39,"type":"SPEC","level":"MUST","comment":"If the decompression function encounters a\nTLSCompressed.fragment that would decompress to a length in excess of\n2^14 bytes, it MUST report a fatal decompression failure error.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.2","line":47,"type":"SPEC","level":"MUST","comment":"The length MUST NOT exceed 2^14 + 1024.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.3.2","line":85,"type":"SPEC","level":"MUST","comment":"IV\nThe Initialization Vector (IV) SHOULD be chosen at random, and\nMUST be unpredictable.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.3.2","line":93,"type":"SPEC","level":"MAY","comment":"The\npadding MAY be any length up to 255 bytes, as long as it results\nin the TLSCiphertext.length being an integral multiple of the\nblock length.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.3.2","line":102,"type":"SPEC","level":"MUST","comment":"Each uint8 in the padding data\nvector MUST be filled with the padding length value.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.3.2","line":109,"type":"SPEC","level":"MUST","comment":"The receiver\nMUST check this padding and MUST use the bad_record_mac alert to\nindicate padding errors.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.3.2","line":117,"type":"SPEC","level":"MUST","comment":"The receiver\nMUST check this padding and MUST use the bad_record_mac alert to\nindicate padding errors.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.3.2","line":125,"type":"SPEC","level":"MUST","comment":"padding_length\nThe padding length MUST be such that the total size of the\nGenericBlockCipher structure is a multiple of the cipher's block\nlength.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.3.2","line":134,"type":"SPEC","level":"MUST","comment":"In order to defend against this attack, implementations\nMUST ensure that record processing time is essentially the same\nwhether or not the padding is correct.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.3.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.3.3","line":65,"type":"SPEC","level":"MUST","comment":"Each AEAD cipher suite MUST specify how the nonce supplied to the\nAEAD operation is constructed, and what is the length of the\nGenericAEADCipher.nonce_explicit part.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.3.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.3.3","line":73,"type":"SPEC","level":"SHOULD","comment":"In this case, the implicit part SHOULD be derived\nfrom key_block as client_write_iv and server_write_iv (as described\nin Section 6.3), and the explicit part is included in\nGenericAEAEDCipher.nonce_explicit.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.3.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.3.3","line":82,"type":"SPEC","level":"MUST","comment":"Each\nAEAD cipher MUST NOT produce an expansion of greater than 1024 bytes.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.3.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.3.3","line":89,"type":"SPEC","level":"MUST","comment":"If the decryption fails, a fatal bad_record_mac alert MUST be\ngenerated.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6.2.3","line":35,"type":"SPEC","level":"MUST","comment":"The length MUST NOT exceed 2^14 + 2048.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6","line":37,"type":"SPEC","level":"MUST","comment":"Implementations MUST NOT send record types not defined in this\ndocument unless negotiated by some extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-6","line":44,"type":"SPEC","level":"MUST","comment":"If a TLS\nimplementation receives an unexpected record type, it MUST send an\nunexpected_message alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.1","line":37,"type":"SPEC","level":"MUST","comment":"Immediately after sending this message, the sender MUST instruct the\nrecord layer to make the write pending state the write active state.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.1","line":44,"type":"SPEC","level":"MUST","comment":"However, once the ChangeCipherSpec has been sent, the\nnew CipherSpec MUST be used.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.1","line":51,"type":"SPEC","level":"MAY","comment":"Thus, a small window of time,\nduring which the recipient must buffer the data, MAY exist.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.2.1","line":43,"type":"SPEC","level":"MUST","comment":"The other party MUST respond with a close_notify\nalert of its own and close down the connection immediately,\ndiscarding any pending writes.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.2.1","line":51,"type":"SPEC","level":"MAY","comment":"If the application protocol will not\ntransfer any additional data, but will only close the underlying\ntransport connection, then the implementation MAY choose to close the\ntransport without waiting for the responding close_notify.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.2.2","line":171,"type":"SPEC","level":"MUST","comment":"Servers and clients MUST\nforget any session-identifiers, keys, and secrets associated with a\nfailed connection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.2.2","line":179,"type":"SPEC","level":"MUST","comment":"Thus, any connection terminated with a fatal\nalert MUST NOT be resumed.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.2.2","line":186,"type":"SPEC","level":"MUST","comment":"Whenever an implementation encounters a condition which is defined as\na fatal alert, it MUST send the appropriate alert prior to closing\nthe connection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.2.2","line":194,"type":"SPEC","level":"MAY","comment":"For all errors where an alert level is not\nexplicitly specified, the sending party MAY determine at its\ndiscretion whether to treat this as a fatal error or not.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.2.2","line":202,"type":"SPEC","level":"MUST","comment":"If the\nimplementation chooses to send an alert but intends to close the\nconnection immediately afterwards, it MUST send that alert at the\nfatal alert level.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.2.2","line":211,"type":"SPEC","level":"SHOULD","comment":"If the receiving party decides\nnot to proceed with the connection (e.g., after having received a\nno_renegotiation alert that it is not willing to accept), it SHOULD\nsend a fatal alert to terminate the connection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.2.2","line":220,"type":"SPEC","level":"MUST","comment":"This alert also MUST be returned if an alert is sent because\na TLSCiphertext decrypted in an invalid way: either it wasn't an\neven multiple of the block length, or its padding values, when\nchecked, weren't correct.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.2.2","line":229,"type":"SPEC","level":"MUST","comment":"It MUST\nNOT be sent by compliant implementations.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.2.2","line":236,"type":"SPEC","level":"MUST","comment":"It MUST\nNOT be sent by compliant implementations.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.2.2","line":243,"type":"SPEC","level":"MUST","comment":"It MUST NOT\nbe sent by compliant implementations.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.2","line":52,"type":"SPEC","level":"MUST","comment":"In this case, other connections corresponding to the\nsession may continue, but the session identifier MUST be invalidated,\npreventing the failed session from being used to establish new\nconnections.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.3","line":153,"type":"SPEC","level":"MUST","comment":"This secret MUST be quite long; currently defined key\nexchange methods exchange secrets that range from 46 bytes upwards.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.3","line":160,"type":"SPEC","level":"MUST","comment":"If the server has sent\na CertificateRequest message, the client MUST send the Certificate\nmessage.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.3","line":168,"type":"SPEC","level":"MUST","comment":"(See\nflow chart below.)  Application data MUST NOT be sent prior to the\ncompletion of the first handshake (before a cipher suite other than\nTLS_NULL_WITH_NULL_NULL is established).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.3","line":177,"type":"SPEC","level":"MUST","comment":"At this point, both\nclient and server MUST send ChangeCipherSpec messages and proceed\ndirectly to Finished messages.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.3","line":185,"type":"SPEC","level":"MAY","comment":"Once the re-establishment is\ncomplete, the client and server MAY begin to exchange application\nlayer data.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.1","line":41,"type":"SPEC","level":"MAY","comment":"The HelloRequest message MAY be sent by the server at any time.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.1","line":47,"type":"SPEC","level":"SHOULD","comment":"Servers SHOULD NOT send a\nHelloRequest immediately upon the client's initial connection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.1","line":54,"type":"SPEC","level":"MAY","comment":"This message MAY be ignored by\nthe client if it does not wish to renegotiate a session, or the\nclient may, if it wishes, respond with a no_renegotiation alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.1","line":62,"type":"SPEC","level":"SHOULD","comment":"After sending a HelloRequest, servers SHOULD NOT repeat the\nrequest until the subsequent handshake negotiation is complete.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.1","line":69,"type":"SPEC","level":"MUST","comment":"This message MUST NOT be included in the message hashes that are\nmaintained throughout the handshake and used in the Finished messages\nand the certificate verify message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.2","line":153,"type":"SPEC","level":"MAY","comment":"The session identifier MAY be from an earlier connection,\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.2","line":159,"type":"SPEC","level":"MUST","comment":"Warning: Because the SessionID is transmitted without encryption or\nimmediate MAC protection, servers MUST NOT place confidential\ninformation in session identifiers or let the contents of fake\nsession identifiers cause any breach of security.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.2","line":168,"type":"SPEC","level":"MUST","comment":"If the list contains cipher\nsuites the server does not recognize, support, or wish to use, the\nserver MUST ignore those cipher suites, and process the remaining\nones as usual.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.2","line":177,"type":"SPEC","level":"SHOULD","comment":"This SHOULD be the latest\n(highest valued) version supported by the client.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.2","line":184,"type":"SPEC","level":"MUST","comment":"If the\nsession_id field is not empty (implying a session resumption\nrequest), this vector MUST include at least the cipher_suite from\nthat session.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.2","line":193,"type":"SPEC","level":"MUST","comment":"If the session_id field is not empty\n(implying a session resumption request), it MUST include the\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.2","line":200,"type":"SPEC","level":"MUST","comment":"This vector MUST contain,\nand all implementations MUST support, CompressionMethod.null.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.2","line":207,"type":"SPEC","level":"MUST","comment":"This vector MUST contain,\nand all implementations MUST support, CompressionMethod.null.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.2","line":214,"type":"SPEC","level":"MAY","comment":"extensions\nClients MAY request extended functionality from servers by sending\ndata in the extensions field.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.2","line":222,"type":"SPEC","level":"MUST","comment":"A server MUST accept ClientHello\nmessages both with and without the extensions field, and (as for all\nother messages) it MUST check that the amount of data in the message\nprecisely matches one of these formats; if not, then it MUST send a\nfatal \"decode_error\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.2","line":232,"type":"SPEC","level":"MAY","comment":"In the event that a client requests additional functionality using\nextensions, and this functionality is not supplied by the server, the\nclient MAY abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.2","line":240,"type":"SPEC","level":"MUST","comment":"A server MUST accept ClientHello\nmessages both with and without the extensions field, and (as for all\nother messages) it MUST check that the amount of data in the message\nprecisely matches one of these formats; if not, then it MUST send a\nfatal \"decode_error\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.2","line":250,"type":"SPEC","level":"MUST","comment":"A server MUST accept ClientHello\nmessages both with and without the extensions field, and (as for all\nother messages) it MUST check that the amount of data in the message\nprecisely matches one of these formats; if not, then it MUST send a\nfatal \"decode_error\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.3","line":75,"type":"SPEC","level":"MUST","comment":"random\nThis structure is generated by the server and MUST be\nindependently generated from the ClientHello.random.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.3","line":83,"type":"SPEC","level":"MUST","comment":"Clients MUST be prepared to do a full\nnegotiation -- including negotiating new cipher suites -- during\nany handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.4.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.4.1","line":91,"type":"SPEC","level":"MUST","comment":"It MUST NOT appear in this extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.4.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.4.1","line":97,"type":"SPEC","level":"MAY","comment":"If the client supports only the default hash and signature algorithms\n(listed in this section), it MAY omit the signature_algorithms\nextension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.4.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.4.1","line":105,"type":"SPEC","level":"MUST","comment":"If the client does not support the default algorithms, or\nsupports other hash and signature algorithms (and it is willing to\nuse them for verifying messages sent by the server, i.e., server\ncertificates and server key exchange), it MUST send the\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.4.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.4.1","line":114,"type":"SPEC","level":"MUST","comment":"If the client does not send the signature_algorithms extension, the\nserver MUST do the following:\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.4.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.4.1","line":121,"type":"SPEC","level":"MUST","comment":"Clients MUST NOT offer it if they are offering prior versions.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.4.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.4.1","line":127,"type":"SPEC","level":"MUST","comment":"Servers MUST NOT send this extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.4.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.4.1","line":133,"type":"SPEC","level":"MUST","comment":"TLS servers MUST support\nreceiving this extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.4","line":94,"type":"SPEC","level":"MUST","comment":"An extension type MUST NOT appear in the ServerHello unless the same\nextension type appeared in the corresponding ClientHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.4","line":101,"type":"SPEC","level":"MUST","comment":"If a\nclient receives an extension type in ServerHello that it did not\nrequest in the associated ClientHello, it MUST abort the handshake\nwith an unsupported_extension fatal alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.4","line":110,"type":"SPEC","level":"MAY","comment":"When multiple extensions of different types are present in the\nClientHello or ServerHello messages, the extensions MAY appear in any\norder.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.4","line":118,"type":"SPEC","level":"MUST","comment":"There MUST NOT be more than one extension of the same type.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.1.4","line":124,"type":"SPEC","level":"SHOULD","comment":"Indeed, a client\nthat requests session resumption does not in general know whether the\nserver will accept this request, and therefore it SHOULD send the\nsame extensions as it would send if it were not attempting\nresumption.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":126,"type":"SPEC","level":"MUST","comment":"The server MUST send a Certificate message whenever the agreed-\nupon key exchange method uses certificates for authentication\n(this includes all key exchange methods defined in this document\nexcept DH_anon).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":135,"type":"SPEC","level":"MUST","comment":"The certificate MUST be appropriate for the negotiated cipher\nsuite's key exchange algorithm and any negotiated extensions.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":142,"type":"SPEC","level":"MUST","comment":"The sender's\ncertificate MUST come first in the list.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":149,"type":"SPEC","level":"MUST","comment":"Each following\ncertificate MUST directly certify the one preceding it.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":156,"type":"SPEC","level":"MAY","comment":"Because\ncertificate validation requires that root keys be distributed\nindependently, the self-signed certificate that specifies the root\ncertificate authority MAY be omitted from the chain, under the\nassumption that the remote end must already possess it in order to\nvalidate it in any case.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":167,"type":"SPEC","level":"MAY","comment":"Note that a client MAY\nsend no certificates if it does not have an appropriate certificate\nto send in response to the server's authentication request.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":175,"type":"SPEC","level":"MUST","comment":"-  The certificate type MUST be X.509v3, unless explicitly negotiated\notherwise (e.g., [TLSPGP]).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":182,"type":"SPEC","level":"MUST","comment":"-  The end entity certificate's public key (and associated\nrestrictions) MUST be compatible with the selected key exchange\nalgorithm.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":190,"type":"SPEC","level":"MUST","comment":"RSA                RSA public key; the certificate MUST allow the\nRSA_PSK            key to be used for encryption (the\nkeyEncipherment bit MUST be set if the key\nusage extension is present).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":199,"type":"SPEC","level":"MUST","comment":"RSA                RSA public key; the certificate MUST allow the\nRSA_PSK            key to be used for encryption (the\nkeyEncipherment bit MUST be set if the key\nusage extension is present).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":208,"type":"SPEC","level":"MUST","comment":"DHE_RSA            RSA public key; the certificate MUST allow the\nECDHE_RSA          key to be used for signing (the\ndigitalSignature bit MUST be set if the key\nusage extension is present) with the signature\nscheme and hash algorithm that will be employed\nin the server key exchange message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":219,"type":"SPEC","level":"MUST","comment":"DHE_RSA            RSA public key; the certificate MUST allow the\nECDHE_RSA          key to be used for signing (the\ndigitalSignature bit MUST be set if the key\nusage extension is present) with the signature\nscheme and hash algorithm that will be employed\nin the server key exchange message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":230,"type":"SPEC","level":"MUST","comment":"DHE_DSS            DSA public key; the certificate MUST allow the\nkey to be used for signing with the hash\nalgorithm that will be employed in the server\nkey exchange message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":239,"type":"SPEC","level":"MUST","comment":"DH_DSS             Diffie-Hellman public key; the keyAgreement bit\nDH_RSA             MUST be set if the key usage extension is\npresent.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":247,"type":"SPEC","level":"MUST","comment":"ECDH_ECDSA         ECDH-capable public key; the public key MUST\nECDH_RSA           use a curve and point format supported by the\nclient, as described in [TLSECC].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":255,"type":"SPEC","level":"MUST","comment":"ECDHE_ECDSA        ECDSA-capable public key; the certificate MUST\nallow the key to be used for signing with the\nhash algorithm that will be employed in the\nserver key exchange message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":264,"type":"SPEC","level":"MUST","comment":"The public key\nMUST use a curve and point format supported by\nthe client, as described in  [TLSECC].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":272,"type":"SPEC","level":"MUST","comment":"If the client provided a \"signature_algorithms\" extension, then all\ncertificates provided by the server MUST be signed by a\nhash/signature algorithm pair that appears in that extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":280,"type":"SPEC","level":"MAY","comment":"Note\nthat this implies that a certificate containing a key for one\nsignature algorithm MAY be signed using a different signature\nalgorithm (for instance, an RSA key signed with a DSA key).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":289,"type":"SPEC","level":"MAY","comment":"Fixed DH certificates MAY be\nsigned with any hash/signature algorithm pair appearing in the\nextension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.2","line":297,"type":"SPEC","level":"SHOULD","comment":"If the server has a single certificate, it SHOULD attempt to\nvalidate that it meets these criteria.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.3","line":119,"type":"SPEC","level":"MUST","comment":"Other key exchange algorithms, such as those defined in [TLSECC],\nMUST specify whether the ServerKeyExchange message is sent or not;\nand if the message is sent, its contents.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.3","line":127,"type":"SPEC","level":"MUST","comment":"If the client has offered the \"signature_algorithms\" extension, the\nsignature algorithm and hash algorithm MUST be a pair listed in that\nextension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.3","line":135,"type":"SPEC","level":"MUST","comment":"In\norder to negotiate correctly, the server MUST check any candidate\ncipher suites against the \"signature_algorithms\" extension before\nselecting them.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.3","line":144,"type":"SPEC","level":"MUST","comment":"In addition, the hash and signature algorithms MUST be compatible\nwith the key in the server's end-entity certificate.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.3","line":151,"type":"SPEC","level":"MAY","comment":"RSA keys MAY be\nused with any permitted hash algorithm, subject to restrictions in\nthe certificate, if any.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.4","line":89,"type":"SPEC","level":"MAY","comment":"If\nthe certificate_authorities list is empty, then the client MAY\nsend any certificate of the appropriate ClientCertificateType,\nunless there is some external arrangement to the contrary.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.4","line":98,"type":"SPEC","level":"MUST","comment":"-  Any certificates provided by the client MUST be signed using a\nhash/signature algorithm pair found in\nsupported_signature_algorithms.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.4","line":106,"type":"SPEC","level":"MUST","comment":"-  The end-entity certificate provided by the client MUST contain a\nkey that is compatible with certificate_types.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.4","line":113,"type":"SPEC","level":"MUST","comment":"If the key is a\nsignature key, it MUST be usable with some hash/signature\nalgorithm pair in supported_signature_algorithms.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.4","line":121,"type":"SPEC","level":"MAY","comment":"For\nexample, if the server sends dss_fixed_dh certificate type and\n{{sha1, dsa}, {sha1, rsa}} signature types, the client MAY reply\nwith a certificate containing a static DH key, signed with RSA-\nSHA1.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.5","line":25,"type":"SPEC","level":"SHOULD","comment":"Upon receipt of the ServerHelloDone message, the client SHOULD\nverify that the server provided a valid certificate, if required,\nand check that the server hello parameters are acceptable.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.6","line":81,"type":"SPEC","level":"MUST","comment":"If no suitable certificate is available,\nthe client MUST send a certificate message containing no\ncertificates.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.6","line":89,"type":"SPEC","level":"MAY","comment":"If the client does not send any certificates, the\nserver MAY at its discretion either continue the handshake without\nclient authentication, or respond with a fatal handshake_failure\nalert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.6","line":98,"type":"SPEC","level":"MAY","comment":"Also, if some aspect of the certificate chain was\nunacceptable (e.g., it was not signed by a known, trusted CA), the\nserver MAY at its discretion either continue the handshake\n(considering the client unauthenticated) or send a fatal alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.6","line":107,"type":"SPEC","level":"MUST","comment":"The certificate MUST be appropriate for the negotiated\ncipher suite's key exchange algorithm, and any negotiated\nextensions.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.6","line":115,"type":"SPEC","level":"MUST","comment":"-  The certificate type MUST be X.509v3, unless explicitly negotiated\notherwise (e.g., [TLSPGP]).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.6","line":122,"type":"SPEC","level":"MUST","comment":"rsa_sign            RSA public key; the certificate MUST allow the\nkey to be used for signing with the signature\nscheme and hash algorithm that will be\nemployed in the certificate verify message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.6","line":131,"type":"SPEC","level":"MUST","comment":"dss_sign            DSA public key; the certificate MUST allow the\nkey to be used for signing with the hash\nalgorithm that will be employed in the\ncertificate verify message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.6","line":140,"type":"SPEC","level":"MUST","comment":"ecdsa_sign          ECDSA-capable public key; the certificate MUST\nallow the key to be used for signing with the\nhash algorithm that will be employed in the\ncertificate verify message; the public key\nMUST use a curve and point format supported by\nthe server.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.6","line":151,"type":"SPEC","level":"MUST","comment":"ecdsa_sign          ECDSA-capable public key; the certificate MUST\nallow the key to be used for signing with the\nhash algorithm that will be employed in the\ncertificate verify message; the public key\nMUST use a curve and point format supported by\nthe server.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.6","line":162,"type":"SPEC","level":"MUST","comment":"rsa_fixed_dh        Diffie-Hellman public key; MUST use the same\ndss_fixed_dh        parameters as server's key.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.6","line":169,"type":"SPEC","level":"MUST","comment":"rsa_fixed_ecdh      ECDH-capable public key; MUST use the\necdsa_fixed_ecdh    same curve as the server's key, and MUST use a\npoint format supported by the server.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.6","line":177,"type":"SPEC","level":"MUST","comment":"rsa_fixed_ecdh      ECDH-capable public key; MUST use the\necdsa_fixed_ecdh    same curve as the server's key, and MUST use a\npoint format supported by the server.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.6","line":185,"type":"SPEC","level":"SHOULD","comment":"-  If the certificate_authorities list in the certificate request\nmessage was non-empty, one of the certificates in the certificate\nchain SHOULD be issued by one of the listed CAs.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.6","line":193,"type":"SPEC","level":"MUST","comment":"-  The certificates MUST be signed using an acceptable hash/\nsignature algorithm pair, as described in Section 7.4.4.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.7.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.7.1","line":144,"type":"SPEC","level":"MUST","comment":"Client implementations MUST always send the correct version number in\nPreMasterSecret.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.7.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.7.1","line":151,"type":"SPEC","level":"MUST","comment":"If ClientHello.client_version is TLS 1.1 or higher,\nserver implementations MUST check the version number as described in\nthe note below.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.7.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.7.1","line":159,"type":"SPEC","level":"SHOULD","comment":"If the version number is TLS 1.0 or earlier, server\nimplementations SHOULD check the version number, but MAY have a\nconfiguration option to disable the check.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.7.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.7.1","line":167,"type":"SPEC","level":"SHOULD","comment":"Note that if the check\nfails, the PreMasterSecret SHOULD be randomized as described below.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.7.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.7.1","line":174,"type":"SPEC","level":"SHOULD","comment":"[KPR03] describe some theoretical attacks, and therefore\nthe first construction described is RECOMMENDED.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.7.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.7.1","line":181,"type":"SPEC","level":"MUST","comment":"In any case, a TLS server MUST NOT generate an alert if processing an\nRSA-encrypted premaster secret message fails, or the version number\nis not as expected.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.7.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.7.1","line":189,"type":"SPEC","level":"MUST","comment":"Instead, it MUST continue the handshake with a\nrandomly generated premaster secret.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.7.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.7.1","line":196,"type":"SPEC","level":"MUST","comment":"upgrading from SSLv3 MUST modify their implementations to generate\nand accept the correct encoding.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.7.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.7.1","line":203,"type":"SPEC","level":"MUST","comment":"Accordingly, implementations that use static RSA keys MUST\nuse RSA blinding or some other anti-timing technique, as described in\n[TIMING].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.7.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.7.2","line":37,"type":"SPEC","level":"MUST","comment":"In this\ncase, the client key exchange message will be sent, but it MUST\nbe empty.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.7","line":44,"type":"SPEC","level":"MUST","comment":"It MUST immediately\nfollow the client certificate message, if it is sent.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.7","line":51,"type":"SPEC","level":"MUST","comment":"Otherwise,\nit MUST be the first message sent by the client after it receives\nthe ServerHelloDone message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.7","line":59,"type":"SPEC","level":"MUST","comment":"If the client is sending a certificate containing a static\nDH exponent (i.e., it is doing fixed_dh client authentication),\nthen this message MUST be sent but MUST be empty.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.7","line":67,"type":"SPEC","level":"MUST","comment":"If the client is sending a certificate containing a static\nDH exponent (i.e., it is doing fixed_dh client authentication),\nthen this message MUST be sent but MUST be empty.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.8","line":51,"type":"SPEC","level":"MUST","comment":"When\nsent, it MUST immediately follow the client key exchange message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.8","line":58,"type":"SPEC","level":"MUST","comment":"The hash and signature algorithms used in the signature MUST be\none of those present in the supported_signature_algorithms field\nof the CertificateRequest message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.8","line":66,"type":"SPEC","level":"MUST","comment":"In addition, the hash and\nsignature algorithms MUST be compatible with the key in the\nclient's end-entity certificate.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.8","line":74,"type":"SPEC","level":"MAY","comment":"RSA keys MAY be used with any\npermitted hash algorithm, subject to restrictions in the\ncertificate, if any.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.9","line":75,"type":"SPEC","level":"MUST","comment":"Recipients of Finished\nmessages MUST verify that the contents are correct.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.9","line":82,"type":"SPEC","level":"MUST","comment":"For the PRF\ndefined in Section 5, the Hash MUST be the Hash used as the basis\nfor the PRF.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.9","line":90,"type":"SPEC","level":"MUST","comment":"Any cipher suite which defines a different PRF MUST\nalso define the Hash to use in the Finished computation.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4.9","line":97,"type":"SPEC","level":"MUST","comment":"Future cipher suites MAY specify other lengths but such length\nMUST be at least 12 bytes.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4","line":51,"type":"SPEC","level":"MUST","comment":"The handshake protocol messages are presented below in the order they\nMUST be sent; sending handshake messages in an unexpected order\nresults in a fatal error.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-7.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-7.4","line":59,"type":"SPEC","level":"SHOULD","comment":"The one message that is not bound by these ordering rules\nis the HelloRequest message, which can be sent at any time, but which\nSHOULD be ignored by the client if it arrives in the middle of a\nhandshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5246/section-9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5246","target_section":"section-9","line":10,"type":"SPEC","level":"MUST","comment":"In the absence of an application profile standard specifying\notherwise, a TLS-compliant application MUST implement the cipher\nsuite TLS_RSA_WITH_AES_128_CBC_SHA (see Appendix A.5 for the\ndefinition).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.4","line":34,"type":"SPEC","level":"MUST","comment":"o  The client MUST include either an empty \"renegotiation_info\"\nextension, or the TLS_EMPTY_RENEGOTIATION_INFO_SCSV signaling\ncipher suite value in the ClientHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.4","line":42,"type":"SPEC","level":"SHOULD","comment":"Including both is NOT\nRECOMMENDED.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.4","line":49,"type":"SPEC","level":"MUST","comment":"o  When a ServerHello is received, the client MUST check if it\nincludes the \"renegotiation_info\" extension:\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.4","line":56,"type":"SPEC","level":"MUST","comment":"The client MUST then verify that the length of the\n\"renegotiated_connection\" field is zero, and if it is not, MUST\nabort the handshake (by sending a fatal handshake_failure\nalert).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.4","line":65,"type":"SPEC","level":"MUST","comment":"The client MUST then verify that the length of the\n\"renegotiated_connection\" field is zero, and if it is not, MUST\nabort the handshake (by sending a fatal handshake_failure\nalert).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.5","line":25,"type":"SPEC","level":"MUST","comment":"o  The client MUST include the \"renegotiation_info\" extension in the\nClientHello, containing the saved client_verify_data.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.5","line":32,"type":"SPEC","level":"MUST","comment":"The SCSV\nMUST NOT be included.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.5","line":39,"type":"SPEC","level":"MUST","comment":"o  When a ServerHello is received, the client MUST verify that the\n\"renegotiation_info\" extension is present; if it is not, the\nclient MUST abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.5","line":47,"type":"SPEC","level":"MUST","comment":"o  When a ServerHello is received, the client MUST verify that the\n\"renegotiation_info\" extension is present; if it is not, the\nclient MUST abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.5","line":55,"type":"SPEC","level":"MUST","comment":"o  The client MUST then verify that the first half of the\n\"renegotiated_connection\" field is equal to the saved\nclient_verify_data value, and the second half is equal to the\nsaved server_verify_data value.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.5","line":64,"type":"SPEC","level":"MUST","comment":"If they are not, the client MUST\nabort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.6","line":46,"type":"SPEC","level":"MUST","comment":"o  When a ClientHello is received, the server MUST check if it\nincludes the TLS_EMPTY_RENEGOTIATION_INFO_SCSV SCSV.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.6","line":53,"type":"SPEC","level":"MUST","comment":"o  The server MUST check if the \"renegotiation_info\" extension is\nincluded in the ClientHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.6","line":60,"type":"SPEC","level":"MUST","comment":"The server MUST then verify\nthat the length of the \"renegotiated_connection\" field is zero,\nand if it is not, MUST abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.6","line":68,"type":"SPEC","level":"MUST","comment":"The server MUST then verify\nthat the length of the \"renegotiated_connection\" field is zero,\nand if it is not, MUST abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.6","line":76,"type":"SPEC","level":"MUST","comment":"o  If the secure_renegotiation flag is set to TRUE, the server MUST\ninclude an empty \"renegotiation_info\" extension in the ServerHello\nmessage.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.6","line":84,"type":"SPEC","level":"MUST","comment":"TLS servers implementing this specification MUST ignore any unknown\nextensions offered by the client and they MUST accept version numbers\nhigher than their highest version number and negotiate the highest\ncommon version.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.6","line":93,"type":"SPEC","level":"MUST","comment":"TLS servers implementing this specification MUST ignore any unknown\nextensions offered by the client and they MUST accept version numbers\nhigher than their highest version number and negotiate the highest\ncommon version.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.6","line":102,"type":"SPEC","level":"MUST","comment":"TLS implementations MUST\ncontinue to comply with Section 7.4.1.4 for all other extensions.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.7","line":27,"type":"SPEC","level":"MUST","comment":"o  When a ClientHello is received, the server MUST verify that it\ndoes not contain the TLS_EMPTY_RENEGOTIATION_INFO_SCSV SCSV.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.7","line":34,"type":"SPEC","level":"MUST","comment":"If\nthe SCSV is present, the server MUST abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.7","line":41,"type":"SPEC","level":"MUST","comment":"o  The server MUST verify that the \"renegotiation_info\" extension is\npresent; if it is not, the server MUST abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.7","line":48,"type":"SPEC","level":"MUST","comment":"o  The server MUST verify that the \"renegotiation_info\" extension is\npresent; if it is not, the server MUST abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.7","line":55,"type":"SPEC","level":"MUST","comment":"o  The server MUST verify that the value of the\n\"renegotiated_connection\" field is equal to the saved\nclient_verify_data value; if it is not, the server MUST abort the\nhandshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.7","line":64,"type":"SPEC","level":"MUST","comment":"o  The server MUST verify that the value of the\n\"renegotiated_connection\" field is equal to the saved\nclient_verify_data value; if it is not, the server MUST abort the\nhandshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-3.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-3.7","line":73,"type":"SPEC","level":"MUST","comment":"o  The server MUST include a \"renegotiation_info\" extension\ncontaining the saved client_verify_data and server_verify_data in\nthe ServerHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.1","line":30,"type":"SPEC","level":"MUST","comment":"Such clients MUST\ngenerate a fatal \"handshake_failure\" alert prior to terminating the\nconnection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.2","line":45,"type":"SPEC","level":"SHOULD","comment":"It is RECOMMENDED that clients refuse this\nrenegotiation request.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.2","line":52,"type":"SPEC","level":"MUST","comment":"Clients that do so MUST respond to such\nrequests with a \"no_renegotiation\" alert (RFC 5246 requires this\nalert to be at the \"warning\" level).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.2","line":60,"type":"SPEC","level":"MUST","comment":"If clients nevertheless choose to renegotiate, they\nMUST behave as described below.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.2","line":67,"type":"SPEC","level":"MUST","comment":"Clients that choose to renegotiate MUST provide either the\nTLS_EMPTY_RENEGOTIATION_INFO_SCSV SCSV or \"renegotiation_info\" in\ntheir ClientHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.2","line":75,"type":"SPEC","level":"SHOULD","comment":"Thus,\nit is permitted, though NOT RECOMMENDED, for the client to simply\nsend the SCSV.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.2","line":83,"type":"SPEC","level":"MUST","comment":"When the ServerHello is received, the client MUST verify that it does\nnot contain the \"renegotiation_info\" extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.2","line":90,"type":"SPEC","level":"MUST","comment":"If it does, the\nclient MUST abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.3","line":23,"type":"SPEC","level":"MUST","comment":"In order to enable clients to probe, even servers that do not support\nrenegotiation MUST implement the minimal version of the extension\ndescribed in this document for initial handshakes, thus signaling\nthat they have been upgraded.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.4","line":19,"type":"SPEC","level":"SHOULD","comment":"It is RECOMMENDED that servers not permit legacy renegotiation.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.4","line":25,"type":"SPEC","level":"MUST","comment":"If\nservers nevertheless do permit it, they MUST follow the requirements\nin this section.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.4","line":33,"type":"SPEC","level":"MUST","comment":"o  When a ClientHello is received, the server MUST verify that it\ndoes not contain the TLS_EMPTY_RENEGOTIATION_INFO_SCSV SCSV.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.4","line":40,"type":"SPEC","level":"MUST","comment":"If\nthe SCSV is present, the server MUST abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.4","line":47,"type":"SPEC","level":"MUST","comment":"o  The server MUST verify that the \"renegotiation_info\" extension is\nnot present; if it is, the server MUST abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.4","line":54,"type":"SPEC","level":"MUST","comment":"o  The server MUST verify that the \"renegotiation_info\" extension is\nnot present; if it is, the server MUST abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.5","line":26,"type":"SPEC","level":"MUST","comment":"Clients\nthat support SSLv3 and offer secure renegotiation (either via SCSV or\n\"renegotiation_info\") MUST accept the \"renegotiation_info\" extension\nfrom the server, even if the server version is {0x03, 0x00}, and\nbehave as described in this specification.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.5","line":36,"type":"SPEC","level":"MUST","comment":"TLS servers that support\nsecure renegotiation and support SSLv3 MUST accept SCSV or the\n\"renegotiation_info\" extension and respond as described in this\nspecification even if the offered client version is {0x03, 0x00}.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-4.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-4.5","line":45,"type":"SPEC","level":"SHOULD","comment":"SSLv3 clients that refuse renegotiation SHOULD use a fatal\nhandshake_failure alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-5","line":55,"type":"SPEC","level":"SHOULD","comment":"Servers SHOULD NOT allow\nclients to renegotiate without using this extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5746/section-5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5746","target_section":"section-5","line":62,"type":"SPEC","level":"SHOULD","comment":"TLS implementations SHOULD provide a mechanism to disable and enable\nrenegotiation.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5869/section-3.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5869","target_section":"section-3.3","line":31,"type":"SPEC","level":"SHOULD","comment":"Note, however, that if\nthe IKM is a Diffie-Hellman value, as in the case of TLS with Diffie-\nHellman, then the extract part SHOULD NOT be skipped.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc5869/section-3.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc5869","target_section":"section-3.3","line":39,"type":"SPEC","level":"SHOULD","comment":"This, however, is\nNOT RECOMMENDED, especially because it would omit the use of 'info'\nas part of the derivation process (and adding 'info' as an input to\nthe extract step is not advisable -- see [HKDF-paper]).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-4","line":38,"type":"SPEC","level":"SHOULD","comment":"Clients and servers SHOULD NOT accept handshakes that do not use the\nextended master secret, especially if they rely on features like\ncompound authentication that fall into the vulnerable cases described\nin Section 6.1.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.1","line":19,"type":"SPEC","level":"MUST","comment":"If the client and server agree on this extension and a full handshake\ntakes place, both client and server MUST use the extended master\nsecret derivation algorithm, as defined in Section 4.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.2","line":36,"type":"SPEC","level":"MUST","comment":"In all handshakes, a client implementing this document MUST send the\n\"extended_master_secret\" extension in its ClientHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.2","line":43,"type":"SPEC","level":"MUST","comment":"If a server implementing this document receives the\n\"extended_master_secret\" extension, it MUST include the extension in\nits ServerHello message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.2","line":51,"type":"SPEC","level":"SHOULD","comment":"If the server receives a ClientHello without the extension, it SHOULD\nabort the handshake if it does not wish to interoperate with legacy\nclients.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.2","line":59,"type":"SPEC","level":"MUST","comment":"If it chooses to continue the handshake, then it MUST NOT\ninclude the extension in the ServerHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.2","line":66,"type":"SPEC","level":"SHOULD","comment":"If a client receives a ServerHello without the extension, it SHOULD\nabort the handshake if it does not wish to interoperate with legacy\nservers.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.2","line":74,"type":"SPEC","level":"MUST","comment":"If the client and server choose to continue a full handshake without\nthe extension, they MUST use the standard master secret derivation\nfor the new session.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.3","line":60,"type":"SPEC","level":"SHOULD","comment":"The client SHOULD NOT offer an abbreviated handshake to resume a\nsession that does not use an extended master secret.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.3","line":67,"type":"SPEC","level":"SHOULD","comment":"Instead, it\nSHOULD offer a full handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.3","line":74,"type":"SPEC","level":"MUST","comment":"When offering an abbreviated handshake, the client MUST send the\n\"extended_master_secret\" extension in its ClientHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.3","line":81,"type":"SPEC","level":"MUST","comment":"o  If the original session did not use the \"extended_master_secret\"\nextension but the new ClientHello contains the extension, then the\nserver MUST NOT perform the abbreviated handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.3","line":89,"type":"SPEC","level":"SHOULD","comment":"Instead, it\nSHOULD continue with a full handshake (as described in\nSection 5.2) to negotiate a new session.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.3","line":97,"type":"SPEC","level":"MUST","comment":"o  If the original session used the \"extended_master_secret\"\nextension but the new ClientHello does not contain it, the server\nMUST abort the abbreviated handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.3","line":105,"type":"SPEC","level":"SHOULD","comment":"o  If neither the original session nor the new ClientHello uses the\nextension, the server SHOULD abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.3","line":112,"type":"SPEC","level":"MUST","comment":"o  If the new ClientHello contains the extension and the server\nchooses to continue the handshake, then the server MUST include\nthe \"extended_master_secret\" extension in its ServerHello message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.3","line":120,"type":"SPEC","level":"MUST","comment":"o  If the original session did not use the \"extended_master_secret\"\nextension but the new ServerHello contains the extension, the\nclient MUST abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.3","line":128,"type":"SPEC","level":"MUST","comment":"o  If the original session used the extension but the new ServerHello\ndoes not contain the extension, the client MUST abort the\nhandshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.4","line":41,"type":"SPEC","level":"MUST","comment":"Hence, the client or server MUST NOT\nexport any key material based on the new master secret for any\nsubsequent application-level authentication.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.4","line":49,"type":"SPEC","level":"MUST","comment":"In particular, it MUST\ndisable [RFC5705] and any Extensible Authentication Protocol (EAP)\nrelying on compound authentication [COMPOUND-AUTH].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.4","line":57,"type":"SPEC","level":"MUST","comment":"Hence, the client or server MUST NOT use the current handshake's\n\"verify_data\" for application-level authentication.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.4","line":64,"type":"SPEC","level":"MUST","comment":"In particular,\nthe client MUST disable renegotiation and any use of the \"tls-unique\"\nchannel binding [RFC5929] on the current connection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.4","line":72,"type":"SPEC","level":"MAY","comment":"If the original session uses an extended master secret but the\nClientHello or ServerHello in the abbreviated handshake does not\ninclude the extension, it MAY be safe to continue the abbreviated\nhandshake since it is protected by the extended master secret of the\noriginal session.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-5.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-5.4","line":82,"type":"SPEC","level":"MUST","comment":"Since such situations are unusual and likely\nto be the result of transient or inadvertent misconfigurations, this\ndocument recommends that the client and server MUST abort such\nhandshakes.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-6.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-6.2","line":24,"type":"SPEC","level":"SHOULD","comment":"As such, hash functions such as MD5 or\nSHA1 are NOT RECOMMENDED.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-6.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-6.4","line":18,"type":"SPEC","level":"SHOULD","comment":"Clients and servers\nimplementing this document SHOULD refuse SSL 3.0 handshakes.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc7627/section-6.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc7627","target_section":"section-6.4","line":25,"type":"SPEC","level":"MUST","comment":"If they\nchoose to support SSL 3.0, the resulting sessions MUST use the legacy\nmaster secret computation, and the interoperability considerations of\nSection 5.4 apply.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-2.1","line":20,"type":"SPEC","level":"MUST","comment":"In ECDHE_ECDSA, the server's certificate MUST contain an ECDSA- or\nEdDSA-capable public key.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-2.1","line":27,"type":"SPEC","level":"MUST","comment":"These\nparameters MUST be signed with ECDSA or EdDSA using the private key\ncorresponding to the public key in the server's Certificate.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-2.2","line":10,"type":"SPEC","level":"MUST","comment":"This key exchange algorithm is the same as ECDHE_ECDSA except that\nthe server's certificate MUST contain an RSA public key authorized\nfor signing and the signature in the ServerKeyExchange message must\nbe computed with the corresponding RSA private key.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-2.3","line":26,"type":"SPEC","level":"MUST","comment":"In ECDH_anon, the server's Certificate, the CertificateRequest, the\nclient's Certificate, and the CertificateVerify messages MUST NOT be\nsent.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-2.3","line":34,"type":"SPEC","level":"MUST","comment":"The server MUST send an ephemeral ECDH public key and a specification\nof the corresponding curve in the ServerKeyExchange message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-2.3","line":41,"type":"SPEC","level":"MUST","comment":"These\nparameters MUST NOT be signed.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-2","line":76,"type":"SPEC","level":"SHOULD","comment":"Applications using TLS\nwith this algorithm SHOULD provide authentication by other means.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-3.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-3.1","line":12,"type":"SPEC","level":"MUST","comment":"To use this authentication mechanism, the client MUST possess a\ncertificate containing an ECDSA- or EdDSA-capable public key.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-3","line":36,"type":"SPEC","level":"SHOULD","comment":"If these conditions are not met, the client SHOULD send a client\nCertificate message containing no certificates.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-3","line":43,"type":"SPEC","level":"MUST","comment":"In this case, the\nClientKeyExchange MUST be sent as described in Section 2, and the\nCertificateVerify MUST NOT be sent.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-3","line":51,"type":"SPEC","level":"MUST","comment":"In this case, the\nClientKeyExchange MUST be sent as described in Section 2, and the\nCertificateVerify MUST NOT be sent.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-4","line":42,"type":"SPEC","level":"SHOULD","comment":"A TLS client that proposes ECC cipher suites in its ClientHello\nmessage SHOULD include these extensions.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-4","line":49,"type":"SPEC","level":"MUST","comment":"Servers implementing ECC\ncipher suites MUST support these extensions, and when a client uses\nthese extensions, servers MUST NOT negotiate the use of an ECC cipher\nsuite unless they can complete the handshake while respecting the\nchoice of curves specified by the client.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-4","line":59,"type":"SPEC","level":"MUST","comment":"Servers implementing ECC\ncipher suites MUST support these extensions, and when a client uses\nthese extensions, servers MUST NOT negotiate the use of an ECC cipher\nsuite unless they can complete the handshake while respecting the\nchoice of curves specified by the client.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-4","line":69,"type":"SPEC","level":"MUST","comment":"The client MUST NOT include these extensions in the ClientHello\nmessage if it does not propose any ECC cipher suites.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.1.2","line":42,"type":"SPEC","level":"MUST","comment":"Implementations of this document MUST support the\nuncompressed format for all of their supported curves and MUST NOT\nsupport other formats for curves defined in this specification.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.1.2","line":50,"type":"SPEC","level":"MUST","comment":"Implementations of this document MUST support the\nuncompressed format for all of their supported curves and MUST NOT\nsupport other formats for curves defined in this specification.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.1.2","line":58,"type":"SPEC","level":"MAY","comment":"For\nbackwards compatibility purposes, the point format list extension MAY\nstill be included and contain exactly one value: the uncompressed\npoint format (0).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.1.2","line":67,"type":"SPEC","level":"MUST","comment":"If the client sends the extension and the extension does not contain\nthe uncompressed point format, and the client has used the Supported\nGroups extension to indicate support for any of the curves defined in\nthis specification, then the server MUST abort the handshake and\nreturn an illegal_parameter alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.1.2","line":77,"type":"SPEC","level":"MUST","comment":"A client compliant with this specification that supports no other\ncurves MUST send the following octets; note that the first two octets\nindicate the extension type (Supported Point Formats Extension):\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.1","line":72,"type":"SPEC","level":"SHOULD","comment":"The extensions SHOULD be sent along with any ClientHello message that\nproposes ECC cipher suites.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.1","line":79,"type":"SPEC","level":"SHOULD","comment":"Clients\nSHOULD send both the Supported Elliptic Curves Extension and the\nSupported Point Formats Extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.1","line":87,"type":"SPEC","level":"MUST","comment":"If the Supported Point Formats\nExtension is indeed sent, it MUST contain the value 0 (uncompressed)\nas one of the items in the list of point formats.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.1","line":95,"type":"SPEC","level":"MUST","comment":"A server that receives a ClientHello containing one or both of these\nextensions MUST use the client's enumerated capabilities to guide its\nselection of an appropriate cipher suite.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.1","line":103,"type":"SPEC","level":"MUST","comment":"The\nserver MUST consider the extensions in both cases.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.1","line":110,"type":"SPEC","level":"MUST","comment":"If a server does not understand the Supported Elliptic Curves\nExtension, does not understand the Supported Point Formats Extension,\nor is unable to complete the ECC handshake while restricting itself\nto the enumerated curves and point formats, it MUST NOT negotiate the\nuse of an ECC cipher suite.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.10","line":62,"type":"SPEC","level":"MUST","comment":"Element to Octet String Conversion Primitive), has constant length\nfor any given field; leading zeros found in this octet string MUST\nNOT be truncated.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.10","line":70,"type":"SPEC","level":"MUST","comment":"An ECDHE key exchange using X25519 (curve x25519) goes as follows:\n(1) each party picks a secret key d uniformly at random and computes\nthe corresponding public key x = X25519(d, G); (2) parties exchange\ntheir public keys and compute a shared secret as x_S = X25519(d,\nx_peer); and (3), if either party obtains all-zeroes x_S, it MUST\nabort the handshake (as required by definition of X25519 and X448).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.10","line":81,"type":"SPEC","level":"MUST","comment":"All ECDSA computations MUST be performed according to ANSI X9.62 or\nits successors.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.10","line":88,"type":"SPEC","level":"MUST","comment":"A secure hash function such as SHA-256, SHA-384, or SHA-512 from\n[FIPS.180-4] MUST be used.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.10","line":95,"type":"SPEC","level":"MUST","comment":"All EdDSA computations MUST be performed according to [RFC8032] or\nits successors.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.10","line":102,"type":"SPEC","level":"MUST","comment":"The context parameter for Ed448 MUST be\nset to the empty string.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.10","line":109,"type":"SPEC","level":"MUST","comment":"EdDSA signatures MUST have HashAlgorithm of 8\n(Intrinsic).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.11","line":21,"type":"SPEC","level":"MUST","comment":"With the NIST curves, each party MUST validate the public key sent by\nits peer in the ClientKeyExchange and ServerKeyExchange messages.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.11","line":28,"type":"SPEC","level":"MUST","comment":"A\nreceiving party MUST check that the x and y parameters from the\npeer's public value satisfy the curve equation, y^2 = x^3 + ax + b\nmod p.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.11","line":37,"type":"SPEC","level":"MUST","comment":"With X25519 and X448, a receiving party MUST check whether the\ncomputed premaster secret is the all-zero value and abort the\nhandshake if so, as described in Section 6 of [RFC7748].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.2","line":51,"type":"SPEC","level":"MAY","comment":"Note\nthat the server MAY include items that were not found in the client's\nlist.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.2","line":59,"type":"SPEC","level":"MUST","comment":"The Supported\nPoint Formats Extension, when used, MUST contain the value 0\n(uncompressed) as one of the items in the list of point formats.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.2","line":67,"type":"SPEC","level":"MUST","comment":"A client that receives a ServerHello message containing a Supported\nPoint Formats Extension MUST respect the server's choice of point\nformats during the handshake (cf.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.3","line":54,"type":"SPEC","level":"MUST","comment":"ECC\npublic keys MUST be encoded in certificates as described in\nSection 5.9.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.3","line":62,"type":"SPEC","level":"MUST","comment":"+-------------+-----------------------------------------------------+\n| Algorithm   | Server Certificate Type                             |\n+-------------+-----------------------------------------------------+\n| ECDHE_ECDSA | Certificate MUST contain an ECDSA- or EdDSA-capable |\n|             | public key.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.3","line":72,"type":"SPEC","level":"MUST","comment":"|\n| ECDHE_RSA   | Certificate MUST contain an RSA public key.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.3","line":79,"type":"SPEC","level":"MUST","comment":"certificate MUST respect the client's choice of elliptic curves.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.3","line":85,"type":"SPEC","level":"MUST","comment":"A\nserver that cannot satisfy this requirement MUST NOT choose an ECC\ncipher suite in its ServerHello message.)\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.4","line":167,"type":"SPEC","level":"MUST","comment":"This structure MUST NOT be used with Ed25519 and\nEd448 public keys.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.6","line":41,"type":"SPEC","level":"MUST","comment":"The certificate MUST\ncontain an ECDSA- or EdDSA-capable public key.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.9","line":18,"type":"SPEC","level":"MUST","comment":"X.509 certificates containing ECC public keys or signed using ECDSA\nMUST comply with [RFC3279] or another RFC that replaces or extends\nit.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.9","line":26,"type":"SPEC","level":"MUST","comment":"X.509 certificates containing ECC public keys or signed using\nEdDSA MUST comply with [RFC8410].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.9","line":33,"type":"SPEC","level":"SHOULD","comment":"Clients SHOULD use the elliptic\ncurve domain parameters recommended in ANSI X9.62, FIPS 186-4, and\nSEC 2 [SECG-SEC2], or in [RFC8032].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.9","line":41,"type":"SPEC","level":"MUST","comment":"EdDSA keys using the Ed25519 algorithm MUST use the ed25519 signature\nalgorithm, and Ed448 keys MUST use the ed448 signature algorithm.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.9","line":48,"type":"SPEC","level":"MUST","comment":"EdDSA keys using the Ed25519 algorithm MUST use the ed25519 signature\nalgorithm, and Ed448 keys MUST use the ed448 signature algorithm.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-5.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-5.9","line":55,"type":"SPEC","level":"MUST","comment":"Ed25519, Ed25519ph, Ed448, and Ed448ph keys MUST NOT be used\nwith ECDSA.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-6","line":51,"type":"SPEC","level":"SHOULD","comment":"Server implementations SHOULD support all of the following cipher\nsuites, and client implementations SHOULD support at least one of\nthem:\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8422/section-6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8422","target_section":"section-6","line":59,"type":"SPEC","level":"SHOULD","comment":"Server implementations SHOULD support all of the following cipher\nsuites, and client implementations SHOULD support at least one of\nthem:\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-A.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-A.1","line":41,"type":"SPEC","level":"SHOULD","comment":"If clients need to send such alerts, they\nSHOULD first rekey to the handshake keys if possible.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-B.3.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-B.3.1.4","line":39,"type":"SPEC","level":"MUST","comment":"Values within \"obsolete_RESERVED\" ranges are used in previous\nversions of TLS and MUST NOT be offered or negotiated by TLS 1.3\nimplementations.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-B.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-B","line":11,"type":"SPEC","level":"MUST","comment":"TLS 1.3 implementations MUST NOT send them but might receive them\nfrom older TLS implementations.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-C.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-C.1","line":25,"type":"SPEC","level":"SHOULD","comment":"It is RECOMMENDED to use\nan existing CSPRNG implementation in preference to crafting a new\none.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-C.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-C.2","line":17,"type":"SPEC","level":"SHOULD","comment":"Applications SHOULD also enforce minimum and maximum key sizes.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-C.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-C.3","line":77,"type":"SPEC","level":"SHOULD","comment":"-  Do you use a strong and, most importantly, properly seeded random\nnumber generator (see Appendix C.1) when generating Diffie-Hellman\nprivate values, the ECDSA \"k\" parameter, and other security-\ncritical values?  It is RECOMMENDED that implementations implement\n\"deterministic ECDSA\" as specified in [RFC6979].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-C.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-C.4","line":14,"type":"SPEC","level":"SHOULD","comment":"Clients SHOULD NOT reuse a ticket for multiple connections.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-C.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-C.4","line":20,"type":"SPEC","level":"SHOULD","comment":"Servers that issue tickets SHOULD offer at least as many tickets as\nthe number of connections that a client might use; for example, a web\nbrowser using HTTP/1.1 [RFC7230] might open six connections to a\nserver.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-C.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-C.4","line":29,"type":"SPEC","level":"SHOULD","comment":"Servers SHOULD issue new tickets with every connection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-C.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-C.5","line":27,"type":"SPEC","level":"MUST","comment":"If no such mechanism is used, then the connection has no\nprotection against active man-in-the-middle attack; applications\nMUST NOT use TLS in such a way absent explicit configuration or a\nspecific application profile.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.1","line":31,"type":"SPEC","level":"SHOULD","comment":"A client using a ticket for resumption SHOULD initiate the connection\nusing the version that was previously negotiated.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.1","line":38,"type":"SPEC","level":"SHOULD","comment":"Note that 0-RTT data is not compatible with older servers and\nSHOULD NOT be sent absent knowledge that the server supports TLS 1.3.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.1","line":45,"type":"SPEC","level":"MUST","comment":"If the version chosen by the server is not supported by the client\n(or is not acceptable), the client MUST abort the handshake with a\n\"protocol_version\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.1","line":53,"type":"SPEC","level":"SHOULD","comment":"Multiple connection attempts may be required\nin order to negotiate a backward-compatible connection; however, this\npractice is vulnerable to downgrade attacks and is NOT RECOMMENDED.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.2","line":23,"type":"SPEC","level":"MUST","comment":"If the\n\"supported_versions\" extension is present, the server MUST negotiate\nusing that extension as described in Section 4.2.1.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.2","line":31,"type":"SPEC","level":"MUST","comment":"If the\n\"supported_versions\" extension is not present, the server MUST\nnegotiate the minimum of ClientHello.legacy_version and TLS 1.2.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.2","line":39,"type":"SPEC","level":"MUST","comment":"If the \"supported_versions\" extension is absent and the\nserver only supports versions greater than\nClientHello.legacy_version, the server MUST abort the handshake with\na \"protocol_version\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.2","line":48,"type":"SPEC","level":"MUST","comment":"Servers will receive various\nTLS 1.x versions in this field, but its value MUST always be ignored.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.3","line":23,"type":"SPEC","level":"MUST","comment":"A client that attempts to send 0-RTT data MUST fail a connection if\nit receives a ServerHello with TLS 1.2 or older.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.3","line":30,"type":"SPEC","level":"SHOULD","comment":"To avoid a downgrade attack, the\nclient SHOULD NOT disable TLS 1.3, only 0-RTT.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.3","line":37,"type":"SPEC","level":"SHOULD","comment":"To avoid this error condition, multi-server deployments SHOULD ensure\na uniform and stable deployment of TLS 1.3 without 0-RTT prior to\nenabling 0-RTT.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.4","line":37,"type":"SPEC","level":"MUST","comment":"change_cipher_spec at any time during the handshake, as they must be\nignored by the peer, but if the client sends a non-empty session ID,\nthe server MUST send the change_cipher_spec as described in this\nappendix.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.5","line":45,"type":"SPEC","level":"SHOULD","comment":"Implementations negotiating the use of older versions of TLS SHOULD\nprefer forward secret and AEAD cipher suites, when available.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.5","line":52,"type":"SPEC","level":"MUST","comment":"Implementations MUST NOT offer or\nnegotiate RC4 cipher suites for any version of TLS for any reason.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.5","line":59,"type":"SPEC","level":"MUST","comment":"Ciphers with a strength less than 112 bits MUST NOT be offered or\nnegotiated for any version of TLS for any reason.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.5","line":66,"type":"SPEC","level":"MUST","comment":"The security of SSL 3.0 [RFC6101] is considered insufficient for the\nreasons enumerated in [RFC7568], and it MUST NOT be negotiated for\nany reason.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.5","line":74,"type":"SPEC","level":"MUST","comment":"The security of SSL 2.0 [SSL2] is considered insufficient for the\nreasons enumerated in [RFC6176], and it MUST NOT be negotiated for\nany reason.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.5","line":82,"type":"SPEC","level":"MUST","comment":"Implementations MUST NOT send an SSL version 2.0 compatible\nCLIENT-HELLO.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.5","line":89,"type":"SPEC","level":"MUST","comment":"Implementations MUST NOT negotiate TLS 1.3 or later\nusing an SSL version 2.0 compatible CLIENT-HELLO.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.5","line":96,"type":"SPEC","level":"SHOULD","comment":"Implementations\nare NOT RECOMMENDED to accept an SSL version 2.0 compatible\nCLIENT-HELLO in order to negotiate older versions of TLS.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.5","line":104,"type":"SPEC","level":"MUST","comment":"Implementations MUST NOT send a ClientHello.legacy_version or\nServerHello.legacy_version set to 0x0300 or less.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.5","line":111,"type":"SPEC","level":"MUST","comment":"Any endpoint\nreceiving a Hello message with ClientHello.legacy_version or\nServerHello.legacy_version set to 0x0300 MUST abort the handshake\nwith a \"protocol_version\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.5","line":120,"type":"SPEC","level":"MUST","comment":"Implementations MUST NOT send any records with a version less than\n0x0300.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.5","line":127,"type":"SPEC","level":"SHOULD","comment":"Implementations SHOULD NOT accept any records with a version\nless than 0x0300 (but may inadvertently do so if the record version\nnumber is ignored completely).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D.5","line":135,"type":"SPEC","level":"MUST","comment":"Implementations MUST NOT use the Truncated HMAC extension, defined in\nSection 7 of [RFC6066], as it is not applicable to AEAD algorithms\nand has been shown to be insecure in some scenarios.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D","line":44,"type":"SPEC","level":"MUST","comment":"The value of\nTLSPlaintext.legacy_record_version MUST be ignored by all\nimplementations.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D","line":52,"type":"SPEC","level":"MAY","comment":"The value of TLSCiphertext.legacy_record_version is\nincluded in the additional data for deprotection but MAY otherwise be\nignored or MAY be validated to match the fixed constant value.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D","line":60,"type":"SPEC","level":"MAY","comment":"The value of TLSCiphertext.legacy_record_version is\nincluded in the additional data for deprotection but MAY otherwise be\nignored or MAY be validated to match the fixed constant value.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D","line":68,"type":"SPEC","level":"SHOULD","comment":"In order to maximize\ninteroperability with older endpoints, implementations that negotiate\nthe use of TLS 1.0-1.2 SHOULD set the record layer version number to\nthe negotiated version for the ServerHello and all records\nthereafter.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D","line":78,"type":"SPEC","level":"SHOULD","comment":"For maximum compatibility with previously non-standard behavior and\nmisconfigured deployments, all implementations SHOULD support\nvalidation of certification paths based on the expectations in this\ndocument, even when handling prior TLS versions' handshakes (see\nSection 4.4.2.2).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-D.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-D","line":88,"type":"SPEC","level":"SHOULD","comment":"Because TLS 1.3 always hashes in the transcript\nup to the server Finished, implementations which support both TLS 1.3\nand earlier versions SHOULD indicate the use of the Extended Master\nSecret extension in their APIs whenever TLS 1.3 is used.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-E.1.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-E.1.1","line":29,"type":"SPEC","level":"SHOULD","comment":"This ordering should always be followed\n(including in future revisions of this document); in particular, one\nSHOULD NOT use an output of HKDF-Extract as an input to another\napplication of HKDF-Extract without an HKDF-Expand in between.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-E.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-E.1.4","line":16,"type":"SPEC","level":"SHOULD","comment":"However, because these secrets can be used to compute any\nexporter value, they SHOULD be erased as soon as possible.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-E.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-E.1.4","line":23,"type":"SPEC","level":"SHOULD","comment":"If the\ntotal set of exporter labels is known, then implementations SHOULD\npre-compute the inner Derive-Secret stage of the exporter computation\nfor all those labels, then erase the [early_]exporter_master_secret,\nfollowed by each inner value as soon as it is known that it will not\nbe needed again.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-E.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-E.1","line":158,"type":"SPEC","level":"MUST","comment":"Implementations\nMUST NOT combine external PSKs with certificate-based authentication\nof either the client or the server unless negotiated by some\nextension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-E.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-E.1","line":167,"type":"SPEC","level":"MUST","comment":"Note: Exporters can produce arbitrary-length values; if exporters are\nto be used as channel bindings, the exported value MUST be large\nenough to provide collision resistance.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-E.5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-E.5.1","line":17,"type":"SPEC","level":"SHOULD","comment":"In addition, the early exporter SHOULD NOT be used to generate\nserver-to-client encryption keys because that would entail the reuse\nof those keys.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-E.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-E.5","line":77,"type":"SPEC","level":"MUST","comment":"Because clients\ndo not know the exact details of server behavior, they MUST NOT send\nmessages in early data which are not safe to have replayed and which\nthey would not be willing to retry across multiple 1-RTT connections.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-E.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-E.5","line":86,"type":"SPEC","level":"MUST","comment":"Application protocols MUST NOT use 0-RTT data without a profile that\ndefines its use.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-E.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-E.5","line":93,"type":"SPEC","level":"MUST","comment":"In addition, to avoid accidental misuse, TLS implementations MUST NOT\nenable 0-RTT (either sending or accepting) unless specifically\nrequested by the application and MUST NOT automatically resend 0-RTT\ndata if it is rejected by the server unless instructed by the\napplication.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-E.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-E.5","line":103,"type":"SPEC","level":"MUST","comment":"In addition, to avoid accidental misuse, TLS implementations MUST NOT\nenable 0-RTT (either sending or accepting) unless specifically\nrequested by the application and MUST NOT automatically resend 0-RTT\ndata if it is rejected by the server unless instructed by the\napplication.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/appendix-E.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"appendix-E.5","line":113,"type":"SPEC","level":"MUST","comment":"In order to allow applications to implement this kind of\nprocessing, TLS implementations MUST provide a way for the\napplication to determine if the handshake has completed.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-11","line":108,"type":"SPEC","level":"MUST","comment":"IESG Approval is REQUIRED for a Y->N transition.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-11","line":114,"type":"SPEC","level":"MUST","comment":"IESG Approval is REQUIRED\nfor a Y->N transition.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-2.1","line":44,"type":"SPEC","level":"MUST","comment":"If no\ncommon cryptographic parameters can be negotiated, the server MUST\nabort the handshake with an appropriate alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-2.2","line":85,"type":"SPEC","level":"SHOULD","comment":"When a client offers\nresumption via a PSK, it SHOULD also supply a \"key_share\" extension\nto the server to allow the server to decline resumption and fall back\nto a full handshake, if needed.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-2.2","line":94,"type":"SPEC","level":"MUST","comment":"When PSKs are provisioned out of band, the PSK identity and the KDF\nhash algorithm to be used with the PSK MUST also be provisioned.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-2","line":152,"type":"SPEC","level":"MUST","comment":"If (EC)DHE key establishment\nis in use, then the ServerHello contains a \"key_share\" extension with\nthe server's ephemeral Diffie-Hellman share; the server's share MUST\nbe in the same group as one of the client's shares.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-2","line":161,"type":"SPEC","level":"MUST","comment":"Application Data MUST NOT be sent prior to sending the Finished\nmessage, except as specified in Section 2.3.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.1","line":68,"type":"SPEC","level":"MUST","comment":"If there is no overlap between the received\n\"supported_groups\" and the groups supported by the server, then the\nserver MUST abort the handshake with a \"handshake_failure\" or an\n\"insufficient_security\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.1","line":77,"type":"SPEC","level":"MUST","comment":"If the server selects a PSK, then it MUST also select a key\nestablishment mode from the set indicated by the client's\n\"psk_key_exchange_modes\" extension (at present, PSK alone or with\n(EC)DHE).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.1","line":86,"type":"SPEC","level":"MUST","comment":"If the server selects an (EC)DHE group and the client did not offer a\ncompatible \"key_share\" extension in the initial ClientHello, the\nserver MUST respond with a HelloRetryRequest (Section 4.1.4) message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.1","line":94,"type":"SPEC","level":"MUST","comment":"If the server is unable to negotiate a supported set of parameters\n(i.e., there is no overlap between the client and server parameters),\nit MUST abort the handshake with either a \"handshake_failure\" or\n\"insufficient_security\" fatal alert (see Section 6).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":144,"type":"SPEC","level":"MUST","comment":"When a client first connects to a server, it is REQUIRED to send the\nClientHello as its first TLS message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":151,"type":"SPEC","level":"MUST","comment":"In that case, the client MUST send the same\nClientHello without modification, except as follows:\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":158,"type":"SPEC","level":"MUST","comment":"Because TLS 1.3 forbids renegotiation, if a server has negotiated\nTLS 1.3 and receives a ClientHello at any other time, it MUST\nterminate the connection with an \"unexpected_message\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":166,"type":"SPEC","level":"MUST","comment":"If a server established a TLS connection with a previous version of\nTLS and receives a TLS 1.3 ClientHello in a renegotiation, it MUST\nretain the previous protocol version.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":174,"type":"SPEC","level":"MUST","comment":"In particular, it MUST NOT\nnegotiate TLS 1.3.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":181,"type":"SPEC","level":"MUST","comment":"In\nTLS 1.3, the client indicates its version preferences in the\n\"supported_versions\" extension (Section 4.2.1) and the\nlegacy_version field MUST be set to 0x0303, which is the version\nnumber for TLS 1.2.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":191,"type":"SPEC","level":"SHOULD","comment":"A client which has a\ncached session ID set by a pre-TLS 1.3 server SHOULD set this\nfield to that value.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":199,"type":"SPEC","level":"MUST","comment":"In compatibility mode (see Appendix D.4),\nthis field MUST be non-empty, so a client not offering a\npre-TLS 1.3 session MUST generate a new 32-byte value.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":207,"type":"SPEC","level":"MUST","comment":"In compatibility mode (see Appendix D.4),\nthis field MUST be non-empty, so a client not offering a\npre-TLS 1.3 session MUST generate a new 32-byte value.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":215,"type":"SPEC","level":"SHOULD","comment":"This value\nneed not be random but SHOULD be unpredictable to avoid\nimplementations fixating on a specific value (also known as\nossification).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":224,"type":"SPEC","level":"MUST","comment":"Otherwise, it MUST be set as a zero-length vector\n(i.e., a zero-valued single byte length field).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":231,"type":"SPEC","level":"MUST","comment":"If the list contains cipher suites that the server\ndoes not recognize, support, or wish to use, the server MUST\nignore those cipher suites and process the remaining ones as\nusual.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":240,"type":"SPEC","level":"SHOULD","comment":"If the client is attempting a PSK key establishment, it\nSHOULD advertise at least one cipher suite indicating a Hash\nassociated with the PSK.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":248,"type":"SPEC","level":"MUST","comment":"For every TLS 1.3 ClientHello, this vector\nMUST contain exactly one byte, set to zero, which corresponds to\nthe \"null\" compression method in prior versions of TLS.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":256,"type":"SPEC","level":"MUST","comment":"If a\nTLS 1.3 ClientHello is received with any other value in this\nfield, the server MUST abort the handshake with an\n\"illegal_parameter\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":265,"type":"SPEC","level":"MUST","comment":"Note that TLS 1.3 servers might\nreceive TLS 1.2 or prior ClientHellos which contain other\ncompression methods and (if negotiating such a prior version) MUST\nfollow the procedures for the appropriate prior version of TLS.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":274,"type":"SPEC","level":"MUST","comment":"Servers MUST ignore unrecognized extensions.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":280,"type":"SPEC","level":"MUST","comment":"If negotiating a version of TLS prior to 1.3,\na server MUST check that the message either contains no data after\nlegacy_compression_methods or that it contains a valid extensions\nblock with no data following.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":289,"type":"SPEC","level":"MUST","comment":"If not, then it MUST abort the\nhandshake with a \"decode_error\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":296,"type":"SPEC","level":"MAY","comment":"In the event that a client requests additional functionality using\nextensions and this functionality is not supplied by the server, the\nclient MAY abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":113,"type":"SPEC","level":"MUST","comment":"In TLS 1.3, the TLS server indicates\nits version using the \"supported_versions\" extension\n(Section 4.2.1), and the legacy_version field MUST be set to\n0x0303, which is the version number for TLS 1.2.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":122,"type":"SPEC","level":"MUST","comment":"The last 8 bytes MUST be\noverwritten as described below if negotiating TLS 1.2 or TLS 1.1,\nbut the remaining bytes MUST be random.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":130,"type":"SPEC","level":"MUST","comment":"The last 8 bytes MUST be\noverwritten as described below if negotiating TLS 1.2 or TLS 1.1,\nbut the remaining bytes MUST be random.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":138,"type":"SPEC","level":"MUST","comment":"This structure is\ngenerated by the server and MUST be generated independently of the\nClientHello.random.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":146,"type":"SPEC","level":"MUST","comment":"A client which\nreceives a legacy_session_id_echo field that does not match what\nit sent in the ClientHello MUST abort the handshake with an\n\"illegal_parameter\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":155,"type":"SPEC","level":"MUST","comment":"A client which receives a\ncipher suite that was not offered MUST abort the handshake with an\n\"illegal_parameter\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":163,"type":"SPEC","level":"MUST","comment":"legacy_compression_method:  A single byte which MUST have the\nvalue 0.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":170,"type":"SPEC","level":"MUST","comment":"The ServerHello MUST only include\nextensions which are required to establish the cryptographic\ncontext and negotiate the protocol version.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":178,"type":"SPEC","level":"MUST","comment":"All TLS 1.3\nServerHello messages MUST contain the \"supported_versions\"\nextension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":186,"type":"SPEC","level":"MUST","comment":"Upon receiving a message with type server_hello, implementations MUST\nfirst examine the Random value and, if it matches this value, process\nit as described in Section 4.1.4).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":194,"type":"SPEC","level":"MUST","comment":"TLS 1.3 servers which negotiate TLS 1.2 or below in\nresponse to a ClientHello MUST set the last 8 bytes of their Random\nvalue specially in their ServerHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":202,"type":"SPEC","level":"MUST","comment":"If negotiating TLS 1.2, TLS 1.3 servers MUST set the last 8 bytes of\ntheir Random value to the bytes:\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":209,"type":"SPEC","level":"MUST","comment":"If negotiating TLS 1.1 or below, TLS 1.3 servers MUST, and TLS 1.2\nservers SHOULD, set the last 8 bytes of their ServerHello.Random\nvalue to the bytes:\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":217,"type":"SPEC","level":"MUST","comment":"TLS 1.3 clients receiving a ServerHello indicating TLS 1.2 or below\nMUST check that the last 8 bytes are not equal to either of these\nvalues.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":225,"type":"SPEC","level":"SHOULD","comment":"TLS 1.2 clients SHOULD also check that the last 8 bytes are\nnot equal to the second value if the ServerHello indicates TLS 1.1 or\nbelow.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":233,"type":"SPEC","level":"MUST","comment":"If a match is found, the client MUST abort the handshake with\nan \"illegal_parameter\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.3","line":240,"type":"SPEC","level":"MUST","comment":"A legacy TLS client performing renegotiation with TLS 1.2 or prior\nand which receives a TLS 1.3 ServerHello during renegotiation MUST\nabort the handshake with a \"protocol_version\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.4","line":64,"type":"SPEC","level":"MUST","comment":"The server's extensions MUST contain \"supported_versions\".\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.4","line":70,"type":"SPEC","level":"SHOULD","comment":"Additionally, it SHOULD contain the minimal set of extensions\nnecessary for the client to generate a correct ClientHello pair.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.4","line":77,"type":"SPEC","level":"MUST","comment":"As\nwith the ServerHello, a HelloRetryRequest MUST NOT contain any\nextensions that were not first offered by the client in its\nClientHello, with the exception of optionally the \"cookie\" (see\nSection 4.2.2) extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.4","line":87,"type":"SPEC","level":"MUST","comment":"Upon receipt of a HelloRetryRequest, the client MUST check the\nlegacy_version, legacy_session_id_echo, cipher_suite, and\nlegacy_compression_method as specified in Section 4.1.3 and then\nprocess the extensions, starting with determining the version using\n\"supported_versions\".\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.4","line":97,"type":"SPEC","level":"MUST","comment":"Clients MUST abort the handshake with an\n\"illegal_parameter\" alert if the HelloRetryRequest would not result\nin any change in the ClientHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.4","line":105,"type":"SPEC","level":"MUST","comment":"If a client receives a second\nHelloRetryRequest in the same connection (i.e., where the ClientHello\nwas itself in response to a HelloRetryRequest), it MUST abort the\nhandshake with an \"unexpected_message\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.4","line":114,"type":"SPEC","level":"MUST","comment":"Otherwise, the client MUST process all extensions in the\nHelloRetryRequest and send a second updated ClientHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.4","line":121,"type":"SPEC","level":"MUST","comment":"A client which receives a cipher suite that was not offered MUST\nabort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.4","line":128,"type":"SPEC","level":"MUST","comment":"Servers MUST ensure that they negotiate the\nsame cipher suite when receiving a conformant updated ClientHello (if\nthe server selects the cipher suite as the first step in the\nnegotiation, then this will happen automatically).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.4","line":137,"type":"SPEC","level":"MUST","comment":"Upon receiving\nthe ServerHello, clients MUST check that the cipher suite supplied in\nthe ServerHello is the same as that in the HelloRetryRequest and\notherwise abort the handshake with an \"illegal_parameter\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.4","line":146,"type":"SPEC","level":"SHOULD","comment":"In addition, in its updated ClientHello, the client SHOULD NOT offer\nany pre-shared keys associated with a hash other than that of the\nselected cipher suite.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.4","line":154,"type":"SPEC","level":"MUST","comment":"The value of selected_version in the HelloRetryRequest\n\"supported_versions\" extension MUST be retained in the ServerHello,\nand a client MUST abort the handshake with an \"illegal_parameter\"\nalert if the value changes.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.1.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.4","line":163,"type":"SPEC","level":"MUST","comment":"The value of selected_version in the HelloRetryRequest\n\"supported_versions\" extension MUST be retained in the ServerHello,\nand a client MUST abort the handshake with an \"illegal_parameter\"\nalert if the value changes.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":61,"type":"SPEC","level":"MUST","comment":"Implementations of this specification MUST send this extension in the\nClientHello containing all versions of TLS which they are prepared to\nnegotiate (for this specification, that means minimally 0x0304, but\nif previous versions of TLS are allowed to be negotiated, they MUST\nbe present as well).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":71,"type":"SPEC","level":"MUST","comment":"Implementations of this specification MUST send this extension in the\nClientHello containing all versions of TLS which they are prepared to\nnegotiate (for this specification, that means minimally 0x0304, but\nif previous versions of TLS are allowed to be negotiated, they MUST\nbe present as well).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":81,"type":"SPEC","level":"MUST","comment":"If this extension is not present, servers which are compliant with\nthis specification and which also support TLS 1.2 MUST negotiate\nTLS 1.2 or prior as specified in [RFC5246], even if\nClientHello.legacy_version is 0x0304 or later.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":90,"type":"SPEC","level":"MAY","comment":"Servers MAY abort the\nhandshake upon receiving a ClientHello with legacy_version 0x0304 or\nlater.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":98,"type":"SPEC","level":"MUST","comment":"If this extension is present in the ClientHello, servers MUST NOT use\nthe ClientHello.legacy_version value for version negotiation and MUST\nuse only the \"supported_versions\" extension to determine client\npreferences.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":107,"type":"SPEC","level":"MUST","comment":"If this extension is present in the ClientHello, servers MUST NOT use\nthe ClientHello.legacy_version value for version negotiation and MUST\nuse only the \"supported_versions\" extension to determine client\npreferences.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":116,"type":"SPEC","level":"MUST","comment":"Servers MUST only select a version of TLS present in\nthat extension and MUST ignore any unknown versions that are present\nin that extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":124,"type":"SPEC","level":"MUST","comment":"Servers MUST only select a version of TLS present in\nthat extension and MUST ignore any unknown versions that are present\nin that extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":132,"type":"SPEC","level":"MUST","comment":"Servers MUST be prepared to\nreceive ClientHellos that include this extension but do not include\n0x0304 in the list of versions.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":140,"type":"SPEC","level":"SHOULD","comment":"Implementations of TLS 1.3 which choose to support prior\nversions of TLS SHOULD support TLS 1.2.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":147,"type":"SPEC","level":"MUST","comment":"A server which negotiates a version of TLS prior to TLS 1.3 MUST set\nServerHello.version and MUST NOT send the \"supported_versions\"\nextension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":155,"type":"SPEC","level":"MUST","comment":"A server which negotiates a version of TLS prior to TLS 1.3 MUST set\nServerHello.version and MUST NOT send the \"supported_versions\"\nextension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":163,"type":"SPEC","level":"MUST","comment":"A server which negotiates TLS 1.3 MUST respond by sending\na \"supported_versions\" extension containing the selected version\nvalue (0x0304).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":171,"type":"SPEC","level":"MUST","comment":"It MUST set the ServerHello.legacy_version field to\n0x0303 (TLS 1.2).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":178,"type":"SPEC","level":"MUST","comment":"Clients MUST check for this extension prior to\nprocessing the rest of the ServerHello (although they will have to\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":185,"type":"SPEC","level":"MUST","comment":"If this\nextension is present, clients MUST ignore the\nServerHello.legacy_version value and MUST use only the\n\"supported_versions\" extension to determine the selected version.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":194,"type":"SPEC","level":"MUST","comment":"If this\nextension is present, clients MUST ignore the\nServerHello.legacy_version value and MUST use only the\n\"supported_versions\" extension to determine the selected version.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.1","line":203,"type":"SPEC","level":"MUST","comment":"If\nthe \"supported_versions\" extension in the ServerHello contains a\nversion not offered by the client or contains a version prior to\nTLS 1.3, the client MUST abort the handshake with an\n\"illegal_parameter\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.10","line":131,"type":"SPEC","level":"MUST","comment":"If the\nclient opts to do so, it MUST supply both the \"pre_shared_key\" and\n\"early_data\" extensions.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.10","line":139,"type":"SPEC","level":"MUST","comment":"The PSK used to encrypt the\nearly data MUST be the first PSK listed in the client's\n\"pre_shared_key\" extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.10","line":147,"type":"SPEC","level":"MUST","comment":"For PSKs provisioned via NewSessionTicket, a server MUST validate\nthat the ticket age for the selected PSK identity (computed by\nsubtracting ticket_age_add from PskIdentity.obfuscated_ticket_age\nmodulo 2^32) is within a small tolerance of the time since the ticket\nwas issued (see Section 8).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.10","line":157,"type":"SPEC","level":"SHOULD","comment":"If it is not, the server SHOULD proceed\nwith the handshake but reject 0-RTT, and SHOULD NOT take any other\naction that assumes that this ClientHello is fresh.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.10","line":165,"type":"SPEC","level":"SHOULD","comment":"If it is not, the server SHOULD proceed\nwith the handshake but reject 0-RTT, and SHOULD NOT take any other\naction that assumes that this ClientHello is fresh.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.10","line":173,"type":"SPEC","level":"MUST","comment":"A server which receives an \"early_data\" extension MUST behave in one\nof three ways:\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.10","line":180,"type":"SPEC","level":"MUST","comment":"A client MUST NOT include the\n\"early_data\" extension in its followup ClientHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.10","line":187,"type":"SPEC","level":"MUST","comment":"In order to accept early data, the server MUST have accepted a PSK\ncipher suite and selected the first key offered in the client's\n\"pre_shared_key\" extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.10","line":195,"type":"SPEC","level":"MUST","comment":"In addition, it MUST verify that the\nfollowing values are the same as those associated with the\nselected PSK:\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.10","line":203,"type":"SPEC","level":"MUST","comment":"Future extensions MUST define their interaction with 0-RTT.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.10","line":209,"type":"SPEC","level":"MUST","comment":"If any of these checks fail, the server MUST NOT respond with the\nextension and must discard all the first-flight data using one of the\nfirst two mechanisms listed above (thus falling back to 1-RTT or\n2-RTT).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.10","line":218,"type":"SPEC","level":"MUST","comment":"If the server chooses to accept the \"early_data\" extension, then it\nMUST comply with the same error-handling requirements specified for\nall records when processing early data records.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.10","line":226,"type":"SPEC","level":"MUST","comment":"Specifically, if the\nserver fails to decrypt a 0-RTT record following an accepted\n\"early_data\" extension, it MUST terminate the connection with a\n\"bad_record_mac\" alert as per Section 5.2.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.10","line":235,"type":"SPEC","level":"MAY","comment":"If the server rejects the \"early_data\" extension, the client\napplication MAY opt to retransmit the Application Data previously\nsent in early data once the handshake has been completed.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.10","line":243,"type":"SPEC","level":"SHOULD","comment":"A TLS implementation SHOULD NOT automatically resend early data;\napplications are in a better position to decide when retransmission\nis appropriate.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.10.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.10","line":251,"type":"SPEC","level":"MUST","comment":"A TLS implementation MUST NOT automatically resend\nearly data unless the negotiated connection selects the same ALPN\nprotocol.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11.1","line":19,"type":"SPEC","level":"MUST","comment":"Clients MUST NOT attempt to\nuse tickets which have ages greater than the \"ticket_lifetime\" value\nwhich was provided with the ticket.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11.3","line":13,"type":"SPEC","level":"MUST","comment":"In order to avoid deadlocks,\nwhen accepting \"early_data\", servers MUST process the client's\nClientHello and then immediately send their flight of messages,\nrather than waiting for the client's EndOfEarlyData message before\nsending its ServerHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":113,"type":"SPEC","level":"MUST","comment":"For identities\nestablished externally, an obfuscated_ticket_age of 0 SHOULD be\nused, and servers MUST ignore the value.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":121,"type":"SPEC","level":"MUST","comment":"For externally established PSKs, the Hash algorithm MUST be set when\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":127,"type":"SPEC","level":"MUST","comment":"The server MUST ensure that it selects a compatible PSK\n(if any) and cipher suite.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":134,"type":"SPEC","level":"SHOULD","comment":"Clients, however, SHOULD\nstore the SNI with the PSK to fulfill the requirements of\nSection 4.6.1.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":142,"type":"SPEC","level":"SHOULD","comment":"Any unknown PSKs (e.g., ones\nnot in the PSK database or encrypted with an unknown key) SHOULD\nsimply be ignored.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":150,"type":"SPEC","level":"SHOULD","comment":"If no acceptable PSKs are found, the server\nSHOULD perform a non-PSK handshake if possible.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":157,"type":"SPEC","level":"SHOULD","comment":"If backward\ncompatibility is important, client-provided, externally established\nPSKs SHOULD influence cipher suite selection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":165,"type":"SPEC","level":"MUST","comment":"Prior to accepting PSK key establishment, the server MUST validate\nthe corresponding binder value (see Section 4.2.11.2 below).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":172,"type":"SPEC","level":"MUST","comment":"If this\nvalue is not present or does not validate, the server MUST abort the\nhandshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":180,"type":"SPEC","level":"SHOULD","comment":"Servers SHOULD NOT attempt to validate multiple binders;\nrather, they SHOULD select a single PSK and validate solely the\nbinder that corresponds to that PSK.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":188,"type":"SPEC","level":"SHOULD","comment":"Servers SHOULD NOT attempt to validate multiple binders;\nrather, they SHOULD select a single PSK and validate solely the\nbinder that corresponds to that PSK.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":196,"type":"SPEC","level":"MUST","comment":"Clients MUST verify that the server's selected_identity is within the\nrange supplied by the client, that the server selected a cipher suite\nindicating a Hash associated with the PSK, and that a server\n\"key_share\" extension is present if required by the ClientHello\n\"psk_key_exchange_modes\" extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":206,"type":"SPEC","level":"MUST","comment":"If these values are not\nconsistent, the client MUST abort the handshake with an\n\"illegal_parameter\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":214,"type":"SPEC","level":"MUST","comment":"If the server supplies an \"early_data\" extension, the client MUST\nverify that the server's selected_identity is 0.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":221,"type":"SPEC","level":"MUST","comment":"If any other value\nis returned, the client MUST abort the handshake with an\n\"illegal_parameter\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":229,"type":"SPEC","level":"MUST","comment":"The \"pre_shared_key\" extension MUST be the last extension in the\nClientHello (this facilitates implementation as described below).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.11.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.11","line":236,"type":"SPEC","level":"MUST","comment":"Servers MUST check that it is the last extension and otherwise fail\nthe handshake with an \"illegal_parameter\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.2","line":37,"type":"SPEC","level":"MAY","comment":"When sending a HelloRetryRequest, the server MAY provide a \"cookie\"\nextension to the client (this is an exception to the usual rule that\nthe only extensions that may be sent are those that appear in the\nClientHello).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.2","line":46,"type":"SPEC","level":"MUST","comment":"When sending the new ClientHello, the client MUST copy\nthe contents of the extension received in the HelloRetryRequest into\na \"cookie\" extension in the new ClientHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.2","line":54,"type":"SPEC","level":"MUST","comment":"Clients MUST NOT use\ncookies in their initial ClientHello in subsequent connections.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.2","line":61,"type":"SPEC","level":"MUST","comment":"Servers operating statelessly MUST ignore these records.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":172,"type":"SPEC","level":"MUST","comment":"The keys found in certificates MUST also\nbe of appropriate type for the signature algorithms they are used\nwith.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":180,"type":"SPEC","level":"MUST","comment":"Clients which desire the\nserver to authenticate itself via a certificate MUST send the\n\"signature_algorithms\" extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":188,"type":"SPEC","level":"MUST","comment":"If a server is authenticating via\na certificate and the client has not sent a \"signature_algorithms\"\nextension, then the server MUST abort the handshake with a\n\"missing_extension\" alert (see Section 9.2).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":197,"type":"SPEC","level":"SHOULD","comment":"TLS 1.2 implementations SHOULD also process this extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":203,"type":"SPEC","level":"MAY","comment":"Implementations which have the same policy in both cases MAY omit the\n\"signature_algorithms_cert\" extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":210,"type":"SPEC","level":"MAY","comment":"These values refer solely to signatures\nwhich appear in certificates (see Section 4.4.2.2) and are not\ndefined for use in signed TLS handshake messages, although they\nMAY appear in \"signature_algorithms\" and\n\"signature_algorithms_cert\" for backward compatibility with\nTLS 1.2.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":221,"type":"SPEC","level":"MUST","comment":"The length of the Salt MUST be equal to the length of the output\nof the digest algorithm.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":228,"type":"SPEC","level":"MUST","comment":"If the public key is carried in an X.509\ncertificate, it MUST use the rsaEncryption OID [RFC5280].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":235,"type":"SPEC","level":"MUST","comment":"The length of the Salt MUST be equal to the length of the digest\nalgorithm.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":242,"type":"SPEC","level":"MUST","comment":"If the public key is carried in an X.509 certificate,\nit MUST use the RSASSA-PSS OID [RFC5756].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":249,"type":"SPEC","level":"MUST","comment":"When used in\ncertificate signatures, the algorithm parameters MUST be DER\nencoded.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":257,"type":"SPEC","level":"MUST","comment":"If the corresponding public key's parameters are\npresent, then the parameters in the signature MUST be identical to\nthose in the public key.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":265,"type":"SPEC","level":"MAY","comment":"These values refer solely to\nsignatures which appear in certificates (see Section 4.4.2.2) and\nare not defined for use in signed TLS handshake messages, although\nthey MAY appear in \"signature_algorithms\" and\n\"signature_algorithms_cert\" for backward compatibility with\nTLS 1.2.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":276,"type":"SPEC","level":"SHOULD","comment":"Endpoints SHOULD NOT negotiate these algorithms but are\npermitted to do so solely for backward compatibility.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":283,"type":"SPEC","level":"MUST","comment":"Clients\noffering these values MUST list them as the lowest priority\n(listed after all other algorithms in SignatureSchemeList).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":291,"type":"SPEC","level":"MUST","comment":"TLS 1.3 servers MUST NOT offer a SHA-1 signed certificate unless\nno valid certificate chain can be produced without it (see\nSection 4.4.2.2).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":299,"type":"SPEC","level":"MAY","comment":"A certificate that\nbegins a certification path MAY use a signature algorithm that is not\nadvertised as being supported in the \"signature_algorithms\"\nextension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":308,"type":"SPEC","level":"MUST","comment":"TLS 1.3\nimplementations willing to negotiate TLS 1.2 MUST behave in\naccordance with the requirements of [RFC5246] when negotiating that\nversion.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":317,"type":"SPEC","level":"MAY","comment":"-  TLS 1.2 ClientHellos MAY omit this extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":323,"type":"SPEC","level":"MUST","comment":"They MUST NOT be offered or negotiated by any\nimplementation.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":330,"type":"SPEC","level":"MUST","comment":"In particular, MD5 [SLOTH], SHA-224, and DSA\nMUST NOT be used.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":337,"type":"SPEC","level":"MUST","comment":"If TLS 1.2 is negotiated, implementations MUST be prepared\nto accept a signature that uses any curve that they advertised in\nthe \"supported_groups\" extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.3","line":345,"type":"SPEC","level":"MUST","comment":"-  Implementations that advertise support for RSASSA-PSS (which is\nmandatory in TLS 1.3) MUST be prepared to accept a signature using\nthat scheme even when TLS 1.2 is negotiated.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.4","line":35,"type":"SPEC","level":"SHOULD","comment":"The \"certificate_authorities\" extension is used to indicate the\ncertificate authorities (CAs) which an endpoint supports and which\nSHOULD be used by the receiving endpoint to guide certificate\nselection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.4","line":44,"type":"SPEC","level":"MAY","comment":"The client MAY send the \"certificate_authorities\" extension in the\nClientHello message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.4","line":51,"type":"SPEC","level":"MAY","comment":"The server MAY send it in the\nCertificateRequest message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.5","line":57,"type":"SPEC","level":"MUST","comment":"This extension, if provided by the server, MUST only be sent\nin the CertificateRequest message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.5","line":64,"type":"SPEC","level":"MUST","comment":"If the server has included a non-empty\nfilters list, the client certificate included in the response MUST\ncontain all of the specified extension OIDs that the client\nrecognizes.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.5","line":73,"type":"SPEC","level":"MUST","comment":"For each extension OID recognized by the client, all\nof the specified values MUST be present in the client certificate\n(but the certificate MAY have other values as well).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.5","line":81,"type":"SPEC","level":"MUST","comment":"However, the\nclient MUST ignore and skip any unrecognized certificate extension\nOIDs.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.5","line":89,"type":"SPEC","level":"MAY","comment":"If the client ignored some of the required certificate\nextension OIDs and supplied a certificate that does not satisfy\nthe request, the server MAY at its discretion either continue the\nconnection without client authentication or abort the handshake\nwith an \"unsupported_certificate\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.5","line":99,"type":"SPEC","level":"MUST","comment":"Any given OID MUST NOT\nappear more than once in the filters list.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.5","line":106,"type":"SPEC","level":"MUST","comment":"The\nspecial anyExtendedKeyUsage OID MUST NOT be used in the request.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.6","line":16,"type":"SPEC","level":"MUST","comment":"Servers MUST NOT send a post-handshake CertificateRequest to clients\nwhich do not offer this extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.6","line":23,"type":"SPEC","level":"MUST","comment":"Servers MUST NOT send this\nextension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.7","line":62,"type":"SPEC","level":"MUST","comment":"Clients MUST NOT act upon any information\nfound in \"supported_groups\" prior to successful completion of the\nhandshake but MAY use the information learned from a successfully\ncompleted handshake to change what groups they use in their\n\"key_share\" extension in subsequent connections.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.7","line":72,"type":"SPEC","level":"SHOULD","comment":"If the server has a\ngroup it prefers to the ones in the \"key_share\" extension but is\nstill willing to accept the ClientHello, it SHOULD send\n\"supported_groups\" to update the client's view of its preferences;\nthis extension SHOULD contain all groups the server supports,\nregardless of whether they are currently supported by the client.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.7.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.7","line":83,"type":"SPEC","level":"SHOULD","comment":"If the server has a\ngroup it prefers to the ones in the \"key_share\" extension but is\nstill willing to accept the ClientHello, it SHOULD send\n\"supported_groups\" to update the client's view of its preferences;\nthis extension SHOULD contain all groups the server supports,\nregardless of whether they are currently supported by the client.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8.1","line":19,"type":"SPEC","level":"MUST","comment":"Peers MUST validate each other's public key Y by ensuring that 1 < Y\n< p-1.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8.2","line":43,"type":"SPEC","level":"MUST","comment":"For the curves secp256r1, secp384r1, and secp521r1, peers MUST\nvalidate each other's public value Q by ensuring that the point is a\nvalid point on the elliptic curve.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":101,"type":"SPEC","level":"MAY","comment":"Clients MAY send an empty client_shares vector in order to request\ngroup selection from the server, at the cost of an additional round\ntrip (see Section 4.1.4).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":109,"type":"SPEC","level":"MAY","comment":"This vector MAY be empty if the client is requesting a\nHelloRetryRequest.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":116,"type":"SPEC","level":"MUST","comment":"Each KeyShareEntry value MUST correspond to a\ngroup offered in the \"supported_groups\" extension and MUST appear in\nthe same order.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":124,"type":"SPEC","level":"MUST","comment":"Each KeyShareEntry value MUST correspond to a\ngroup offered in the \"supported_groups\" extension and MUST appear in\nthe same order.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":132,"type":"SPEC","level":"MAY","comment":"However, the values MAY be a non-contiguous subset\nof the \"supported_groups\" extension and MAY omit the most preferred\ngroups.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":140,"type":"SPEC","level":"MAY","comment":"However, the values MAY be a non-contiguous subset\nof the \"supported_groups\" extension and MAY omit the most preferred\ngroups.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":148,"type":"SPEC","level":"MUST","comment":"The\nkey_exchange values for each KeyShareEntry MUST be generated\nindependently.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":156,"type":"SPEC","level":"MUST","comment":"Clients MUST NOT offer multiple KeyShareEntry values\nfor the same group.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":163,"type":"SPEC","level":"MUST","comment":"Clients MUST NOT offer any KeyShareEntry values\nfor groups not listed in the client's \"supported_groups\" extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":170,"type":"SPEC","level":"MAY","comment":"Servers MAY check for violations of these rules and abort the\nhandshake with an \"illegal_parameter\" alert if one is violated.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":177,"type":"SPEC","level":"MUST","comment":"Upon receipt of this extension in a HelloRetryRequest, the client\nMUST verify that (1) the selected_group field corresponds to a group\nwhich was provided in the \"supported_groups\" extension in the\noriginal ClientHello and (2) the selected_group field does not\ncorrespond to a group which was provided in the \"key_share\" extension\nin the original ClientHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":188,"type":"SPEC","level":"MUST","comment":"If either of these checks fails, then\nthe client MUST abort the handshake with an \"illegal_parameter\"\nalert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":196,"type":"SPEC","level":"MUST","comment":"Otherwise, when sending the new ClientHello, the client MUST\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":202,"type":"SPEC","level":"MUST","comment":"This value MUST be in the same\ngroup as the KeyShareEntry value offered by the client that the\nserver has selected for the negotiated key exchange.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":210,"type":"SPEC","level":"MUST","comment":"Servers\nMUST NOT send a KeyShareEntry for any group not indicated in the\nclient's \"supported_groups\" extension and MUST NOT send a\nKeyShareEntry when using the \"psk_ke\" PskKeyExchangeMode.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":219,"type":"SPEC","level":"MUST","comment":"Servers\nMUST NOT send a KeyShareEntry for any group not indicated in the\nclient's \"supported_groups\" extension and MUST NOT send a\nKeyShareEntry when using the \"psk_ke\" PskKeyExchangeMode.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":228,"type":"SPEC","level":"MUST","comment":"If using\n(EC)DHE key establishment and a HelloRetryRequest containing a\n\"key_share\" extension was received by the client, the client MUST\nverify that the selected NamedGroup in the ServerHello is the same as\nthat in the HelloRetryRequest.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.8","line":238,"type":"SPEC","level":"MUST","comment":"If this check fails, the client MUST\nabort the handshake with an \"illegal_parameter\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.9","line":41,"type":"SPEC","level":"MUST","comment":"In order to use PSKs, clients MUST also send a\n\"psk_key_exchange_modes\" extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.9","line":48,"type":"SPEC","level":"MUST","comment":"A client MUST provide a \"psk_key_exchange_modes\" extension if it\noffers a \"pre_shared_key\" extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.9","line":55,"type":"SPEC","level":"MUST","comment":"If clients offer\n\"pre_shared_key\" without a \"psk_key_exchange_modes\" extension,\nservers MUST abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.9","line":63,"type":"SPEC","level":"MUST","comment":"Servers MUST NOT select a key\nexchange mode that is not listed by the client.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.9","line":70,"type":"SPEC","level":"SHOULD","comment":"Servers SHOULD NOT\nsend NewSessionTicket with tickets that are not compatible with the\nadvertised modes; however, if a server does so, the impact will just\nbe that the client's attempts at resumption fail.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.9","line":79,"type":"SPEC","level":"MUST","comment":"The server MUST NOT send a \"psk_key_exchange_modes\" extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.9","line":85,"type":"SPEC","level":"MUST","comment":"In this mode, the server\nMUST NOT supply a \"key_share\" value.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.9.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2.9","line":92,"type":"SPEC","level":"MUST","comment":"In this mode, the\nclient and server MUST supply \"key_share\" values as described in\nSection 4.2.8.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2","line":159,"type":"SPEC","level":"MAY","comment":"The server sends extension requests in the\nCertificateRequest message which a client MAY respond to with a\nCertificate message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2","line":167,"type":"SPEC","level":"MAY","comment":"The server MAY also send unsolicited extensions\nin the NewSessionTicket, though the client does not respond directly\nto these.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2","line":175,"type":"SPEC","level":"MUST","comment":"Implementations MUST NOT send extension responses if the remote\nendpoint did not send the corresponding extension requests, with the\nexception of the \"cookie\" extension in the HelloRetryRequest.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2","line":183,"type":"SPEC","level":"MUST","comment":"Upon\nreceiving such an extension, an endpoint MUST abort the handshake\nwith an \"unsupported_extension\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2","line":191,"type":"SPEC","level":"MUST","comment":"If an implementation receives an extension\nwhich it recognizes and which is not specified for the message in\nwhich it appears, it MUST abort the handshake with an\n\"illegal_parameter\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2","line":200,"type":"SPEC","level":"MUST","comment":"When multiple extensions of different types are present, the\nextensions MAY appear in any order, with the exception of\n\"pre_shared_key\" (Section 4.2.11) which MUST be the last extension in\nthe ClientHello (but can appear anywhere in the ServerHello\nextensions block).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.2","line":210,"type":"SPEC","level":"MUST","comment":"There MUST NOT be more than one extension of the\nsame type in a given extension block.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.3.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.3.1","line":26,"type":"SPEC","level":"MUST","comment":"In all handshakes, the server MUST send the EncryptedExtensions\nmessage immediately after the ServerHello message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.3.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.3.1","line":33,"type":"SPEC","level":"MUST","comment":"The client MUST check EncryptedExtensions for the\npresence of any forbidden extensions and if any are found MUST abort\nthe handshake with an \"illegal_parameter\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.3.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.3.1","line":41,"type":"SPEC","level":"MUST","comment":"The client MUST check EncryptedExtensions for the\npresence of any forbidden extensions and if any are found MUST abort\nthe handshake with an \"illegal_parameter\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.3.2","line":47,"type":"SPEC","level":"MAY","comment":"A server which is authenticating with a certificate MAY optionally\nrequest a certificate from the client.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.3.2","line":54,"type":"SPEC","level":"MUST","comment":"This message, if sent, MUST\nfollow EncryptedExtensions.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.3.2","line":61,"type":"SPEC","level":"MUST","comment":"The certificate_request_context MUST be\nunique within the scope of this connection (thus preventing replay\nof client CertificateVerify messages).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.3.2","line":69,"type":"SPEC","level":"MUST","comment":"This field SHALL be zero\nlength unless used for the post-handshake authentication exchanges\ndescribed in Section 4.6.2.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.3.2","line":77,"type":"SPEC","level":"SHOULD","comment":"When requesting post-handshake\nauthentication, the server SHOULD make the context unpredictable\nto the client (e.g., by randomly generating it) in order to\nprevent an attacker who has temporary access to the client's\nprivate key from pre-computing valid CertificateVerify messages.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.3.2","line":87,"type":"SPEC","level":"MUST","comment":"The \"signature_algorithms\" extension\nMUST be specified, and other extensions may optionally be included\nif defined for this message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.3.2","line":95,"type":"SPEC","level":"MUST","comment":"Clients MUST ignore unrecognized\nextensions.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.3.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.3.2","line":102,"type":"SPEC","level":"MUST","comment":"Servers which are authenticating with a PSK MUST NOT send the\nCertificateRequest message in the main handshake, though they MAY\nsend it in post-handshake authentication (see Section 4.6.2) provided\nthat the client has sent the \"post_handshake_auth\" extension (see\nSection 4.2.6).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.1","line":35,"type":"SPEC","level":"MUST","comment":"Specifically, the body of the\n\"status_request\" extension from the server MUST be a\nCertificateStatus structure as defined in [RFC6066], which is\ninterpreted as defined in [RFC6960].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.1","line":44,"type":"SPEC","level":"MUST","comment":"TLS 1.3 servers MUST NOT act upon its presence or information in it\nwhen processing ClientHello messages; in particular, they MUST NOT\nsend the status_request_v2 extension in the EncryptedExtensions,\nCertificateRequest, or Certificate messages.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.1","line":53,"type":"SPEC","level":"MUST","comment":"TLS 1.3 servers MUST NOT act upon its presence or information in it\nwhen processing ClientHello messages; in particular, they MUST NOT\nsend the status_request_v2 extension in the EncryptedExtensions,\nCertificateRequest, or Certificate messages.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.1","line":62,"type":"SPEC","level":"MUST","comment":"TLS 1.3 servers MUST be\nable to process ClientHello messages that include it, as it MAY be\nsent by clients that wish to use it in earlier protocol versions.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.1","line":70,"type":"SPEC","level":"MAY","comment":"A server MAY request that a client present an OCSP response with its\ncertificate by sending an empty \"status_request\" extension in its\nCertificateRequest message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.1","line":78,"type":"SPEC","level":"MUST","comment":"If the client opts to send an OCSP\nresponse, the body of its \"status_request\" extension MUST be a\nCertificateStatus structure as defined in [RFC6066].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.2","line":50,"type":"SPEC","level":"MUST","comment":"-  The certificate type MUST be X.509v3 [RFC5280], unless explicitly\nnegotiated otherwise (e.g., [RFC7250]).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.2","line":57,"type":"SPEC","level":"MUST","comment":"-  The server's end-entity certificate's public key (and associated\nrestrictions) MUST be compatible with the selected authentication\nalgorithm from the client's \"signature_algorithms\" extension\n(currently RSA, ECDSA, or EdDSA).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.2","line":66,"type":"SPEC","level":"MUST","comment":"-  The certificate MUST allow the key to be used for signing (i.e.,\nthe digitalSignature bit MUST be set if the Key Usage extension is\npresent) with a signature scheme indicated in the client's\n\"signature_algorithms\"/\"signature_algorithms_cert\" extensions (see\nSection 4.2.3).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.2","line":76,"type":"SPEC","level":"MUST","comment":"-  The certificate MUST allow the key to be used for signing (i.e.,\nthe digitalSignature bit MUST be set if the Key Usage extension is\npresent) with a signature scheme indicated in the client's\n\"signature_algorithms\"/\"signature_algorithms_cert\" extensions (see\nSection 4.2.3).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.2","line":86,"type":"SPEC","level":"SHOULD","comment":"As servers\nMAY require the presence of the \"server_name\" extension, clients\nSHOULD send this extension, when applicable.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.2","line":94,"type":"SPEC","level":"MUST","comment":"All certificates provided by the server MUST be signed by a signature\nalgorithm advertised by the client if it is able to provide such a\nchain (see Section 4.2.3).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.2","line":102,"type":"SPEC","level":"MAY","comment":"Certificates that are self-signed or\ncertificates that are expected to be trust anchors are not validated\nas part of the chain and therefore MAY be signed with any algorithm.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.2","line":110,"type":"SPEC","level":"SHOULD","comment":"If the server cannot produce a certificate chain that is signed only\nvia the indicated supported algorithms, then it SHOULD continue the\nhandshake by sending the client a certificate chain of its choice\nthat may include algorithms that are not known to be supported by the\nclient.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.2","line":120,"type":"SPEC","level":"MUST","comment":"This fallback chain SHOULD NOT use the deprecated SHA-1 hash\nalgorithm in general, but MAY do so if the client's advertisement\npermits it, and MUST NOT do so otherwise.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.2","line":128,"type":"SPEC","level":"MUST","comment":"If the client cannot construct an acceptable chain using the provided\ncertificates and decides to abort the handshake, then it MUST abort\nthe handshake with an appropriate certificate-related alert (by\ndefault, \"unsupported_certificate\"; see Section 6.2 for more\ninformation).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.3","line":25,"type":"SPEC","level":"MUST","comment":"-  The certificate type MUST be X.509v3 [RFC5280], unless explicitly\nnegotiated otherwise (e.g., [RFC7250]).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.3","line":32,"type":"SPEC","level":"SHOULD","comment":"-  If the \"certificate_authorities\" extension in the\nCertificateRequest message was present, at least one of the\ncertificates in the certificate chain SHOULD be issued by one of\nthe listed CAs.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.3","line":41,"type":"SPEC","level":"MUST","comment":"-  The certificates MUST be signed using an acceptable signature\nalgorithm, as described in Section 4.3.2.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.3","line":48,"type":"SPEC","level":"MUST","comment":"-  If the CertificateRequest message contained a non-empty\n\"oid_filters\" extension, the end-entity certificate MUST match the\nextension OIDs that are recognized by the client, as described in\nSection 4.2.5.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.4","line":38,"type":"SPEC","level":"MUST","comment":"If the server supplies an empty Certificate message, the client MUST\nabort the handshake with a \"decode_error\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.4","line":45,"type":"SPEC","level":"MAY","comment":"If the client does not send any certificates (i.e., it sends an empty\nCertificate message), the server MAY at its discretion either\ncontinue the handshake without client authentication or abort the\nhandshake with a \"certificate_required\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.4","line":54,"type":"SPEC","level":"MAY","comment":"Also, if some aspect\nof the certificate chain was unacceptable (e.g., it was not signed by\na known, trusted CA), the server MAY at its discretion either\ncontinue the handshake (considering the client unauthenticated) or\nabort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.4","line":64,"type":"SPEC","level":"MUST","comment":"Any endpoint receiving any certificate which it would need to\nvalidate using any signature algorithm using an MD5 hash MUST abort\nthe handshake with a \"bad_certificate\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.4","line":72,"type":"SPEC","level":"SHOULD","comment":"SHA-1 is deprecated,\nand it is RECOMMENDED that any endpoint receiving any certificate\nwhich it would need to validate using any signature algorithm using a\nSHA-1 hash abort the handshake with a \"bad_certificate\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.4","line":81,"type":"SPEC","level":"SHOULD","comment":"All endpoints are RECOMMENDED to transition to SHA-256 or better as\nsoon as possible to maintain interoperability with implementations\ncurrently in the process of phasing out SHA-1 support.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2.4","line":89,"type":"SPEC","level":"MAY","comment":"Note that a certificate containing a key for one signature algorithm\nMAY be signed using a different signature algorithm (for instance, an\nRSA key signed with an ECDSA key).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2","line":100,"type":"SPEC","level":"MUST","comment":"The server MUST send a Certificate message whenever the agreed-upon\nkey exchange method uses certificates for authentication (this\nincludes all key exchange methods defined in this document\nexcept PSK).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2","line":109,"type":"SPEC","level":"MUST","comment":"The client MUST send a Certificate message if and only if the server\nhas requested client authentication via a CertificateRequest message\n(Section 4.3.2).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2","line":117,"type":"SPEC","level":"MUST","comment":"If the server requests client authentication but no\nsuitable certificate is available, the client MUST send a Certificate\nmessage containing no certificates (i.e., with the \"certificate_list\"\nfield having length 0).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2","line":126,"type":"SPEC","level":"MUST","comment":"A Finished message MUST be sent regardless\nof whether the Certificate message is empty.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2","line":133,"type":"SPEC","level":"MUST","comment":"Otherwise (in the case of server authentication),\nthis field SHALL be zero length.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2","line":140,"type":"SPEC","level":"MUST","comment":"Extensions in the Certificate message from the server MUST\ncorrespond to ones from the ClientHello message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2","line":147,"type":"SPEC","level":"MUST","comment":"Extensions in\nthe Certificate message from the client MUST correspond to\nextensions in the CertificateRequest message from the server.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2","line":155,"type":"SPEC","level":"SHOULD","comment":"If\nan extension applies to the entire chain, it SHOULD be included in\nthe first CertificateEntry.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2","line":163,"type":"SPEC","level":"MUST","comment":"The sender's certificate MUST come in the first\nCertificateEntry in the list.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2","line":170,"type":"SPEC","level":"SHOULD","comment":"Each following certificate SHOULD\ndirectly certify the one immediately preceding it.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2","line":177,"type":"SPEC","level":"MAY","comment":"Because\ncertificate validation requires that trust anchors be distributed\nindependently, a certificate that specifies a trust anchor MAY be\nomitted from the chain, provided that supported peers are known to\npossess any omitted certificates.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2","line":187,"type":"SPEC","level":"MUST","comment":"For maximum\ncompatibility, all implementations SHOULD be prepared to handle\npotentially extraneous certificates and arbitrary orderings from any\nTLS version, with the exception of the end-entity certificate which\nMUST be first.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2","line":197,"type":"SPEC","level":"MUST","comment":"If the RawPublicKey certificate type was negotiated, then the\ncertificate_list MUST contain no more than one CertificateEntry,\nwhich contains an ASN1_subjectPublicKeyInfo value as defined in\n[RFC7250], Section 3.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2","line":206,"type":"SPEC","level":"MUST","comment":"The OpenPGP certificate type [RFC6091] MUST NOT be used with TLS 1.3.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.2","line":212,"type":"SPEC","level":"MUST","comment":"The server's certificate_list MUST always be non-empty.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.3","line":105,"type":"SPEC","level":"MUST","comment":"Servers MUST send this message when authenticating\nvia a certificate.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.3","line":112,"type":"SPEC","level":"MUST","comment":"Clients MUST send this message whenever\nauthenticating via a certificate (i.e., when the Certificate message\nis non-empty).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.3","line":120,"type":"SPEC","level":"MUST","comment":"When sent, this message MUST appear immediately after\nthe Certificate message and immediately prior to the Finished\nmessage.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.3","line":128,"type":"SPEC","level":"MUST","comment":"If the CertificateVerify message is sent by a server, the signature\nalgorithm MUST be one offered in the client's \"signature_algorithms\"\nextension unless no valid certificate chain can be produced without\nunsupported algorithms (see Section 4.2.3).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.3","line":137,"type":"SPEC","level":"MUST","comment":"If sent by a client, the signature algorithm used in the signature\nMUST be one of those present in the supported_signature_algorithms\nfield of the \"signature_algorithms\" extension in the\nCertificateRequest message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.3","line":146,"type":"SPEC","level":"MUST","comment":"In addition, the signature algorithm MUST be compatible with the key\nin the sender's end-entity certificate.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.3","line":153,"type":"SPEC","level":"MUST","comment":"RSA signatures MUST use an\nRSASSA-PSS algorithm, regardless of whether RSASSA-PKCS1-v1_5\nalgorithms appear in \"signature_algorithms\".\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.3","line":161,"type":"SPEC","level":"MUST","comment":"The SHA-1 algorithm\nMUST NOT be used in any signatures of CertificateVerify messages.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.3","line":168,"type":"SPEC","level":"MUST","comment":"The receiver of a CertificateVerify message MUST verify the signature\nfield.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.3","line":175,"type":"SPEC","level":"MUST","comment":"If the verification fails, the receiver MUST terminate the handshake\nwith a \"decrypt_error\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.4","line":64,"type":"SPEC","level":"MUST","comment":"Recipients of Finished messages MUST verify that the contents are\ncorrect and if incorrect MUST terminate the connection with a\n\"decrypt_error\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.4","line":72,"type":"SPEC","level":"MUST","comment":"Recipients of Finished messages MUST verify that the contents are\ncorrect and if incorrect MUST terminate the connection with a\n\"decrypt_error\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.4","line":80,"type":"SPEC","level":"MAY","comment":"Servers MAY send data after sending their first flight, but\nbecause the handshake is not yet complete, they have no assurance\nof either the peer's identity or its liveness (i.e., the\nClientHello might have been replayed).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.4.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.4.4","line":89,"type":"SPEC","level":"MUST","comment":"Any records following a Finished message MUST be encrypted under the\nappropriate application traffic key as described in Section 7.2.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.5","line":20,"type":"SPEC","level":"MUST","comment":"If the server sent an \"early_data\" extension in EncryptedExtensions,\nthe client MUST send an EndOfEarlyData message after receiving the\nserver Finished.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.5","line":28,"type":"SPEC","level":"MUST","comment":"If the server does not send an \"early_data\"\nextension in EncryptedExtensions, then the client MUST NOT send an\nEndOfEarlyData message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.5","line":36,"type":"SPEC","level":"MUST","comment":"Servers MUST NOT send this message, and clients receiving it MUST\nterminate the connection with an \"unexpected_message\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.5","line":43,"type":"SPEC","level":"MUST","comment":"Servers MUST NOT send this message, and clients receiving it MUST\nterminate the connection with an \"unexpected_message\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":121,"type":"SPEC","level":"MAY","comment":"At any time after the server has received the client Finished\nmessage, it MAY send a NewSessionTicket message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":128,"type":"SPEC","level":"MAY","comment":"The client MAY use this PSK for future handshakes by including the\nticket value in the \"pre_shared_key\" extension in its ClientHello\n(Section 4.2.11).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":136,"type":"SPEC","level":"MAY","comment":"Servers MAY send multiple tickets on a single\nconnection, either immediately after each other or after specific\nevents (see Appendix C.4).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":144,"type":"SPEC","level":"MUST","comment":"Any ticket MUST only be resumed with a cipher suite that has the same\nKDF hash algorithm as that used to establish the original connection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":151,"type":"SPEC","level":"MUST","comment":"Clients MUST only resume if the new SNI value is valid for the server\ncertificate presented in the original session and SHOULD only resume\nif the SNI value matches the one used in the original session.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":159,"type":"SPEC","level":"MAY","comment":"If such an indication\nis provided (externally or by any other means), clients MAY resume\nwith a different SNI value.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":167,"type":"SPEC","level":"MUST","comment":"On resumption, if reporting an SNI value to the calling application,\nimplementations MUST use the value sent in the resumption ClientHello\nrather than the value sent in the previous session.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":175,"type":"SPEC","level":"MAY","comment":"Note: Although the resumption master secret depends on the client's\nsecond flight, a server which does not request client authentication\nMAY compute the remainder of the transcript independently and then\nsend a NewSessionTicket immediately upon sending its Finished rather\nthan waiting for the client Finished.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":185,"type":"SPEC","level":"MUST","comment":"Servers MUST NOT use any value greater than\n604800 seconds (7 days).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":192,"type":"SPEC","level":"MUST","comment":"Clients MUST NOT cache\ntickets for longer than 7 days, regardless of the ticket_lifetime,\nand MAY delete tickets earlier based on local policy.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":200,"type":"SPEC","level":"MAY","comment":"A server\nMAY treat a ticket as valid for a shorter period of time than what\nis stated in the ticket_lifetime.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":208,"type":"SPEC","level":"MUST","comment":"The server MUST generate a fresh value\nfor each ticket it sends.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":215,"type":"SPEC","level":"MAY","comment":"It MAY be either a database\nlookup key or a self-encrypted and self-authenticated value.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":222,"type":"SPEC","level":"MUST","comment":"Clients MUST ignore\nunrecognized extensions.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":229,"type":"SPEC","level":"SHOULD","comment":"A server receiving more than\nmax_early_data_size bytes of 0-RTT data SHOULD terminate the\nconnection with an \"unexpected_message\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":237,"type":"SPEC","level":"SHOULD","comment":"Note that servers\nthat reject early data due to lack of cryptographic material will\nbe unable to differentiate padding from content, so clients\nSHOULD NOT depend on being able to send large quantities of\npadding in early data records.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.1","line":247,"type":"SPEC","level":"SHOULD","comment":"It is RECOMMENDED that\nimplementations place limits on the total lifetime of such keying\nmaterial; these limits should take into account the lifetime of the\npeer's certificate, the likelihood of intervening revocation, and the\ntime since the peer's online CertificateVerify signature.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.2","line":30,"type":"SPEC","level":"MAY","comment":"When the client has sent the \"post_handshake_auth\" extension (see\nSection 4.2.6), a server MAY request client authentication at any\ntime after the handshake has completed by sending a\nCertificateRequest message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.2","line":39,"type":"SPEC","level":"MUST","comment":"The client MUST respond with the\nappropriate Authentication messages (see Section 4.4).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.2","line":46,"type":"SPEC","level":"MUST","comment":"If the client\nchooses to authenticate, it MUST send Certificate, CertificateVerify,\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.2","line":53,"type":"SPEC","level":"MUST","comment":"If it declines, it MUST send a Certificate message\ncontaining no certificates followed by Finished.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.2","line":60,"type":"SPEC","level":"MUST","comment":"All of the client's\nmessages for a given response MUST appear consecutively on the wire\nwith no intervening messages of other types.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.2","line":68,"type":"SPEC","level":"MUST","comment":"A client that receives a CertificateRequest message without having\nsent the \"post_handshake_auth\" extension MUST send an\n\"unexpected_message\" fatal alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.2","line":76,"type":"SPEC","level":"MUST","comment":"Note: Because client authentication could involve prompting the user,\nservers MUST be prepared for some delay, including receiving an\narbitrary number of other messages between sending the\nCertificateRequest and receiving a response.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.2","line":85,"type":"SPEC","level":"MAY","comment":"In addition, clients\nwhich receive multiple CertificateRequests in close succession MAY\nrespond to them in a different order than they were received (the\ncertificate_request_context value allows the server to disambiguate\nthe responses).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.3","line":54,"type":"SPEC","level":"MUST","comment":"Implementations\nthat receive a KeyUpdate message prior to receiving a Finished\nmessage MUST terminate the connection with an \"unexpected_message\"\nalert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.3","line":63,"type":"SPEC","level":"MUST","comment":"After sending a KeyUpdate message, the sender SHALL send all\nits traffic using the next generation of keys, computed as described\nin Section 7.2.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.3","line":71,"type":"SPEC","level":"MUST","comment":"Upon receiving a KeyUpdate, the receiver MUST update\nits receiving keys.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.3","line":78,"type":"SPEC","level":"MUST","comment":"If an implementation\nreceives any other value, it MUST terminate the connection with an\n\"illegal_parameter\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.3","line":86,"type":"SPEC","level":"MUST","comment":"If the request_update field is set to \"update_requested\", then the\nreceiver MUST send a KeyUpdate of its own with request_update set to\n\"update_not_requested\" prior to sending its next Application Data\nrecord.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.3","line":95,"type":"SPEC","level":"MUST","comment":"Both sender and receiver MUST encrypt their KeyUpdate messages with\nthe old keys.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.6.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.6.3","line":102,"type":"SPEC","level":"MUST","comment":"Additionally, both sides MUST enforce that a KeyUpdate\nwith the old key is received before accepting any messages encrypted\nwith the new key.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4","line":51,"type":"SPEC","level":"MUST","comment":"Protocol messages MUST be sent in the order defined in Section 4.4.1\nand shown in the diagrams in Section 2.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4","line":58,"type":"SPEC","level":"MUST","comment":"A peer which receives a\nhandshake message in an unexpected order MUST abort the handshake\nwith an \"unexpected_message\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":94,"type":"SPEC","level":"MUST","comment":"Any future content types MUST specify appropriate\nrules.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":101,"type":"SPEC","level":"MAY","comment":"Handshake messages MAY be coalesced into a single TLSPlaintext record\nor fragmented across several records, provided that:\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":108,"type":"SPEC","level":"MUST","comment":"-  Handshake messages MUST NOT be interleaved with other record\ntypes.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":115,"type":"SPEC","level":"MUST","comment":"That is, if a handshake message is split over two or more\nrecords, there MUST NOT be any other records between them.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":122,"type":"SPEC","level":"MUST","comment":"-  Handshake messages MUST NOT span key changes.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":128,"type":"SPEC","level":"MUST","comment":"Implementations\nMUST verify that all messages immediately preceding a key change\nalign with a record boundary; if not, then they MUST terminate the\nconnection with an \"unexpected_message\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":137,"type":"SPEC","level":"MUST","comment":"Implementations\nMUST verify that all messages immediately preceding a key change\nalign with a record boundary; if not, then they MUST terminate the\nconnection with an \"unexpected_message\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":146,"type":"SPEC","level":"MUST","comment":"Because the\nClientHello, EndOfEarlyData, ServerHello, Finished, and KeyUpdate\nmessages can immediately precede a key change, implementations\nMUST send these messages in alignment with a record boundary.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":155,"type":"SPEC","level":"MUST","comment":"Implementations MUST NOT send zero-length fragments of Handshake\ntypes, even if those fragments contain padding.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":162,"type":"SPEC","level":"MUST","comment":"Alert messages (Section 6) MUST NOT be fragmented across records, and\nmultiple alert messages MUST NOT be coalesced into a single\nTLSPlaintext record.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":170,"type":"SPEC","level":"MUST","comment":"Alert messages (Section 6) MUST NOT be fragmented across records, and\nmultiple alert messages MUST NOT be coalesced into a single\nTLSPlaintext record.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":178,"type":"SPEC","level":"MUST","comment":"In other words, a record with an Alert type\nMUST contain exactly one message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":185,"type":"SPEC","level":"MAY","comment":"Zero-length\nfragments of Application Data MAY be sent, as they are potentially\nuseful as a traffic analysis countermeasure.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":193,"type":"SPEC","level":"MAY","comment":"Application Data\nfragments MAY be split across multiple records or coalesced into a\nsingle record.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":201,"type":"SPEC","level":"MUST","comment":"legacy_record_version:  MUST be set to 0x0303 for all records\ngenerated by a TLS 1.3 implementation other than an initial\nClientHello (i.e., one not generated after a HelloRetryRequest),\nwhere it MAY also be 0x0301 for compatibility purposes.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":210,"type":"SPEC","level":"MUST","comment":"This\nfield is deprecated and MUST be ignored for all purposes.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":217,"type":"SPEC","level":"MUST","comment":"The length MUST NOT exceed 2^14 bytes.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":223,"type":"SPEC","level":"MUST","comment":"An\nendpoint that receives a record that exceeds this length MUST\nterminate the connection with a \"record_overflow\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":231,"type":"SPEC","level":"MUST","comment":"In order to maximize backward\ncompatibility, a record containing an initial ClientHello SHOULD have\nversion 0x0301 (reflecting TLS 1.0) and a record containing a second\nClientHello or a ServerHello MUST have version 0x0303 (reflecting\nTLS 1.2).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.1","line":241,"type":"SPEC","level":"MUST","comment":"Note that Application Data\nrecords MUST NOT be written to the wire unprotected (see Section 2\nfor details).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.2","line":117,"type":"SPEC","level":"MUST","comment":"The length\nMUST NOT exceed 2^14 + 256 bytes.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.2","line":124,"type":"SPEC","level":"MUST","comment":"An endpoint that receives a\nrecord that exceeds this length MUST terminate the connection with\na \"record_overflow\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.2","line":132,"type":"SPEC","level":"MUST","comment":"If the decryption fails, the receiver MUST terminate the connection\nwith a \"bad_record_mac\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.2","line":139,"type":"SPEC","level":"MUST","comment":"An AEAD algorithm used in TLS 1.3 MUST NOT produce an expansion\ngreater than 255 octets.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.2","line":146,"type":"SPEC","level":"MUST","comment":"An endpoint that receives a record from its\npeer with TLSCiphertext.length larger than 2^14 + 256 octets MUST\nterminate the connection with a \"record_overflow\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.3","line":36,"type":"SPEC","level":"MUST","comment":"Each sequence number is\nset to zero at the beginning of a connection and whenever the key is\nchanged; the first record transmitted under a particular traffic key\nMUST use sequence number 0.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.3","line":45,"type":"SPEC","level":"MUST","comment":"If a TLS implementation would need to wrap a sequence number, it MUST\neither rekey (Section 4.6.3) or terminate the connection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.3","line":52,"type":"SPEC","level":"MUST","comment":"An AEAD algorithm where N_MAX is less than 8 bytes\nMUST NOT be used with TLS.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.4","line":56,"type":"SPEC","level":"MAY","comment":"When generating a TLSCiphertext record, implementations MAY choose to\npad.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.4","line":63,"type":"SPEC","level":"MUST","comment":"Implementations MUST set the\npadding octets to all zeros before encrypting.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.4","line":70,"type":"SPEC","level":"MUST","comment":"Implementations\nMUST NOT send Handshake and Alert records that have a zero-length\nTLSInnerPlaintext.content; if such a message is received, the\nreceiving implementation MUST terminate the connection with an\n\"unexpected_message\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.4","line":80,"type":"SPEC","level":"MUST","comment":"Implementations\nMUST NOT send Handshake and Alert records that have a zero-length\nTLSInnerPlaintext.content; if such a message is received, the\nreceiving implementation MUST terminate the connection with an\n\"unexpected_message\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.4","line":90,"type":"SPEC","level":"MUST","comment":"Implementations MUST limit their scanning to the cleartext returned\nfrom the AEAD decryption.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.4","line":97,"type":"SPEC","level":"MUST","comment":"If a receiving implementation does not\nfind a non-zero octet in the cleartext, it MUST terminate the\nconnection with an \"unexpected_message\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.4.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.4","line":105,"type":"SPEC","level":"MUST","comment":"The presence of padding does not change the overall record size\nlimitations: the full encoded TLSInnerPlaintext MUST NOT exceed 2^14\n+ 1 octets.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5.5","line":18,"type":"SPEC","level":"SHOULD","comment":"Implementations SHOULD do a key update as described in Section 4.6.3\nprior to reaching these limits.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5","line":39,"type":"SPEC","level":"MUST","comment":"An implementation may receive an unencrypted record of type\nchange_cipher_spec consisting of the single byte value 0x01 at any\ntime after the first ClientHello message has been sent or received\nand before the peer's Finished message has been received and MUST\nsimply drop it without further processing.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5","line":49,"type":"SPEC","level":"MUST","comment":"An\nimplementation which receives any other change_cipher_spec value or\nwhich receives a protected change_cipher_spec record MUST abort the\nhandshake with an \"unexpected_message\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5","line":58,"type":"SPEC","level":"MUST","comment":"If an implementation\ndetects a change_cipher_spec record received before the first\nClientHello message or after the peer's Finished message, it MUST be\ntreated as an unexpected record type (though stateless servers may\nnot be able to distinguish these cases from allowed cases).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5","line":68,"type":"SPEC","level":"MUST","comment":"Implementations MUST NOT send record types not defined in this\ndocument unless negotiated by some extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-5","line":75,"type":"SPEC","level":"MUST","comment":"If a TLS\nimplementation receives an unexpected record type, it MUST terminate\nthe connection with an \"unexpected_message\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6.1","line":48,"type":"SPEC","level":"MUST","comment":"Any data received\nafter a closure alert has been received MUST be ignored.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6.1","line":55,"type":"SPEC","level":"SHOULD","comment":"This alert SHOULD be followed by a\n\"close_notify\".\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6.1","line":62,"type":"SPEC","level":"MAY","comment":"Either party MAY initiate a close of its write side of the connection\nby sending a \"close_notify\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6.1","line":69,"type":"SPEC","level":"MUST","comment":"Any data received after a closure\nalert has been received MUST be ignored.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6.1","line":76,"type":"SPEC","level":"MUST","comment":"Each party MUST send a \"close_notify\" alert before closing its write\nside of the connection, unless it has already sent some error alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6.1","line":83,"type":"SPEC","level":"MUST","comment":"If the application protocol using TLS provides that any data may be\ncarried over the underlying transport after the TLS connection is\nclosed, the TLS implementation MUST receive a \"close_notify\" alert\nbefore indicating end-of-data to the application layer.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6.2","line":134,"type":"SPEC","level":"MUST","comment":"Upon transmission or\nreceipt of a fatal alert message, both parties MUST immediately close\nthe connection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6.2","line":142,"type":"SPEC","level":"MUST","comment":"Whenever an implementation encounters a fatal error condition, it\nSHOULD send an appropriate fatal alert and MUST close the connection\nwithout sending or receiving any additional data.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6.2","line":150,"type":"SPEC","level":"SHOULD","comment":"In the rest of\nthis specification, when the phrases \"terminate the connection\" and\n\"abort the handshake\" are used without a specific alert it means that\nthe implementation SHOULD send the alert indicated by the\ndescriptions below.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6.2","line":160,"type":"SPEC","level":"MUST","comment":"The phrases \"terminate the connection with an X\nalert\" and \"abort the handshake with an X alert\" mean that the\nimplementation MUST send alert X if it sends any alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6.2","line":168,"type":"SPEC","level":"SHOULD","comment":"The\nimplementation SHOULD provide a way to facilitate logging the sending\nand receiving of alerts.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6.2","line":176,"type":"SPEC","level":"MAY","comment":"Sending this alert is OPTIONAL; servers MAY instead choose to send\na \"decrypt_error\" alert to merely indicate an invalid PSK\nidentity.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6.2","line":184,"type":"SPEC","level":"MAY","comment":"Sending this alert is OPTIONAL; servers MAY instead choose to send\na \"decrypt_error\" alert to merely indicate an invalid PSK\nidentity.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6","line":78,"type":"SPEC","level":"SHOULD","comment":"Upon receiving such an alert, the TLS\nimplementation SHOULD indicate end-of-data to the application.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6","line":85,"type":"SPEC","level":"MUST","comment":"Upon receiving an error alert, the TLS implementation\nSHOULD indicate an error to the application and MUST NOT allow any\nfurther data to be sent or received on the connection.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6","line":93,"type":"SPEC","level":"MUST","comment":"Servers and\nclients MUST forget the secret values and keys established in failed\nconnections, with the exception of the PSKs associated with session\ntickets, which SHOULD be discarded if possible.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6","line":102,"type":"SPEC","level":"MUST","comment":"All the alerts listed in Section 6.2 MUST be sent with\nAlertLevel=fatal and MUST be treated as error alerts when received\nregardless of the AlertLevel in the message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6","line":110,"type":"SPEC","level":"MUST","comment":"All the alerts listed in Section 6.2 MUST be sent with\nAlertLevel=fatal and MUST be treated as error alerts when received\nregardless of the AlertLevel in the message.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6","line":118,"type":"SPEC","level":"MUST","comment":"Unknown Alert types\nMUST be treated as error alerts.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6","line":125,"type":"SPEC","level":"MUST","comment":"Peers which receive a message which\ncannot be parsed according to the syntax (e.g., have a length\nextending beyond the message boundary or contain an out-of-range\nlength) MUST terminate the connection with a \"decode_error\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-6.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-6","line":134,"type":"SPEC","level":"MUST","comment":"Peers which receive a message which is syntactically correct but\nsemantically invalid (e.g., a DHE share of p - 1, or an invalid enum)\nMUST terminate the connection with an \"illegal_parameter\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-7.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-7.1","line":137,"type":"SPEC","level":"SHOULD","comment":"Once all the values which are to be derived from a given secret have\nbeen computed, that secret SHOULD be erased.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-7.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-7.2","line":24,"type":"SPEC","level":"SHOULD","comment":"Once client_/server_application_traffic_secret_N+1 and its associated\ntraffic keys have been computed, implementations SHOULD delete\nclient_/server_application_traffic_secret_N and its associated\ntraffic keys.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-7.4.2","line":42,"type":"SPEC","level":"MUST","comment":"Note that this octet string (\"Z\" in IEEE 1363 terminology) as output\nby FE2OSP (the Field Element to Octet String Conversion Primitive)\nhas constant length for any given field; leading zeros found in this\noctet string MUST NOT be truncated.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-7.4.2","line":51,"type":"SPEC","level":"SHOULD","comment":"For these curves, implementations SHOULD use the approach specified\nin [RFC7748] to calculate the Diffie-Hellman shared secret.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-7.4.2","line":58,"type":"SPEC","level":"MUST","comment":"Implementations MUST check whether the computed Diffie-Hellman shared\nsecret is the all-zero value and abort if so, as described in\nSection 6 of [RFC7748].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-7.4.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-7.4.2","line":66,"type":"SPEC","level":"SHOULD","comment":"If implementors use an alternative\nimplementation of these elliptic curves, they SHOULD perform the\nadditional checks specified in Section 7 of [RFC7748].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-7.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-7.5","line":39,"type":"SPEC","level":"MUST","comment":"Implementations MUST use the\nexporter_master_secret unless explicitly specified by the\napplication.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-7.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-7.5","line":47,"type":"SPEC","level":"SHOULD","comment":"A separate\ninterface for the early exporter is RECOMMENDED; this avoids the\nexporter user accidentally using an early exporter when a regular one\nis desired or vice versa.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-7.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-7.5","line":56,"type":"SPEC","level":"MUST","comment":"Future\nspecifications MUST NOT define a use of exporters that permit both an\nempty context and no context with the same label.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-7.5.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-7.5","line":64,"type":"SPEC","level":"SHOULD","comment":"New uses of\nexporters SHOULD provide a context in all exporter computations,\nthough the value could be empty.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-8.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-8.2","line":70,"type":"SPEC","level":"MUST","comment":"Servers MAY\nalso implement data stores with false positives, such as Bloom\nfilters, in which case they MUST respond to apparent replay by\nrejecting 0-RTT but MUST NOT abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-8.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-8.2","line":79,"type":"SPEC","level":"MUST","comment":"Servers MAY\nalso implement data stores with false positives, such as Bloom\nfilters, in which case they MUST respond to apparent replay by\nrejecting 0-RTT but MUST NOT abort the handshake.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-8.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-8.2","line":88,"type":"SPEC","level":"MUST","comment":"The server MUST derive the storage key only from validated sections\nof the ClientHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-8.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-8.2","line":95,"type":"SPEC","level":"SHOULD","comment":"When implementations are freshly started, they SHOULD reject 0-RTT as\nlong as any portion of their recording window overlaps the startup\ntime.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-8","line":60,"type":"SPEC","level":"SHOULD","comment":"Servers\nSHOULD provide that level of replay safety by implementing one of the\nmethods described in this section or by equivalent means.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-8","line":68,"type":"SPEC","level":"MUST","comment":"Therefore, in normal\noperation, clients will not know which, if any, of these mechanisms\nservers actually implement and hence MUST only send early data which\nthey deem safe to be replayed.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-8","line":77,"type":"SPEC","level":"MUST","comment":"The server MUST ensure that any\ninstance of it (be it a machine, a thread, or any other entity within\nthe relevant serving infrastructure) would accept 0-RTT for the same\n0-RTT handshake at most once; this limits the number of replays to\nthe number of server instances in the deployment.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-8","line":87,"type":"SPEC","level":"SHOULD","comment":"The \"at most once per\nserver instance\" guarantee is a minimum requirement; servers SHOULD\nlimit 0-RTT replays further when feasible.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-8.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-8","line":95,"type":"SPEC","level":"MUST","comment":"The second class of attack cannot be prevented at the TLS layer and\nMUST be dealt with by any application.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.1","line":19,"type":"SPEC","level":"MUST","comment":"A TLS-compliant application MUST implement the TLS_AES_128_GCM_SHA256\n[GCM] cipher suite and SHOULD implement the TLS_AES_256_GCM_SHA384\n[GCM] and TLS_CHACHA20_POLY1305_SHA256 [RFC8439] cipher suites (see\nAppendix B.4).\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.1","line":28,"type":"SPEC","level":"MUST","comment":"A TLS-compliant application MUST support digital signatures with\nrsa_pkcs1_sha256 (for certificates), rsa_pss_rsae_sha256 (for\nCertificateVerify and certificates), and ecdsa_secp256r1_sha256.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.1.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.1","line":36,"type":"SPEC","level":"MUST","comment":"A\nTLS-compliant application MUST support key exchange with secp256r1\n(NIST P-256) and SHOULD support key exchange with X25519 [RFC7748].\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.2","line":65,"type":"SPEC","level":"MUST","comment":"In the absence of an application profile standard specifying\notherwise, a TLS-compliant application MUST implement the following\nTLS extensions:\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.2","line":73,"type":"SPEC","level":"MUST","comment":"All implementations MUST send and use these extensions when offering\napplicable features:\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.2","line":80,"type":"SPEC","level":"MUST","comment":"-  \"supported_versions\" is REQUIRED for all ClientHello, ServerHello,\nand HelloRetryRequest messages.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.2","line":87,"type":"SPEC","level":"MUST","comment":"-  \"signature_algorithms\" is REQUIRED for certificate authentication.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.2","line":93,"type":"SPEC","level":"MUST","comment":"-  \"supported_groups\" is REQUIRED for ClientHello messages using DHE\nor ECDHE key exchange.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.2","line":100,"type":"SPEC","level":"MUST","comment":"-  \"key_share\" is REQUIRED for DHE or ECDHE key exchange.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.2","line":106,"type":"SPEC","level":"MUST","comment":"-  \"pre_shared_key\" is REQUIRED for PSK key agreement.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.2","line":112,"type":"SPEC","level":"MUST","comment":"-  \"psk_key_exchange_modes\" is REQUIRED for PSK key agreement.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.2","line":118,"type":"SPEC","level":"MUST","comment":"Such a ClientHello\nmessage MUST meet the following requirements:\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.2","line":125,"type":"SPEC","level":"MUST","comment":"-  If not containing a \"pre_shared_key\" extension, it MUST contain\nboth a \"signature_algorithms\" extension and a \"supported_groups\"\nextension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.2","line":133,"type":"SPEC","level":"MUST","comment":"-  If containing a \"supported_groups\" extension, it MUST also contain\na \"key_share\" extension, and vice versa.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.2","line":140,"type":"SPEC","level":"MUST","comment":"Servers receiving a ClientHello which does not conform to these\nrequirements MUST abort the handshake with a \"missing_extension\"\nalert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.2","line":148,"type":"SPEC","level":"MUST","comment":"Additionally, all implementations MUST support the use of the\n\"server_name\" extension with applications capable of using it.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.2","line":155,"type":"SPEC","level":"MAY","comment":"Servers MAY require clients to send a valid \"server_name\" extension.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.2.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.2","line":161,"type":"SPEC","level":"SHOULD","comment":"Servers requiring this extension SHOULD respond to a ClientHello\nlacking a \"server_name\" extension by terminating the connection with\na \"missing_extension\" alert.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.3","line":63,"type":"SPEC","level":"MUST","comment":"This section describes invariants that TLS endpoints and middleboxes\nMUST follow.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.3","line":70,"type":"SPEC","level":"MAY","comment":"At the same\ntime, deployments update at different rates, so a newer client or\nserver MAY continue to support older parameters, which would allow it\nto interoperate with older endpoints.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.3","line":79,"type":"SPEC","level":"MUST","comment":"For this to work, implementations MUST correctly handle extensible\nfields:\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.3","line":86,"type":"SPEC","level":"MUST","comment":"-  A client sending a ClientHello MUST support all parameters\nadvertised in it.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.3","line":93,"type":"SPEC","level":"MUST","comment":"-  A server receiving a ClientHello MUST correctly ignore all\nunrecognized cipher suites, extensions, and other parameters.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.3","line":100,"type":"SPEC","level":"MUST","comment":"In\nTLS 1.3, a client receiving a CertificateRequest or\nNewSessionTicket MUST also ignore all unrecognized extensions.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.3","line":108,"type":"SPEC","level":"MUST","comment":"-  A middlebox which terminates a TLS connection MUST behave as a\ncompliant TLS server (to the original client), including having a\ncertificate which the client is willing to accept, and also as a\ncompliant TLS client (to the original server), including verifying\nthe original server's certificate.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.3","line":118,"type":"SPEC","level":"MUST","comment":"In particular, it MUST\ngenerate its own ClientHello containing only parameters it\nunderstands, and it MUST generate a fresh ServerHello random\nvalue, rather than forwarding the endpoint's value.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.3","line":127,"type":"SPEC","level":"MUST","comment":"In particular, it MUST\ngenerate its own ClientHello containing only parameters it\nunderstands, and it MUST generate a fresh ServerHello random\nvalue, rather than forwarding the endpoint's value.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.3","line":136,"type":"SPEC","level":"MUST","comment":"-  A middlebox which forwards ClientHello parameters it does not\nunderstand MUST NOT process any messages beyond that ClientHello.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.3","line":143,"type":"SPEC","level":"MUST","comment":"It MUST forward all subsequent traffic unmodified.\n"},{"source":".duvet/requirements/www.rfc-editor.org/rfc/rfc8446/section-9.3.toml","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-9.3","line":149,"type":"SPEC","level":"MAY","comment":"These additions MAY\nchange any message beyond the ClientHello arbitrarily.\n"},{"source":"rust/src/handshake/client_hello.rs","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":6},{"source":"rust/src/handshake/client_hello.rs","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":26},{"source":"rust/src/handshake/client_hello.rs","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":40},{"source":"rust/src/handshake/client_hello.rs","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":58},{"source":"rust/src/handshake/client_hello.rs","target_path":"https://www.rfc-editor.org/rfc/rfc8446","target_section":"section-4.1.2","line":65}],"statuses":{"0":{"spec":104,"incomplete":104},"1":{"spec":165,"incomplete":165},"2":{"spec":107,"incomplete":107},"3":{"spec":123,"incomplete":123},"4":{"spec":132,"incomplete":132},"5":{"spec":256,"incomplete":256},"6":{"spec":46,"incomplete":46},"7":{"spec":140,"incomplete":140},"8":{"spec":129,"incomplete":129},"9":{"spec":35,"incomplete":35},"10":{"spec":78,"incomplete":78},"11":{"spec":135,"incomplete":135},"12":{"spec":160,"incomplete":160},"13":{"spec":160,"incomplete":160},"14":{"spec":115,"incomplete":115},"15":{"spec":164,"incomplete":164},"16":{"spec":164,"incomplete":164},"17":{"spec":123,"incomplete":123},"18":{"spec":103,"incomplete":103},"19":{"spec":293,"incomplete":293},"20":{"spec":293,"incomplete":293},"21":{"spec":116,"incomplete":116},"22":{"spec":141,"incomplete":141},"23":{"spec":212,"incomplete":212},"24":{"spec":96,"incomplete":96},"25":{"spec":105,"incomplete":105},"26":{"spec":147,"incomplete":147},"27":{"spec":178,"incomplete":178},"28":{"spec":293,"incomplete":293},"29":{"spec":235,"incomplete":235},"30":{"spec":86,"incomplete":86},"31":{"spec":137,"incomplete":137},"32":{"spec":165,"incomplete":165},"33":{"spec":74,"incomplete":74},"34":{"spec":75,"incomplete":75},"35":{"spec":28,"incomplete":28},"36":{"spec":76,"incomplete":76},"37":{"spec":28,"incomplete":28},"38":{"spec":75,"incomplete":75},"39":{"spec":26,"incomplete":26},"40":{"spec":106,"incomplete":106},"41":{"spec":26,"incomplete":26},"42":{"spec":335,"incomplete":335},"43":{"spec":335,"incomplete":335},"44":{"spec":204,"incomplete":204},"45":{"spec":111,"incomplete":111},"46":{"spec":42,"incomplete":42},"47":{"spec":210,"incomplete":210},"48":{"spec":100,"incomplete":100},"49":{"spec":135,"incomplete":135},"50":{"spec":42,"incomplete":42},"51":{"spec":135,"incomplete":135},"52":{"spec":40,"incomplete":40},"53":{"spec":188,"incomplete":188},"54":{"spec":188,"incomplete":188},"55":{"spec":132,"incomplete":132},"56":{"spec":118,"incomplete":118},"57":{"spec":284,"incomplete":284},"58":{"spec":284,"incomplete":284},"59":{"spec":214,"incomplete":214},"60":{"spec":194,"incomplete":194},"61":{"spec":167,"incomplete":167},"62":{"spec":194,"incomplete":194},"63":{"spec":156,"incomplete":156},"64":{"spec":175,"incomplete":175},"65":{"spec":131,"incomplete":131},"66":{"spec":115,"incomplete":115},"67":{"spec":114,"incomplete":114},"68":{"spec":187,"incomplete":187},"69":{"spec":187,"incomplete":187},"70":{"spec":43,"incomplete":43},"71":{"spec":98,"incomplete":98},"72":{"spec":85,"incomplete":85},"73":{"spec":105,"incomplete":105},"74":{"spec":20,"incomplete":20},"75":{"spec":70,"incomplete":70},"76":{"spec":97,"incomplete":97},"77":{"spec":93,"incomplete":93},"78":{"spec":35,"incomplete":35},"79":{"spec":67,"incomplete":67},"80":{"spec":107,"incomplete":107},"81":{"spec":308,"incomplete":308},"82":{"spec":143,"incomplete":143},"83":{"spec":164,"incomplete":164},"84":{"spec":64,"incomplete":64},"85":{"spec":87,"incomplete":87},"86":{"spec":88,"incomplete":88},"87":{"spec":113,"incomplete":113},"88":{"spec":41,"incomplete":41},"89":{"spec":113,"incomplete":113},"90":{"spec":107,"incomplete":107},"91":{"spec":107,"incomplete":107},"92":{"spec":55,"incomplete":55},"93":{"spec":72,"incomplete":72},"94":{"spec":207,"incomplete":207},"95":{"spec":207,"incomplete":207},"96":{"spec":69,"incomplete":69},"97":{"spec":136,"incomplete":136},"98":{"spec":62,"incomplete":62},"99":{"spec":91,"incomplete":91},"100":{"spec":156,"incomplete":156},"101":{"spec":230,"incomplete":230},"102":{"spec":230,"incomplete":230},"103":{"spec":31,"incomplete":31},"104":{"spec":106,"incomplete":106},"105":{"spec":120,"incomplete":120},"106":{"spec":73,"incomplete":73},"107":{"spec":108,"incomplete":108},"108":{"spec":134,"incomplete":134},"109":{"spec":174,"incomplete":174},"110":{"spec":39,"incomplete":39},"111":{"spec":86,"incomplete":86},"112":{"spec":141,"incomplete":141},"113":{"spec":82,"incomplete":82},"114":{"spec":100,"incomplete":100},"115":{"spec":100,"incomplete":100},"116":{"spec":143,"incomplete":143},"117":{"spec":156,"incomplete":156},"118":{"spec":163,"incomplete":163},"119":{"spec":203,"incomplete":203},"120":{"spec":73,"incomplete":73},"121":{"spec":71,"incomplete":71},"122":{"spec":39,"incomplete":39},"123":{"spec":107,"incomplete":107},"124":{"spec":99,"incomplete":99},"125":{"spec":136,"incomplete":136},"126":{"spec":81,"incomplete":81},"127":{"spec":88,"incomplete":88},"128":{"spec":137,"incomplete":137},"129":{"spec":227,"incomplete":227},"130":{"spec":109,"incomplete":109},"131":{"spec":70,"incomplete":70},"132":{"spec":150,"incomplete":150},"133":{"spec":159,"incomplete":159},"134":{"spec":153,"incomplete":153},"135":{"spec":209,"incomplete":209},"136":{"spec":211,"incomplete":211},"137":{"spec":48,"incomplete":48},"138":{"spec":48,"incomplete":48},"139":{"spec":48,"incomplete":48},"140":{"spec":195,"incomplete":195},"141":{"spec":120,"incomplete":120},"142":{"spec":96,"incomplete":96},"143":{"spec":177,"incomplete":177},"144":{"spec":114,"incomplete":114},"145":{"spec":104,"incomplete":104},"146":{"spec":63,"incomplete":63},"147":{"spec":87,"incomplete":87},"148":{"spec":157,"incomplete":157},"149":{"spec":122,"incomplete":122},"150":{"spec":168,"incomplete":168},"151":{"spec":57,"incomplete":57},"152":{"spec":239,"incomplete":239},"153":{"spec":172,"incomplete":172},"154":{"spec":74,"incomplete":74},"155":{"spec":144,"incomplete":144},"156":{"spec":96,"incomplete":96},"157":{"spec":86,"incomplete":86},"158":{"spec":86,"incomplete":86},"159":{"spec":105,"incomplete":105},"160":{"spec":262,"incomplete":262},"161":{"spec":166,"incomplete":166},"162":{"spec":262,"incomplete":262},"163":{"spec":262,"incomplete":262},"164":{"spec":111,"incomplete":111},"165":{"spec":115,"incomplete":115},"166":{"spec":37,"incomplete":37},"167":{"spec":141,"incomplete":141},"168":{"spec":242,"incomplete":242},"169":{"spec":96,"incomplete":96},"170":{"spec":62,"incomplete":62},"171":{"spec":37,"incomplete":37},"172":{"spec":49,"incomplete":49},"173":{"spec":125,"incomplete":125},"174":{"spec":176,"incomplete":176},"175":{"spec":137,"incomplete":137},"176":{"spec":59,"incomplete":59},"177":{"spec":219,"incomplete":219},"178":{"spec":204,"incomplete":204},"179":{"spec":122,"incomplete":122},"180":{"spec":52,"incomplete":52},"181":{"spec":69,"incomplete":69},"182":{"spec":286,"incomplete":286},"183":{"spec":148,"incomplete":148},"184":{"spec":96,"incomplete":96},"185":{"spec":131,"incomplete":131},"186":{"spec":188,"incomplete":188},"187":{"spec":188,"incomplete":188},"188":{"spec":286,"incomplete":286},"189":{"spec":286,"incomplete":286},"190":{"spec":171,"incomplete":171},"191":{"spec":134,"incomplete":134},"192":{"spec":160,"incomplete":160},"193":{"spec":181,"incomplete":181},"194":{"spec":98,"incomplete":98},"195":{"spec":183,"incomplete":183},"196":{"spec":185,"incomplete":185},"197":{"spec":100,"incomplete":100},"198":{"spec":98,"incomplete":98},"199":{"spec":172,"incomplete":172},"200":{"spec":145,"incomplete":145},"201":{"spec":147,"incomplete":147},"202":{"spec":117,"incomplete":117},"203":{"spec":105,"incomplete":105},"204":{"spec":184,"incomplete":184},"205":{"spec":134,"incomplete":134},"206":{"spec":113,"incomplete":113},"207":{"spec":121,"incomplete":121},"208":{"spec":197,"incomplete":197},"209":{"spec":185,"incomplete":185},"210":{"spec":109,"incomplete":109},"211":{"spec":185,"incomplete":185},"212":{"spec":236,"incomplete":236},"213":{"spec":122,"incomplete":122},"214":{"spec":96,"incomplete":96},"215":{"spec":192,"incomplete":192},"216":{"spec":171,"incomplete":171},"217":{"spec":253,"incomplete":253},"218":{"spec":253,"incomplete":253},"219":{"spec":111,"incomplete":111},"220":{"spec":160,"incomplete":160},"221":{"spec":160,"incomplete":160},"222":{"spec":178,"incomplete":178},"223":{"spec":116,"incomplete":116},"224":{"spec":85,"incomplete":85},"225":{"spec":134,"incomplete":134},"226":{"spec":156,"incomplete":156},"227":{"spec":89,"incomplete":89},"228":{"spec":104,"incomplete":104},"229":{"spec":155,"incomplete":155},"230":{"spec":82,"incomplete":82},"231":{"spec":98,"incomplete":98},"232":{"spec":136,"incomplete":136},"233":{"spec":79,"incomplete":79},"234":{"spec":72,"incomplete":72},"235":{"spec":103,"incomplete":103},"236":{"spec":170,"incomplete":170},"237":{"spec":170,"incomplete":170},"238":{"spec":69,"incomplete":69},"239":{"spec":161,"incomplete":161},"240":{"spec":116,"incomplete":116},"241":{"spec":105,"incomplete":105},"242":{"spec":73,"incomplete":73},"243":{"spec":88,"incomplete":88},"244":{"spec":107,"incomplete":107},"245":{"spec":88,"incomplete":88},"246":{"spec":157,"incomplete":157},"247":{"spec":200,"incomplete":200},"248":{"spec":196,"incomplete":196},"249":{"spec":162,"incomplete":162},"250":{"spec":33,"incomplete":33},"251":{"spec":106,"incomplete":106},"252":{"spec":177,"incomplete":177},"253":{"spec":177,"incomplete":177},"254":{"spec":121,"incomplete":121},"255":{"spec":29,"incomplete":29},"256":{"spec":158,"incomplete":158},"257":{"spec":158,"incomplete":158},"258":{"spec":202,"incomplete":202},"259":{"spec":52,"incomplete":52},"260":{"spec":114,"incomplete":114},"261":{"spec":93,"incomplete":93},"262":{"spec":133,"incomplete":133},"263":{"spec":133,"incomplete":133},"264":{"spec":141,"incomplete":141},"265":{"spec":217,"incomplete":217},"266":{"spec":217,"incomplete":217},"267":{"spec":89,"incomplete":89},"268":{"spec":125,"incomplete":125},"269":{"spec":59,"incomplete":59},"270":{"spec":127,"incomplete":127},"271":{"spec":127,"incomplete":127},"272":{"spec":175,"incomplete":175},"273":{"spec":175,"incomplete":175},"274":{"spec":140,"incomplete":140},"275":{"spec":95,"incomplete":95},"276":{"spec":64,"incomplete":64},"277":{"spec":139,"incomplete":139},"278":{"spec":82,"incomplete":82},"279":{"spec":141,"incomplete":141},"280":{"spec":84,"incomplete":84},"281":{"spec":116,"incomplete":116},"282":{"spec":47,"incomplete":47},"283":{"spec":228,"incomplete":228},"284":{"spec":63,"incomplete":63},"285":{"spec":86,"incomplete":86},"286":{"spec":125,"incomplete":125},"287":{"spec":59,"incomplete":59},"288":{"spec":127,"incomplete":127},"289":{"spec":127,"incomplete":127},"290":{"spec":250,"incomplete":250},"291":{"spec":214,"incomplete":214},"292":{"spec":82,"incomplete":82},"293":{"spec":76,"incomplete":76},"294":{"spec":82,"incomplete":82},"295":{"spec":144,"incomplete":144},"296":{"spec":206,"incomplete":206},"297":{"spec":216,"incomplete":216},"298":{"spec":186,"incomplete":186},"299":{"spec":122,"incomplete":122},"300":{"spec":143,"incomplete":143},"301":{"spec":144,"incomplete":144},"302":{"spec":98,"incomplete":98},"303":{"spec":142,"incomplete":142},"304":{"spec":154,"incomplete":154},"305":{"spec":116,"incomplete":116},"306":{"spec":41,"incomplete":41},"307":{"spec":118,"incomplete":118},"308":{"spec":183,"incomplete":183},"309":{"spec":105,"incomplete":105},"310":{"spec":162,"incomplete":162},"311":{"spec":116,"incomplete":116},"312":{"spec":192,"incomplete":192},"313":{"spec":160,"incomplete":160},"314":{"spec":136,"incomplete":136},"315":{"spec":142,"incomplete":142},"316":{"spec":139,"incomplete":139},"317":{"spec":115,"incomplete":115},"318":{"spec":135,"incomplete":135},"319":{"spec":276,"incomplete":276},"320":{"spec":185,"incomplete":185},"321":{"spec":63,"incomplete":63},"322":{"spec":79,"incomplete":79},"323":{"spec":163,"incomplete":163},"324":{"spec":91,"incomplete":91},"325":{"spec":132,"incomplete":132},"326":{"spec":250,"incomplete":250},"327":{"spec":140,"incomplete":140},"328":{"spec":129,"incomplete":129},"329":{"spec":35,"incomplete":35},"330":{"spec":87,"incomplete":87},"331":{"spec":124,"incomplete":124},"332":{"spec":111,"incomplete":111},"333":{"spec":117,"incomplete":117},"334":{"spec":117,"incomplete":117},"335":{"spec":103,"incomplete":103},"336":{"spec":266,"incomplete":266},"337":{"spec":266,"incomplete":266},"338":{"spec":116,"incomplete":116},"339":{"spec":178,"incomplete":178},"340":{"spec":178,"incomplete":178},"341":{"spec":154,"incomplete":154},"342":{"spec":303,"incomplete":303},"343":{"spec":198,"incomplete":198},"344":{"spec":96,"incomplete":96},"345":{"spec":105,"incomplete":105},"346":{"spec":147,"incomplete":147},"347":{"spec":178,"incomplete":178},"348":{"spec":53,"incomplete":53},"349":{"spec":293,"incomplete":293},"350":{"spec":149,"incomplete":149},"351":{"spec":397,"incomplete":397},"352":{"spec":82,"incomplete":82},"353":{"spec":90,"incomplete":90},"354":{"spec":81,"incomplete":81},"355":{"spec":63,"incomplete":63},"356":{"spec":57,"incomplete":57},"357":{"spec":134,"incomplete":134},"358":{"spec":135,"incomplete":135},"359":{"spec":179,"incomplete":179},"360":{"spec":78,"incomplete":78},"361":{"spec":137,"incomplete":137},"362":{"spec":165,"incomplete":165},"363":{"spec":74,"incomplete":74},"364":{"spec":303,"incomplete":303},"365":{"spec":59,"incomplete":59},"366":{"spec":64,"incomplete":64},"367":{"spec":107,"incomplete":107},"368":{"spec":66,"incomplete":66},"369":{"spec":66,"incomplete":66},"370":{"spec":136,"incomplete":136},"371":{"spec":94,"incomplete":94},"372":{"spec":132,"incomplete":132},"373":{"spec":134,"incomplete":134},"374":{"spec":134,"incomplete":134},"375":{"spec":71,"incomplete":71},"376":{"spec":135,"incomplete":135},"377":{"spec":135,"incomplete":135},"378":{"spec":94,"incomplete":94},"379":{"spec":141,"incomplete":141},"380":{"spec":96,"incomplete":96},"381":{"spec":93,"incomplete":93},"382":{"spec":63,"incomplete":63},"383":{"spec":308,"incomplete":308},"384":{"spec":59,"incomplete":59},"385":{"spec":207,"incomplete":207},"386":{"spec":55,"incomplete":55},"387":{"spec":214,"incomplete":214},"388":{"spec":118,"incomplete":118},"389":{"spec":130,"incomplete":130},"390":{"spec":157,"incomplete":157},"391":{"spec":180,"incomplete":180},"392":{"spec":125,"incomplete":125},"393":{"spec":132,"incomplete":132},"394":{"spec":192,"incomplete":192},"395":{"spec":97,"incomplete":97},"396":{"spec":115,"incomplete":115},"397":{"spec":78,"incomplete":78},"398":{"spec":149,"incomplete":149},"399":{"spec":209,"incomplete":209},"400":{"spec":128,"incomplete":128},"401":{"spec":99,"incomplete":99},"402":{"spec":114,"incomplete":114},"403":{"spec":145,"incomplete":145},"404":{"spec":142,"incomplete":142},"405":{"spec":72,"incomplete":72},"406":{"spec":100,"incomplete":100},"407":{"spec":131,"incomplete":131},"408":{"spec":110,"incomplete":110},"409":{"spec":169,"incomplete":169},"410":{"spec":73,"incomplete":73},"411":{"spec":157,"incomplete":157},"412":{"spec":187,"incomplete":187},"413":{"spec":85,"incomplete":85},"414":{"spec":182,"incomplete":182},"415":{"spec":182,"incomplete":182},"416":{"spec":226,"incomplete":226},"417":{"spec":276,"incomplete":276},"418":{"spec":239,"incomplete":239},"419":{"spec":232,"incomplete":232},"420":{"spec":115,"incomplete":115},"421":{"spec":293,"incomplete":293},"422":{"spec":153,"incomplete":153},"423":{"spec":172,"incomplete":172},"424":{"spec":144,"incomplete":144},"425":{"spec":220,"incomplete":220},"426":{"spec":84,"incomplete":84},"427":{"spec":272,"incomplete":272},"428":{"spec":272,"incomplete":272},"429":{"spec":170,"incomplete":170},"430":{"spec":48,"incomplete":48},"431":{"spec":48,"incomplete":48},"432":{"spec":117,"incomplete":117},"433":{"spec":187,"incomplete":187},"434":{"spec":131,"incomplete":131},"435":{"spec":216,"incomplete":216},"436":{"spec":107,"incomplete":107},"437":{"spec":204,"incomplete":204},"438":{"spec":190,"incomplete":190},"439":{"spec":202,"incomplete":202},"440":{"spec":251,"incomplete":251},"441":{"spec":105,"citation":105,"related":[838]},"442":{"spec":95,"incomplete":95},"443":{"spec":186,"incomplete":186},"444":{"spec":170,"incomplete":170},"445":{"spec":44,"incomplete":44},"446":{"spec":199,"citation":199,"related":[839]},"447":{"spec":101,"citation":101,"related":[841]},"448":{"spec":151,"citation":151,"related":[841]},"449":{"spec":151,"citation":151,"related":[841]},"450":{"spec":138,"citation":138,"related":[841]},"451":{"spec":96,"citation":96,"related":[841]},"452":{"spec":176,"incomplete":176},"453":{"spec":139,"incomplete":139},"454":{"spec":161,"incomplete":161},"455":{"spec":140,"incomplete":140},"456":{"spec":217,"incomplete":217},"457":{"spec":44,"incomplete":44},"458":{"spec":205,"incomplete":205},"459":{"spec":68,"incomplete":68},"460":{"spec":165,"incomplete":165},"461":{"spec":196,"incomplete":196},"462":{"spec":128,"incomplete":128},"463":{"spec":128,"incomplete":128},"464":{"spec":102,"incomplete":102},"465":{"spec":163,"incomplete":163},"466":{"spec":117,"incomplete":117},"467":{"spec":69,"incomplete":69},"468":{"spec":136,"incomplete":136},"469":{"spec":79,"incomplete":79},"470":{"spec":172,"incomplete":172},"471":{"spec":155,"incomplete":155},"472":{"spec":100,"incomplete":100},"473":{"spec":149,"incomplete":149},"474":{"spec":139,"incomplete":139},"475":{"spec":134,"incomplete":134},"476":{"spec":90,"incomplete":90},"477":{"spec":184,"incomplete":184},"478":{"spec":58,"incomplete":58},"479":{"spec":125,"incomplete":125},"480":{"spec":211,"incomplete":211},"481":{"spec":271,"incomplete":271},"482":{"spec":140,"incomplete":140},"483":{"spec":208,"incomplete":208},"484":{"spec":112,"incomplete":112},"485":{"spec":84,"incomplete":84},"486":{"spec":222,"incomplete":222},"487":{"spec":211,"incomplete":211},"488":{"spec":155,"incomplete":155},"489":{"spec":213,"incomplete":213},"490":{"spec":213,"incomplete":213},"491":{"spec":292,"incomplete":292},"492":{"spec":292,"incomplete":292},"493":{"spec":227,"incomplete":227},"494":{"spec":95,"incomplete":95},"495":{"spec":213,"incomplete":213},"496":{"spec":213,"incomplete":213},"497":{"spec":138,"incomplete":138},"498":{"spec":138,"incomplete":138},"499":{"spec":125,"incomplete":125},"500":{"spec":95,"incomplete":95},"501":{"spec":140,"incomplete":140},"502":{"spec":140,"incomplete":140},"503":{"spec":136,"incomplete":136},"504":{"spec":68,"incomplete":68},"505":{"spec":112,"incomplete":112},"506":{"spec":171,"incomplete":171},"507":{"spec":171,"incomplete":171},"508":{"spec":208,"incomplete":208},"509":{"spec":96,"incomplete":96},"510":{"spec":109,"incomplete":109},"511":{"spec":288,"incomplete":288},"512":{"spec":156,"incomplete":156},"513":{"spec":156,"incomplete":156},"514":{"spec":82,"incomplete":82},"515":{"spec":80,"incomplete":80},"516":{"spec":156,"incomplete":156},"517":{"spec":107,"incomplete":107},"518":{"spec":59,"incomplete":59},"519":{"spec":205,"incomplete":205},"520":{"spec":181,"incomplete":181},"521":{"spec":185,"incomplete":185},"522":{"spec":182,"incomplete":182},"523":{"spec":146,"incomplete":146},"524":{"spec":124,"incomplete":124},"525":{"spec":130,"incomplete":130},"526":{"spec":243,"incomplete":243},"527":{"spec":117,"incomplete":117},"528":{"spec":68,"incomplete":68},"529":{"spec":81,"incomplete":81},"530":{"spec":95,"incomplete":95},"531":{"spec":110,"incomplete":110},"532":{"spec":90,"incomplete":90},"533":{"spec":123,"incomplete":123},"534":{"spec":126,"incomplete":126},"535":{"spec":85,"incomplete":85},"536":{"spec":155,"incomplete":155},"537":{"spec":155,"incomplete":155},"538":{"spec":296,"incomplete":296},"539":{"spec":104,"incomplete":104},"540":{"spec":113,"incomplete":113},"541":{"spec":100,"incomplete":100},"542":{"spec":129,"incomplete":129},"543":{"spec":115,"incomplete":115},"544":{"spec":213,"incomplete":213},"545":{"spec":166,"incomplete":166},"546":{"spec":83,"incomplete":83},"547":{"spec":56,"incomplete":56},"548":{"spec":110,"incomplete":110},"549":{"spec":118,"incomplete":118},"550":{"spec":201,"incomplete":201},"551":{"spec":59,"incomplete":59},"552":{"spec":107,"incomplete":107},"553":{"spec":271,"incomplete":271},"554":{"spec":88,"incomplete":88},"555":{"spec":97,"incomplete":97},"556":{"spec":74,"incomplete":74},"557":{"spec":94,"incomplete":94},"558":{"spec":80,"incomplete":80},"559":{"spec":138,"incomplete":138},"560":{"spec":271,"incomplete":271},"561":{"spec":108,"incomplete":108},"562":{"spec":125,"incomplete":125},"563":{"spec":139,"incomplete":139},"564":{"spec":156,"incomplete":156},"565":{"spec":141,"incomplete":141},"566":{"spec":48,"incomplete":48},"567":{"spec":60,"incomplete":60},"568":{"spec":61,"incomplete":61},"569":{"spec":156,"incomplete":156},"570":{"spec":176,"incomplete":176},"571":{"spec":200,"incomplete":200},"572":{"spec":86,"incomplete":86},"573":{"spec":56,"incomplete":56},"574":{"spec":94,"incomplete":94},"575":{"spec":174,"incomplete":174},"576":{"spec":169,"incomplete":169},"577":{"spec":83,"incomplete":83},"578":{"spec":285,"incomplete":285},"579":{"spec":64,"incomplete":64},"580":{"spec":67,"incomplete":67},"581":{"spec":102,"incomplete":102},"582":{"spec":36,"incomplete":36},"583":{"spec":278,"incomplete":278},"584":{"spec":330,"incomplete":330},"585":{"spec":330,"incomplete":330},"586":{"spec":74,"incomplete":74},"587":{"spec":164,"incomplete":164},"588":{"spec":158,"incomplete":158},"589":{"spec":72,"incomplete":72},"590":{"spec":128,"incomplete":128},"591":{"spec":128,"incomplete":128},"592":{"spec":124,"incomplete":124},"593":{"spec":124,"incomplete":124},"594":{"spec":77,"incomplete":77},"595":{"spec":71,"incomplete":71},"596":{"spec":114,"incomplete":114},"597":{"spec":124,"incomplete":124},"598":{"spec":353,"incomplete":353},"599":{"spec":106,"incomplete":106},"600":{"spec":60,"incomplete":60},"601":{"spec":145,"incomplete":145},"602":{"spec":185,"incomplete":185},"603":{"spec":185,"incomplete":185},"604":{"spec":234,"incomplete":234},"605":{"spec":90,"incomplete":90},"606":{"spec":81,"incomplete":81},"607":{"spec":100,"incomplete":100},"608":{"spec":111,"incomplete":111},"609":{"spec":76,"incomplete":76},"610":{"spec":202,"incomplete":202},"611":{"spec":62,"incomplete":62},"612":{"spec":60,"incomplete":60},"613":{"spec":95,"incomplete":95},"614":{"spec":125,"incomplete":125},"615":{"spec":124,"incomplete":124},"616":{"spec":192,"incomplete":192},"617":{"spec":107,"incomplete":107},"618":{"spec":186,"incomplete":186},"619":{"spec":263,"incomplete":263},"620":{"spec":85,"incomplete":85},"621":{"spec":113,"incomplete":113},"622":{"spec":165,"incomplete":165},"623":{"spec":165,"incomplete":165},"624":{"spec":104,"incomplete":104},"625":{"spec":54,"incomplete":54},"626":{"spec":143,"incomplete":143},"627":{"spec":117,"incomplete":117},"628":{"spec":277,"incomplete":277},"629":{"spec":130,"incomplete":130},"630":{"spec":43,"incomplete":43},"631":{"spec":275,"incomplete":275},"632":{"spec":178,"incomplete":178},"633":{"spec":241,"incomplete":241},"634":{"spec":241,"incomplete":241},"635":{"spec":154,"incomplete":154},"636":{"spec":160,"incomplete":160},"637":{"spec":148,"incomplete":148},"638":{"spec":107,"incomplete":107},"639":{"spec":225,"incomplete":225},"640":{"spec":272,"incomplete":272},"641":{"spec":272,"incomplete":272},"642":{"spec":118,"incomplete":118},"643":{"spec":161,"incomplete":161},"644":{"spec":172,"incomplete":172},"645":{"spec":276,"incomplete":276},"646":{"spec":166,"incomplete":166},"647":{"spec":272,"incomplete":272},"648":{"spec":107,"incomplete":107},"649":{"spec":190,"incomplete":190},"650":{"spec":105,"incomplete":105},"651":{"spec":203,"incomplete":203},"652":{"spec":116,"incomplete":116},"653":{"spec":241,"incomplete":241},"654":{"spec":236,"incomplete":236},"655":{"spec":173,"incomplete":173},"656":{"spec":216,"incomplete":216},"657":{"spec":187,"incomplete":187},"658":{"spec":171,"incomplete":171},"659":{"spec":199,"incomplete":199},"660":{"spec":152,"incomplete":152},"661":{"spec":212,"incomplete":212},"662":{"spec":86,"incomplete":86},"663":{"spec":81,"incomplete":81},"664":{"spec":106,"incomplete":106},"665":{"spec":132,"incomplete":132},"666":{"spec":95,"incomplete":95},"667":{"spec":76,"incomplete":76},"668":{"spec":83,"incomplete":83},"669":{"spec":236,"incomplete":236},"670":{"spec":223,"incomplete":223},"671":{"spec":209,"incomplete":209},"672":{"spec":69,"incomplete":69},"673":{"spec":55,"incomplete":55},"674":{"spec":68,"incomplete":68},"675":{"spec":121,"incomplete":121},"676":{"spec":122,"incomplete":122},"677":{"spec":245,"incomplete":245},"678":{"spec":211,"incomplete":211},"679":{"spec":107,"incomplete":107},"680":{"spec":131,"incomplete":131},"681":{"spec":84,"incomplete":84},"682":{"spec":75,"incomplete":75},"683":{"spec":97,"incomplete":97},"684":{"spec":148,"incomplete":148},"685":{"spec":148,"incomplete":148},"686":{"spec":218,"incomplete":218},"687":{"spec":132,"incomplete":132},"688":{"spec":150,"incomplete":150},"689":{"spec":132,"incomplete":132},"690":{"spec":125,"incomplete":125},"691":{"spec":125,"incomplete":125},"692":{"spec":109,"incomplete":109},"693":{"spec":148,"incomplete":148},"694":{"spec":136,"incomplete":136},"695":{"spec":138,"incomplete":138},"696":{"spec":199,"incomplete":199},"697":{"spec":114,"incomplete":114},"698":{"spec":188,"incomplete":188},"699":{"spec":306,"incomplete":306},"700":{"spec":67,"incomplete":67},"701":{"spec":141,"incomplete":141},"702":{"spec":107,"incomplete":107},"703":{"spec":63,"incomplete":63},"704":{"spec":87,"incomplete":87},"705":{"spec":43,"incomplete":43},"706":{"spec":134,"incomplete":134},"707":{"spec":230,"incomplete":230},"708":{"spec":280,"incomplete":280},"709":{"spec":208,"incomplete":208},"710":{"spec":86,"incomplete":86},"711":{"spec":82,"incomplete":82},"712":{"spec":98,"incomplete":98},"713":{"spec":130,"incomplete":130},"714":{"spec":152,"incomplete":152},"715":{"spec":230,"incomplete":230},"716":{"spec":233,"incomplete":233},"717":{"spec":149,"incomplete":149},"718":{"spec":143,"incomplete":143},"719":{"spec":71,"incomplete":71},"720":{"spec":112,"incomplete":112},"721":{"spec":206,"incomplete":206},"722":{"spec":80,"incomplete":80},"723":{"spec":139,"incomplete":139},"724":{"spec":107,"incomplete":107},"725":{"spec":123,"incomplete":123},"726":{"spec":55,"incomplete":55},"727":{"spec":121,"incomplete":121},"728":{"spec":69,"incomplete":69},"729":{"spec":115,"incomplete":115},"730":{"spec":48,"incomplete":48},"731":{"spec":191,"incomplete":191},"732":{"spec":191,"incomplete":191},"733":{"spec":199,"incomplete":199},"734":{"spec":111,"incomplete":111},"735":{"spec":148,"incomplete":148},"736":{"spec":148,"incomplete":148},"737":{"spec":76,"incomplete":76},"738":{"spec":121,"incomplete":121},"739":{"spec":96,"incomplete":96},"740":{"spec":239,"incomplete":239},"741":{"spec":61,"incomplete":61},"742":{"spec":38,"incomplete":38},"743":{"spec":119,"incomplete":119},"744":{"spec":240,"incomplete":240},"745":{"spec":105,"incomplete":105},"746":{"spec":43,"incomplete":43},"747":{"spec":119,"incomplete":119},"748":{"spec":97,"incomplete":97},"749":{"spec":87,"incomplete":87},"750":{"spec":164,"incomplete":164},"751":{"spec":186,"incomplete":186},"752":{"spec":126,"incomplete":126},"753":{"spec":76,"incomplete":76},"754":{"spec":73,"incomplete":73},"755":{"spec":74,"incomplete":74},"756":{"spec":230,"incomplete":230},"757":{"spec":230,"incomplete":230},"758":{"spec":92,"incomplete":92},"759":{"spec":145,"incomplete":145},"760":{"spec":142,"incomplete":142},"761":{"spec":99,"incomplete":99},"762":{"spec":298,"incomplete":298},"763":{"spec":181,"incomplete":181},"764":{"spec":274,"incomplete":274},"765":{"spec":107,"incomplete":107},"766":{"spec":126,"incomplete":126},"767":{"spec":73,"incomplete":73},"768":{"spec":49,"incomplete":49},"769":{"spec":103,"incomplete":103},"770":{"spec":73,"incomplete":73},"771":{"spec":136,"incomplete":136},"772":{"spec":253,"incomplete":253},"773":{"spec":104,"incomplete":104},"774":{"spec":182,"incomplete":182},"775":{"spec":226,"incomplete":226},"776":{"spec":164,"incomplete":164},"777":{"spec":96,"incomplete":96},"778":{"spec":132,"incomplete":132},"779":{"spec":132,"incomplete":132},"780":{"spec":99,"incomplete":99},"781":{"spec":173,"incomplete":173},"782":{"spec":193,"incomplete":193},"783":{"spec":164,"incomplete":164},"784":{"spec":164,"incomplete":164},"785":{"spec":51,"incomplete":51},"786":{"spec":226,"incomplete":226},"787":{"spec":197,"incomplete":197},"788":{"spec":112,"incomplete":112},"789":{"spec":206,"incomplete":206},"790":{"spec":237,"incomplete":237},"791":{"spec":126,"incomplete":126},"792":{"spec":153,"incomplete":153},"793":{"spec":152,"incomplete":152},"794":{"spec":97,"incomplete":97},"795":{"spec":168,"incomplete":168},"796":{"spec":124,"incomplete":124},"797":{"spec":107,"incomplete":107},"798":{"spec":184,"incomplete":184},"799":{"spec":184,"incomplete":184},"800":{"spec":86,"incomplete":86},"801":{"spec":140,"incomplete":140},"802":{"spec":133,"incomplete":133},"803":{"spec":185,"incomplete":185},"804":{"spec":283,"incomplete":283},"805":{"spec":130,"incomplete":130},"806":{"spec":105,"incomplete":105},"807":{"spec":216,"incomplete":216},"808":{"spec":189,"incomplete":189},"809":{"spec":133,"incomplete":133},"810":{"spec":142,"incomplete":142},"811":{"spec":88,"incomplete":88},"812":{"spec":100,"incomplete":100},"813":{"spec":69,"incomplete":69},"814":{"spec":90,"incomplete":90},"815":{"spec":57,"incomplete":57},"816":{"spec":54,"incomplete":54},"817":{"spec":62,"incomplete":62},"818":{"spec":63,"incomplete":63},"819":{"spec":140,"incomplete":140},"820":{"spec":109,"incomplete":109},"821":{"spec":133,"incomplete":133},"822":{"spec":123,"incomplete":123},"823":{"spec":68,"incomplete":68},"824":{"spec":160,"incomplete":160},"825":{"spec":80,"incomplete":80},"826":{"spec":182,"incomplete":182},"827":{"spec":73,"incomplete":73},"828":{"spec":78,"incomplete":78},"829":{"spec":122,"incomplete":122},"830":{"spec":115,"incomplete":115},"831":{"spec":294,"incomplete":294},"832":{"spec":191,"incomplete":191},"833":{"spec":191,"incomplete":191},"834":{"spec":129,"incomplete":129},"835":{"spec":50,"incomplete":50},"836":{"spec":73,"incomplete":73}},"refs":[{},{"todo":true},{"exception":true},{"exception":true,"todo":true},{"test":true},{"test":true,"todo":true},{"test":true,"exception":true},{"test":true,"exception":true,"todo":true},{"implication":true},{"implication":true,"todo":true},{"implication":true,"exception":true},{"implication":true,"exception":true,"todo":true},{"implication":true,"test":true},{"implication":true,"test":true,"todo":true},{"implication":true,"test":true,"exception":true},{"implication":true,"test":true,"exception":true,"todo":true},{"citation":true},{"citation":true,"todo":true},{"citation":true,"exception":true},{"citation":true,"exception":true,"todo":true},{"citation":true,"test":true},{"citation":true,"test":true,"todo":true},{"citation":true,"test":true,"exception":true},{"citation":true,"test":true,"exception":true,"todo":true},{"citation":true,"implication":true},{"citation":true,"implication":true,"todo":true},{"citation":true,"implication":true,"exception":true},{"citation":true,"implication":true,"exception":true,"todo":true},{"citation":true,"implication":true,"test":true},{"citation":true,"implication":true,"test":true,"todo":true},{"citation":true,"implication":true,"test":true,"exception":true},{"citation":true,"implication":true,"test":true,"exception":true,"todo":true},{"spec":true},{"spec":true,"todo":true},{"spec":true,"exception":true},{"spec":true,"exception":true,"todo":true},{"spec":true,"test":true},{"spec":true,"test":true,"todo":true},{"spec":true,"test":true,"exception":true},{"spec":true,"test":true,"exception":true,"todo":true},{"spec":true,"implication":true},{"spec":true,"implication":true,"todo":true},{"spec":true,"implication":true,"exception":true},{"spec":true,"implication":true,"exception":true,"todo":true},{"spec":true,"implication":true,"test":true},{"spec":true,"implication":true,"test":true,"todo":true},{"spec":true,"implication":true,"test":true,"exception":true},{"spec":true,"implication":true,"test":true,"exception":true,"todo":true},{"spec":true,"citation":true},{"spec":true,"citation":true,"todo":true},{"spec":true,"citation":true,"exception":true},{"spec":true,"citation":true,"exception":true,"todo":true},{"spec":true,"citation":true,"test":true},{"spec":true,"citation":true,"test":true,"todo":true},{"spec":true,"citation":true,"test":true,"exception":true},{"spec":true,"citation":true,"test":true,"exception":true,"todo":true},{"spec":true,"citation":true,"implication":true},{"spec":true,"citation":true,"implication":true,"todo":true},{"spec":true,"citation":true,"implication":true,"exception":true},{"spec":true,"citation":true,"implication":true,"exception":true,"todo":true},{"spec":true,"citation":true,"implication":true,"test":true},{"spec":true,"citation":true,"implication":true,"test":true,"todo":true},{"spec":true,"citation":true,"implication":true,"test":true,"exception":true},{"spec":true,"citation":true,"implication":true,"test":true,"exception":true,"todo":true},{"level":"MAY"},{"todo":true,"level":"MAY"},{"exception":true,"level":"MAY"},{"exception":true,"todo":true,"level":"MAY"},{"test":true,"level":"MAY"},{"test":true,"todo":true,"level":"MAY"},{"test":true,"exception":true,"level":"MAY"},{"test":true,"exception":true,"todo":true,"level":"MAY"},{"implication":true,"level":"MAY"},{"implication":true,"todo":true,"level":"MAY"},{"implication":true,"exception":true,"level":"MAY"},{"implication":true,"exception":true,"todo":true,"level":"MAY"},{"implication":true,"test":true,"level":"MAY"},{"implication":true,"test":true,"todo":true,"level":"MAY"},{"implication":true,"test":true,"exception":true,"level":"MAY"},{"implication":true,"test":true,"exception":true,"todo":true,"level":"MAY"},{"citation":true,"level":"MAY"},{"citation":true,"todo":true,"level":"MAY"},{"citation":true,"exception":true,"level":"MAY"},{"citation":true,"exception":true,"todo":true,"level":"MAY"},{"citation":true,"test":true,"level":"MAY"},{"citation":true,"test":true,"todo":true,"level":"MAY"},{"citation":true,"test":true,"exception":true,"level":"MAY"},{"citation":true,"test":true,"exception":true,"todo":true,"level":"MAY"},{"citation":true,"implication":true,"level":"MAY"},{"citation":true,"implication":true,"todo":true,"level":"MAY"},{"citation":true,"implication":true,"exception":true,"level":"MAY"},{"citation":true,"implication":true,"exception":true,"todo":true,"level":"MAY"},{"citation":true,"implication":true,"test":true,"level":"MAY"},{"citation":true,"implication":true,"test":true,"todo":true,"level":"MAY"},{"citation":true,"implication":true,"test":true,"exception":true,"level":"MAY"},{"citation":true,"implication":true,"test":true,"exception":true,"todo":true,"level":"MAY"},{"spec":true,"level":"MAY"},{"spec":true,"todo":true,"level":"MAY"},{"spec":true,"exception":true,"level":"MAY"},{"spec":true,"exception":true,"todo":true,"level":"MAY"},{"spec":true,"test":true,"level":"MAY"},{"spec":true,"test":true,"todo":true,"level":"MAY"},{"spec":true,"test":true,"exception":true,"level":"MAY"},{"spec":true,"test":true,"exception":true,"todo":true,"level":"MAY"},{"spec":true,"implication":true,"level":"MAY"},{"spec":true,"implication":true,"todo":true,"level":"MAY"},{"spec":true,"implication":true,"exception":true,"level":"MAY"},{"spec":true,"implication":true,"exception":true,"todo":true,"level":"MAY"},{"spec":true,"implication":true,"test":true,"level":"MAY"},{"spec":true,"implication":true,"test":true,"todo":true,"level":"MAY"},{"spec":true,"implication":true,"test":true,"exception":true,"level":"MAY"},{"spec":true,"implication":true,"test":true,"exception":true,"todo":true,"level":"MAY"},{"spec":true,"citation":true,"level":"MAY"},{"spec":true,"citation":true,"todo":true,"level":"MAY"},{"spec":true,"citation":true,"exception":true,"level":"MAY"},{"spec":true,"citation":true,"exception":true,"todo":true,"level":"MAY"},{"spec":true,"citation":true,"test":true,"level":"MAY"},{"spec":true,"citation":true,"test":true,"todo":true,"level":"MAY"},{"spec":true,"citation":true,"test":true,"exception":true,"level":"MAY"},{"spec":true,"citation":true,"test":true,"exception":true,"todo":true,"level":"MAY"},{"spec":true,"citation":true,"implication":true,"level":"MAY"},{"spec":true,"citation":true,"implication":true,"todo":true,"level":"MAY"},{"spec":true,"citation":true,"implication":true,"exception":true,"level":"MAY"},{"spec":true,"citation":true,"implication":true,"exception":true,"todo":true,"level":"MAY"},{"spec":true,"citation":true,"implication":true,"test":true,"level":"MAY"},{"spec":true,"citation":true,"implication":true,"test":true,"todo":true,"level":"MAY"},{"spec":true,"citation":true,"implication":true,"test":true,"exception":true,"level":"MAY"},{"spec":true,"citation":true,"implication":true,"test":true,"exception":true,"todo":true,"level":"MAY"},{"level":"SHOULD"},{"todo":true,"level":"SHOULD"},{"exception":true,"level":"SHOULD"},{"exception":true,"todo":true,"level":"SHOULD"},{"test":true,"level":"SHOULD"},{"test":true,"todo":true,"level":"SHOULD"},{"test":true,"exception":true,"level":"SHOULD"},{"test":true,"exception":true,"todo":true,"level":"SHOULD"},{"implication":true,"level":"SHOULD"},{"implication":true,"todo":true,"level":"SHOULD"},{"implication":true,"exception":true,"level":"SHOULD"},{"implication":true,"exception":true,"todo":true,"level":"SHOULD"},{"implication":true,"test":true,"level":"SHOULD"},{"implication":true,"test":true,"todo":true,"level":"SHOULD"},{"implication":true,"test":true,"exception":true,"level":"SHOULD"},{"implication":true,"test":true,"exception":true,"todo":true,"level":"SHOULD"},{"citation":true,"level":"SHOULD"},{"citation":true,"todo":true,"level":"SHOULD"},{"citation":true,"exception":true,"level":"SHOULD"},{"citation":true,"exception":true,"todo":true,"level":"SHOULD"},{"citation":true,"test":true,"level":"SHOULD"},{"citation":true,"test":true,"todo":true,"level":"SHOULD"},{"citation":true,"test":true,"exception":true,"level":"SHOULD"},{"citation":true,"test":true,"exception":true,"todo":true,"level":"SHOULD"},{"citation":true,"implication":true,"level":"SHOULD"},{"citation":true,"implication":true,"todo":true,"level":"SHOULD"},{"citation":true,"implication":true,"exception":true,"level":"SHOULD"},{"citation":true,"implication":true,"exception":true,"todo":true,"level":"SHOULD"},{"citation":true,"implication":true,"test":true,"level":"SHOULD"},{"citation":true,"implication":true,"test":true,"todo":true,"level":"SHOULD"},{"citation":true,"implication":true,"test":true,"exception":true,"level":"SHOULD"},{"citation":true,"implication":true,"test":true,"exception":true,"todo":true,"level":"SHOULD"},{"spec":true,"level":"SHOULD"},{"spec":true,"todo":true,"level":"SHOULD"},{"spec":true,"exception":true,"level":"SHOULD"},{"spec":true,"exception":true,"todo":true,"level":"SHOULD"},{"spec":true,"test":true,"level":"SHOULD"},{"spec":true,"test":true,"todo":true,"level":"SHOULD"},{"spec":true,"test":true,"exception":true,"level":"SHOULD"},{"spec":true,"test":true,"exception":true,"todo":true,"level":"SHOULD"},{"spec":true,"implication":true,"level":"SHOULD"},{"spec":true,"implication":true,"todo":true,"level":"SHOULD"},{"spec":true,"implication":true,"exception":true,"level":"SHOULD"},{"spec":true,"implication":true,"exception":true,"todo":true,"level":"SHOULD"},{"spec":true,"implication":true,"test":true,"level":"SHOULD"},{"spec":true,"implication":true,"test":true,"todo":true,"level":"SHOULD"},{"spec":true,"implication":true,"test":true,"exception":true,"level":"SHOULD"},{"spec":true,"implication":true,"test":true,"exception":true,"todo":true,"level":"SHOULD"},{"spec":true,"citation":true,"level":"SHOULD"},{"spec":true,"citation":true,"todo":true,"level":"SHOULD"},{"spec":true,"citation":true,"exception":true,"level":"SHOULD"},{"spec":true,"citation":true,"exception":true,"todo":true,"level":"SHOULD"},{"spec":true,"citation":true,"test":true,"level":"SHOULD"},{"spec":true,"citation":true,"test":true,"todo":true,"level":"SHOULD"},{"spec":true,"citation":true,"test":true,"exception":true,"level":"SHOULD"},{"spec":true,"citation":true,"test":true,"exception":true,"todo":true,"level":"SHOULD"},{"spec":true,"citation":true,"implication":true,"level":"SHOULD"},{"spec":true,"citation":true,"implication":true,"todo":true,"level":"SHOULD"},{"spec":true,"citation":true,"implication":true,"exception":true,"level":"SHOULD"},{"spec":true,"citation":true,"implication":true,"exception":true,"todo":true,"level":"SHOULD"},{"spec":true,"citation":true,"implication":true,"test":true,"level":"SHOULD"},{"spec":true,"citation":true,"implication":true,"test":true,"todo":true,"level":"SHOULD"},{"spec":true,"citation":true,"implication":true,"test":true,"exception":true,"level":"SHOULD"},{"spec":true,"citation":true,"implication":true,"test":true,"exception":true,"todo":true,"level":"SHOULD"},{"level":"MUST"},{"todo":true,"level":"MUST"},{"exception":true,"level":"MUST"},{"exception":true,"todo":true,"level":"MUST"},{"test":true,"level":"MUST"},{"test":true,"todo":true,"level":"MUST"},{"test":true,"exception":true,"level":"MUST"},{"test":true,"exception":true,"todo":true,"level":"MUST"},{"implication":true,"level":"MUST"},{"implication":true,"todo":true,"level":"MUST"},{"implication":true,"exception":true,"level":"MUST"},{"implication":true,"exception":true,"todo":true,"level":"MUST"},{"implication":true,"test":true,"level":"MUST"},{"implication":true,"test":true,"todo":true,"level":"MUST"},{"implication":true,"test":true,"exception":true,"level":"MUST"},{"implication":true,"test":true,"exception":true,"todo":true,"level":"MUST"},{"citation":true,"level":"MUST"},{"citation":true,"todo":true,"level":"MUST"},{"citation":true,"exception":true,"level":"MUST"},{"citation":true,"exception":true,"todo":true,"level":"MUST"},{"citation":true,"test":true,"level":"MUST"},{"citation":true,"test":true,"todo":true,"level":"MUST"},{"citation":true,"test":true,"exception":true,"level":"MUST"},{"citation":true,"test":true,"exception":true,"todo":true,"level":"MUST"},{"citation":true,"implication":true,"level":"MUST"},{"citation":true,"implication":true,"todo":true,"level":"MUST"},{"citation":true,"implication":true,"exception":true,"level":"MUST"},{"citation":true,"implication":true,"exception":true,"todo":true,"level":"MUST"},{"citation":true,"implication":true,"test":true,"level":"MUST"},{"citation":true,"implication":true,"test":true,"todo":true,"level":"MUST"},{"citation":true,"implication":true,"test":true,"exception":true,"level":"MUST"},{"citation":true,"implication":true,"test":true,"exception":true,"todo":true,"level":"MUST"},{"spec":true,"level":"MUST"},{"spec":true,"todo":true,"level":"MUST"},{"spec":true,"exception":true,"level":"MUST"},{"spec":true,"exception":true,"todo":true,"level":"MUST"},{"spec":true,"test":true,"level":"MUST"},{"spec":true,"test":true,"todo":true,"level":"MUST"},{"spec":true,"test":true,"exception":true,"level":"MUST"},{"spec":true,"test":true,"exception":true,"todo":true,"level":"MUST"},{"spec":true,"implication":true,"level":"MUST"},{"spec":true,"implication":true,"todo":true,"level":"MUST"},{"spec":true,"implication":true,"exception":true,"level":"MUST"},{"spec":true,"implication":true,"exception":true,"todo":true,"level":"MUST"},{"spec":true,"implication":true,"test":true,"level":"MUST"},{"spec":true,"implication":true,"test":true,"todo":true,"level":"MUST"},{"spec":true,"implication":true,"test":true,"exception":true,"level":"MUST"},{"spec":true,"implication":true,"test":true,"exception":true,"todo":true,"level":"MUST"},{"spec":true,"citation":true,"level":"MUST"},{"spec":true,"citation":true,"todo":true,"level":"MUST"},{"spec":true,"citation":true,"exception":true,"level":"MUST"},{"spec":true,"citation":true,"exception":true,"todo":true,"level":"MUST"},{"spec":true,"citation":true,"test":true,"level":"MUST"},{"spec":true,"citation":true,"test":true,"todo":true,"level":"MUST"},{"spec":true,"citation":true,"test":true,"exception":true,"level":"MUST"},{"spec":true,"citation":true,"test":true,"exception":true,"todo":true,"level":"MUST"},{"spec":true,"citation":true,"implication":true,"level":"MUST"},{"spec":true,"citation":true,"implication":true,"todo":true,"level":"MUST"},{"spec":true,"citation":true,"implication":true,"exception":true,"level":"MUST"},{"spec":true,"citation":true,"implication":true,"exception":true,"todo":true,"level":"MUST"},{"spec":true,"citation":true,"implication":true,"test":true,"level":"MUST"},{"spec":true,"citation":true,"implication":true,"test":true,"todo":true,"level":"MUST"},{"spec":true,"citation":true,"implication":true,"test":true,"exception":true,"level":"MUST"},{"spec":true,"citation":true,"implication":true,"test":true,"exception":true,"todo":true,"level":"MUST"}]}</script></head><body><div id=root></div><script>/*! For license information please see main.dffab589.js.LICENSE.txt */
(()=>{var e={105:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(45),o=n(8168),a=n(5043),i=n(3024),l=n(8553),u=n(2454),s=n(5898),c=n(4822),d=a.forwardRef((function(e,t){var n=e.children,l=e.classes,u=e.className,d=e.color,f=void 0===d?"default":d,p=e.component,m=void 0===p?"button":p,h=e.disabled,g=void 0!==h&&h,v=e.disableElevation,b=void 0!==v&&v,D=e.disableFocusRipple,y=void 0!==D&&D,C=e.endIcon,E=e.focusVisibleClassName,A=e.fullWidth,w=void 0!==A&&A,x=e.size,F=void 0===x?"medium":x,S=e.startIcon,k=e.type,O=void 0===k?"button":k,R=e.variant,P=void 0===R?"text":R,B=(0,r.A)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),T=S&&a.createElement("span",{className:(0,i.A)(l.startIcon,l["iconSize".concat((0,c.A)(F))])},S),M=C&&a.createElement("span",{className:(0,i.A)(l.endIcon,l["iconSize".concat((0,c.A)(F))])},C);return a.createElement(s.A,(0,o.A)({className:(0,i.A)(l.root,l[P],u,"inherit"===f?l.colorInherit:"default"!==f&&l["".concat(P).concat((0,c.A)(f))],"medium"!==F&&[l["".concat(P,"Size").concat((0,c.A)(F))],l["size".concat((0,c.A)(F))]],b&&l.disableElevation,g&&l.disabled,w&&l.fullWidth),component:m,disabled:g,focusRipple:!y,focusVisibleClassName:(0,i.A)(l.focusVisible,E),ref:t,type:O},B),a.createElement("span",{className:l.label},T,n,M))}));const f=(0,l.A)((function(e){return{root:(0,o.A)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,u.X4)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,u.X4)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,u.X4)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,u.X4)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,u.X4)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,u.X4)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,u.X4)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(d)},5898:(e,t,n)=>{"use strict";n.d(t,{A:()=>k});var r=n(8168),o=n(45),a=n(5043),i=n(7950),l=n(3024),u=n(768),s=n(2158),c=n(8553),d=n(4455),f=n(5458),p=n(8587),m=n(9417),h=n(5540),g=n(8726);function v(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,a.isValidElement)(e)?t(e):e}(e)})),n}function b(e,t,n){return null!=n[t]?n[t]:e.props[t]}function D(e,t,n){var r=v(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),a=[];for(var i in e)i in t?a.length&&(o[i]=a,a=[]):a.push(i);var l={};for(var u in t){if(o[u])for(r=0;r<o[u].length;r++){var s=o[u][r];l[o[u][r]]=n(s)}l[u]=n(u)}for(r=0;r<a.length;r++)l[a[r]]=n(a[r]);return l}(t,r);return Object.keys(o).forEach((function(i){var l=o[i];if((0,a.isValidElement)(l)){var u=i in t,s=i in r,c=t[i],d=(0,a.isValidElement)(c)&&!c.props.in;!s||u&&!d?s||!u||d?s&&u&&(0,a.isValidElement)(c)&&(o[i]=(0,a.cloneElement)(l,{onExited:n.bind(null,l),in:c.props.in,exit:b(l,"exit",e),enter:b(l,"enter",e)})):o[i]=(0,a.cloneElement)(l,{in:!1}):o[i]=(0,a.cloneElement)(l,{onExited:n.bind(null,l),in:!0,exit:b(l,"exit",e),enter:b(l,"enter",e)})}})),o}var y=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},C=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind((0,m.A)(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}(0,h.A)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,i=t.handleExited;return{children:t.firstRender?(n=e,r=i,v(n.children,(function(e){return(0,a.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:b(e,"appear",n),enter:b(e,"enter",n),exit:b(e,"exit",n)})}))):D(e,o,i),firstRender:!1}},n.handleExited=function(e,t){var n=v(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,r.A)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,p.A)(e,["component","childFactory"]),o=this.state.contextValue,i=y(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?a.createElement(g.A.Provider,{value:o},i):a.createElement(g.A.Provider,{value:o},a.createElement(t,r,i))},t}(a.Component);C.propTypes={},C.defaultProps={component:"div",childFactory:function(e){return e}};const E=C;var A="undefined"===typeof window?a.useEffect:a.useLayoutEffect;const w=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,o=e.rippleX,i=e.rippleY,u=e.rippleSize,c=e.in,d=e.onExited,f=void 0===d?function(){}:d,p=e.timeout,m=a.useState(!1),h=m[0],g=m[1],v=(0,l.A)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),b={width:u,height:u,top:-u/2+i,left:-u/2+o},D=(0,l.A)(t.child,h&&t.childLeaving,r&&t.childPulsate),y=(0,s.A)(f);return A((function(){if(!c){g(!0);var e=setTimeout(y,p);return function(){clearTimeout(e)}}}),[y,c,p]),a.createElement("span",{className:v,style:b},a.createElement("span",{className:D}))};var x=a.forwardRef((function(e,t){var n=e.center,i=void 0!==n&&n,u=e.classes,s=e.className,c=(0,o.A)(e,["center","classes","className"]),d=a.useState([]),p=d[0],m=d[1],h=a.useRef(0),g=a.useRef(null);a.useEffect((function(){g.current&&(g.current(),g.current=null)}),[p]);var v=a.useRef(!1),b=a.useRef(null),D=a.useRef(null),y=a.useRef(null);a.useEffect((function(){return function(){clearTimeout(b.current)}}),[]);var C=a.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,o=e.rippleSize,i=e.cb;m((function(e){return[].concat((0,f.A)(e),[a.createElement(w,{key:h.current,classes:u,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o})])})),h.current+=1,g.current=i}),[u]),A=a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,o=void 0!==r&&r,a=t.center,l=void 0===a?i||t.pulsate:a,u=t.fakeElement,s=void 0!==u&&u;if("mousedown"===e.type&&v.current)v.current=!1;else{"touchstart"===e.type&&(v.current=!0);var c,d,f,p=s?null:y.current,m=p?p.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(l||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(m.width/2),d=Math.round(m.height/2);else{var h=e.touches?e.touches[0]:e,g=h.clientX,E=h.clientY;c=Math.round(g-m.left),d=Math.round(E-m.top)}if(l)(f=Math.sqrt((2*Math.pow(m.width,2)+Math.pow(m.height,2))/3))%2===0&&(f+=1);else{var A=2*Math.max(Math.abs((p?p.clientWidth:0)-c),c)+2,w=2*Math.max(Math.abs((p?p.clientHeight:0)-d),d)+2;f=Math.sqrt(Math.pow(A,2)+Math.pow(w,2))}e.touches?null===D.current&&(D.current=function(){C({pulsate:o,rippleX:c,rippleY:d,rippleSize:f,cb:n})},b.current=setTimeout((function(){D.current&&(D.current(),D.current=null)}),80)):C({pulsate:o,rippleX:c,rippleY:d,rippleSize:f,cb:n})}}),[i,C]),x=a.useCallback((function(){A({},{pulsate:!0})}),[A]),F=a.useCallback((function(e,t){if(clearTimeout(b.current),"touchend"===e.type&&D.current)return e.persist(),D.current(),D.current=null,void(b.current=setTimeout((function(){F(e,t)})));D.current=null,m((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return a.useImperativeHandle(t,(function(){return{pulsate:x,start:A,stop:F}}),[x,A,F]),a.createElement("span",(0,r.A)({className:(0,l.A)(u.root,s),ref:y},c),a.createElement(E,{component:null,exit:!0},p))}));const F=(0,c.A)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(a.memo(x));var S=a.forwardRef((function(e,t){var n=e.action,c=e.buttonRef,f=e.centerRipple,p=void 0!==f&&f,m=e.children,h=e.classes,g=e.className,v=e.component,b=void 0===v?"button":v,D=e.disabled,y=void 0!==D&&D,C=e.disableRipple,E=void 0!==C&&C,A=e.disableTouchRipple,w=void 0!==A&&A,x=e.focusRipple,S=void 0!==x&&x,k=e.focusVisibleClassName,O=e.onBlur,R=e.onClick,P=e.onFocus,B=e.onFocusVisible,T=e.onKeyDown,M=e.onKeyUp,L=e.onMouseDown,I=e.onMouseLeave,j=e.onMouseUp,z=e.onTouchEnd,N=e.onTouchMove,_=e.onTouchStart,H=e.onDragLeave,V=e.tabIndex,W=void 0===V?0:V,U=e.TouchRippleProps,$=e.type,K=void 0===$?"button":$,q=(0,o.A)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),G=a.useRef(null);var X=a.useRef(null),Y=a.useState(!1),Z=Y[0],Q=Y[1];y&&Z&&Q(!1);var J=(0,d.A)(),ee=J.isFocusVisible,te=J.onBlurVisible,ne=J.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return(0,s.A)((function(r){return t&&t(r),!n&&X.current&&X.current[e](r),!0}))}a.useImperativeHandle(n,(function(){return{focusVisible:function(){Q(!0),G.current.focus()}}}),[]),a.useEffect((function(){Z&&S&&!E&&X.current.pulsate()}),[E,S,Z]);var oe=re("start",L),ae=re("stop",H),ie=re("stop",j),le=re("stop",(function(e){Z&&e.preventDefault(),I&&I(e)})),ue=re("start",_),se=re("stop",z),ce=re("stop",N),de=re("stop",(function(e){Z&&(te(e),Q(!1)),O&&O(e)}),!1),fe=(0,s.A)((function(e){G.current||(G.current=e.currentTarget),ee(e)&&(Q(!0),B&&B(e)),P&&P(e)})),pe=function(){var e=i.findDOMNode(G.current);return b&&"button"!==b&&!("A"===e.tagName&&e.href)},me=a.useRef(!1),he=(0,s.A)((function(e){S&&!me.current&&Z&&X.current&&" "===e.key&&(me.current=!0,e.persist(),X.current.stop(e,(function(){X.current.start(e)}))),e.target===e.currentTarget&&pe()&&" "===e.key&&e.preventDefault(),T&&T(e),e.target===e.currentTarget&&pe()&&"Enter"===e.key&&!y&&(e.preventDefault(),R&&R(e))})),ge=(0,s.A)((function(e){S&&" "===e.key&&X.current&&Z&&!e.defaultPrevented&&(me.current=!1,e.persist(),X.current.stop(e,(function(){X.current.pulsate(e)}))),M&&M(e),R&&e.target===e.currentTarget&&pe()&&" "===e.key&&!e.defaultPrevented&&R(e)})),ve=b;"button"===ve&&q.href&&(ve="a");var be={};"button"===ve?(be.type=K,be.disabled=y):("a"===ve&&q.href||(be.role="button"),be["aria-disabled"]=y);var De=(0,u.A)(c,t),ye=(0,u.A)(ne,G),Ce=(0,u.A)(De,ye),Ee=a.useState(!1),Ae=Ee[0],we=Ee[1];a.useEffect((function(){we(!0)}),[]);var xe=Ae&&!E&&!y;return a.createElement(ve,(0,r.A)({className:(0,l.A)(h.root,g,Z&&[h.focusVisible,k],y&&h.disabled),onBlur:de,onClick:R,onFocus:fe,onKeyDown:he,onKeyUp:ge,onMouseDown:oe,onMouseLeave:le,onMouseUp:ie,onDragLeave:ae,onTouchEnd:se,onTouchMove:ce,onTouchStart:ue,ref:Ce,tabIndex:y?-1:W},be,q),m,xe?a.createElement(F,(0,r.A)({ref:X,center:p},U)):null)}));const k=(0,c.A)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(S)},8951:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),o=n(45),a=n(5043),i=n(3024),l=n(581),u=n(8553),s=a.forwardRef((function(e,t){var n=e.disableUnderline,u=e.classes,s=e.fullWidth,c=void 0!==s&&s,d=e.inputComponent,f=void 0===d?"input":d,p=e.multiline,m=void 0!==p&&p,h=e.type,g=void 0===h?"text":h,v=(0,o.A)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.createElement(l.A,(0,r.A)({classes:(0,r.A)({},u,{root:(0,i.A)(u.root,!n&&u.underline),underline:null}),fullWidth:c,inputComponent:f,multiline:m,ref:t,type:g},v))}));s.muiName="Input";const c=(0,u.A)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(s)},6612:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,t:()=>a});var r=n(5043),o=r.createContext();function a(){return r.useContext(o)}const i=o},3810:(e,t,n)=>{"use strict";function r(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}n.d(t,{A:()=>r})},2696:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(5043),o=n(6612);function a(){return r.useContext(o.A)}},1575:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(8168),o=n(296),a=n(45),i=n(5043),l=n(9998),u=n(567),s=n(830),c=n(768);function d(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var f={entering:{opacity:1,transform:d(1)},entered:{opacity:1,transform:"none"}},p=i.forwardRef((function(e,t){var n=e.children,p=e.disableStrictModeCompat,m=void 0!==p&&p,h=e.in,g=e.onEnter,v=e.onEntered,b=e.onEntering,D=e.onExit,y=e.onExited,C=e.onExiting,E=e.style,A=e.timeout,w=void 0===A?"auto":A,x=e.TransitionComponent,F=void 0===x?l.Ay:x,S=(0,a.A)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),k=i.useRef(),O=i.useRef(),R=(0,u.A)(),P=R.unstable_strictMode&&!m,B=i.useRef(null),T=(0,c.A)(n.ref,t),M=(0,c.A)(P?B:void 0,T),L=function(e){return function(t,n){if(e){var r=P?[B.current,t]:[t,n],a=(0,o.A)(r,2),i=a[0],l=a[1];void 0===l?e(i):e(i,l)}}},I=L(b),j=L((function(e,t){(0,s.q)(e);var n,r=(0,s.c)({style:E,timeout:w},{mode:"enter"}),o=r.duration,a=r.delay;"auto"===w?(n=R.transitions.getAutoHeightDuration(e.clientHeight),O.current=n):n=o,e.style.transition=[R.transitions.create("opacity",{duration:n,delay:a}),R.transitions.create("transform",{duration:.666*n,delay:a})].join(","),g&&g(e,t)})),z=L(v),N=L(C),_=L((function(e){var t,n=(0,s.c)({style:E,timeout:w},{mode:"exit"}),r=n.duration,o=n.delay;"auto"===w?(t=R.transitions.getAutoHeightDuration(e.clientHeight),O.current=t):t=r,e.style.transition=[R.transitions.create("opacity",{duration:t,delay:o}),R.transitions.create("transform",{duration:.666*t,delay:o||.333*t})].join(","),e.style.opacity="0",e.style.transform=d(.75),D&&D(e)})),H=L(y);return i.useEffect((function(){return function(){clearTimeout(k.current)}}),[]),i.createElement(F,(0,r.A)({appear:!0,in:h,nodeRef:P?B:void 0,onEnter:j,onEntered:z,onEntering:I,onExit:_,onExited:H,onExiting:N,addEndListener:function(e,t){var n=P?e:t;"auto"===w&&(k.current=setTimeout(n,O.current||0))},timeout:"auto"===w?null:w},S),(function(e,t){return i.cloneElement(n,(0,r.A)({style:(0,r.A)({opacity:0,transform:d(.75),visibility:"exited"!==e||h?void 0:"hidden"},f[e],E,n.props.style),ref:M},t))}))}));p.muiSupportAuto=!0;const m=p},7339:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(8168),o=n(45),a=n(5043),i=n(3024),l=n(8553),u=n(2454),s=n(5898),c=n(4822),d=a.forwardRef((function(e,t){var n=e.edge,l=void 0!==n&&n,u=e.children,d=e.classes,f=e.className,p=e.color,m=void 0===p?"default":p,h=e.disabled,g=void 0!==h&&h,v=e.disableFocusRipple,b=void 0!==v&&v,D=e.size,y=void 0===D?"medium":D,C=(0,o.A)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return a.createElement(s.A,(0,r.A)({className:(0,i.A)(d.root,f,"default"!==m&&d["color".concat((0,c.A)(m))],g&&d.disabled,"small"===y&&d["size".concat((0,c.A)(y))],{start:d.edgeStart,end:d.edgeEnd}[l]),centerRipple:!0,focusRipple:!b,disabled:g,ref:t},C),a.createElement("span",{className:d.label},u))}));const f=(0,l.A)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,u.X4)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,u.X4)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,u.X4)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(d)},403:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),o=n(45),a=n(5043),i=n(3024),l=n(581),u=n(8553),s=a.forwardRef((function(e,t){var n=e.disableUnderline,u=e.classes,s=e.fullWidth,c=void 0!==s&&s,d=e.inputComponent,f=void 0===d?"input":d,p=e.multiline,m=void 0!==p&&p,h=e.type,g=void 0===h?"text":h,v=(0,o.A)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.createElement(l.A,(0,r.A)({classes:(0,r.A)({},u,{root:(0,i.A)(u.root,!n&&u.underline),underline:null}),fullWidth:c,inputComponent:f,multiline:m,ref:t,type:g},v))}));s.muiName="Input";const c=(0,u.A)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(s)},581:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var r=n(45),o=n(8168),a=n(8565),i=n(5043),l=n(3024),u=n(3810),s=n(6612),c=n(8553),d=n(4822),f=n(768),p=n(7355);function m(e,t){return parseInt(e[t],10)||0}var h="undefined"!==typeof window?i.useLayoutEffect:i.useEffect,g={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const v=i.forwardRef((function(e,t){var n=e.onChange,a=e.rows,l=e.rowsMax,u=e.rowsMin,s=e.maxRows,c=e.minRows,d=void 0===c?1:c,v=e.style,b=e.value,D=(0,r.A)(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),y=s||l,C=a||u||d,E=i.useRef(null!=b).current,A=i.useRef(null),w=(0,f.A)(t,A),x=i.useRef(null),F=i.useRef(0),S=i.useState({}),k=S[0],O=S[1],R=i.useCallback((function(){var t=A.current,n=window.getComputedStyle(t),r=x.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var o=n["box-sizing"],a=m(n,"padding-bottom")+m(n,"padding-top"),i=m(n,"border-bottom-width")+m(n,"border-top-width"),l=r.scrollHeight-a;r.value="x";var u=r.scrollHeight-a,s=l;C&&(s=Math.max(Number(C)*u,s)),y&&(s=Math.min(Number(y)*u,s));var c=(s=Math.max(s,u))+("border-box"===o?a+i:0),d=Math.abs(s-l)<=1;O((function(e){return F.current<20&&(c>0&&Math.abs((e.outerHeightStyle||0)-c)>1||e.overflow!==d)?(F.current+=1,{overflow:d,outerHeightStyle:c}):e}))}),[y,C,e.placeholder]);i.useEffect((function(){var e=(0,p.A)((function(){F.current=0,R()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[R]),h((function(){R()})),i.useEffect((function(){F.current=0}),[b]);return i.createElement(i.Fragment,null,i.createElement("textarea",(0,o.A)({value:b,onChange:function(e){F.current=0,E||R(),n&&n(e)},ref:w,rows:C,style:(0,o.A)({height:k.outerHeightStyle,overflow:k.overflow?"hidden":null},v)},D)),i.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:x,tabIndex:-1,style:(0,o.A)({},g,v)}))}));var b=n(6031),D="undefined"===typeof window?i.useEffect:i.useLayoutEffect,y=i.forwardRef((function(e,t){var n=e["aria-describedby"],c=e.autoComplete,p=e.autoFocus,m=e.classes,h=e.className,g=(e.color,e.defaultValue),y=e.disabled,C=e.endAdornment,E=(e.error,e.fullWidth),A=void 0!==E&&E,w=e.id,x=e.inputComponent,F=void 0===x?"input":x,S=e.inputProps,k=void 0===S?{}:S,O=e.inputRef,R=(e.margin,e.multiline),P=void 0!==R&&R,B=e.name,T=e.onBlur,M=e.onChange,L=e.onClick,I=e.onFocus,j=e.onKeyDown,z=e.onKeyUp,N=e.placeholder,_=e.readOnly,H=e.renderSuffix,V=e.rows,W=e.rowsMax,U=e.rowsMin,$=e.maxRows,K=e.minRows,q=e.startAdornment,G=e.type,X=void 0===G?"text":G,Y=e.value,Z=(0,r.A)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),Q=null!=k.value?k.value:Y,J=i.useRef(null!=Q).current,ee=i.useRef(),te=i.useCallback((function(e){0}),[]),ne=(0,f.A)(k.ref,te),re=(0,f.A)(O,ne),oe=(0,f.A)(ee,re),ae=i.useState(!1),ie=ae[0],le=ae[1],ue=(0,s.t)();var se=(0,u.A)({props:e,muiFormControl:ue,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});se.focused=ue?ue.focused:ie,i.useEffect((function(){!ue&&y&&ie&&(le(!1),T&&T())}),[ue,y,ie,T]);var ce=ue&&ue.onFilled,de=ue&&ue.onEmpty,fe=i.useCallback((function(e){(0,b.lq)(e)?ce&&ce():de&&de()}),[ce,de]);D((function(){J&&fe({value:Q})}),[Q,fe,J]);i.useEffect((function(){fe(ee.current)}),[]);var pe=F,me=(0,o.A)({},k,{ref:oe});"string"!==typeof pe?me=(0,o.A)({inputRef:oe,type:X},me,{ref:null}):P?!V||$||K||W||U?(me=(0,o.A)({minRows:V||K,rowsMax:W,maxRows:$},me),pe=v):pe="textarea":me=(0,o.A)({type:X},me);return i.useEffect((function(){ue&&ue.setAdornedStart(Boolean(q))}),[ue,q]),i.createElement("div",(0,o.A)({className:(0,l.A)(m.root,m["color".concat((0,d.A)(se.color||"primary"))],h,se.disabled&&m.disabled,se.error&&m.error,A&&m.fullWidth,se.focused&&m.focused,ue&&m.formControl,P&&m.multiline,q&&m.adornedStart,C&&m.adornedEnd,"dense"===se.margin&&m.marginDense),onClick:function(e){ee.current&&e.currentTarget===e.target&&ee.current.focus(),L&&L(e)},ref:t},Z),q,i.createElement(s.A.Provider,{value:null},i.createElement(pe,(0,o.A)({"aria-invalid":se.error,"aria-describedby":n,autoComplete:c,autoFocus:p,defaultValue:g,disabled:se.disabled,id:w,onAnimationStart:function(e){fe("mui-auto-fill-cancel"===e.animationName?ee.current:{value:"x"})},name:B,placeholder:N,readOnly:_,required:se.required,rows:V,value:Q,onKeyDown:j,onKeyUp:z},me,{className:(0,l.A)(m.input,k.className,se.disabled&&m.disabled,P&&m.inputMultiline,se.hiddenLabel&&m.inputHiddenLabel,q&&m.inputAdornedStart,C&&m.inputAdornedEnd,"search"===X&&m.inputTypeSearch,"dense"===se.margin&&m.inputMarginDense),onBlur:function(e){T&&T(e),k.onBlur&&k.onBlur(e),ue&&ue.onBlur?ue.onBlur(e):le(!1)},onChange:function(e){if(!J){var t=e.target||ee.current;if(null==t)throw new Error((0,a.A)(1));fe({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];k.onChange&&k.onChange.apply(k,[e].concat(r)),M&&M.apply(void 0,[e].concat(r))},onFocus:function(e){se.disabled?e.stopPropagation():(I&&I(e),k.onFocus&&k.onFocus(e),ue&&ue.onFocus?ue.onFocus(e):le(!0))}}))),C,H?H((0,o.A)({},se,{startAdornment:q})):null)}));const C=(0,c.A)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},a={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,o.A)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(y)},6031:(e,t,n)=>{"use strict";function r(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(r(e.value)&&""!==e.value||t&&r(e.defaultValue)&&""!==e.defaultValue)}function a(e){return e.startAdornment}n.d(t,{gr:()=>a,lq:()=>o})},9989:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),o=n(45),a=n(5043),i=n(3024),l=n(8553),u=n(5982),s=a.forwardRef((function(e,t){var n=e.children,l=e.classes,s=e.className,c=e.component,d=void 0===c?"ul":c,f=e.dense,p=void 0!==f&&f,m=e.disablePadding,h=void 0!==m&&m,g=e.subheader,v=(0,o.A)(e,["children","classes","className","component","dense","disablePadding","subheader"]),b=a.useMemo((function(){return{dense:p}}),[p]);return a.createElement(u.A.Provider,{value:b},a.createElement(d,(0,r.A)({className:(0,i.A)(l.root,s,p&&l.dense,!h&&l.padding,g&&l.subheader),ref:t},v),g,n))}));const c=(0,l.A)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(s)},5982:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(5043).createContext({})},7603:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(8168),o=n(45),a=n(5043),i=n(3024),l=n(8553),u=n(5898),s=n(4867),c=n(768),d=n(5982),f=n(7950),p="undefined"===typeof window?a.useEffect:a.useLayoutEffect,m=a.forwardRef((function(e,t){var n=e.alignItems,l=void 0===n?"center":n,m=e.autoFocus,h=void 0!==m&&m,g=e.button,v=void 0!==g&&g,b=e.children,D=e.classes,y=e.className,C=e.component,E=e.ContainerComponent,A=void 0===E?"li":E,w=e.ContainerProps,x=(w=void 0===w?{}:w).className,F=(0,o.A)(w,["className"]),S=e.dense,k=void 0!==S&&S,O=e.disabled,R=void 0!==O&&O,P=e.disableGutters,B=void 0!==P&&P,T=e.divider,M=void 0!==T&&T,L=e.focusVisibleClassName,I=e.selected,j=void 0!==I&&I,z=(0,o.A)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),N=a.useContext(d.A),_={dense:k||N.dense||!1,alignItems:l},H=a.useRef(null);p((function(){h&&H.current&&H.current.focus()}),[h]);var V=a.Children.toArray(b),W=V.length&&(0,s.A)(V[V.length-1],["ListItemSecondaryAction"]),U=a.useCallback((function(e){H.current=f.findDOMNode(e)}),[]),$=(0,c.A)(U,t),K=(0,r.A)({className:(0,i.A)(D.root,y,_.dense&&D.dense,!B&&D.gutters,M&&D.divider,R&&D.disabled,v&&D.button,"center"!==l&&D.alignItemsFlexStart,W&&D.secondaryAction,j&&D.selected),disabled:R},z),q=C||"li";return v&&(K.component=C||"div",K.focusVisibleClassName=(0,i.A)(D.focusVisible,L),q=u.A),W?(q=K.component||C?q:"div","li"===A&&("li"===q?q="div":"li"===K.component&&(K.component="div")),a.createElement(d.A.Provider,{value:_},a.createElement(A,(0,r.A)({className:(0,i.A)(D.container,x),ref:$},F),a.createElement(q,K,V),V.pop()))):a.createElement(d.A.Provider,{value:_},a.createElement(q,(0,r.A)({ref:$},K),V))}));const h=(0,l.A)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(m)},5357:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(45),o=n(4467),a=n(8168),i=n(5043),l=n(3024),u=n(8553),s=n(7603),c=i.forwardRef((function(e,t){var n,o=e.classes,u=e.className,c=e.component,d=void 0===c?"li":c,f=e.disableGutters,p=void 0!==f&&f,m=e.ListItemClasses,h=e.role,g=void 0===h?"menuitem":h,v=e.selected,b=e.tabIndex,D=(0,r.A)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==b?b:-1),i.createElement(s.A,(0,a.A)({button:!0,role:g,tabIndex:n,component:d,selected:v,disableGutters:p,classes:(0,a.A)({dense:o.dense},m),className:(0,l.A)(o.root,u,v&&o.selected,!p&&o.gutters),ref:t},D))}));const d=(0,u.A)((function(e){return{root:(0,a.A)({},e.typography.body1,(0,o.A)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,a.A)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(c)},1935:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(8168),o=n(45),a=n(5043),i=(n(2086),n(7950)),l=n(9892),u=n(9989),s=n(5107),c=n(768);function d(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function f(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function p(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function m(e,t,n,r,o,a){for(var i=!1,l=o(e,t,!!t&&n);l;){if(l===e.firstChild){if(i)return;i=!0}var u=!r&&(l.disabled||"true"===l.getAttribute("aria-disabled"));if(l.hasAttribute("tabindex")&&p(l,a)&&!u)return void l.focus();l=o(e,l,n)}}var h="undefined"===typeof window?a.useEffect:a.useLayoutEffect;const g=a.forwardRef((function(e,t){var n=e.actions,g=e.autoFocus,v=void 0!==g&&g,b=e.autoFocusItem,D=void 0!==b&&b,y=e.children,C=e.className,E=e.disabledItemsFocusable,A=void 0!==E&&E,w=e.disableListWrap,x=void 0!==w&&w,F=e.onKeyDown,S=e.variant,k=void 0===S?"selectedMenu":S,O=(0,o.A)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),R=a.useRef(null),P=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});h((function(){v&&R.current.focus()}),[v]),a.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!R.current.style.width;if(e.clientHeight<R.current.clientHeight&&n){var r="".concat((0,s.A)(!0),"px");R.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,R.current.style.width="calc(100% + ".concat(r,")")}return R.current}}}),[]);var B=a.useCallback((function(e){R.current=i.findDOMNode(e)}),[]),T=(0,c.A)(B,t),M=-1;a.Children.forEach(y,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===k&&e.props.selected||-1===M)&&(M=t))}));var L=a.Children.map(y,(function(e,t){if(t===M){var n={};return D&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===k&&(n.tabIndex=0),a.cloneElement(e,n)}return e}));return a.createElement(u.A,(0,r.A)({role:"menu",ref:T,className:C,onKeyDown:function(e){var t=R.current,n=e.key,r=(0,l.A)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),m(t,r,x,A,d);else if("ArrowUp"===n)e.preventDefault(),m(t,r,x,A,f);else if("Home"===n)e.preventDefault(),m(t,null,x,A,d);else if("End"===n)e.preventDefault(),m(t,null,x,A,f);else if(1===n.length){var o=P.current,a=n.toLowerCase(),i=performance.now();o.keys.length>0&&(i-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&a!==o.keys[0]&&(o.repeating=!1)),o.lastTime=i,o.keys.push(a);var u=r&&!o.repeating&&p(r,o);o.previousKeyMatched&&(u||m(t,r,!1,A,d,o))?e.preventDefault():o.previousKeyMatched=!1}F&&F(e)},tabIndex:v?0:-1},O),L)}))},3536:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});var r=n(45),o=n(8168),a=n(5043),i=n(7950),l=n(4920),u=n(4534),s=n(9892),c=n(6225),d=n(146),f=n(768),p=n(2158),m=n(5321),h=n(3029),g=n(2901),v=n(5458),b=n(5107),D=n(7249);function y(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function C(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function E(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0,a=[t,n].concat((0,v.A)(r)),i=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===i.indexOf(e.tagName)&&y(e,o)}))}function A(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function w(e,t){var n,r=[],o=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,s.A)(e);return t.body===e?(0,D.A)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var i=(0,b.A)();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(C(a)+i,"px"),n=(0,s.A)(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){o.push(e.style.paddingRight),e.style.paddingRight="".concat(C(e)+i,"px")}))}var l=a.parentElement,u="HTML"===l.nodeName&&"scroll"===window.getComputedStyle(l)["overflow-y"]?l:a;r.push({value:u.style.overflow,key:"overflow",el:u}),u.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){o[t]?e.style.paddingRight=o[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var x=function(){function e(){(0,h.A)(this,e),this.modals=[],this.containers=[]}return(0,g.A)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&y(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);E(t,e.mountNode,e.modalRef,r,!0);var o=A(this.containers,(function(e){return e.container===t}));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=A(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=w(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=A(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&y(e.modalRef,!0),E(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var o=r.modals[r.modals.length-1];o.modalRef&&y(o.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),F=n(7005),S={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}};const k=a.forwardRef((function(e,t){var n=e.invisible,i=void 0!==n&&n,l=e.open,u=(0,r.A)(e,["invisible","open"]);return l?a.createElement("div",(0,o.A)({"aria-hidden":!0,ref:t},u,{style:(0,o.A)({},S.root,i?S.invisible:{},u.style)})):null}));var O=new x;const R=a.forwardRef((function(e,t){var n=(0,l.A)(),h=(0,u.A)({name:"MuiModal",props:(0,o.A)({},e),theme:n}),g=h.BackdropComponent,v=void 0===g?k:g,b=h.BackdropProps,D=h.children,C=h.closeAfterTransition,E=void 0!==C&&C,A=h.container,w=h.disableAutoFocus,x=void 0!==w&&w,S=h.disableBackdropClick,R=void 0!==S&&S,P=h.disableEnforceFocus,B=void 0!==P&&P,T=h.disableEscapeKeyDown,M=void 0!==T&&T,L=h.disablePortal,I=void 0!==L&&L,j=h.disableRestoreFocus,z=void 0!==j&&j,N=h.disableScrollLock,_=void 0!==N&&N,H=h.hideBackdrop,V=void 0!==H&&H,W=h.keepMounted,U=void 0!==W&&W,$=h.manager,K=void 0===$?O:$,q=h.onBackdropClick,G=h.onClose,X=h.onEscapeKeyDown,Y=h.onRendered,Z=h.open,Q=(0,r.A)(h,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),J=a.useState(!0),ee=J[0],te=J[1],ne=a.useRef({}),re=a.useRef(null),oe=a.useRef(null),ae=(0,f.A)(oe,t),ie=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(h),le=function(){return(0,s.A)(re.current)},ue=function(){return ne.current.modalRef=oe.current,ne.current.mountNode=re.current,ne.current},se=function(){K.mount(ue(),{disableScrollLock:_}),oe.current.scrollTop=0},ce=(0,p.A)((function(){var e=function(e){return e="function"===typeof e?e():e,i.findDOMNode(e)}(A)||le().body;K.add(ue(),e),oe.current&&se()})),de=a.useCallback((function(){return K.isTopModal(ue())}),[K]),fe=(0,p.A)((function(e){re.current=e,e&&(Y&&Y(),Z&&de()?se():y(oe.current,!0))})),pe=a.useCallback((function(){K.remove(ue())}),[K]);if(a.useEffect((function(){return function(){pe()}}),[pe]),a.useEffect((function(){Z?ce():ie&&E||pe()}),[Z,pe,ie,E,ce]),!U&&!Z&&(!ie||ee))return null;var me=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:m.A}),he={};return void 0===D.props.tabIndex&&(he.tabIndex=D.props.tabIndex||"-1"),ie&&(he.onEnter=(0,d.A)((function(){te(!1)}),D.props.onEnter),he.onExited=(0,d.A)((function(){te(!0),E&&pe()}),D.props.onExited)),a.createElement(c.A,{ref:fe,container:A,disablePortal:I},a.createElement("div",(0,o.A)({ref:ae,onKeyDown:function(e){"Escape"===e.key&&de()&&(X&&X(e),M||(e.stopPropagation(),G&&G(e,"escapeKeyDown")))},role:"presentation"},Q,{style:(0,o.A)({},me.root,!Z&&ee?me.hidden:{},Q.style)}),V?null:a.createElement(v,(0,o.A)({open:Z,onClick:function(e){e.target===e.currentTarget&&(q&&q(e),!R&&G&&G(e,"backdropClick"))}},b)),a.createElement(F.A,{disableEnforceFocus:B,disableAutoFocus:x,disableRestoreFocus:z,getDoc:le,isEnabled:de,open:Z},a.cloneElement(D,he))))}))},8908:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(8168),o=n(45),a=n(5043),i=n(3024),l=n(581),u=n(4467),s=n(8553),c=n(567),d=n(4822),f=a.forwardRef((function(e,t){e.children;var n=e.classes,l=e.className,s=e.label,f=e.labelWidth,p=e.notched,m=e.style,h=(0,o.A)(e,["children","classes","className","label","labelWidth","notched","style"]),g="rtl"===(0,c.A)().direction?"right":"left";if(void 0!==s)return a.createElement("fieldset",(0,r.A)({"aria-hidden":!0,className:(0,i.A)(n.root,l),ref:t,style:m},h),a.createElement("legend",{className:(0,i.A)(n.legendLabelled,p&&n.legendNotched)},s?a.createElement("span",null,s):a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var v=f>0?.75*f+8:.01;return a.createElement("fieldset",(0,r.A)({"aria-hidden":!0,style:(0,r.A)((0,u.A)({},"padding".concat((0,d.A)(g)),8),m),className:(0,i.A)(n.root,l),ref:t},h),a.createElement("legend",{className:n.legend,style:{width:p?v:.01}},a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))}));const p=(0,s.A)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(f);var m=a.forwardRef((function(e,t){var n=e.classes,u=e.fullWidth,s=void 0!==u&&u,c=e.inputComponent,d=void 0===c?"input":c,f=e.label,m=e.labelWidth,h=void 0===m?0:m,g=e.multiline,v=void 0!==g&&g,b=e.notched,D=e.type,y=void 0===D?"text":D,C=(0,o.A)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return a.createElement(l.A,(0,r.A)({renderSuffix:function(e){return a.createElement(p,{className:n.notchedOutline,label:f,labelWidth:h,notched:"undefined"!==typeof b?b:Boolean(e.startAdornment||e.filled||e.focused)})},classes:(0,r.A)({},n,{root:(0,i.A)(n.root,n.underline),notchedOutline:null}),fullWidth:s,inputComponent:d,multiline:v,ref:t,type:y},C))}));m.muiName="Input";const h=(0,s.A)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(m)},495:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(45),o=n(8168),a=n(5043),i=n(3024),l=n(8553),u=a.forwardRef((function(e,t){var n=e.classes,l=e.className,u=e.component,s=void 0===u?"div":u,c=e.square,d=void 0!==c&&c,f=e.elevation,p=void 0===f?1:f,m=e.variant,h=void 0===m?"elevation":m,g=(0,r.A)(e,["classes","className","component","square","elevation","variant"]);return a.createElement(s,(0,o.A)({className:(0,i.A)(n.root,l,"outlined"===h?n.outlined:n["elevation".concat(p)],!d&&n.rounded),ref:t},g))}));const s=(0,l.A)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,o.A)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(u)},5007:(e,t,n)=>{"use strict";n.d(t,{A:()=>De});var r=n(8168),o=n(45),a=n(5043),i="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,l=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(i&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var u=i&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),l))}};function s(e){return e&&"[object Function]"==={}.toString.call(e)}function c(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function d(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function f(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=c(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:f(d(e))}function p(e){return e&&e.referenceNode?e.referenceNode:e}var m=i&&!(!window.MSInputMethodContext||!document.documentMode),h=i&&/MSIE 10/.test(navigator.userAgent);function g(e){return 11===e?m:10===e?h:m||h}function v(e){if(!e)return document.documentElement;for(var t=g(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===c(n,"position")?v(n):n:e?e.ownerDocument.documentElement:document.documentElement}function b(e){return null!==e.parentNode?b(e.parentNode):e}function D(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(o,0);var i=a.commonAncestorContainer;if(e!==i&&t!==i||r.contains(o))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||v(e.firstElementChild)===e)}(i)?i:v(i);var l=b(e);return l.host?D(l.host,t):D(e,b(t).host)}function y(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function C(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function E(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],g(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function A(e){var t=e.body,n=e.documentElement,r=g(10)&&getComputedStyle(n);return{height:E("Height",t,n,r),width:E("Width",t,n,r)}}var w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function S(e){return F({},e,{right:e.left+e.width,bottom:e.top+e.height})}function k(e){var t={};try{if(g(10)){t=e.getBoundingClientRect();var n=y(e,"top"),r=y(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(f){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?A(e.ownerDocument):{},i=a.width||e.clientWidth||o.width,l=a.height||e.clientHeight||o.height,u=e.offsetWidth-i,s=e.offsetHeight-l;if(u||s){var d=c(e);u-=C(d,"x"),s-=C(d,"y"),o.width-=u,o.height-=s}return S(o)}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g(10),o="HTML"===t.nodeName,a=k(e),i=k(t),l=f(e),u=c(t),s=parseFloat(u.borderTopWidth),d=parseFloat(u.borderLeftWidth);n&&o&&(i.top=Math.max(i.top,0),i.left=Math.max(i.left,0));var p=S({top:a.top-i.top-s,left:a.left-i.left-d,width:a.width,height:a.height});if(p.marginTop=0,p.marginLeft=0,!r&&o){var m=parseFloat(u.marginTop),h=parseFloat(u.marginLeft);p.top-=s-m,p.bottom-=s-m,p.left-=d-h,p.right-=d-h,p.marginTop=m,p.marginLeft=h}return(r&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=y(t,"top"),o=y(t,"left"),a=n?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=o*a,e.right+=o*a,e}(p,t)),p}function R(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===c(e,"position"))return!0;var n=d(e);return!!n&&R(n)}function P(e){if(!e||!e.parentElement||g())return document.documentElement;for(var t=e.parentElement;t&&"none"===c(t,"transform");)t=t.parentElement;return t||document.documentElement}function B(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},i=o?P(e):D(e,p(t));if("viewport"===r)a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=O(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),i=t?0:y(n),l=t?0:y(n,"left");return S({top:i-r.top+r.marginTop,left:l-r.left+r.marginLeft,width:o,height:a})}(i,o);else{var l=void 0;"scrollParent"===r?"BODY"===(l=f(d(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===r?e.ownerDocument.documentElement:r;var u=O(l,i,o);if("HTML"!==l.nodeName||R(i))a=u;else{var s=A(e.ownerDocument),c=s.height,m=s.width;a.top+=u.top-u.marginTop,a.bottom=c+u.top,a.left+=u.left-u.marginLeft,a.right=m+u.left}}var h="number"===typeof(n=n||0);return a.left+=h?n:n.left||0,a.top+=h?n:n.top||0,a.right-=h?n:n.right||0,a.bottom-=h?n:n.bottom||0,a}function T(e,t,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var i=B(n,r,a,o),l={top:{width:i.width,height:t.top-i.top},right:{width:i.right-t.right,height:i.height},bottom:{width:i.width,height:i.bottom-t.bottom},left:{width:t.left-i.left,height:i.height}},u=Object.keys(l).map((function(e){return F({key:e},l[e],{area:(t=l[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),s=u.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),c=s.length>0?s[0].key:u[0].key,d=e.split("-")[1];return c+(d?"-"+d:"")}function M(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return O(n,r?P(t):D(t,p(n)),r)}function L(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function I(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function j(e,t,n){n=n.split("-")[0];var r=L(e),o={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),i=a?"top":"left",l=a?"left":"top",u=a?"height":"width",s=a?"width":"height";return o[i]=t[i]+t[u]/2-r[u]/2,o[l]=n===l?t[l]-r[s]:t[I(l)],o}function z(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function N(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=z(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&s(n)&&(t.offsets.popper=S(t.offsets.popper),t.offsets.reference=S(t.offsets.reference),t=n(t,e))})),t}function _(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=M(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=T(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=j(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=N(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function H(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function V(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],a=o?""+o+n:e;if("undefined"!==typeof document.body.style[a])return a}return null}function W(){return this.state.isDestroyed=!0,H(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[V("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function U(e){var t=e.ownerDocument;return t?t.defaultView:window}function $(e,t,n,r){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),o||$(f(a.parentNode),t,n,r),r.push(a)}function K(e,t,n,r){n.updateBound=r,U(e).addEventListener("resize",n.updateBound,{passive:!0});var o=f(e);return $(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function q(){this.state.eventsEnabled||(this.state=K(this.reference,this.options,this.state,this.scheduleUpdate))}function G(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,U(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function X(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Y(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&X(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var Z=i&&/Firefox/i.test(navigator.userAgent);function Q(e,t,n){var r=z(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var a="`"+t+"`",i="`"+n+"`";console.warn(i+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return o}var J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ee=J.slice(3);function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ee.indexOf(e),r=ee.slice(n+1).concat(ee.slice(0,n));return t?r.reverse():r}var ne="flip",re="clockwise",oe="counterclockwise";function ae(e,t,n,r){var o=[0,0],a=-1!==["right","left"].indexOf(r),i=e.split(/(\+|\-)/).map((function(e){return e.trim()})),l=i.indexOf(z(i,(function(e){return-1!==e.search(/,|\s/)})));i[l]&&-1===i[l].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,s=-1!==l?[i.slice(0,l).concat([i[l].split(u)[0]]),[i[l].split(u)[1]].concat(i.slice(l+1))]:[i];return s=s.map((function(e,r){var o=(1===r?!a:a)?"height":"width",i=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,i=!0,e):i?(e[e.length-1]+=t,i=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+o[1],i=o[2];if(!a)return e;if(0===i.indexOf("%")){return S("%p"===i?n:r)[t]/100*a}if("vh"===i||"vw"===i)return("vh"===i?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,o,t,n)}))})),s.forEach((function(e,t){e.forEach((function(n,r){X(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}var ie={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,a=o.reference,i=o.popper,l=-1!==["bottom","top"].indexOf(n),u=l?"left":"top",s=l?"width":"height",c={start:x({},u,a[u]),end:x({},u,a[u]+a[s]-i[s])};e.offsets.popper=F({},i,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,a=o.popper,i=o.reference,l=r.split("-")[0],u=void 0;return u=X(+n)?[+n,0]:ae(n,a,i,l),"left"===l?(a.top+=u[0],a.left-=u[1]):"right"===l?(a.top+=u[0],a.left+=u[1]):"top"===l?(a.left+=u[0],a.top-=u[1]):"bottom"===l&&(a.left+=u[0],a.top+=u[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||v(e.instance.popper);e.instance.reference===n&&(n=v(n));var r=V("transform"),o=e.instance.popper.style,a=o.top,i=o.left,l=o[r];o.top="",o.left="",o[r]="";var u=B(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=a,o.left=i,o[r]=l,t.boundaries=u;var s=t.priority,c=e.offsets.popper,d={primary:function(e){var n=c[e];return c[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(c[e],u[e])),x({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=c[n];return c[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(c[n],u[e]-("right"===e?c.width:c.height))),x({},n,r)}};return s.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=F({},c,d[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],a=Math.floor,i=-1!==["top","bottom"].indexOf(o),l=i?"right":"bottom",u=i?"left":"top",s=i?"width":"height";return n[l]<a(r[u])&&(e.offsets.popper[u]=a(r[u])-n[s]),n[u]>a(r[l])&&(e.offsets.popper[u]=a(r[l])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Q(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],a=e.offsets,i=a.popper,l=a.reference,u=-1!==["left","right"].indexOf(o),s=u?"height":"width",d=u?"Top":"Left",f=d.toLowerCase(),p=u?"left":"top",m=u?"bottom":"right",h=L(r)[s];l[m]-h<i[f]&&(e.offsets.popper[f]-=i[f]-(l[m]-h)),l[f]+h>i[m]&&(e.offsets.popper[f]+=l[f]+h-i[m]),e.offsets.popper=S(e.offsets.popper);var g=l[f]+l[s]/2-h/2,v=c(e.instance.popper),b=parseFloat(v["margin"+d]),D=parseFloat(v["border"+d+"Width"]),y=g-e.offsets.popper[f]-b-D;return y=Math.max(Math.min(i[s]-h,y),0),e.arrowElement=r,e.offsets.arrow=(x(n={},f,Math.round(y)),x(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(H(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=B(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=I(r),a=e.placement.split("-")[1]||"",i=[];switch(t.behavior){case ne:i=[r,o];break;case re:i=te(r);break;case oe:i=te(r,!0);break;default:i=t.behavior}return i.forEach((function(l,u){if(r!==l||i.length===u+1)return e;r=e.placement.split("-")[0],o=I(r);var s=e.offsets.popper,c=e.offsets.reference,d=Math.floor,f="left"===r&&d(s.right)>d(c.left)||"right"===r&&d(s.left)<d(c.right)||"top"===r&&d(s.bottom)>d(c.top)||"bottom"===r&&d(s.top)<d(c.bottom),p=d(s.left)<d(n.left),m=d(s.right)>d(n.right),h=d(s.top)<d(n.top),g=d(s.bottom)>d(n.bottom),v="left"===r&&p||"right"===r&&m||"top"===r&&h||"bottom"===r&&g,b=-1!==["top","bottom"].indexOf(r),D=!!t.flipVariations&&(b&&"start"===a&&p||b&&"end"===a&&m||!b&&"start"===a&&h||!b&&"end"===a&&g),y=!!t.flipVariationsByContent&&(b&&"start"===a&&m||b&&"end"===a&&p||!b&&"start"===a&&g||!b&&"end"===a&&h),C=D||y;(f||v||C)&&(e.flipped=!0,(f||v)&&(r=i[u+1]),C&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=F({},e.offsets.popper,j(e.instance.popper,e.offsets.reference,e.placement)),e=N(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,a=r.reference,i=-1!==["left","right"].indexOf(n),l=-1===["top","left"].indexOf(n);return o[i?"left":"top"]=a[n]-(l?o[i?"width":"height"]:0),e.placement=I(t),e.offsets.popper=S(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=z(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,a=z(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var i=void 0!==a?a:t.gpuAcceleration,l=v(e.instance.popper),u=k(l),s={position:o.position},c=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,a=Math.round,i=Math.floor,l=function(e){return e},u=a(o.width),s=a(r.width),c=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?c||d||u%2===s%2?a:i:l,p=t?a:l;return{left:f(u%2===1&&s%2===1&&!d&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!Z),d="bottom"===n?"top":"bottom",f="right"===r?"left":"right",p=V("transform"),m=void 0,h=void 0;if(h="bottom"===d?"HTML"===l.nodeName?-l.clientHeight+c.bottom:-u.height+c.bottom:c.top,m="right"===f?"HTML"===l.nodeName?-l.clientWidth+c.right:-u.width+c.right:c.left,i&&p)s[p]="translate3d("+m+"px, "+h+"px, 0)",s[d]=0,s[f]=0,s.willChange="transform";else{var g="bottom"===d?-1:1,b="right"===f?-1:1;s[d]=h*g,s[f]=m*b,s.willChange=d+", "+f}var D={"x-placement":e.placement};return e.attributes=F({},D,e.attributes),e.styles=F({},s,e.styles),e.arrowStyles=F({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Y(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Y(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var a=M(o,t,e,n.positionFixed),i=T(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",i),Y(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},le={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ie},ue=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=u(this.update.bind(this)),this.options=F({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(F({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=F({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return F({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&s(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return w(e,[{key:"update",value:function(){return _.call(this)}},{key:"destroy",value:function(){return W.call(this)}},{key:"enableEventListeners",value:function(){return q.call(this)}},{key:"disableEventListeners",value:function(){return G.call(this)}}]),e}();ue.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,ue.placements=J,ue.Defaults=le;const se=ue;var ce=n(4920),de=n(6225),fe=n(146),pe=n(9189),me=n(768);function he(e){return"function"===typeof e?e():e}var ge="undefined"!==typeof window?a.useLayoutEffect:a.useEffect,ve={},be=a.forwardRef((function(e,t){var n=e.anchorEl,i=e.children,l=e.container,u=e.disablePortal,s=void 0!==u&&u,c=e.keepMounted,d=void 0!==c&&c,f=e.modifiers,p=e.open,m=e.placement,h=void 0===m?"bottom":m,g=e.popperOptions,v=void 0===g?ve:g,b=e.popperRef,D=e.style,y=e.transition,C=void 0!==y&&y,E=(0,o.A)(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),A=a.useRef(null),w=(0,me.A)(A,t),x=a.useRef(null),F=(0,me.A)(x,b),S=a.useRef(F);ge((function(){S.current=F}),[F]),a.useImperativeHandle(b,(function(){return x.current}),[]);var k=a.useState(!0),O=k[0],R=k[1],P=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(h,(0,ce.A)()),B=a.useState(P),T=B[0],M=B[1];a.useEffect((function(){x.current&&x.current.update()}));var L=a.useCallback((function(){if(A.current&&n&&p){x.current&&(x.current.destroy(),S.current(null));var e=function(e){M(e.placement)},t=(he(n),new se(he(n),A.current,(0,r.A)({placement:P},v,{modifiers:(0,r.A)({},s?{}:{preventOverflow:{boundariesElement:"window"}},f,v.modifiers),onCreate:(0,fe.A)(e,v.onCreate),onUpdate:(0,fe.A)(e,v.onUpdate)})));S.current(t)}}),[n,s,f,p,P,v]),I=a.useCallback((function(e){(0,pe.A)(w,e),L()}),[w,L]),j=function(){x.current&&(x.current.destroy(),S.current(null))};if(a.useEffect((function(){return function(){j()}}),[]),a.useEffect((function(){p||C||j()}),[p,C]),!d&&!p&&(!C||O))return null;var z={placement:T};return C&&(z.TransitionProps={in:p,onEnter:function(){R(!1)},onExited:function(){R(!0),j()}}),a.createElement(de.A,{disablePortal:s,container:l},a.createElement("div",(0,r.A)({ref:I,role:"tooltip"},E,{style:(0,r.A)({position:"fixed",top:0,left:0,display:p||!d||C?null:"none"},D)}),"function"===typeof i?i(z):i))}));const De=be},6225:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(5043),o=n(7950),a=n(9189),i=n(768);var l="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;const u=r.forwardRef((function(e,t){var n=e.children,u=e.container,s=e.disablePortal,c=void 0!==s&&s,d=e.onRendered,f=r.useState(null),p=f[0],m=f[1],h=(0,i.A)(r.isValidElement(n)?n.ref:null,t);return l((function(){c||m(function(e){return e="function"===typeof e?e():e,o.findDOMNode(e)}(u)||document.body)}),[u,c]),l((function(){if(p&&!c)return(0,a.A)(t,p),function(){(0,a.A)(t,null)}}),[t,p,c]),l((function(){d&&(p||c)&&d()}),[d,p,c]),c?r.isValidElement(n)?r.cloneElement(n,{ref:h}):n:p?o.createPortal(n,p):p}))},2432:(e,t,n)=>{"use strict";n.d(t,{A:()=>J});var r=n(8168),o=n(45),a=n(5043),i=n(1560),l=n(296),u=n(2284),s=n(8565),c=(n(2086),n(3024)),d=n(9892),f=n(4822),p=n(8553),m=n(7950),h=n(7355),g=n(7249),v=n(146),b=n(3536),D=n(1575),y=n(495);function C(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function E(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function A(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function w(e){return"function"===typeof e?e():e}var x=a.forwardRef((function(e,t){var n=e.action,i=e.anchorEl,l=e.anchorOrigin,u=void 0===l?{vertical:"top",horizontal:"left"}:l,s=e.anchorPosition,f=e.anchorReference,p=void 0===f?"anchorEl":f,x=e.children,F=e.classes,S=e.className,k=e.container,O=e.elevation,R=void 0===O?8:O,P=e.getContentAnchorEl,B=e.marginThreshold,T=void 0===B?16:B,M=e.onEnter,L=e.onEntered,I=e.onEntering,j=e.onExit,z=e.onExited,N=e.onExiting,_=e.open,H=e.PaperProps,V=void 0===H?{}:H,W=e.transformOrigin,U=void 0===W?{vertical:"top",horizontal:"left"}:W,$=e.TransitionComponent,K=void 0===$?D.A:$,q=e.transitionDuration,G=void 0===q?"auto":q,X=e.TransitionProps,Y=void 0===X?{}:X,Z=(0,o.A)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),Q=a.useRef(),J=a.useCallback((function(e){if("anchorPosition"===p)return s;var t=w(i),n=(t&&1===t.nodeType?t:(0,d.A)(Q.current).body).getBoundingClientRect(),r=0===e?u.vertical:"center";return{top:n.top+C(n,r),left:n.left+E(n,u.horizontal)}}),[i,u.horizontal,u.vertical,s,p]),ee=a.useCallback((function(e){var t=0;if(P&&"anchorEl"===p){var n=P(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[u.vertical,p,P]),te=a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:C(e,U.vertical)+t,horizontal:E(e,U.horizontal)}}),[U.horizontal,U.vertical]),ne=a.useCallback((function(e){var t=ee(e),n={width:e.offsetWidth,height:e.offsetHeight},r=te(n,t);if("none"===p)return{top:null,left:null,transformOrigin:A(r)};var o=J(t),a=o.top-r.vertical,l=o.left-r.horizontal,u=a+n.height,s=l+n.width,c=(0,g.A)(w(i)),d=c.innerHeight-T,f=c.innerWidth-T;if(a<T){var m=a-T;a-=m,r.vertical+=m}else if(u>d){var h=u-d;a-=h,r.vertical+=h}if(l<T){var v=l-T;l-=v,r.horizontal+=v}else if(s>f){var b=s-f;l-=b,r.horizontal+=b}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(l),"px"),transformOrigin:A(r)}}),[i,p,J,ee,te,T]),re=a.useCallback((function(){var e=Q.current;if(e){var t=ne(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[ne]),oe=a.useCallback((function(e){Q.current=m.findDOMNode(e)}),[]);a.useEffect((function(){_&&re()})),a.useImperativeHandle(n,(function(){return _?{updatePosition:function(){re()}}:null}),[_,re]),a.useEffect((function(){if(_){var e=(0,h.A)((function(){re()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[_,re]);var ae=G;"auto"!==G||K.muiSupportAuto||(ae=void 0);var ie=k||(i?(0,d.A)(w(i)).body:void 0);return a.createElement(b.A,(0,r.A)({container:ie,open:_,ref:t,BackdropProps:{invisible:!0},className:(0,c.A)(F.root,S)},Z),a.createElement(K,(0,r.A)({appear:!0,in:_,onEnter:M,onEntered:L,onExit:j,onExited:z,onExiting:N,timeout:ae},Y,{onEntering:(0,v.A)((function(e,t){I&&I(e,t),re()}),Y.onEntering)}),a.createElement(y.A,(0,r.A)({elevation:R,ref:oe},V,{className:(0,c.A)(F.paper,V.className)}),x)))}));const F=(0,p.A)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(x);var S=n(1935),k=n(9189),O=n(567),R={vertical:"top",horizontal:"right"},P={vertical:"top",horizontal:"left"},B=a.forwardRef((function(e,t){var n=e.autoFocus,i=void 0===n||n,l=e.children,u=e.classes,s=e.disableAutoFocusItem,d=void 0!==s&&s,f=e.MenuListProps,p=void 0===f?{}:f,h=e.onClose,g=e.onEntering,v=e.open,b=e.PaperProps,D=void 0===b?{}:b,y=e.PopoverClasses,C=e.transitionDuration,E=void 0===C?"auto":C,A=e.TransitionProps,w=(A=void 0===A?{}:A).onEntering,x=(0,o.A)(A,["onEntering"]),B=e.variant,T=void 0===B?"selectedMenu":B,M=(0,o.A)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),L=(0,O.A)(),I=i&&!d&&v,j=a.useRef(null),z=a.useRef(null),N=-1;a.Children.map(l,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("menu"!==T&&e.props.selected||-1===N)&&(N=t))}));var _=a.Children.map(l,(function(e,t){return t===N?a.cloneElement(e,{ref:function(t){z.current=m.findDOMNode(t),(0,k.A)(e.ref,t)}}):e}));return a.createElement(F,(0,r.A)({getContentAnchorEl:function(){return z.current},classes:y,onClose:h,TransitionProps:(0,r.A)({onEntering:function(e,t){j.current&&j.current.adjustStyleForScrollbar(e,L),g&&g(e,t),w&&w(e,t)}},x),anchorOrigin:"rtl"===L.direction?R:P,transformOrigin:"rtl"===L.direction?R:P,PaperProps:(0,r.A)({},D,{classes:(0,r.A)({},D.classes,{root:u.paper})}),open:v,ref:t,transitionDuration:E},M),a.createElement(S.A,(0,r.A)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),h&&h(e,"tabKeyDown"))},actions:j,autoFocus:i&&(-1===N||d),autoFocusItem:I,variant:T},p,{className:(0,c.A)(u.list,p.className)}),_))}));const T=(0,p.A)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(B);var M=n(6031),L=n(768),I=n(1051);function j(e,t){return"object"===(0,u.A)(t)&&null!==t?e===t:String(e)===String(t)}const z=a.forwardRef((function(e,t){var n=e["aria-label"],i=e.autoFocus,u=e.autoWidth,p=e.children,m=e.classes,h=e.className,g=e.defaultValue,v=e.disabled,b=e.displayEmpty,D=e.IconComponent,y=e.inputRef,C=e.labelId,E=e.MenuProps,A=void 0===E?{}:E,w=e.multiple,x=e.name,F=e.onBlur,S=e.onChange,k=e.onClose,O=e.onFocus,R=e.onOpen,P=e.open,B=e.readOnly,z=e.renderValue,N=e.SelectDisplayProps,_=void 0===N?{}:N,H=e.tabIndex,V=(e.type,e.value),W=e.variant,U=void 0===W?"standard":W,$=(0,o.A)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),K=(0,I.A)({controlled:V,default:g,name:"Select"}),q=(0,l.A)(K,2),G=q[0],X=q[1],Y=a.useRef(null),Z=a.useState(null),Q=Z[0],J=Z[1],ee=a.useRef(null!=P).current,te=a.useState(),ne=te[0],re=te[1],oe=a.useState(!1),ae=oe[0],ie=oe[1],le=(0,L.A)(t,y);a.useImperativeHandle(le,(function(){return{focus:function(){Q.focus()},node:Y.current,value:G}}),[Q,G]),a.useEffect((function(){i&&Q&&Q.focus()}),[i,Q]),a.useEffect((function(){if(Q){var e=(0,d.A)(Q).getElementById(C);if(e){var t=function(){getSelection().isCollapsed&&Q.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[C,Q]);var ue,se,ce=function(e,t){e?R&&R(t):k&&k(t),ee||(re(u?null:Q.clientWidth),ie(e))},de=a.Children.toArray(p),fe=function(e){return function(t){var n;if(w||ce(!1,t),w){n=Array.isArray(G)?G.slice():[];var r=G.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),G!==n&&(X(n),S&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:x}}),S(t,e)))}},pe=null!==Q&&(ee?P:ae);delete $["aria-invalid"];var me=[],he=!1;((0,M.lq)({value:G})||b)&&(z?ue=z(G):he=!0);var ge=de.map((function(e){if(!a.isValidElement(e))return null;var t;if(w){if(!Array.isArray(G))throw new Error((0,s.A)(2));(t=G.some((function(t){return j(t,e.props.value)})))&&he&&me.push(e.props.children)}else(t=j(G,e.props.value))&&he&&(se=e.props.children);return t&&!0,a.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:fe(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));he&&(ue=w?me.join(", "):se);var ve,be=ne;!u&&ee&&Q&&(be=Q.clientWidth),ve="undefined"!==typeof H?H:v?null:0;var De=_.id||(x?"mui-component-select-".concat(x):void 0);return a.createElement(a.Fragment,null,a.createElement("div",(0,r.A)({className:(0,c.A)(m.root,m.select,m.selectMenu,m[U],h,v&&m.disabled),ref:J,tabIndex:ve,role:"button","aria-disabled":v?"true":void 0,"aria-expanded":pe?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[C,De].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!B){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ce(!0,e))}},onMouseDown:v||B?null:function(e){0===e.button&&(e.preventDefault(),Q.focus(),ce(!0,e))},onBlur:function(e){!pe&&F&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:G,name:x}}),F(e))},onFocus:O},_,{id:De}),function(e){return null==e||"string"===typeof e&&!e.trim()}(ue)?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):ue),a.createElement("input",(0,r.A)({value:Array.isArray(G)?G.join(","):G,name:x,ref:Y,"aria-hidden":!0,onChange:function(e){var t=de.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=de[t];X(n.props.value),S&&S(e,n)}},tabIndex:-1,className:m.nativeInput,autoFocus:i},$)),a.createElement(D,{className:(0,c.A)(m.icon,m["icon".concat((0,f.A)(U))],pe&&m.iconOpen,v&&m.disabled)}),a.createElement(T,(0,r.A)({id:"menu-".concat(x||""),anchorEl:Q,open:pe,onClose:function(e){ce(!1,e)}},A,{MenuListProps:(0,r.A)({"aria-labelledby":C,role:"listbox",disableListWrap:!0},A.MenuListProps),PaperProps:(0,r.A)({},A.PaperProps,{style:(0,r.A)({minWidth:be},null!=A.PaperProps?A.PaperProps.style:null)})}),ge))}));var N=n(3810),_=n(2696);const H=(0,n(4794).A)(a.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");var V=n(403);const W=a.forwardRef((function(e,t){var n=e.classes,i=e.className,l=e.disabled,u=e.IconComponent,s=e.inputRef,d=e.variant,p=void 0===d?"standard":d,m=(0,o.A)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return a.createElement(a.Fragment,null,a.createElement("select",(0,r.A)({className:(0,c.A)(n.root,n.select,n[p],i,l&&n.disabled),disabled:l,ref:s||t},m)),e.multiple?null:a.createElement(u,{className:(0,c.A)(n.icon,n["icon".concat((0,f.A)(p))],l&&n.disabled)}))}));var U=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},$=a.createElement(V.A,null),K=a.forwardRef((function(e,t){var n=e.children,i=e.classes,l=e.IconComponent,u=void 0===l?H:l,s=e.input,c=void 0===s?$:s,d=e.inputProps,f=(e.variant,(0,o.A)(e,["children","classes","IconComponent","input","inputProps","variant"])),p=(0,_.A)(),m=(0,N.A)({props:e,muiFormControl:p,states:["variant"]});return a.cloneElement(c,(0,r.A)({inputComponent:W,inputProps:(0,r.A)({children:n,classes:i,IconComponent:u,variant:m.variant,type:void 0},d,c?c.props.inputProps:{}),ref:t},f))}));K.muiName="Select";(0,p.A)(U,{name:"MuiNativeSelect"})(K);var q=n(8951),G=n(8908),X=U,Y=a.createElement(V.A,null),Z=a.createElement(q.A,null),Q=a.forwardRef((function e(t,n){var l=t.autoWidth,u=void 0!==l&&l,s=t.children,c=t.classes,d=t.displayEmpty,f=void 0!==d&&d,p=t.IconComponent,m=void 0===p?H:p,h=t.id,g=t.input,v=t.inputProps,b=t.label,D=t.labelId,y=t.labelWidth,C=void 0===y?0:y,E=t.MenuProps,A=t.multiple,w=void 0!==A&&A,x=t.native,F=void 0!==x&&x,S=t.onClose,k=t.onOpen,O=t.open,R=t.renderValue,P=t.SelectDisplayProps,B=t.variant,T=void 0===B?"standard":B,M=(0,o.A)(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),L=F?W:z,I=(0,_.A)(),j=(0,N.A)({props:t,muiFormControl:I,states:["variant"]}).variant||T,V=g||{standard:Y,outlined:a.createElement(G.A,{label:b,labelWidth:C}),filled:Z}[j];return a.cloneElement(V,(0,r.A)({inputComponent:L,inputProps:(0,r.A)({children:s,IconComponent:m,variant:j,type:void 0,multiple:w},F?{id:h}:{autoWidth:u,displayEmpty:f,labelId:D,MenuProps:E,onClose:S,onOpen:k,open:O,renderValue:R,SelectDisplayProps:(0,r.A)({id:h},P)},v,{classes:v?(0,i.A)({baseClasses:c,newClasses:v.classes,Component:e}):c},g?g.props.inputProps:{}),ref:n},M))}));Q.muiName="Select";const J=(0,p.A)(X,{name:"MuiSelect"})(Q)},2008:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(5043).createContext()},9116:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(5043).createContext()},2703:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(45),o=n(8168),a=n(5043),i=n(3024),l=n(8553),u=n(4822),s=n(2454),c=n(2008),d=n(9116),f=a.forwardRef((function(e,t){var n,l,s=e.align,f=void 0===s?"inherit":s,p=e.classes,m=e.className,h=e.component,g=e.padding,v=e.scope,b=e.size,D=e.sortDirection,y=e.variant,C=(0,r.A)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),E=a.useContext(c.A),A=a.useContext(d.A),w=A&&"head"===A.variant;h?(l=h,n=w?"columnheader":"cell"):l=w?"th":"td";var x=v;!x&&w&&(x="col");var F=g||(E&&E.padding?E.padding:"normal"),S=b||(E&&E.size?E.size:"medium"),k=y||A&&A.variant,O=null;return D&&(O="asc"===D?"ascending":"descending"),a.createElement(l,(0,o.A)({ref:t,className:(0,i.A)(p.root,p[k],m,"inherit"!==f&&p["align".concat((0,u.A)(f))],"normal"!==F&&p["padding".concat((0,u.A)(F))],"medium"!==S&&p["size".concat((0,u.A)(S))],"head"===k&&E&&E.stickyHeader&&p.stickyHeader),"aria-sort":O,role:n,scope:x},C))}));const p=(0,l.A)((function(e){return{root:(0,o.A)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?(0,s.a)((0,s.X4)(e.palette.divider,1),.88):(0,s.e$)((0,s.X4)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(f)},7243:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),o=n(45),a=n(4467),i=n(5043),l=n(3024),u=n(8553),s=i.forwardRef((function(e,t){var n=e.classes,a=e.className,u=e.component,s=void 0===u?"div":u,c=e.disableGutters,d=void 0!==c&&c,f=e.variant,p=void 0===f?"regular":f,m=(0,o.A)(e,["classes","className","component","disableGutters","variant"]);return i.createElement(s,(0,r.A)({className:(0,l.A)(n.root,n[p],a,!d&&n.gutters),ref:t},m))}));const c=(0,u.A)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:(0,a.A)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(s)},9579:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>F});var r=n(8168),o=n(296),a=n(45),i=n(4467),l=n(5043),u=n(7950),s=n(3024),c=n(3806),d=n(2454),f=n(8553),p=n(4822),m=n(1575),h=n(5007),g=n(768),v=n(2237),b=n(9189),D=n(4455),y=n(1051),C=n(567);function E(e){return Math.round(1e5*e)/1e5}var A=!1,w=null;var x=l.forwardRef((function(e,t){var n=e.arrow,i=void 0!==n&&n,d=e.children,f=e.classes,E=e.disableFocusListener,x=void 0!==E&&E,F=e.disableHoverListener,S=void 0!==F&&F,k=e.disableTouchListener,O=void 0!==k&&k,R=e.enterDelay,P=void 0===R?100:R,B=e.enterNextDelay,T=void 0===B?0:B,M=e.enterTouchDelay,L=void 0===M?700:M,I=e.id,j=e.interactive,z=void 0!==j&&j,N=e.leaveDelay,_=void 0===N?0:N,H=e.leaveTouchDelay,V=void 0===H?1500:H,W=e.onClose,U=e.onOpen,$=e.open,K=e.placement,q=void 0===K?"bottom":K,G=e.PopperComponent,X=void 0===G?h.A:G,Y=e.PopperProps,Z=e.title,Q=e.TransitionComponent,J=void 0===Q?m.A:Q,ee=e.TransitionProps,te=(0,a.A)(e,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),ne=(0,C.A)(),re=l.useState(),oe=re[0],ae=re[1],ie=l.useState(null),le=ie[0],ue=ie[1],se=l.useRef(!1),ce=l.useRef(),de=l.useRef(),fe=l.useRef(),pe=l.useRef(),me=(0,y.A)({controlled:$,default:!1,name:"Tooltip",state:"open"}),he=(0,o.A)(me,2),ge=he[0],ve=he[1],be=ge,De=(0,v.A)(I);l.useEffect((function(){return function(){clearTimeout(ce.current),clearTimeout(de.current),clearTimeout(fe.current),clearTimeout(pe.current)}}),[]);var ye=function(e){clearTimeout(w),A=!0,ve(!0),U&&U(e)},Ce=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=d.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),se.current&&"touchstart"!==t.type||(oe&&oe.removeAttribute("title"),clearTimeout(de.current),clearTimeout(fe.current),P||A&&T?(t.persist(),de.current=setTimeout((function(){ye(t)}),A?T:P)):ye(t))}},Ee=(0,D.A)(),Ae=Ee.isFocusVisible,we=Ee.onBlurVisible,xe=Ee.ref,Fe=l.useState(!1),Se=Fe[0],ke=Fe[1],Oe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){oe||ae(t.currentTarget),Ae(t)&&(ke(!0),Ce()(t));var n=d.props;n.onFocus&&e&&n.onFocus(t)}},Re=function(e){clearTimeout(w),w=setTimeout((function(){A=!1}),800+_),ve(!1),W&&W(e),clearTimeout(ce.current),ce.current=setTimeout((function(){se.current=!1}),ne.transitions.duration.shortest)},Pe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=d.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),Se&&(ke(!1),we())),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===oe&&n.onMouseLeave(t),clearTimeout(de.current),clearTimeout(fe.current),t.persist(),fe.current=setTimeout((function(){Re(t)}),_)}},Be=function(e){se.current=!0;var t=d.props;t.onTouchStart&&t.onTouchStart(e)},Te=(0,g.A)(ae,t),Me=(0,g.A)(xe,Te),Le=l.useCallback((function(e){(0,b.A)(Me,u.findDOMNode(e))}),[Me]),Ie=(0,g.A)(d.ref,Le);""===Z&&(be=!1);var je=!be&&!S,ze=(0,r.A)({"aria-describedby":be?De:null,title:je&&"string"===typeof Z?Z:null},te,d.props,{className:(0,s.A)(te.className,d.props.className),onTouchStart:Be,ref:Ie}),Ne={};O||(ze.onTouchStart=function(e){Be(e),clearTimeout(fe.current),clearTimeout(ce.current),clearTimeout(pe.current),e.persist(),pe.current=setTimeout((function(){Ce()(e)}),L)},ze.onTouchEnd=function(e){d.props.onTouchEnd&&d.props.onTouchEnd(e),clearTimeout(pe.current),clearTimeout(fe.current),e.persist(),fe.current=setTimeout((function(){Re(e)}),V)}),S||(ze.onMouseOver=Ce(),ze.onMouseLeave=Pe(),z&&(Ne.onMouseOver=Ce(!1),Ne.onMouseLeave=Pe(!1))),x||(ze.onFocus=Oe(),ze.onBlur=Pe(),z&&(Ne.onFocus=Oe(!1),Ne.onBlur=Pe(!1)));var _e=l.useMemo((function(){return(0,c.A)({popperOptions:{modifiers:{arrow:{enabled:Boolean(le),element:le}}}},Y)}),[le,Y]);return l.createElement(l.Fragment,null,l.cloneElement(d,ze),l.createElement(X,(0,r.A)({className:(0,s.A)(f.popper,z&&f.popperInteractive,i&&f.popperArrow),placement:q,anchorEl:oe,open:!!oe&&be,id:ze["aria-describedby"],transition:!0},Ne,_e),(function(e){var t=e.placement,n=e.TransitionProps;return l.createElement(J,(0,r.A)({timeout:ne.transitions.duration.shorter},n,ee),l.createElement("div",{className:(0,s.A)(f.tooltip,f["tooltipPlacement".concat((0,p.A)(t.split("-")[0]))],se.current&&f.touch,i&&f.tooltipArrow)},Z,i?l.createElement("span",{className:f.arrow,ref:ue}):null))})))}));const F=(0,f.A)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:(0,d.X4)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(E(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,d.X4)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(E(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:(0,i.A)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:(0,i.A)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:(0,i.A)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:(0,i.A)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(x)},6187:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(8168),o=n(45),a=n(5043),i=n(3024),l=n(8553),u=n(4822),s={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},c=a.forwardRef((function(e,t){var n=e.align,l=void 0===n?"inherit":n,c=e.classes,d=e.className,f=e.color,p=void 0===f?"initial":f,m=e.component,h=e.display,g=void 0===h?"initial":h,v=e.gutterBottom,b=void 0!==v&&v,D=e.noWrap,y=void 0!==D&&D,C=e.paragraph,E=void 0!==C&&C,A=e.variant,w=void 0===A?"body1":A,x=e.variantMapping,F=void 0===x?s:x,S=(0,o.A)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),k=m||(E?"p":F[w]||s[w])||"span";return a.createElement(k,(0,r.A)({className:(0,i.A)(c.root,d,"inherit"!==w&&c[w],"initial"!==p&&c["color".concat((0,u.A)(p))],y&&c.noWrap,b&&c.gutterBottom,E&&c.paragraph,"inherit"!==l&&c["align".concat((0,u.A)(l))],"initial"!==g&&c["display".concat((0,u.A)(g))]),ref:t},S))}));const d=(0,l.A)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(c)},7005:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(5043),o=n(7950),a=n(9892),i=n(768);const l=function(e){var t=e.children,n=e.disableAutoFocus,l=void 0!==n&&n,u=e.disableEnforceFocus,s=void 0!==u&&u,c=e.disableRestoreFocus,d=void 0!==c&&c,f=e.getDoc,p=e.isEnabled,m=e.open,h=r.useRef(),g=r.useRef(null),v=r.useRef(null),b=r.useRef(),D=r.useRef(null),y=r.useCallback((function(e){D.current=o.findDOMNode(e)}),[]),C=(0,i.A)(t.ref,y),E=r.useRef();return r.useEffect((function(){E.current=m}),[m]),!E.current&&m&&"undefined"!==typeof window&&(b.current=f().activeElement),r.useEffect((function(){if(m){var e=(0,a.A)(D.current);l||!D.current||D.current.contains(e.activeElement)||(D.current.hasAttribute("tabIndex")||D.current.setAttribute("tabIndex",-1),D.current.focus());var t=function(){null!==D.current&&(e.hasFocus()&&!s&&p()&&!h.current?D.current&&!D.current.contains(e.activeElement)&&D.current.focus():h.current=!1)},n=function(t){!s&&p()&&9===t.keyCode&&e.activeElement===D.current&&(h.current=!0,t.shiftKey?v.current.focus():g.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),d||(b.current&&b.current.focus&&b.current.focus(),b.current=null)}}}),[l,s,d,p,m]),r.createElement(r.Fragment,null,r.createElement("div",{tabIndex:0,ref:g,"data-test":"sentinelStart"}),r.cloneElement(t,{ref:C}),r.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))}},2454:(e,t,n)=>{"use strict";n.d(t,{E2:()=>a,J1:()=>d,Ob:()=>i,Rv:()=>p,X0:()=>s,X4:()=>m,YL:()=>l,a:()=>g,e$:()=>h,eM:()=>c,rP:()=>u,tL:()=>f});var r=n(8565);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}function i(e){if(0===e.indexOf("#"))return e;var t=u(e).values;return"#".concat(t.map((function(e){return function(e){var t=e.toString(16);return 1===t.length?"0".concat(t):t}(e)})).join(""))}function l(e){var t=(e=u(e)).values,n=t[0],r=t[1]/100,o=t[2]/100,a=r*Math.min(o,1-o),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-a*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",c=[Math.round(255*i(0)),Math.round(255*i(8)),Math.round(255*i(4))];return"hsla"===e.type&&(l+="a",c.push(t[3])),s({type:l,values:c})}function u(e){if(e.type)return e;if("#"===e.charAt(0))return u(a(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.A)(3,e));var o=e.substring(t+1,e.length-1).split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)}))}}function s(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function c(e,t){var n=d(e),r=d(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function d(e){var t="hsl"===(e=u(e)).type?u(l(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return d(e)>.5?h(e,t):g(e,t)}function p(e,t){return m(e,t)}function m(e,t){return e=u(e),t=o(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,s(e)}function h(e,t){if(e=u(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return s(e)}function g(e,t){if(e=u(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return s(e)}},1012:(e,t,n)=>{"use strict";n.d(t,{D:()=>M,A:()=>L});var r=n(45),o=n(3806),a=n(8168),i=["xs","sm","md","lg","xl"];var l=n(4467);function u(e,t,n){var r;return(0,a.A)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,a.A)({paddingLeft:t(2),paddingRight:t(2)},n,(0,l.A)({},e.up("sm"),(0,a.A)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,l.A)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,l.A)(r,e.up("sm"),{minHeight:64}),r)},n)}var s=n(8565);const c={black:"#000",white:"#fff"};const d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};const f={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};const p={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};const m={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};const h={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};const g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};const v={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var b=n(2454),D={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:c.white,default:d[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},y={text:{primary:c.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:d[800],default:"#303030"},action:{active:c.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function C(e,t,n,r){var o=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,b.a)(e.main,o):"dark"===t&&(e.dark=(0,b.e$)(e.main,a)))}function E(e){return Math.round(1e5*e)/1e5}function A(e){return E(e)}var w={textTransform:"uppercase"},x='"Roboto", "Helvetica", "Arial", sans-serif';function F(e,t){var n="function"===typeof t?t(e):t,i=n.fontFamily,l=void 0===i?x:i,u=n.fontSize,s=void 0===u?14:u,c=n.fontWeightLight,d=void 0===c?300:c,f=n.fontWeightRegular,p=void 0===f?400:f,m=n.fontWeightMedium,h=void 0===m?500:m,g=n.fontWeightBold,v=void 0===g?700:g,b=n.htmlFontSize,D=void 0===b?16:b,y=n.allVariants,C=n.pxToRem,F=(0,r.A)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var S=s/14,k=C||function(e){return"".concat(e/D*S,"rem")},O=function(e,t,n,r,o){return(0,a.A)({fontFamily:l,fontWeight:e,fontSize:k(t),lineHeight:n},l===x?{letterSpacing:"".concat(E(r/t),"em")}:{},o,y)},R={h1:O(d,96,1.167,-1.5),h2:O(d,60,1.2,-.5),h3:O(p,48,1.167,0),h4:O(p,34,1.235,.25),h5:O(p,24,1.334,0),h6:O(h,20,1.6,.15),subtitle1:O(p,16,1.75,.15),subtitle2:O(h,14,1.57,.1),body1:O(p,16,1.5,.15),body2:O(p,14,1.43,.15),button:O(h,14,1.75,.4,w),caption:O(p,12,1.66,.4),overline:O(p,12,2.66,1,w)};return(0,o.A)((0,a.A)({htmlFontSize:D,pxToRem:k,round:A,fontFamily:l,fontSize:s,fontWeightLight:d,fontWeightRegular:p,fontWeightMedium:h,fontWeightBold:v},R),F,{clone:!1})}function S(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const k=["none",S(0,2,1,-1,0,1,1,0,0,1,3,0),S(0,3,1,-2,0,2,2,0,0,1,5,0),S(0,3,3,-2,0,3,4,0,0,1,8,0),S(0,2,4,-1,0,4,5,0,0,1,10,0),S(0,3,5,-1,0,5,8,0,0,1,14,0),S(0,3,5,-1,0,6,10,0,0,1,18,0),S(0,4,5,-2,0,7,10,1,0,2,16,1),S(0,5,5,-3,0,8,10,1,0,3,14,2),S(0,5,6,-3,0,9,12,1,0,3,16,2),S(0,6,6,-3,0,10,14,1,0,4,18,3),S(0,6,7,-4,0,11,15,1,0,4,20,3),S(0,7,8,-4,0,12,17,2,0,5,22,4),S(0,7,8,-4,0,13,19,2,0,5,24,4),S(0,7,9,-4,0,14,21,2,0,5,26,4),S(0,8,9,-5,0,15,22,2,0,6,28,5),S(0,8,10,-5,0,16,24,2,0,6,30,5),S(0,8,11,-5,0,17,26,2,0,6,32,5),S(0,9,11,-5,0,18,28,2,0,7,34,6),S(0,9,12,-6,0,19,29,2,0,7,36,6),S(0,10,13,-6,0,20,31,3,0,8,38,7),S(0,10,13,-6,0,21,33,3,0,8,40,7),S(0,10,14,-6,0,22,35,3,0,8,42,7),S(0,11,14,-7,0,23,36,3,0,9,44,8),S(0,11,15,-7,0,24,38,3,0,9,46,8)];const O={borderRadius:4};var R=n(5995);var P=n(2899),B=n(5321);function T(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,l=e.mixins,E=void 0===l?{}:l,A=e.palette,w=void 0===A?{}:A,x=e.spacing,S=e.typography,T=void 0===S?{}:S,M=(0,r.A)(e,["breakpoints","mixins","palette","spacing","typography"]),L=function(e){var t=e.primary,n=void 0===t?{light:f[300],main:f[500],dark:f[700]}:t,i=e.secondary,l=void 0===i?{light:p.A200,main:p.A400,dark:p.A700}:i,u=e.error,E=void 0===u?{light:m[300],main:m[500],dark:m[700]}:u,A=e.warning,w=void 0===A?{light:h[300],main:h[500],dark:h[700]}:A,x=e.info,F=void 0===x?{light:g[300],main:g[500],dark:g[700]}:x,S=e.success,k=void 0===S?{light:v[300],main:v[500],dark:v[700]}:S,O=e.type,R=void 0===O?"light":O,P=e.contrastThreshold,B=void 0===P?3:P,T=e.tonalOffset,M=void 0===T?.2:T,L=(0,r.A)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function I(e){return(0,b.eM)(e,y.text.primary)>=B?y.text.primary:D.text.primary}var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,a.A)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,s.A)(4,t));if("string"!==typeof e.main)throw new Error((0,s.A)(5,JSON.stringify(e.main)));return C(e,"light",n,M),C(e,"dark",r,M),e.contrastText||(e.contrastText=I(e.main)),e},z={dark:y,light:D};return(0,o.A)((0,a.A)({common:c,type:R,primary:j(n),secondary:j(l,"A400","A200","A700"),error:j(E),warning:j(w),info:j(F),success:j(k),grey:d,contrastThreshold:B,getContrastText:I,augmentColor:j,tonalOffset:M},z[R]),L)}(w),I=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,o=e.unit,l=void 0===o?"px":o,u=e.step,s=void 0===u?5:u,c=(0,r.A)(e,["values","unit","step"]);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(l,")")}function f(e,t){var r=i.indexOf(t);return r===i.length-1?d(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(l,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[i[r+1]]?n[i[r+1]]:t)-s/100).concat(l,")")}return(0,a.A)({keys:i,values:n,up:d,down:function(e){var t=i.indexOf(e)+1,r=n[i[t]];return t===i.length?d("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-s/100).concat(l,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},c)}(n),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,R.L)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(x),z=(0,o.A)({breakpoints:I,direction:"ltr",mixins:u(I,j,E),overrides:{},palette:L,props:{},shadows:k,typography:F(L,T),spacing:j,shape:O,transitions:P.Ay,zIndex:B.A},M),N=arguments.length,_=new Array(N>1?N-1:0),H=1;H<N;H++)_[H-1]=arguments[H];return z=_.reduce((function(e,t){return(0,o.A)(e,t)}),z)}function M(){return T.apply(void 0,arguments)}const L=T},5921:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(1012).A)()},1551:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8168),o=n(2824),a=n(5921);const i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.A)(e,(0,r.A)({defaultTheme:a.A},t))}},9356:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(8168),o=n(45),a=n(5043),i=n(3024),l=n(219),u=n.n(l),s=n(2824);function c(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=n.name,c=(0,o.A)(n,["name"]);var d,f=l,p="function"===typeof t?function(e){return{root:function(n){return t((0,r.A)({theme:e},n))}}}:{root:t},m=(0,s.A)(p,(0,r.A)({Component:e,name:l||e.displayName,classNamePrefix:f},c));t.filterProps&&(d=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var h=a.forwardRef((function(t,n){var l=t.children,u=t.className,s=t.clone,c=t.component,f=(0,o.A)(t,["children","className","clone","component"]),p=m(t),h=(0,i.A)(p.root,u),g=f;if(d&&(g=function(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(g,d)),s)return a.cloneElement(l,(0,r.A)({className:(0,i.A)(l.props.className,h)},g));if("function"===typeof l)return l((0,r.A)({className:h},g));var v=c||e;return a.createElement(v,(0,r.A)({ref:n,className:h},g),l)}));return u()(h,e),h}}var d=n(5921);const f=function(e){var t=c(e);return function(e,n){return t(e,(0,r.A)({defaultTheme:d.A},n))}}},2899:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>l,cz:()=>o,p0:()=>a});var r=n(45),o={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function i(e){return"".concat(Math.round(e),"ms")}const l={easing:o,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,l=void 0===n?a.standard:n,u=t.easing,s=void 0===u?o.easeInOut:u,c=t.delay,d=void 0===c?0:c;(0,r.A)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof l?l:i(l)," ").concat(s," ").concat("string"===typeof d?d:i(d))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},567:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(4920),o=(n(5043),n(5921));function a(){return(0,r.A)()||o.A}},8553:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(8168),o=n(45),a=n(5043),i=n(219),l=n.n(i),u=n(2824),s=n(4534),c=n(4920);const d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var i=t.defaultTheme,d=t.withTheme,f=void 0!==d&&d,p=t.name,m=(0,o.A)(t,["defaultTheme","withTheme","name"]);var h=p,g=(0,u.A)(e,(0,r.A)({defaultTheme:i,Component:n,name:p||n.displayName,classNamePrefix:h},m)),v=a.forwardRef((function(e,t){e.classes;var l,u=e.innerRef,d=(0,o.A)(e,["classes","innerRef"]),m=g((0,r.A)({},n.defaultProps,e)),h=d;return("string"===typeof p||f)&&(l=(0,c.A)()||i,p&&(h=(0,s.A)({theme:l,name:p,props:d})),f&&!h.theme&&(h.theme=l)),a.createElement(n,(0,r.A)({ref:u||t,classes:m},h))}));return l()(v,n),v}};var f=n(5921);const p=function(e,t){return d(e,(0,r.A)({defaultTheme:f.A},t))}},5321:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},830:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,q:()=>r});var r=function(e){return e.scrollTop};function o(e,t){var n=e.timeout,r=e.style,o=void 0===r?{}:r;return{duration:o.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:o.transitionDelay}}},4822:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8565);function o(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},146:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{A:()=>r})},4794:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(8168),o=n(5043),a=n(45),i=n(3024),l=n(8553),u=n(4822),s=o.forwardRef((function(e,t){var n=e.children,l=e.classes,s=e.className,c=e.color,d=void 0===c?"inherit":c,f=e.component,p=void 0===f?"svg":f,m=e.fontSize,h=void 0===m?"medium":m,g=e.htmlColor,v=e.titleAccess,b=e.viewBox,D=void 0===b?"0 0 24 24":b,y=(0,a.A)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(p,(0,r.A)({className:(0,i.A)(l.root,s,"inherit"!==d&&l["color".concat((0,u.A)(d))],"default"!==h&&"medium"!==h&&l["fontSize".concat((0,u.A)(h))]),focusable:"false",viewBox:D,color:g,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},y),n,v?o.createElement("title",null,v):null)}));s.muiName="SvgIcon";const c=(0,l.A)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(s);function d(e,t){var n=function(t,n){return o.createElement(c,(0,r.A)({ref:n},t),e)};return n.muiName=c.muiName,o.memo(o.forwardRef(n))}},7355:(e,t,n)=>{"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];var i=this;clearTimeout(t),t=setTimeout((function(){e.apply(i,o)}),n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{A:()=>r})},5107:(e,t,n)=>{"use strict";function r(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}n.d(t,{A:()=>r})},9081:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>r.A,createChainedFunction:()=>o.A,createSvgIcon:()=>a.A,debounce:()=>i.A,deprecatedPropType:()=>l,isMuiElement:()=>u.A,ownerDocument:()=>s.A,ownerWindow:()=>c.A,requirePropFactory:()=>d,setRef:()=>f.A,unstable_useId:()=>v.A,unsupportedProp:()=>p,useControlled:()=>m.A,useEventCallback:()=>h.A,useForkRef:()=>g.A,useIsFocusVisible:()=>b.A});var r=n(4822),o=n(146),a=n(4794),i=n(7355);function l(e,t){return function(){return null}}var u=n(4867),s=n(9892),c=n(7249);function d(e){return function(){return null}}var f=n(9189);function p(e,t,n,r,o){return null}var m=n(1051),h=n(2158),g=n(768),v=n(2237),b=n(4455)},4867:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5043);function o(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},9892:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})},7249:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9892);function o(e){return(0,r.A)(e).defaultView||window}},9189:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{A:()=>r})},2237:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5043);function o(e){var t=r.useState(e),n=t[0],o=t[1],a=e||n;return r.useEffect((function(){null==n&&o("mui-".concat(Math.round(1e5*Math.random())))}),[n]),a}},1051:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5043);function o(e){var t=e.controlled,n=e.default,o=(e.name,e.state,r.useRef(void 0!==t).current),a=r.useState(n),i=a[0],l=a[1];return[o?t:i,r.useCallback((function(e){o||l(e)}),[])]}},2158:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(5043),o="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return o((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},768:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(5043),o=n(9189);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,o.A)(e,n),(0,o.A)(t,n)}}),[e,t])}},4455:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(5043),o=n(7950),a=!0,i=!1,l=null,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function c(){a=!1}function d(){"hidden"===this.visibilityState&&i&&(a=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function p(){i=!0,window.clearTimeout(l),l=window.setTimeout((function(){i=!1}),100)}function m(){return{isFocusVisible:f,onBlurVisible:p,ref:r.useCallback((function(e){var t,n=o.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",d,!0))}),[])}}},6363:(e,t)=>{"use strict";t.hv=t.hS=t.d8=t.Fc=t.Fo=t.$N=t.xK=t.qx=t.NO=t.nd=t.FG=t.cA=t.z5=t.o6=t.dy=void 0;var n={props:{MuiBreadcrumbs:{expandText:"\u041f\u043e\u043a\u0430\u0437\u0432\u0430\u043d\u0435 \u043d\u0430 \u043f\u044a\u0442\u044f"},MuiTablePagination:{backIconButtonText:"\u041f\u0440\u0435\u0434\u0438\u0448\u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",labelRowsPerPage:"\u0420\u0435\u0434\u043e\u0432\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," \u043e\u0442 ").concat(-1!==r?r:"more than ".concat(n))},nextIconButtonText:"\u0421\u043b\u0435\u0434\u0432\u0430\u0449\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"},MuiRating:{getLabelText:function(e){return"".concat(e," \u0417\u0432\u0435\u0437\u0434").concat(1!==e?"\u0438":"\u0430")},emptyLabelText:"\u0418\u0437\u0447\u0438\u0441\u0442\u0438"},MuiAutocomplete:{clearText:"\u0418\u0437\u0447\u0438\u0441\u0442\u0438",closeText:"\u0417\u0430\u0442\u0432\u043e\u0440\u0438",loadingText:"\u0417\u0430\u0440\u0435\u0436\u0434\u0430\u043d\u0435\u2026",noOptionsText:"\u041d\u044f\u043c\u0430 \u043d\u0430\u043b\u0438\u0447\u043d\u0438 \u043e\u043f\u0446\u0438\u0438",openText:"\u041e\u0442\u0432\u043e\u0440\u0438"},MuiAlert:{closeText:"\u0417\u0430\u0442\u0432\u043e\u0440\u0438"},MuiPagination:{"aria-label":"\u041f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u044f",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"\u041a\u044a\u043c ","\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ").concat(t):"first"===e?"\u041e\u0442\u0438\u0434\u0438 \u043d\u0430 \u043f\u044a\u0440\u0432\u0430\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430":"last"===e?"\u041e\u0442\u0438\u0434\u0438 \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0430\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430":"next"===e?"\u041e\u0442\u0438\u0434\u0438 \u043d\u0430 \u0441\u043b\u0435\u0434\u0432\u0430\u0449\u0430\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430":"previous"===e?"\u041e\u0442\u0438\u0434\u0438 \u043d\u0430 \u043f\u0440\u0435\u0434\u0438\u0448\u043d\u0430\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430":void 0}}}};t.dy=n;var r={props:{MuiBreadcrumbs:{expandText:"Uk\xe1zat cestu"},MuiTablePagination:{backIconButtonText:"P\u0159edchoz\xed str\xe1nka",labelRowsPerPage:"\u0158\xe1dk\u016f na str\xe1nce:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," z ").concat(-1!==r?r:"more than ".concat(n))},nextIconButtonText:"Dal\u0161\xed str\xe1nka"},MuiRating:{getLabelText:function(e){return"".concat(e,1===e?" hv\u011bzdi\u010dka":e>=2&&e<=4?" hv\u011bzdi\u010dky":" hv\u011bzdi\u010dek")},emptyLabelText:"Pr\xe1zdn\xe9"},MuiAutocomplete:{clearText:"Vymazat",closeText:"Zav\u0159\xedt",loadingText:"Na\u010d\xedt\xe1n\xed\u2026",noOptionsText:"\u017d\xe1dn\xe9 mo\u017enosti",openText:"Otev\u0159\xedt"},MuiAlert:{closeText:"Zav\u0159\xedt"},MuiPagination:{"aria-label":"Navigace str\xe1nkov\xe1n\xedm",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"J\xedt na ").concat(t," str\xe1nku"):"first"===e?"J\xedt na prvn\xed str\xe1nku":"last"===e?"J\xedt na posledn\xed str\xe1nku":"next"===e?"J\xedt na dal\u0161\xed str\xe1nku":"previous"===e?"J\xedt na p\u0159edchoz\xed str\xe1nku":void 0}}}};t.o6=r;var o={props:{MuiBreadcrumbs:{expandText:"Pfad anzeigen"},MuiTablePagination:{backIconButtonText:"N\xe4chste Seite",labelRowsPerPage:"Zeilen pro Seite:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," von ").concat(-1!==r?r:"more than ".concat(n))},nextIconButtonText:"N\xe4chste Seite"},MuiRating:{getLabelText:function(e){return"".concat(e," ").concat(1!==e?"Sterne":"Stern")},emptyLabelText:"Keine Wertung"},MuiAutocomplete:{clearText:"Leeren",closeText:"Schlie\xdfen",loadingText:"Wird geladen\u2026",noOptionsText:"Keine Optionen",openText:"\xd6ffnen"},MuiAlert:{closeText:"Schlie\xdfen"},MuiPagination:{"aria-label":"Navigation via Seitennummerierung",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"Gehe zu ","Seite ").concat(t):"first"===e?"Zur ersten Seite":"last"===e?"Zur letzten Seite":"next"===e?"Zur n\xe4chsten Seite":"previous"===e?"Zur vorherigen Seite":void 0}}}};t.z5=o;t.cA={};var a={props:{MuiBreadcrumbs:{expandText:"Mostrar ruta"},MuiTablePagination:{backIconButtonText:"P\xe1gina anterior",labelRowsPerPage:"Filas por p\xe1gina:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," de ").concat(-1!==r?r:"more than ".concat(n))},nextIconButtonText:"Siguiente p\xe1gina"},MuiRating:{getLabelText:function(e){return"".concat(e," Estrella").concat(1!==e?"s":"")},emptyLabelText:"Vac\xedo"},MuiAutocomplete:{clearText:"Limpiar",closeText:"Cerrar",loadingText:"Cargando\u2026",noOptionsText:"Sin opciones",openText:"Abierto"},MuiAlert:{closeText:"Cerrar"},MuiPagination:{"aria-label":"Paginador",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"Ir a la ","p\xe1gina ").concat(t):"first"===e?"Ir a la primera p\xe1gina":"last"===e?"Ir a la \xfaltima p\xe1gina":"next"===e?"Ir a la p\xe1gina siguiente":"previous"===e?"Ir a la p\xe1gina anterior":void 0}}}};t.FG=a;var i={props:{MuiBreadcrumbs:{expandText:"Montrer le chemin"},MuiTablePagination:{backIconButtonText:"Page pr\xe9c\xe9dente",labelRowsPerPage:"Lignes par page :",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," sur ").concat(-1!==r?r:"plus que ".concat(n))},nextIconButtonText:"Page suivante"},MuiRating:{getLabelText:function(e){return"".concat(e," Etoile").concat(1!==e?"s":"")},emptyLabelText:"Vide"},MuiAutocomplete:{clearText:"Vider",closeText:"Fermer",loadingText:"Chargement\u2026",noOptionsText:"Pas de r\xe9sultats",openText:"Ouvrir"},MuiAlert:{closeText:"Fermer"},MuiPagination:{"aria-label":"navigation de pagination",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"Aller \xe0 la ","page ").concat(t):"first"===e?"Aller \xe0 la premi\xe8re page":"last"===e?"Aller \xe0 la derni\xe8re page":"next"===e?"Aller \xe0 la page suivante":"previous"===e?"Aller \xe0 la page pr\xe9c\xe9dente":void 0}}}};t.nd=i;var l={props:{MuiBreadcrumbs:{expandText:"Visualizza percorso"},MuiTablePagination:{backIconButtonText:"Pagina precedente",labelRowsPerPage:"Righe per pagina:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," di ").concat(-1!==r?r:"more than ".concat(n))},nextIconButtonText:"Pagina successiva"},MuiRating:{getLabelText:function(e){return"".concat(e," Stell").concat(1!==e?"e":"a")},emptyLabelText:"Vuoto"},MuiAutocomplete:{clearText:"Svuota",closeText:"Chiudi",loadingText:"Caricamento in corso\u2026",noOptionsText:"Nessuna opzione",openText:"Apri"},MuiAlert:{closeText:"Chiudi"},MuiPagination:{"aria-label":"Navigazione impaginata",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"Vai alla ","pagina ").concat(t):"first"===e?"Vai alla prima pagina":"last"===e?"Vai all'ultima pagina":"next"===e?"Vai alla pagina successiva":"previous"===e?"Vai alla pagina precedente":void 0}}}};t.NO=l;t.qx={props:{MuiTablePagination:{backIconButtonText:"\u524d\u306e\u30da\u30fc\u30b8",labelRowsPerPage:"\u30da\u30fc\u30b8\u3054\u3068\u306e\u884c:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," of ").concat(-1!==r?r:"more than ".concat(n))},nextIconButtonText:"\u6b21\u306e\u30da\u30fc\u30b8"},MuiRating:{getLabelText:function(e){return"".concat(e," ").concat(1!==e?"\u51fa\u6f14\u8005":"\u661f")}},MuiAutocomplete:{clearText:"\u30af\u30ea\u30a2",closeText:"\u9589\u3058\u308b",loadingText:"\u7a4d\u307f\u8fbc\u307f\u2026",noOptionsText:"\u7d50\u679c\u304c\u3042\u308a\u307e\u305b\u3093",openText:"\u958b\u3044\u305f"},MuiAlert:{closeText:"\u9589\u3058\u308b"}}};t.xK={props:{MuiTablePagination:{backIconButtonText:"Vorige pagina",labelRowsPerPage:"Regels per pagina :",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," van ").concat(-1!==r?r:"more than ".concat(n))},nextIconButtonText:"Volgende pagina"},MuiRating:{getLabelText:function(e){return"".concat(e," Ster").concat(1!==e?"ren":"")}},MuiAutocomplete:{clearText:"Wissen",closeText:"Sluiten",loadingText:"Laden\u2026",noOptionsText:"Geen opties",openText:"Openen"},MuiAlert:{closeText:"Sluiten"}}};var u={props:{MuiBreadcrumbs:{expandText:"Poka\u017c \u015bcie\u017ck\u0119"},MuiTablePagination:{backIconButtonText:"Poprzednia strona",labelRowsPerPage:"Wierszy na stron\u0119:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," z ").concat(-1!==r?r:"more than ".concat(n))},nextIconButtonText:"Nast\u0119pna strona"},MuiRating:{getLabelText:function(e){var t="gwiazdek",n=e%10;return(e<10||e>20)&&n>1&&n<5?t="gwiazdki":1===e&&(t="gwiazdka"),"".concat(e," ").concat(t)},emptyLabelText:"Brak gwiazdek"},MuiAutocomplete:{clearText:"Wyczy\u015b\u0107",closeText:"Zamknij",loadingText:"\u0141adowanie\u2026",noOptionsText:"Brak opcji",openText:"Otw\xf3rz"},MuiAlert:{closeText:"Zamknij"},MuiPagination:{"aria-label":"Nawigacja podzia\u0142u na strony",getItemAriaLabel:function(e,t,n){return"page"===e?n?"".concat(t,". strona"):"Przejd\u017a do ".concat(t,". strony"):"first"===e?"Przejd\u017a do pierwszej strony":"last"===e?"Przejd\u017a do ostatniej strony":"next"===e?"Przejd\u017a do nast\u0119pnej strony":"previous"===e?"Przejd\u017a do poprzedniej strony":void 0}}}};t.$N=u;var s={props:{MuiBreadcrumbs:{expandText:"Mostrar caminho"},MuiTablePagination:{backIconButtonText:"P\xe1gina anterior",labelRowsPerPage:"Linhas por p\xe1gina:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," de ").concat(-1!==r?r:"more than ".concat(n))},nextIconButtonText:"Pr\xf3xima p\xe1gina"},MuiRating:{getLabelText:function(e){return"".concat(e," Estrela").concat(1!==e?"s":"")},emptyLabelText:"Vazio"},MuiAutocomplete:{clearText:"Limpar",closeText:"Fechar",loadingText:"Carregando\u2026",noOptionsText:"Sem op\xe7\xf5es",openText:"Abrir"},MuiAlert:{closeText:"Fechar"},MuiPagination:{"aria-label":"Navegar pela pagina\xe7\xe3o",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"Ir para a ","p\xe1gina ").concat(t):"first"===e?"Ir para a primeira p\xe1gina":"last"===e?"Ir para a \xfaltima p\xe1gina":"next"===e?"Ir para a pr\xf3xima p\xe1gina":"previous"===e?"Ir para a p\xe1gina anterior":void 0}}}};t.Fo=s;t.Fc={props:{MuiTablePagination:{backIconButtonText:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",labelRowsPerPage:"\u0421\u0442\u0440\u043e\u043a \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," \u0438\u0437 ").concat(-1!==r?r:"\u0431\u043e\u043b\u0435\u0435 \u0447\u0435\u043c ".concat(n))},nextIconButtonText:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"},MuiRating:{getLabelText:function(e){var t="\u0417\u0432\u0451\u0437\u0434",n=e%10;return n>1&&n<5?t="\u0417\u0432\u0435\u0437\u0434\u044b":1===n&&(t="\u0417\u0432\u0435\u0437\u0434\u0430"),"".concat(e," ").concat(t)}},MuiAutocomplete:{clearText:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",closeText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",loadingText:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430\u2026",noOptionsText:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432",openText:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"},MuiAlert:{closeText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}}};t.d8={props:{MuiTablePagination:{backIconButtonText:"Predch\xe1dzaj\xfaca str\xe1nka",labelRowsPerPage:"Riadkov na str\xe1nke:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," z ").concat(-1!==r?r:"more than ".concat(n))},nextIconButtonText:"\u010eal\u0161ia str\xe1nka"},MuiRating:{getLabelText:function(e){return"".concat(e,1===e?" hviezdi\u010dka":e>=2&&e<=4?" hviezdi\u010dky":" hviezdi\u010diek")}},MuiAutocomplete:{clearText:"Vymaza\u0165",closeText:"Zavrie\u0165",loadingText:"Na\u010d\xedtanie\u2026",noOptionsText:"\u017diadne mo\u017enosti",openText:"Otvori\u0165"},MuiAlert:{closeText:"Zavrie\u0165"}}};var c={props:{MuiBreadcrumbs:{expandText:"Yolu g\xf6ster"},MuiTablePagination:{backIconButtonText:"\xd6nceki sayfa",labelRowsPerPage:"Sayfa ba\u015f\u0131na sat\u0131r:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," tanesinden ").concat(-1!==r?r:"more than ".concat(n))},nextIconButtonText:"Sonraki sayfa"},MuiRating:{getLabelText:function(e){return"".concat(e," Y\u0131ld\u0131z")},emptyLabelText:"Bo\u015f"},MuiAutocomplete:{clearText:"Temizle",closeText:"Kapat",loadingText:"Y\xfckleniyor\u2026",noOptionsText:"Se\xe7enek yok",openText:"A\xe7"},MuiAlert:{closeText:"Kapat"},MuiPagination:{"aria-label":"Sayfa navigasyonu",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(t,". ").concat(n?"sayfa":"sayfaya git"):"first"===e?"\u0130lk sayfaya git":"last"===e?"Son sayfaya git":"next"===e?"Sonraki sayfaya git":"previous"===e?"\xd6nceki sayfaya git":void 0}}}};t.hS=c;var d={props:{MuiBreadcrumbs:{expandText:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0448\u043b\u044f\u0445 \u0441\u0442\u043e\u0440\u0456\u043d\u043e\u043a"},MuiTablePagination:{backIconButtonText:"\u041f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430",labelRowsPerPage:"\u0420\u044f\u0434\u043a\u0456\u0432 \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," \u0437 ").concat(-1!==r?r:"\u043f\u043e\u043d\u0430\u0434 ".concat(n))},nextIconButtonText:"\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430"},MuiRating:{getLabelText:function(e){var t="\u0417\u0456\u0440\u043e\u043a",n=e%10;return n>1&&n<5?t="\u0417\u0456\u0440\u043a\u0438":1===n&&(t="\u0417\u0456\u0440\u043a\u0430"),"".concat(e," ").concat(t)},emptyLabelText:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0439"},MuiAutocomplete:{clearText:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438",closeText:"\u0417\u0433\u043e\u0440\u043d\u0443\u0442\u0438",loadingText:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f\u2026",noOptionsText:"\u041d\u0435\u043c\u0430\u0454 \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0456\u0432",openText:"\u0420\u043e\u0437\u0433\u043e\u0440\u043d\u0443\u0442\u0438"},MuiAlert:{closeText:"\u0417\u0433\u043e\u0440\u043d\u0443\u0442\u0438"},MuiPagination:{"aria-label":"\u041d\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430\u043c\u0438",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 ","\u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 ").concat(t):"first"===e?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043f\u0435\u0440\u0448\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443":"last"===e?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043e\u0441\u0442\u0430\u043d\u043d\u044e \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443":"next"===e?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443":"previous"===e?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044e \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443":void 0}}}};t.hv=d},4118:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>p,si:()=>f});var r,o=n(8168),a=n(45),i=n(5043),l=n(5534),u=n(2852),s=n(3966),c=(0,u.vt)((0,s.A)()),d={disableGeneration:!1,generateClassName:(0,l.A)(),jss:c,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},f=i.createContext(d);function p(e){var t=e.children,n=e.injectFirst,l=void 0!==n&&n,c=e.disableGeneration,d=void 0!==c&&c,p=(0,a.A)(e,["children","injectFirst","disableGeneration"]),m=i.useContext(f),h=(0,o.A)({},m,{disableGeneration:d},p);if(!h.jss.options.insertionPoint&&l&&"undefined"!==typeof window){if(!r){var g=document.head;r=document.createComment("mui-inject-first"),g.insertBefore(r,g.firstChild)}h.jss=(0,u.vt)({plugins:(0,s.A)().plugins,insertionPoint:r})}return i.createElement(f.Provider,{value:h},t)}},4959:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__"},5534:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(4959),o=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,a=e.productionPrefix,i=void 0===a?"jss":a,l=e.seed,u=void 0===l?"":l,s=""===u?"":"".concat(u,"-"),c=0,d=function(){return c+=1};return function(e,t){var a=t.options.name;if(a&&0===a.indexOf("Mui")&&!t.options.link&&!n){if(-1!==o.indexOf(e.key))return"Mui-".concat(e.key);var l="".concat(s).concat(a,"-").concat(e.key);return t.options.theme[r.A]&&""===u?"".concat(l,"-").concat(d()):l}return"".concat(s).concat(i).concat(d())}}},4534:(e,t,n)=>{"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var o,a=t.props[n];for(o in a)void 0===r[o]&&(r[o]=a[o]);return r}n.d(t,{A:()=>r})},3966:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(4636),o=n(1312),a=n(3796),i=n(2475),l=n(2646),u=n(6224),s=n(4620);function c(){return{plugins:[(0,r.A)(),(0,o.A)(),(0,a.A)(),(0,i.A)(),(0,l.A)(),"undefined"===typeof window?null:(0,u.A)(),(0,s.A)()]}}},2824:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(45),o=n(8168),a=n(5043),i=n(2852),l=n(1560);const u={set:function(e,t,n,r){var o=e.get(t);o||(o=new Map,e.set(t,o)),o.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}};var s=n(4920),c=n(4118),d=-1e9;var f=n(3806);const p={};function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,m=t.classNamePrefix,h=t.Component,g=t.defaultTheme,v=void 0===g?p:g,b=(0,r.A)(t,["name","classNamePrefix","Component","defaultTheme"]),D=function(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return a;var i=n.overrides[r],l=(0,o.A)({},a);return Object.keys(i).forEach((function(e){l[e]=(0,f.A)(l[e],i[e])})),l},options:{}}}(e),y=n||m||"makeStyles";D.options={index:d+=1,name:n,meta:y,classNamePrefix:y};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.A)()||v,r=(0,o.A)({},a.useContext(c.si),b),d=a.useRef(),f=a.useRef();!function(e,t){var n,r=a.useRef([]),o=a.useMemo((function(){return{}}),t);r.current!==o&&(r.current=o,n=e()),a.useEffect((function(){return function(){n&&n()}}),[o])}((function(){var a={name:n,state:{},stylesCreator:D,stylesOptions:r,theme:t};return function(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,s=e.stylesCreator,c=e.name;if(!a.disableGeneration){var d=u.get(a.sheetsManager,s,r);d||(d={refs:0,staticSheet:null,dynamicStyles:null},u.set(a.sheetsManager,s,r,d));var f=(0,o.A)({},s.options,a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});f.generateId=f.serverGenerateClassName||f.generateClassName;var p=a.sheetsRegistry;if(0===d.refs){var m;a.sheetsCache&&(m=u.get(a.sheetsCache,s,r));var h=s.create(r,c);m||((m=a.jss.createStyleSheet(h,(0,o.A)({link:!1},f))).attach(),a.sheetsCache&&u.set(a.sheetsCache,s,r,m)),p&&p.add(m),d.staticSheet=m,d.dynamicStyles=(0,i.ih)(h)}if(d.dynamicStyles){var g=a.jss.createStyleSheet(d.dynamicStyles,(0,o.A)({link:!0},f));g.update(t),g.attach(),n.dynamicSheet=g,n.classes=(0,l.A)({baseClasses:d.staticSheet.classes,newClasses:g.classes}),p&&p.add(g)}else n.classes=d.staticSheet.classes;d.refs+=1}}(a,e),f.current=!1,d.current=a,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,o=e.stylesCreator;if(!r.disableGeneration){var a=u.get(r.sheetsManager,o,n);a.refs-=1;var i=r.sheetsRegistry;0===a.refs&&(u.delete(r.sheetsManager,o,n),r.jss.removeStyleSheet(a.staticSheet),i&&i.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),i&&i.remove(t.dynamicSheet))}}(a)}}),[t,D]),a.useEffect((function(){f.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(d.current,e),f.current=!0}));var p=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var o=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,o=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,o=!0),o&&(r.cacheClasses.value=(0,l.A)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(d.current,e.classes,h);return p}}},1560:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8168);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var o=(0,r.A)({},t);return Object.keys(n).forEach((function(e){n[e]&&(o[e]="".concat(t[e]," ").concat(n[e]))})),o}},548:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(5043).createContext(null)},4920:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(5043),o=n(548);function a(){return r.useContext(o.A)}},9073:(e,t,n)=>{"use strict";var r=n(4994),o=n(6305);t.A=void 0;var a=o(n(5043)),i=(0,r(n(9846)).default)(a.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.A=i},2024:(e,t,n)=>{"use strict";var r=n(4994),o=n(6305);t.A=void 0;var a=o(n(5043)),i=(0,r(n(9846)).default)(a.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.A=i},606:(e,t,n)=>{"use strict";var r=n(4994),o=n(6305);t.A=void 0;var a=o(n(5043)),i=(0,r(n(9846)).default)(a.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");t.A=i},2262:(e,t,n)=>{"use strict";var r=n(4994),o=n(6305);t.A=void 0;var a=o(n(5043)),i=(0,r(n(9846)).default)(a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.A=i},2312:(e,t,n)=>{"use strict";var r=n(4994),o=n(6305);t.A=void 0;var a=o(n(5043)),i=(0,r(n(9846)).default)(a.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.A=i},9846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(9081)},498:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var r=n(2284),o={xs:0,sm:600,md:960,lg:1280,xl:1920},a={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(o[e],"px)")}};function i(e,t,n){if(Array.isArray(t)){var o=e.theme.breakpoints||a;return t.reduce((function(e,r,a){return e[o.up(o.keys[a])]=n(t[a]),e}),{})}if("object"===(0,r.A)(t)){var i=e.theme.breakpoints||a;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}},5714:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(3806);const o=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},5995:(e,t,n)=>{"use strict";n.d(t,{L:()=>d,A:()=>m});var r=n(296),o=n(498),a=n(5714);var i={m:"margin",p:"padding"},l={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},s=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!u[e])return[e];e=u[e]}var t=e.split(""),n=(0,r.A)(t,2),o=n[0],a=n[1],s=i[o],c=l[a]||"";return Array.isArray(c)?c.map((function(e){return s+e})):[s+c]})),c=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function d(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function f(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function p(e){var t=d(e.theme);return Object.keys(e).map((function(n){if(-1===c.indexOf(n))return null;var r=f(s(n),t),a=e[n];return(0,o.N)(e,a,r)})).reduce(a.A,{})}p.propTypes={},p.filterProps=c;const m=p},3806:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8168),o=n(2284);function a(e){return e&&"object"===(0,o.A)(e)&&e.constructor===Object}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?(0,r.A)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e?o[r]=i(e[r],t[r],n):o[r]=t[r])})),o}},8565:(e,t,n)=>{"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},7431:(e,t,n)=>{"use strict";n.d(t,{zhn:()=>ku});var r={};n.r(r),n.d(r,{MuiThemeProvider:()=>U,ServerStyleSheets:()=>H,StylesProvider:()=>_.Ay,ThemeProvider:()=>U,alpha:()=>d.X4,createGenerateClassName:()=>L.A,createMuiTheme:()=>f.D,createStyles:()=>h,createTheme:()=>f.A,darken:()=>d.e$,decomposeColor:()=>d.rP,duration:()=>F.p0,easing:()=>F.cz,emphasize:()=>d.tL,fade:()=>d.Rv,getContrastRatio:()=>d.eM,getLuminance:()=>d.J1,hexToRgb:()=>d.E2,hslToRgb:()=>d.YL,jssPreset:()=>I.A,lighten:()=>d.a,makeStyles:()=>g.A,recomposeColor:()=>d.X0,responsiveFontSizes:()=>w,rgbToHex:()=>d.Ob,styled:()=>x.A,unstable_createMuiStrictModeTheme:()=>m,useTheme:()=>S.A,withStyles:()=>k.A,withTheme:()=>M});var o=n(5043),a=n(3024),i="NOT_FOUND";var l=function(e,t){return e===t};function u(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,o=void 0===r?l:r,a=n.maxSize,u=void 0===a?1:a,s=n.resultEqualityCheck,c=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}(o),d=1===u?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:i},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(c):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var o=n[r];return r>0&&(n.splice(r,1),n.unshift(o)),o.value}return i}return{get:r,put:function(t,o){r(t)===i&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(u,c);function f(){var t=d.get(arguments);if(t===i){if(t=e.apply(null,arguments),s){var n=d.getEntries().find((function(e){return s(e.value,t)}));n&&(t=n.value)}d.put(arguments,t)}return t}return f.clearCache=function(){return d.clear()},f}function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a,i=0,l={memoizeOptions:void 0},u=r.pop();if("object"===typeof u&&(l=u,u=r.pop()),"function"!==typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var s=l.memoizeOptions,c=void 0===s?n:s,d=Array.isArray(c)?c:[c],f=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),p=e.apply(void 0,[function(){return i++,u.apply(null,arguments)}].concat(d)),m=e((function(){for(var e=[],t=f.length,n=0;n<t;n++)e.push(f[n].apply(null,arguments));return a=p.apply(null,e)}));return Object.assign(m,{resultFunc:u,memoizedResultFunc:p,dependencies:f,lastResult:function(){return a},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),m}}var c=s(u),d=n(2454),f=n(1012),p=n(3806);function m(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return f.A.apply(void 0,[(0,p.A)({unstable_strictMode:!0},e)].concat(n))}function h(e){return e}var g=n(1551),v=n(8168),b=n(8565),D=n(4467);function y(e){return String(parseFloat(e)).length===String(e).length}function C(e){return parseFloat(e)}function E(e){return function(t,n){var r=String(t).match(/[\d.\-+]*\s*(.*)/)[1]||"";if(r===n)return t;var o=C(t);if("px"!==r)if("em"===r)o=C(t)*C(e);else if("rem"===r)return o=C(t)*C(e),t;var a=o;if("px"!==n)if("em"===n)a=o/C(e);else{if("rem"!==n)return t;a=o/C(e)}return parseFloat(a.toFixed(5))+n}}function A(e){var t=e.lineHeight;return e.pixels/(t*e.htmlFontSize)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.breakpoints,r=void 0===n?["sm","md","lg"]:n,o=t.disableAlign,a=void 0!==o&&o,i=t.factor,l=void 0===i?2:i,u=t.variants,s=void 0===u?["h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","button","overline"]:u,c=(0,v.A)({},e);c.typography=(0,v.A)({},c.typography);var d=c.typography,f=E(d.htmlFontSize),p=r.map((function(e){return c.breakpoints.values[e]}));return s.forEach((function(e){var t=d[e],n=parseFloat(f(t.fontSize,"rem"));if(!(n<=1)){var r=n,o=1+(r-1)/l,i=t.lineHeight;if(!y(i)&&!a)throw new Error((0,b.A)(6));y(i)||(i=parseFloat(f(i,"rem"))/parseFloat(n));var u=null;a||(u=function(e){return function(e){var t=e.size,n=e.grid,r=t-t%n,o=r+n;return t-r<o-t?r:o}({size:e,grid:A({pixels:4,lineHeight:i,htmlFontSize:d.htmlFontSize})})}),d[e]=(0,v.A)({},t,function(e){var t=e.cssProperty,n=e.min,r=e.max,o=e.unit,a=void 0===o?"rem":o,i=e.breakpoints,l=void 0===i?[600,960,1280]:i,u=e.transform,s=void 0===u?null:u,c=(0,D.A)({},t,"".concat(n).concat(a)),d=(r-n)/l[l.length-1];return l.forEach((function(e){var r=n+d*e;null!==s&&(r=s(r)),c["@media (min-width:".concat(e,"px)")]=(0,D.A)({},t,"".concat(Math.round(1e4*r)/1e4).concat(a))})),c}({cssProperty:"fontSize",min:o,max:r,unit:"rem",breakpoints:p,transform:u}))}})),c}var x=n(9356),F=n(2899),S=n(567),k=n(8553),O=n(45),R=n(219),P=n.n(R),B=n(4920);function T(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).defaultTheme;return function(t){var n=o.forwardRef((function(n,r){var a=n.innerRef,i=(0,O.A)(n,["innerRef"]),l=(0,B.A)()||e;return o.createElement(t,(0,v.A)({theme:l,ref:a||r},i))}));return P()(n,t),n}}T();const M=T({defaultTheme:n(5921).A});var L=n(5534),I=n(3966),j=n(3029),z=n(2901),N=n(2852),_=n(4118),H=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,j.A)(this,e),this.options=t}return(0,z.A)(e,[{key:"collect",value:function(e){var t=new Map;this.sheetsRegistry=new N.SN;var n=(0,L.A)();return o.createElement(_.Ay,(0,v.A)({sheetsManager:t,serverGenerateClassName:n,sheetsRegistry:this.sheetsRegistry},this.options),e)}},{key:"toString",value:function(){return this.sheetsRegistry?this.sheetsRegistry.toString():""}},{key:"getStyleElement",value:function(e){return o.createElement("style",(0,v.A)({id:"jss-server-side",key:"jss-server-side",dangerouslySetInnerHTML:{__html:this.toString()}},e))}}]),e}(),V=n(548),W=n(4959);const U=function(e){var t=e.children,n=e.theme,r=(0,B.A)(),a=o.useMemo((function(){var e=null===r?n:function(e,t){return"function"===typeof t?t(e):(0,v.A)({},e,t)}(r,n);return null!=e&&(e[W.A]=null!==r),e}),[n,r]);return o.createElement(V.A.Provider,{value:a},t)};var $=n(2158),K=n(768),q=n(4794),G=n(2237),X=n(7249),Y=n(4822),Z=n(9892),Q=n(7355),J=n(8587);function ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{baseClasses:t,newClasses:n,Component:r}=e;if(!n)return t;const o=(0,v.A)({},t);return Object.keys(n).forEach((e=>{n[e]&&(o[e]="".concat(t[e]," ").concat(n[e]))})),o}const te={set:(e,t,n,r)=>{let o=e.get(t);o||(o=new Map,e.set(t,o)),o.set(n,r)},get:(e,t,n)=>{const r=e.get(t);return r?r.get(n):void 0},delete:(e,t,n)=>{e.get(t).delete(n)}};const ne=o.createContext(null);const re="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",oe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var ae=n(4636),ie=n(1312),le=n(3796),ue=n(2475),se=n(2646),ce=n(6224),de=n(4620);n(579);const fe=(0,N.vt)({plugins:[(0,ae.A)(),(0,ie.A)(),(0,le.A)(),(0,ue.A)(),(0,se.A)(),"undefined"===typeof window?null:(0,ce.A)(),(0,de.A)()]}),pe={disableGeneration:!1,generateClassName:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{disableGlobal:t=!1,productionPrefix:n="jss",seed:r=""}=e,o=""===r?"":"".concat(r,"-");let a=0;const i=()=>(a+=1,a);return(e,a)=>{const l=a.options.name;if(l&&0===l.indexOf("Mui")&&!a.options.link&&!t){if(-1!==oe.indexOf(e.key))return"Mui-".concat(e.key);const t="".concat(o).concat(l,"-").concat(e.key);return a.options.theme[re]&&""===r?"".concat(t,"-").concat(i()):t}return"".concat(o).concat(n).concat(i())}}(),jss:fe,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},me=o.createContext(pe);let he=-1e9;function ge(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function ve(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?(0,v.A)({},e):e;return ge(e)&&ge(t)&&Object.keys(t).forEach((o=>{"__proto__"!==o&&(ge(t[o])&&o in e&&ge(e[o])?r[o]=ve(e[o],t[o],n):r[o]=t[o])})),r}function be(e){if("string"!==typeof e)throw new Error(function(e){let t="https://material-ui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}(7));return e.charAt(0).toUpperCase()+e.slice(1)}const De=["variant"];function ye(e){return 0===e.length}function Ce(e){const t="function"===typeof e;return{create:(n,r)=>{let o;try{o=t?e(n):e}catch(u){throw u}if(!r||!n.components||!n.components[r]||!n.components[r].styleOverrides&&!n.components[r].variants)return o;const a=n.components[r].styleOverrides||{},i=n.components[r].variants||[],l=(0,v.A)({},o);return Object.keys(a).forEach((e=>{l[e]=ve(l[e]||{},a[e])})),i.forEach((e=>{const t=function(e){const{variant:t}=e,n=(0,J.A)(e,De);let r=t||"";return Object.keys(n).sort().forEach((t=>{r+="color"===t?ye(r)?e[t]:be(e[t]):"".concat(ye(r)?t:be(t)).concat(be(e[t].toString()))})),r}(e.props);l[t]=ve(l[t]||{},e.style)})),l},options:{}}}const Ee={},Ae=["name","classNamePrefix","Component","defaultTheme"];function we(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{name:n,classNamePrefix:r,Component:a,defaultTheme:i=Ee}=t,l=(0,J.A)(t,Ae),u=Ce(e),s=n||r||"makeStyles";u.options={index:(he+=1,he),name:n,meta:s,classNamePrefix:s};return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=o.useContext(ne)||i,r=(0,v.A)({},o.useContext(me),l),s=o.useRef(),c=o.useRef();!function(e,t){const n=o.useRef([]);let r;const a=o.useMemo((()=>({})),t);n.current!==a&&(n.current=a,r=e()),o.useEffect((()=>()=>{r&&r()}),[a])}((()=>{const o={name:n,state:{},stylesCreator:u,stylesOptions:r,theme:t};return function(e,t){let{state:n,theme:r,stylesOptions:o,stylesCreator:a,name:i}=e;if(o.disableGeneration)return;let l=te.get(o.sheetsManager,a,r);l||(l={refs:0,staticSheet:null,dynamicStyles:null},te.set(o.sheetsManager,a,r,l));const u=(0,v.A)({},a.options,o,{theme:r,flip:"boolean"===typeof o.flip?o.flip:"rtl"===r.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;const s=o.sheetsRegistry;if(0===l.refs){let e;o.sheetsCache&&(e=te.get(o.sheetsCache,a,r));const t=a.create(r,i);e||(e=o.jss.createStyleSheet(t,(0,v.A)({link:!1},u)),e.attach(),o.sheetsCache&&te.set(o.sheetsCache,a,r,e)),s&&s.add(e),l.staticSheet=e,l.dynamicStyles=(0,N.ih)(t)}if(l.dynamicStyles){const e=o.jss.createStyleSheet(l.dynamicStyles,(0,v.A)({link:!0},u));e.update(t),e.attach(),n.dynamicSheet=e,n.classes=ee({baseClasses:l.staticSheet.classes,newClasses:e.classes}),s&&s.add(e)}else n.classes=l.staticSheet.classes;l.refs+=1}(o,e),c.current=!1,s.current=o,()=>{!function(e){let{state:t,theme:n,stylesOptions:r,stylesCreator:o}=e;if(r.disableGeneration)return;const a=te.get(r.sheetsManager,o,n);a.refs-=1;const i=r.sheetsRegistry;0===a.refs&&(te.delete(r.sheetsManager,o,n),r.jss.removeStyleSheet(a.staticSheet),i&&i.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),i&&i.remove(t.dynamicSheet))}(o)}}),[t,u]),o.useEffect((()=>{c.current&&function(e,t){let{state:n}=e;n.dynamicSheet&&n.dynamicSheet.update(t)}(s.current,e),c.current=!0}));const d=function(e,t,n){let{state:r,stylesOptions:o}=e;if(o.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});let a=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,a=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,a=!0),a&&(r.cacheClasses.value=ee({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(s.current,e.classes,a);return d}}var xe=n(581),Fe=n(403),Se=n(8951),ke=n(8908),Oe=n(3810),Re=n(2696),Pe=o.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,l=(e.color,e.component),u=void 0===l?"label":l,s=(e.disabled,e.error,e.filled,e.focused,e.required,(0,O.A)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),c=(0,Re.A)(),d=(0,Oe.A)({props:e,muiFormControl:c,states:["color","required","focused","disabled","error","filled"]});return o.createElement(u,(0,v.A)({className:(0,a.A)(r.root,r["color".concat((0,Y.A)(d.color||"primary"))],i,d.disabled&&r.disabled,d.error&&r.error,d.filled&&r.filled,d.focused&&r.focused,d.required&&r.required),ref:t},s),n,d.required&&o.createElement("span",{"aria-hidden":!0,className:(0,a.A)(r.asterisk,d.error&&r.error)},"\u2009","*"))}));const Be=(0,k.A)((function(e){return{root:(0,v.A)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(Pe);var Te=o.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.disableAnimation,l=void 0!==i&&i,u=(e.margin,e.shrink),s=(e.variant,(0,O.A)(e,["classes","className","disableAnimation","margin","shrink","variant"])),c=(0,Re.A)(),d=u;"undefined"===typeof d&&c&&(d=c.filled||c.focused||c.adornedStart);var f=(0,Oe.A)({props:e,muiFormControl:c,states:["margin","variant"]});return o.createElement(Be,(0,v.A)({"data-shrink":d,className:(0,a.A)(n.root,r,c&&n.formControl,!l&&n.animated,d&&n.shrink,"dense"===f.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[f.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},s))}));const Me=(0,k.A)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(Te);var Le=n(6031),Ie=n(4867),je=n(6612),ze=o.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,l=e.color,u=void 0===l?"primary":l,s=e.component,c=void 0===s?"div":s,d=e.disabled,f=void 0!==d&&d,p=e.error,m=void 0!==p&&p,h=e.fullWidth,g=void 0!==h&&h,b=e.focused,D=e.hiddenLabel,y=void 0!==D&&D,C=e.margin,E=void 0===C?"none":C,A=e.required,w=void 0!==A&&A,x=e.size,F=e.variant,S=void 0===F?"standard":F,k=(0,O.A)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),R=o.useState((function(){var e=!1;return n&&o.Children.forEach(n,(function(t){if((0,Ie.A)(t,["Input","Select"])){var n=(0,Ie.A)(t,["Select"])?t.props.input:t;n&&(0,Le.gr)(n.props)&&(e=!0)}})),e})),P=R[0],B=R[1],T=o.useState((function(){var e=!1;return n&&o.Children.forEach(n,(function(t){(0,Ie.A)(t,["Input","Select"])&&(0,Le.lq)(t.props,!0)&&(e=!0)})),e})),M=T[0],L=T[1],I=o.useState(!1),j=I[0],z=I[1],N=void 0!==b?b:j;f&&N&&z(!1);var _=o.useCallback((function(){L(!0)}),[]),H={adornedStart:P,setAdornedStart:B,color:u,disabled:f,error:m,filled:M,focused:N,fullWidth:g,hiddenLabel:y,margin:("small"===x?"dense":void 0)||E,onBlur:function(){z(!1)},onEmpty:o.useCallback((function(){L(!1)}),[]),onFilled:_,onFocus:function(){z(!0)},registerEffect:undefined,required:w,variant:S};return o.createElement(je.A.Provider,{value:H},o.createElement(c,(0,v.A)({className:(0,a.A)(r.root,i,"none"!==E&&r["margin".concat((0,Y.A)(E))],g&&r.fullWidth),ref:t},k),n))}));const Ne=(0,k.A)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(ze);var _e=o.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,l=e.component,u=void 0===l?"p":l,s=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,(0,O.A)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),c=(0,Re.A)(),d=(0,Oe.A)({props:e,muiFormControl:c,states:["variant","margin","disabled","error","filled","focused","required"]});return o.createElement(u,(0,v.A)({className:(0,a.A)(r.root,("filled"===d.variant||"outlined"===d.variant)&&r.contained,i,d.disabled&&r.disabled,d.error&&r.error,d.filled&&r.filled,d.focused&&r.focused,d.required&&r.required,"dense"===d.margin&&r.marginDense),ref:t},s)," "===n?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)}));const He=(0,k.A)((function(e){return{root:(0,v.A)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(_e);var Ve=n(2432),We={standard:Fe.A,filled:Se.A,outlined:ke.A},Ue=o.forwardRef((function(e,t){var n=e.autoComplete,r=e.autoFocus,i=void 0!==r&&r,l=e.children,u=e.classes,s=e.className,c=e.color,d=void 0===c?"primary":c,f=e.defaultValue,p=e.disabled,m=void 0!==p&&p,h=e.error,g=void 0!==h&&h,b=e.FormHelperTextProps,D=e.fullWidth,y=void 0!==D&&D,C=e.helperText,E=e.hiddenLabel,A=e.id,w=e.InputLabelProps,x=e.inputProps,F=e.InputProps,S=e.inputRef,k=e.label,R=e.multiline,P=void 0!==R&&R,B=e.name,T=e.onBlur,M=e.onChange,L=e.onFocus,I=e.placeholder,j=e.required,z=void 0!==j&&j,N=e.rows,_=e.rowsMax,H=e.maxRows,V=e.minRows,W=e.select,U=void 0!==W&&W,$=e.SelectProps,K=e.type,q=e.value,G=e.variant,X=void 0===G?"standard":G,Y=(0,O.A)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]);var Z={};if("outlined"===X&&(w&&"undefined"!==typeof w.shrink&&(Z.notched=w.shrink),k)){var Q,J=null!==(Q=null===w||void 0===w?void 0:w.required)&&void 0!==Q?Q:z;Z.label=o.createElement(o.Fragment,null,k,J&&"\xa0*")}U&&($&&$.native||(Z.id=void 0),Z["aria-describedby"]=void 0);var ee=C&&A?"".concat(A,"-helper-text"):void 0,te=k&&A?"".concat(A,"-label"):void 0,ne=We[X],re=o.createElement(ne,(0,v.A)({"aria-describedby":ee,autoComplete:n,autoFocus:i,defaultValue:f,fullWidth:y,multiline:P,name:B,rows:N,rowsMax:_,maxRows:H,minRows:V,type:K,value:q,id:A,inputRef:S,onBlur:T,onChange:M,onFocus:L,placeholder:I,inputProps:x},Z,F));return o.createElement(Ne,(0,v.A)({className:(0,a.A)(u.root,s),disabled:m,error:g,fullWidth:y,hiddenLabel:E,ref:t,required:z,color:d,variant:X},Y),k&&o.createElement(Me,(0,v.A)({htmlFor:A,id:te},w),k),U?o.createElement(Ve.A,(0,v.A)({"aria-describedby":ee,id:A,labelId:te,value:q,input:re},$),l):re,C&&o.createElement(He,(0,v.A)({id:ee},b),C))}));const $e=(0,k.A)({root:{}},{name:"MuiTextField"})(Ue);var Ke=n(296),qe=n(1051),Ge=n(7339),Xe=o.forwardRef((function(e,t){var n=e.autoFocus,r=e.checked,i=e.checkedIcon,l=e.classes,u=e.className,s=e.defaultChecked,c=e.disabled,d=e.icon,f=e.id,p=e.inputProps,m=e.inputRef,h=e.name,g=e.onBlur,b=e.onChange,D=e.onFocus,y=e.readOnly,C=e.required,E=e.tabIndex,A=e.type,w=e.value,x=(0,O.A)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),F=(0,qe.A)({controlled:r,default:Boolean(s),name:"SwitchBase",state:"checked"}),S=(0,Ke.A)(F,2),k=S[0],R=S[1],P=(0,Re.A)(),B=c;P&&"undefined"===typeof B&&(B=P.disabled);var T="checkbox"===A||"radio"===A;return o.createElement(Ge.A,(0,v.A)({component:"span",className:(0,a.A)(l.root,u,k&&l.checked,B&&l.disabled),disabled:B,tabIndex:null,role:void 0,onFocus:function(e){D&&D(e),P&&P.onFocus&&P.onFocus(e)},onBlur:function(e){g&&g(e),P&&P.onBlur&&P.onBlur(e)},ref:t},x),o.createElement("input",(0,v.A)({autoFocus:n,checked:r,defaultChecked:s,className:l.input,disabled:B,id:T&&f,name:h,onChange:function(e){var t=e.target.checked;R(t),b&&b(e,t)},readOnly:y,ref:m,required:C,tabIndex:E,type:A,value:w},p)),k?i:d)}));const Ye=(0,k.A)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(Xe),Ze=(0,q.A)(o.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Qe=(0,q.A)(o.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Je=(0,q.A)(o.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var et=o.createElement(Qe,null),tt=o.createElement(Ze,null),nt=o.createElement(Je,null),rt=o.forwardRef((function(e,t){var n=e.checkedIcon,r=void 0===n?et:n,i=e.classes,l=e.color,u=void 0===l?"secondary":l,s=e.icon,c=void 0===s?tt:s,d=e.indeterminate,f=void 0!==d&&d,p=e.indeterminateIcon,m=void 0===p?nt:p,h=e.inputProps,g=e.size,b=void 0===g?"medium":g,D=(0,O.A)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),y=f?m:c,C=f?m:r;return o.createElement(Ye,(0,v.A)({type:"checkbox",classes:{root:(0,a.A)(i.root,i["color".concat((0,Y.A)(u))],f&&i.indeterminate),checked:i.checked,disabled:i.disabled},color:u,inputProps:(0,v.A)({"data-indeterminate":f},h),icon:o.cloneElement(y,{fontSize:void 0===y.props.fontSize&&"small"===b?b:y.props.fontSize}),checkedIcon:o.cloneElement(C,{fontSize:void 0===C.props.fontSize&&"small"===b?b:C.props.fontSize}),ref:t},D))}));const ot=(0,k.A)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,d.X4)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,d.X4)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(rt);var at=n(5357),it=o.forwardRef((function(e,t){var n=e.anchorOrigin,r=void 0===n?{vertical:"top",horizontal:"right"}:n,i=e.badgeContent,l=e.children,u=e.classes,s=e.className,c=e.color,d=void 0===c?"default":c,f=e.component,p=void 0===f?"span":f,m=e.invisible,h=e.max,g=void 0===h?99:h,b=e.overlap,D=void 0===b?"rectangle":b,y=e.showZero,C=void 0!==y&&y,E=e.variant,A=void 0===E?"standard":E,w=(0,O.A)(e,["anchorOrigin","badgeContent","children","classes","className","color","component","invisible","max","overlap","showZero","variant"]),x=m;null==m&&(0===i&&!C||null==i&&"dot"!==A)&&(x=!0);var F="";return"dot"!==A&&(F=i>g?"".concat(g,"+"):i),o.createElement(p,(0,v.A)({className:(0,a.A)(u.root,s),ref:t},w),l,o.createElement("span",{className:(0,a.A)(u.badge,u["".concat(r.horizontal).concat((0,Y.A)(r.vertical),"}")],u["anchorOrigin".concat((0,Y.A)(r.vertical)).concat((0,Y.A)(r.horizontal)).concat((0,Y.A)(D))],"default"!==d&&u["color".concat((0,Y.A)(d))],x&&u.invisible,"dot"===A&&u.dot)},F))}));const lt=(0,k.A)((function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},dot:{borderRadius:4,height:8,minWidth:8,padding:0},anchorOriginTopRightRectangle:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginTopRightRectangular:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightRectangle:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginBottomRightRectangular:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftRectangle:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginTopLeftRectangular:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftRectangle:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginBottomLeftRectangular:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginTopRightCircle:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginTopRightCircular:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightCircle:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginBottomRightCircular:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftCircle:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginTopLeftCircular:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftCircle:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginBottomLeftCircular:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}}),{name:"MuiBadge"})(it);var ut=n(9579),st=n(7950);function ct(e){return e.substring(2).toLowerCase()}const dt=function(e){var t=e.children,n=e.disableReactTree,r=void 0!==n&&n,a=e.mouseEvent,i=void 0===a?"onClick":a,l=e.onClickAway,u=e.touchEvent,s=void 0===u?"onTouchEnd":u,c=o.useRef(!1),d=o.useRef(null),f=o.useRef(!1),p=o.useRef(!1);o.useEffect((function(){return setTimeout((function(){f.current=!0}),0),function(){f.current=!1}}),[]);var m=o.useCallback((function(e){d.current=st.findDOMNode(e)}),[]),h=(0,K.A)(t.ref,m),g=(0,$.A)((function(e){var t=p.current;if(p.current=!1,f.current&&d.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(c.current)c.current=!1;else{var n;if(e.composedPath)n=e.composedPath().indexOf(d.current)>-1;else n=!(0,Z.A)(d.current).documentElement.contains(e.target)||d.current.contains(e.target);n||!r&&t||l(e)}})),v=function(e){return function(n){p.current=!0;var r=t.props[e];r&&r(n)}},b={ref:h};return!1!==s&&(b[s]=v(s)),o.useEffect((function(){if(!1!==s){var e=ct(s),t=(0,Z.A)(d.current),n=function(){c.current=!0};return t.addEventListener(e,g),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,g),t.removeEventListener("touchmove",n)}}}),[g,s]),!1!==i&&(b[i]=v(i)),o.useEffect((function(){if(!1!==i){var e=ct(i),t=(0,Z.A)(d.current);return t.addEventListener(e,g),function(){t.removeEventListener(e,g)}}}),[g,i]),o.createElement(o.Fragment,null,o.cloneElement(t,b))};var ft=n(1575),pt=n(495),mt=n(5007),ht="undefined"!==typeof window?o.useLayoutEffect:o.useEffect;const gt=function(e){var t=e.children,n=e.defer,r=void 0!==n&&n,a=e.fallback,i=void 0===a?null:a,l=o.useState(!1),u=l[0],s=l[1];return ht((function(){r||s(!0)}),[r]),o.useEffect((function(){r&&s(!0)}),[r]),o.createElement(o.Fragment,null,u?t:i)};var vt=n(1935),bt=o.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.color,l=void 0===i?"secondary":i,u=e.edge,s=void 0!==u&&u,c=e.size,d=void 0===c?"medium":c,f=(0,O.A)(e,["classes","className","color","edge","size"]),p=o.createElement("span",{className:n.thumb});return o.createElement("span",{className:(0,a.A)(n.root,r,{start:n.edgeStart,end:n.edgeEnd}[s],"small"===d&&n["size".concat((0,Y.A)(d))])},o.createElement(Ye,(0,v.A)({type:"checkbox",icon:p,checkedIcon:p,classes:{root:(0,a.A)(n.switchBase,n["color".concat((0,Y.A)(l))]),input:n.input,checked:n.checked,disabled:n.disabled},ref:t},f)),o.createElement("span",{className:n.track}))}));const Dt=(0,k.A)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,d.X4)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,d.X4)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(bt);var yt=n(105),Ct=n(6187),Et=o.forwardRef((function(e,t){e.checked;var n=e.classes,r=e.className,i=e.control,l=e.disabled,u=(e.inputRef,e.label),s=e.labelPlacement,c=void 0===s?"end":s,d=(e.name,e.onChange,e.value,(0,O.A)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),f=(0,Re.A)(),p=l;"undefined"===typeof p&&"undefined"!==typeof i.props.disabled&&(p=i.props.disabled),"undefined"===typeof p&&f&&(p=f.disabled);var m={disabled:p};return["checked","name","onChange","value","inputRef"].forEach((function(t){"undefined"===typeof i.props[t]&&"undefined"!==typeof e[t]&&(m[t]=e[t])})),o.createElement("label",(0,v.A)({className:(0,a.A)(n.root,r,"end"!==c&&n["labelPlacement".concat((0,Y.A)(c))],p&&n.disabled),ref:t},d),o.cloneElement(i,m),o.createElement(Ct.A,{component:"span",className:(0,a.A)(n.label,p&&n.disabled)},u))}));const At=(0,k.A)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(Et);var wt=n(7005),xt=n(5982),Ft=o.forwardRef((function(e,t){var n=e.classes,r=e.className,i=(0,O.A)(e,["classes","className"]),l=o.useContext(xt.A);return o.createElement("div",(0,v.A)({className:(0,a.A)(n.root,r,"flex-start"===l.alignItems&&n.alignItemsFlexStart),ref:t},i))}));const St=(0,k.A)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(Ft);var kt=44,Ot=o.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.color,l=void 0===i?"primary":i,u=e.disableShrink,s=void 0!==u&&u,c=e.size,d=void 0===c?40:c,f=e.style,p=e.thickness,m=void 0===p?3.6:p,h=e.value,g=void 0===h?0:h,b=e.variant,D=void 0===b?"indeterminate":b,y=(0,O.A)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),C={},E={},A={};if("determinate"===D||"static"===D){var w=2*Math.PI*((kt-m)/2);C.strokeDasharray=w.toFixed(3),A["aria-valuenow"]=Math.round(g),C.strokeDashoffset="".concat(((100-g)/100*w).toFixed(3),"px"),E.transform="rotate(-90deg)"}return o.createElement("div",(0,v.A)({className:(0,a.A)(n.root,r,"inherit"!==l&&n["color".concat((0,Y.A)(l))],{determinate:n.determinate,indeterminate:n.indeterminate,static:n.static}[D]),style:(0,v.A)({width:d,height:d},E,f),ref:t,role:"progressbar"},A,y),o.createElement("svg",{className:n.svg,viewBox:"".concat(22," ").concat(22," ").concat(kt," ").concat(kt)},o.createElement("circle",{className:(0,a.A)(n.circle,s&&n.circleDisableShrink,{determinate:n.circleDeterminate,indeterminate:n.circleIndeterminate,static:n.circleStatic}[D]),style:C,cx:kt,cy:kt,r:(kt-m)/2,fill:"none",strokeWidth:m})))}));const Rt=(0,k.A)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(Ot);var Pt=n(2703),Bt=n(7243);const Tt=(0,q.A)(o.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Mt=(0,q.A)(o.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");var Lt=o.createElement(Mt,null),It=o.createElement(Tt,null),jt=o.createElement(Tt,null),zt=o.createElement(Mt,null);const Nt=o.forwardRef((function(e,t){var n=e.backIconButtonProps,r=e.count,a=e.nextIconButtonProps,i=e.onChangePage,l=void 0===i?function(){}:i,u=e.onPageChange,s=void 0===u?function(){}:u,c=e.page,d=e.rowsPerPage,f=(0,O.A)(e,["backIconButtonProps","count","nextIconButtonProps","onChangePage","onPageChange","page","rowsPerPage"]),p=(0,S.A)();return o.createElement("div",(0,v.A)({ref:t},f),o.createElement(Ge.A,(0,v.A)({onClick:function(e){l(e,c-1),s(e,c-1)},disabled:0===c,color:"inherit"},n),"rtl"===p.direction?Lt:It),o.createElement(Ge.A,(0,v.A)({onClick:function(e){l(e,c+1),s(e,c+1)},disabled:-1!==r&&c>=Math.ceil(r/d)-1,color:"inherit"},a),"rtl"===p.direction?jt:zt))}));var _t=function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," of ").concat(-1!==r?r:"more than ".concat(n))},Ht=[10,25,50,100],Vt=o.forwardRef((function(e,t){var n,r=e.ActionsComponent,i=void 0===r?Nt:r,l=e.backIconButtonProps,u=e.backIconButtonText,s=void 0===u?"Previous page":u,c=e.classes,d=e.className,f=e.colSpan,p=e.component,m=void 0===p?Pt.A:p,h=e.count,g=e.labelDisplayedRows,b=void 0===g?_t:g,D=e.labelRowsPerPage,y=void 0===D?"Rows per page:":D,C=e.nextIconButtonProps,E=e.nextIconButtonText,A=void 0===E?"Next page":E,w=e.onChangePage,x=e.onPageChange,F=e.onChangeRowsPerPage,S=e.onRowsPerPageChange,k=e.page,R=e.rowsPerPage,P=e.rowsPerPageOptions,B=void 0===P?Ht:P,T=e.SelectProps,M=void 0===T?{}:T,L=(0,O.A)(e,["ActionsComponent","backIconButtonProps","backIconButtonText","classes","className","colSpan","component","count","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","nextIconButtonText","onChangePage","onPageChange","onChangeRowsPerPage","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps"]),I=F||S;m!==Pt.A&&"td"!==m||(n=f||1e3);var j=(0,G.A)(),z=(0,G.A)(),N=M.native?"option":at.A;return o.createElement(m,(0,v.A)({className:(0,a.A)(c.root,d),colSpan:n,ref:t},L),o.createElement(Bt.A,{className:c.toolbar},o.createElement("div",{className:c.spacer}),B.length>1&&o.createElement(Ct.A,{color:"inherit",variant:"body2",className:c.caption,id:z},y),B.length>1&&o.createElement(Ve.A,(0,v.A)({classes:{select:c.select,icon:c.selectIcon},input:o.createElement(xe.A,{className:(0,a.A)(c.input,c.selectRoot)}),value:R,onChange:I,id:j,labelId:z},M),B.map((function(e){return o.createElement(N,{className:c.menuItem,key:e.value?e.value:e,value:e.value?e.value:e},e.label?e.label:e)}))),o.createElement(Ct.A,{color:"inherit",variant:"body2",className:c.caption},b({from:0===h?0:k*R+1,to:-1!==h?Math.min(h,(k+1)*R):(k+1)*R,count:-1===h?-1:h,page:k})),o.createElement(i,{className:c.actions,backIconButtonProps:(0,v.A)({title:s,"aria-label":s},l),count:h,nextIconButtonProps:(0,v.A)({title:A,"aria-label":A},C),onChangePage:w,onPageChange:x,page:k,rowsPerPage:R})))}));const Wt=(0,k.A)((function(e){return{root:{color:e.palette.text.primary,fontSize:e.typography.pxToRem(14),overflow:"auto","&:last-child":{padding:0}},toolbar:{minHeight:52,paddingRight:2},spacer:{flex:"1 1 100%"},caption:{flexShrink:0},selectRoot:{marginRight:32,marginLeft:8},select:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"},selectIcon:{},input:{color:"inherit",fontSize:"inherit",flexShrink:0},menuItem:{},actions:{flexShrink:0,marginLeft:20}}}),{name:"MuiTablePagination"})(Vt);var Ut,$t=n(6363),Kt=n(5173),qt=n.n(Kt);e=n.hmd(e),function(e){e.resize="resize",e.debouncedResize="debouncedResize",e.componentError="componentError",e.unmount="unmount",e.cellModeChange="cellModeChange",e.cellClick="cellClick",e.cellDoubleClick="cellDoubleClick",e.cellMouseDown="cellMouseDown",e.cellMouseUp="cellMouseUp",e.cellOver="cellOver",e.cellOut="cellOut",e.cellEnter="cellEnter",e.cellLeave="cellLeave",e.cellKeyDown="cellKeyDown",e.cellBlur="cellBlur",e.cellFocus="cellFocus",e.cellFocusIn="cellFocusIn",e.cellFocusOut="cellFocusOut",e.cellDragStart="cellDragStart",e.cellDragEnter="cellDragEnter",e.cellDragOver="cellDragOver",e.cellDragEnd="cellDragEnd",e.editCellPropsChange="editCellPropsChange",e.cellEditCommit="cellEditCommit",e.cellEditStart="cellEditStart",e.cellEditStop="cellEditStop",e.rowEditStart="rowEditStart",e.rowEditStop="rowEditStop",e.rowEditCommit="rowEditCommit",e.cellNavigationKeyDown="cellNavigationKeyDown",e.rowClick="rowClick",e.rowDoubleClick="rowDoubleClick",e.rowOver="rowOver",e.rowOut="rowOut",e.rowEnter="rowEnter",e.rowLeave="rowLeave",e.editRowsModelChange="editRowsModelChange",e.columnHeaderBlur="columnHeaderBlur",e.columnHeaderFocus="columnHeaderFocus",e.columnHeaderNavigationKeyDown="columnHeaderNavigationKeyDown",e.columnHeaderKeyDown="columnHeaderKeyDown",e.columnHeaderClick="columnHeaderClick",e.columnHeaderDoubleClick="columnHeaderDoubleClick",e.columnHeaderOver="columnHeaderOver",e.columnHeaderOut="columnHeaderOut",e.columnHeaderEnter="columnHeaderEnter",e.columnHeaderLeave="columnHeaderLeave",e.columnHeaderDragStart="columnHeaderDragStart",e.columnHeaderDragOver="columnHeaderDragOver",e.columnHeaderDragEnter="columnHeaderDragEnter",e.columnHeaderDragEnd="columnHeaderDragEnd",e.selectionChange="selectionChange",e.pageChange="pageChange",e.pageSizeChange="pageSizeChange",e.rowsScroll="rowsScroll",e.rowsScrollEnd="rowsScrollEnd",e.columnSeparatorMouseDown="columnSeparatorMouseDown",e.columnResize="columnResize",e.columnWidthChange="columnWidthChange",e.columnResizeStart="columnResizeStart",e.columnResizeStop="columnResizeStop",e.columnOrderChange="columnOrderChange",e.rowsUpdate="rowsUpdate",e.rowsSet="rowsSet",e.rowsClear="rowsClear",e.columnsChange="columnsChange",e.sortModelChange="sortModelChange",e.filterModelChange="filterModelChange",e.stateChange="stateChange",e.columnVisibilityChange="columnVisibilityChange",e.viewportRowsChange="viewportRowsChange"}(Ut||(Ut={}));const Gt=o.createContext(void 0);function Xt(){const e=o.useContext(Gt);if(void 0===e)throw new Error(["Material-UI X: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid or DataGridPro parent component.","This can also happen if you are bundling multiple versions of the data grid."].join("\n"));return e}const Yt=e=>e.columns.lookup,Zt=c((e=>e.columns.all),Yt,((e,t)=>e.map((e=>t[e])))),Qt=c(Zt,(e=>e.filter((e=>null!=e.field&&!e.hide)))),Jt=c(Qt,(e=>{const t=[];return{totalWidth:e.reduce(((e,n)=>(t.push(e),e+n.computedWidth)),0),positions:t}})),en=c(Zt,(e=>e.filter((e=>e.filterable)))),tn=c(en,(e=>e.map((e=>e.field)))),nn=c(Qt,(e=>e.length)),rn=c(Jt,(e=>e.totalWidth));function on(e,t){return e===t||e!=e&&t!=t}function an(e,t){for(var n=e.length;n--;)if(on(e[n][0],t))return n;return-1}var ln=Array.prototype.splice;function un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}un.prototype.clear=function(){this.__data__=[],this.size=0},un.prototype.delete=function(e){var t=this.__data__,n=an(t,e);return!(n<0)&&(n==t.length-1?t.pop():ln.call(t,n,1),--this.size,!0)},un.prototype.get=function(e){var t=this.__data__,n=an(t,e);return n<0?void 0:t[n][1]},un.prototype.has=function(e){return an(this.__data__,e)>-1},un.prototype.set=function(e,t){var n=this.__data__,r=an(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var sn="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,cn="object"==typeof self&&self&&self.Object===Object&&self,dn=sn||cn||Function("return this")(),fn=dn.Symbol,pn=Object.prototype,mn=pn.hasOwnProperty,hn=pn.toString,gn=fn?fn.toStringTag:void 0,vn=Object.prototype.toString,bn=fn?fn.toStringTag:void 0;function Dn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":bn&&bn in Object(e)?function(e){var t=mn.call(e,gn),n=e[gn];try{e[gn]=void 0;var r=!0}catch(e){}var o=hn.call(e);return r&&(t?e[gn]=n:delete e[gn]),o}(e):function(e){return vn.call(e)}(e)}function yn(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Cn(e){if(!yn(e))return!1;var t=Dn(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var En,An=dn["__core-js_shared__"],wn=(En=/[^.]+$/.exec(An&&An.keys&&An.keys.IE_PROTO||""))?"Symbol(src)_1."+En:"",xn=Function.prototype.toString;function Fn(e){if(null!=e){try{return xn.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Sn=/^\[object .+?Constructor\]$/,kn=Function.prototype,On=Object.prototype,Rn=kn.toString,Pn=On.hasOwnProperty,Bn=RegExp("^"+Rn.call(Pn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Tn(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!yn(e)||(t=e,wn&&wn in t))&&(Cn(e)?Bn:Sn).test(Fn(e));var t}(n)?n:void 0}var Mn=Tn(dn,"Map"),Ln=Tn(Object,"create"),In=Object.prototype.hasOwnProperty,jn=Object.prototype.hasOwnProperty;function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Nn(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function _n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=this.__data__=new un(e);this.size=t.size}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new _n;++t<n;)this.add(e[t])}function Wn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Un(e,t,n,r,o,a){var i=1&n,l=e.length,u=t.length;if(l!=u&&!(i&&u>l))return!1;var s=a.get(e);if(s&&a.get(t))return s==t;var c=-1,d=!0,f=2&n?new Vn:void 0;for(a.set(e,t),a.set(t,e);++c<l;){var p=e[c],m=t[c];if(r)var h=i?r(m,p,c,t,e,a):r(p,m,c,e,t,a);if(void 0!==h){if(h)continue;d=!1;break}if(f){if(!Wn(t,(function(e,t){if(i=t,!f.has(i)&&(p===e||o(p,e,n,r,a)))return f.push(t);var i}))){d=!1;break}}else if(p!==m&&!o(p,m,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}zn.prototype.clear=function(){this.__data__=Ln?Ln(null):{},this.size=0},zn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},zn.prototype.get=function(e){var t=this.__data__;if(Ln){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return In.call(t,e)?t[e]:void 0},zn.prototype.has=function(e){var t=this.__data__;return Ln?void 0!==t[e]:jn.call(t,e)},zn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ln&&void 0===t?"__lodash_hash_undefined__":t,this},_n.prototype.clear=function(){this.size=0,this.__data__={hash:new zn,map:new(Mn||un),string:new zn}},_n.prototype.delete=function(e){var t=Nn(this,e).delete(e);return this.size-=t?1:0,t},_n.prototype.get=function(e){return Nn(this,e).get(e)},_n.prototype.has=function(e){return Nn(this,e).has(e)},_n.prototype.set=function(e,t){var n=Nn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Hn.prototype.clear=function(){this.__data__=new un,this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Hn.prototype.get=function(e){return this.__data__.get(e)},Hn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof un){var r=n.__data__;if(!Mn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _n(r)}return n.set(e,t),this.size=n.size,this},Vn.prototype.add=Vn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Vn.prototype.has=function(e){return this.__data__.has(e)};var $n=dn.Uint8Array;function Kn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function qn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Gn=fn?fn.prototype:void 0,Xn=Gn?Gn.valueOf:void 0,Yn=Array.isArray,Zn=Object.prototype.propertyIsEnumerable,Qn=Object.getOwnPropertySymbols,Jn=Qn?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i)&&(a[o++]=i)}return a}(Qn(e),(function(t){return Zn.call(e,t)})))}:function(){return[]};function er(e){return null!=e&&"object"==typeof e}function tr(e){return er(e)&&"[object Arguments]"==Dn(e)}var nr=Object.prototype,rr=nr.hasOwnProperty,or=nr.propertyIsEnumerable,ar=tr(function(){return arguments}())?tr:function(e){return er(e)&&rr.call(e,"callee")&&!or.call(e,"callee")},ir="object"==typeof exports&&exports&&!exports.nodeType&&exports,lr=ir&&e&&!e.nodeType&&e,ur=lr&&lr.exports===ir?dn.Buffer:void 0,sr=(ur?ur.isBuffer:void 0)||function(){return!1},cr=/^(?:0|[1-9]\d*)$/;function dr(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&cr.test(e))&&e>-1&&e%1==0&&e<t}function fr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}var pr={};pr["[object Float32Array]"]=pr["[object Float64Array]"]=pr["[object Int8Array]"]=pr["[object Int16Array]"]=pr["[object Int32Array]"]=pr["[object Uint8Array]"]=pr["[object Uint8ClampedArray]"]=pr["[object Uint16Array]"]=pr["[object Uint32Array]"]=!0,pr["[object Arguments]"]=pr["[object Array]"]=pr["[object ArrayBuffer]"]=pr["[object Boolean]"]=pr["[object DataView]"]=pr["[object Date]"]=pr["[object Error]"]=pr["[object Function]"]=pr["[object Map]"]=pr["[object Number]"]=pr["[object Object]"]=pr["[object RegExp]"]=pr["[object Set]"]=pr["[object String]"]=pr["[object WeakMap]"]=!1;var mr,hr="object"==typeof exports&&exports&&!exports.nodeType&&exports,gr=hr&&e&&!e.nodeType&&e,vr=gr&&gr.exports===hr&&sn.process,br=function(){try{return vr&&vr.binding&&vr.binding("util")}catch(e){}}(),Dr=br&&br.isTypedArray,yr=Dr?(mr=Dr,function(e){return mr(e)}):function(e){return er(e)&&fr(e.length)&&!!pr[Dn(e)]},Cr=Object.prototype.hasOwnProperty;var Er=Object.prototype,Ar=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),wr=Object.prototype.hasOwnProperty;function xr(e){return null!=(t=e)&&fr(t.length)&&!Cn(t)?function(e,t){var n=Yn(e),r=!n&&ar(e),o=!n&&!r&&sr(e),a=!n&&!r&&!o&&yr(e),i=n||r||o||a,l=i?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=l.length;for(var s in e)!t&&!Cr.call(e,s)||i&&("length"==s||o&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||dr(s,u))||l.push(s);return l}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||Er))return Ar(e);var t,n,r=[];for(var o in Object(e))wr.call(e,o)&&"constructor"!=o&&r.push(o);return r}(e);var t}function Fr(e){return function(e,t,n){var r=t(e);return Yn(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,xr,Jn)}var Sr=Object.prototype.hasOwnProperty,kr=Tn(dn,"DataView"),Or=Tn(dn,"Promise"),Rr=Tn(dn,"Set"),Pr=Tn(dn,"WeakMap"),Br=Fn(kr),Tr=Fn(Mn),Mr=Fn(Or),Lr=Fn(Rr),Ir=Fn(Pr),jr=Dn;(kr&&"[object DataView]"!=jr(new kr(new ArrayBuffer(1)))||Mn&&"[object Map]"!=jr(new Mn)||Or&&"[object Promise]"!=jr(Or.resolve())||Rr&&"[object Set]"!=jr(new Rr)||Pr&&"[object WeakMap]"!=jr(new Pr))&&(jr=function(e){var t=Dn(e),n="[object Object]"==t?e.constructor:void 0,r=n?Fn(n):"";if(r)switch(r){case Br:return"[object DataView]";case Tr:return"[object Map]";case Mr:return"[object Promise]";case Lr:return"[object Set]";case Ir:return"[object WeakMap]"}return t});var zr=jr,Nr="[object Object]",_r=Object.prototype.hasOwnProperty;function Hr(e,t,n,r,o){return e===t||(null==e||null==t||!er(e)&&!er(t)?e!=e&&t!=t:function(e,t,n,r,o,a){var i=Yn(e),l=Yn(t),u=i?"[object Array]":zr(e),s=l?"[object Array]":zr(t),c=(u="[object Arguments]"==u?Nr:u)==Nr,d=(s="[object Arguments]"==s?Nr:s)==Nr,f=u==s;if(f&&sr(e)){if(!sr(t))return!1;i=!0,c=!1}if(f&&!c)return a||(a=new Hn),i||yr(e)?Un(e,t,n,r,o,a):function(e,t,n,r,o,a,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new $n(e),new $n(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return on(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Kn;case"[object Set]":var u=1&r;if(l||(l=qn),e.size!=t.size&&!u)return!1;var s=i.get(e);if(s)return s==t;r|=2,i.set(e,t);var c=Un(l(e),l(t),r,o,a,i);return i.delete(e),c;case"[object Symbol]":if(Xn)return Xn.call(e)==Xn.call(t)}return!1}(e,t,u,n,r,o,a);if(!(1&n)){var p=c&&_r.call(e,"__wrapped__"),m=d&&_r.call(t,"__wrapped__");if(p||m){var h=p?e.value():e,g=m?t.value():t;return a||(a=new Hn),o(h,g,n,r,a)}}return!!f&&(a||(a=new Hn),function(e,t,n,r,o,a){var i=1&n,l=Fr(e),u=l.length;if(u!=Fr(t).length&&!i)return!1;for(var s=u;s--;){var c=l[s];if(!(i?c in t:Sr.call(t,c)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var f=!0;a.set(e,t),a.set(t,e);for(var p=i;++s<u;){var m=e[c=l[s]],h=t[c];if(r)var g=i?r(h,m,c,t,e,a):r(m,h,c,e,t,a);if(!(void 0===g?m===h||o(m,h,n,r,a):g)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return a.delete(e),a.delete(t),f}(e,t,n,r,o,a))}(e,t,n,r,Hr,o))}function Vr(e,t){return Hr(e,t)}function Wr(e){return(0,$.A)(e)}const Ur="undefined"!=typeof window?o.useLayoutEffect:o.useEffect;function $r(e,t,n){const r={};return Object.keys(e).forEach((o=>{r[o]=e[o].reduce(((e,r)=>(r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e)),[]).join(" ")})),r}const Kr={active:"Mui-active",checked:"Mui-checked",disabled:"Mui-disabled",error:"Mui-error",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",expanded:"Mui-expanded",selected:"Mui-selected"};function qr(e,t){return Kr[t]||"".concat(e,"-").concat(t)}function Gr(e,t){const n={};return t.forEach((t=>{n[t]=qr(e,t)})),n}function Xr(e){return"function"==typeof e}function Yr(e){return e.type||e.mode}function Zr(e,t){var n,o,a;return(null===(n=r)||void 0===n?void 0:n.alpha)?null===(o=r)||void 0===o?void 0:o.alpha(e,t):null===(a=r)||void 0===a?void 0:a.fade(e,t)}function Qr(){var e,t,n;return(null===(e=r)||void 0===e?void 0:e.createTheme)?null===(t=r)||void 0===t?void 0:t.createTheme():null===(n=r)||void 0===n?void 0:n.createMuiTheme()}function Jr(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}function eo(e){return qr("MuiDataGrid",e)}function to(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const no=Jr()&&null!=window.localStorage.getItem("DEBUG"),ro=()=>{},oo={debug:ro,info:ro,warn:ro,error:ro},ao=["debug","info","warn","error"];function io(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console;const r=ao.indexOf(t);if(-1===r)throw new Error("Material-UI: Log level ".concat(t," not recognized."));return ao.reduce(((t,o,a)=>(t[o]=a>=r?function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];const[i,...l]=r;n[o]("Material-UI: ".concat(e," - ").concat(i),...l)}:ro,t)),{})}function lo(e,t){const n=o.useRef(null);if(n.current)return n.current;const r=e.current.getLogger(t);return n.current=r,r}function uo(e,t,n){const r=lo(e,"useGridApiMethod"),a=o.useRef(t),[i]=o.useState(Object.keys(t)),l=o.useCallback((()=>{e.current&&i.forEach((t=>{e.current.hasOwnProperty(t)||(r.debug("Adding ".concat(n,".").concat(t," to apiRef")),e.current[t]=function(){return a.current[t](...arguments)})}))}),[i,n,e,r]);o.useEffect((()=>{a.current=t}),[t]),o.useEffect((()=>{l()}),[l]),l()}const so={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",errorOverlayDefaultLabel:"An error occurred.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>"".concat(e,1!==e?" active filters":" active filter"),toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelDeleteIconLabel:"Delete",filterPanelOperators:"Operators",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>"".concat(e,1!==e?" active filters":" active filter"),columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>"".concat(e.toLocaleString(),1!==e?" rows selected":" row selected"),footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>"".concat(e.toLocaleString()," of ").concat(t.toLocaleString()),checkboxSelectionHeaderName:"Checkbox selection",booleanCellTrueLabel:"true",booleanCellFalseLabel:"false",MuiTablePagination:{}};var co;!function(e){e.Compact="compact",e.Standard="standard",e.Comfortable="comfortable"}(co||(co={}));const fo="client",po="server",mo={columnBuffer:2,density:co.Standard,filterMode:fo,headerHeight:56,paginationMode:fo,rowHeight:52,rowsPerPageOptions:[25,50,100],scrollEndThreshold:80,sortingMode:fo,sortingOrder:["asc","desc",null],logger:console,logLevel:"error",editMode:"cell"},ho=Object.assign(Object.assign({},mo),{localeText:so});var go;!function(e){e.And="and",e.Or="or"}(go||(go={}));const vo=()=>({items:[],linkOperator:go.And});const bo=e=>{const t=lo(e,"useGridApi"),[,n]=o.useState();e.current.state||(t.info("Initialising state."),e.current.state={rows:{idRowsLookup:{},allRows:[],totalRowCount:0},editRows:{},pagination:{page:0,pageCount:0,rowCount:0,pageSize:100},options:ho,isScrolling:!1,columns:{all:[],lookup:{}},columnReorder:{dragCol:""},columnResize:{resizingColumnField:""},rendering:{realScroll:{left:0,top:0},renderContext:null,renderingZoneScroll:{left:0,top:0},virtualPage:0,virtualRowsCount:0},containerSizes:null,scrollBar:{hasScrollX:!1,hasScrollY:!1,sizes:{x:0,y:0}},viewportSizes:{width:0,height:1},sorting:{sortedRows:[],sortModel:[]},focus:{cell:null,columnHeader:null},tabIndex:{cell:null,columnHeader:null},selection:[],filter:vo(),columnMenu:{open:!1},preferencePanel:{open:!1},visibleRows:{visibleRowsLookup:{}},density:{value:co.Standard,rowHeight:52,headerHeight:56}},e.current.forceUpdate=n);const r=o.useCallback((()=>e.current.state),[e]),a=o.useCallback((t=>{let r;r=Xr(t)?t(e.current.state):t,e.current.state=r,n((()=>r)),e.current.publishEvent(Ut.stateChange,r)}),[e]);return uo(e,{getState:r,setState:a},"GridStateApi"),e.current},Do=e=>{bo(e);const t=o.useCallback((()=>e.current.forceUpdate((()=>e.current.state))),[e]),n=o.useCallback((t=>{const n=t(e.current.state);if(e.current.state===n)return!1;const{ignoreSetState:r,postUpdate:o}=e.current.applyControlStateConstraint(n);return r||(e.current.state=n,e.current.publishEvent&&e.current.publishEvent(Ut.stateChange,n)),o(),!r}),[e]);return[e.current.state,n,t]},yo=(e,t)=>{const[n]=Do(e);return t(n)},Co=e=>e.rendering,Eo=c(Co,(e=>e.realScroll)),Ao=Gr("MuiDataGrid",["root","row","row--editing","cell","withBorder","cell--editing","cell--editable","cell--withRenderer","cell--textLeft","cell--textCenter","cell--textRight","columnHeader","columnHeader--dragging","columnHeaderWrapper","scrollArea","scrollArea--left","scrollArea--right","columnsContainer","toolbarContainer","overlay","main","dataContainer","window","windowContainer","viewport","autoHeight","columnHeaderCheckbox","cellCheckbox","columnHeader--sorted","columnHeader--sortable","columnHeader--moving","columnHeader--numeric","columnHeader--alignLeft","columnHeader--alignCenter","columnHeader--alignRight","columnHeaderDraggableContainer","columnHeaderTitle","iconButtonContainer","sortIcon","filterIcon","menuIcon","menuIconButton","columnHeaderTitleContainer","columnSeparator","columnSeparator--resizable","iconSeparator","menuOpen","columnHeaderWrapper","editInputCell","editBooleanCell","booleanCell","checkboxInput","rowCount","selectedRowCount","footerContainer","columnHeaderDropZone","columnHeaderDraggableContainer","renderingZone"]),wo=o.memo((function(e){let{width:t,height:n}=e;return t&&n?o.createElement("div",{style:{minWidth:t,maxWidth:t,lineHeight:n-1+"px",minHeight:n,maxHeight:n},className:Ao.cell}):null}));var xo;function Fo(e,t,n,r){const a=lo(e,"useGridApiEventHandler");o.useEffect((()=>{if(n&&t){const o=(e,t,r)=>{t.defaultMuiPrevented||n(e,t,r)};return e.current.subscribeEvent(t,o,r)}}),[e,a,t,n,r])}!function(e){e.DataGrid="DataGrid",e.DataGridPro="DataGridPro"}(xo||(xo={}));const So={isFirst:!0};function ko(e,t,n){Fo(e,t,n,So)}const Oo=o.memo((function(e){const{scrollDirection:t}=e,n=o.useRef(null),r=Xt(),i=o.useRef(),[l,u]=o.useState(!1),s=o.useRef({left:0,top:0}),c=o.useCallback((e=>{s.current=e}),[]),d=o.useCallback((e=>{let o;if("left"===t)o=e.clientX-n.current.getBoundingClientRect().right;else{if("right"!==t)throw new Error("wrong dir");o=Math.max(1,e.clientX-n.current.getBoundingClientRect().left)}o=1.5*(o-1)+1,clearTimeout(i.current),i.current=setTimeout((()=>{r.current.scroll({left:s.current.left+o,top:s.current.top})}))}),[t,r]);o.useEffect((()=>()=>{clearTimeout(i.current)}),[]);const f=o.useCallback((()=>{u((e=>!e))}),[]);return Fo(r,Ut.rowsScroll,c),Fo(r,Ut.columnHeaderDragStart,f),Fo(r,Ut.columnHeaderDragEnd,f),l?o.createElement("div",{ref:n,className:(0,a.A)(Ao.scrollArea,Ao["scrollArea--".concat(t)]),onDragOver:d}):null})),Ro=c((e=>e.columnReorder),(e=>e.dragCol)),Po=c((e=>e.columnResize),(e=>e.resizingColumnField)),Bo=e=>e.rows,To=c(Bo,(e=>e&&e.totalRowCount)),Mo=c(Bo,(e=>e&&e.idRowsLookup)),Lo=c(Bo,(e=>e.allRows)),Io=(c(Bo,(e=>e.allRows.map((t=>e.idRowsLookup[t])))),e=>e.sorting),jo=c(Io,Lo,((e,t)=>e.sortedRows.length?e.sortedRows:t)),zo=c(jo,Mo,((e,t)=>{const n=new Map;return e.forEach((e=>{n.set(e,t[e])})),n})),No=c(Io,(e=>e.sortModel)),_o=c(No,(e=>e.reduce(((t,n,r)=>(t[n.field]={sortDirection:n.sort,sortIndex:e.length>1?r+1:void 0},t)),{}))),Ho=e=>e.visibleRows,Vo=c(Ho,zo,((e,t)=>{const n=new Map;return t.forEach(((t,r)=>{!1!==e.visibleRowsLookup[r]&&n.set(r,t)})),n})),Wo=c(Vo,(e=>[...e.entries()])),Uo=c(Vo,(e=>[...e.keys()])),$o=c(Ho,To,((e,t)=>null==e.visibleRows?t:e.visibleRows.length)),Ko=c((e=>e.filter),Yt,((e,t)=>{var n;return null===(n=e.items)||void 0===n?void 0:n.filter((e=>{var n,r;if(!e.columnField)return!1;const o=t[e.columnField];if(!(null==o?void 0:o.filterOperators)||0===(null===(n=null==o?void 0:o.filterOperators)||void 0===n?void 0:n.length))return!1;const a=o.filterOperators.find((t=>t.value===e.operatorValue));return!!a&&(!a.InputComponent||null!=e.value&&""!==(null===(r=e.value)||void 0===r?void 0:r.toString()))}))})),qo=c(Ko,(e=>e.length)),Go=c(Ko,(e=>e.reduce(((e,t)=>(e[t.columnField]?e[t.columnField].push(t):e[t.columnField]=[t],e)),{}))),Xo=e=>e.focus,Yo=c(Xo,(e=>e.cell)),Zo=c(Xo,(e=>e.columnHeader)),Qo=e=>e.tabIndex,Jo=c(Qo,(e=>e.cell)),ea=c(Qo,(e=>e.columnHeader)),ta=e=>e.density,na=c(ta,(e=>e.value)),ra=c(ta,(e=>e.rowHeight)),oa=c(ta,(e=>e.headerHeight)),aa=e=>e.columnMenu,ia=e=>e.options,la=e=>"Escape"===e,ua=e=>"Enter"===e,sa=e=>"Tab"===e,ca=e=>" "===e,da=e=>0===e.indexOf("Arrow"),fa=e=>"Home"===e||"End"===e,pa=e=>0===e.indexOf("Page"),ma=e=>"Delete"===e||"Backspace"===e,ha=/^((?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0345\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])|(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u1FBE\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDD69-\uDD6D\uDEAB\uDEAC\uDEFC-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDFB8-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD0\uDFD2\uDFE1\uDFE2]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42\uDF5A]|\uD80D[\uDC40\uDC47-\uDC55]|\uD818[\uDD1E-\uDD2F]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF\uDDEE\uDDEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0345\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])|(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u1FBE\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDD69-\uDD6D\uDEAB\uDEAC\uDEFC-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74\uDFB8-\uDFC0\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC-\uDFD0\uDFD2\uDFE1\uDFE2]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42\uDF5A]|\uD80D[\uDC40\uDC47-\uDC55]|\uD818[\uDD1E-\uDD2F]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF\uDDEE\uDDEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])|(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDD40-\uDD49\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDED0-\uDEE3\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59\uDFF0-\uDFF9]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDF50-\uDF59\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD818[\uDD30-\uDD39]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDD70-\uDD79\uDE80-\uDE96]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD839[\uDCF0-\uDCF9\uDDF1-\uDDFA]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9])|[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]|(?:[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD803[\uDD8E\uDD8F]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDC00-\uDCEF\uDD00-\uDEB3\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF])|(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B60\u1B7D-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F]))$/i,ga=e=>ha.test(e),va=["Enter","Escape","Tab"],ba=["Enter","Tab"],Da=e=>ba.indexOf(e)>-1,ya=e=>fa(e)||da(e)||pa(e)||ca(e),Ca=e=>!!e.key,Ea=e=>sa(e)||la(e),Aa=o.createContext(void 0),wa=()=>{const e=o.useContext(Aa);if(!e)throw new Error("Material-UI: useGridRootProps should only be used inside the DataGrid/DataGridPro component.");return e},xa=o.forwardRef((function(e,t){var n;const{field:r,id:a,value:i,tabIndex:l,hasFocus:u}=e,s=Xt(),c=wa(),d=o.useRef(null),f=(0,K.A)(d,t),p=s.current.getCellElement(a,r);o.useLayoutEffect((()=>{0===l&&p&&(p.tabIndex=-1)}),[p,l]),o.useLayoutEffect((()=>{u&&d.current&&d.current.querySelector("input").focus()}),[u]);const m=o.useCallback((t=>{ca(t.key)&&t.stopPropagation(),ya(t.key)&&!t.shiftKey&&s.current.publishEvent(Ut.cellNavigationKeyDown,e,t)}),[s,e]),h=null==s?void 0:s.current.components.Checkbox,g=!c.isRowSelectable||c.isRowSelectable(s.current.getRowParams(a));return o.createElement(h,Object.assign({ref:f,tabIndex:l,checked:!!i,onChange:e=>{s.current.selectRow(a,e.target.checked,!0)},onClick:e=>{e.stopPropagation()},className:Ao.checkboxInput,color:"primary",inputProps:{"aria-label":"Select Row checkbox"},onKeyDown:m,disabled:!g},null===(n=null==s?void 0:s.current.componentsProps)||void 0===n?void 0:n.checkbox))})),Fa=o.memo(xa),Sa=e=>e.pagination,ka=c(Sa,Uo,((e,t)=>{const n=e.page*e.pageSize,r=n+e.pageSize;return t.slice(n,r)})),Oa=e=>e.selection,Ra=c(Oa,(e=>e.length)),Pa=c(Oa,Mo,((e,t)=>new Map(e.map((e=>[e,t[e]]))))),Ba=c(Oa,(e=>e.reduce(((e,t)=>(e[t]=t,e)),{}))),Ta=o.forwardRef((function(e,t){var n;const[,r]=o.useState(!1),a=Xt(),i=wa(),l=yo(a,ea),u=yo(a,Ra),s=yo(a,To),c=u>0&&u!==s,d=u>0&&u===s||c,f=null!==l&&l.field===e.field?0:-1;o.useLayoutEffect((()=>{const t=a.current.getColumnHeaderElement(e.field);0===f&&t&&(t.tabIndex=-1)}),[f,a,e.field]);const p=o.useCallback((t=>{ca(t.key)&&t.stopPropagation(),ya(t.key)&&!t.shiftKey&&a.current.publishEvent(Ut.columnHeaderNavigationKeyDown,e,t)}),[a,e]),m=o.useCallback((()=>{r((e=>!e))}),[]);o.useEffect((()=>null==a?void 0:a.current.subscribeEvent(Ut.selectionChange,m)),[a,m]);const h=null==a?void 0:a.current.components.Checkbox;return o.createElement(h,Object.assign({ref:t,indeterminate:c,checked:d,onChange:e=>{const t=e.target.checked,n=i.checkboxSelectionVisibleOnly&&i.pagination?ka(a.current.state):Uo(a.current.state);a.current.selectRows(n,t,!e.target.indeterminate)},className:Ao.checkboxInput,color:"primary",inputProps:{"aria-label":"Select All Rows checkbox"},tabIndex:f,onKeyDown:p},null===(n=null==a?void 0:a.current.componentsProps)||void 0===n?void 0:n.checkbox))}));function Ma(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function La(e){const{id:t,value:n,formattedValue:r,api:a,field:i,row:l,colDef:u,cellMode:s,isEditable:c,tabIndex:d,hasFocus:f,getValue:p}=e,m=Ma(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue"]),h=o.useRef(),[g,v]=o.useState(n),b=o.useCallback((e=>{const n=e.target.value;v(n),a.setEditCellValue({id:t,field:i,value:n},e)}),[a,i,t]);return o.useEffect((()=>{v(n)}),[n]),Ur((()=>{f&&h.current.focus()}),[f]),o.createElement(xe.A,Object.assign({inputRef:h,className:Ao.editInputCell,fullWidth:!0,type:"number"===u.type?u.type:"text",value:g||"",onChange:b},m))}const Ia=(e,t)=>{const n=e.indexOf(t);return t&&-1!==n&&n+1!==e.length?e[n+1]:e[0]},ja=(e,t)=>null==e&&null!=t?-1:null==t&&null!=e?1:null==e&&null==t?0:null,za=new Intl.Collator,Na=(e,t)=>{const n=ja(e,t);return null!==n?n:Number(e)-Number(t)},_a=(e,t)=>{const n=ja(e,t);return null!==n?n:e>t?1:e<t?-1:0},Ha=(0,q.A)(o.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),Va=(0,q.A)(o.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Wa=(0,q.A)(o.createElement("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),Ua=(0,q.A)(o.createElement("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),$a=((0,q.A)(o.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),(0,q.A)(o.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),(0,q.A)(o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle"),(0,q.A)(o.createElement("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon")),Ka=(0,q.A)(o.createElement("path",{d:"M11 19V5h2v14z"}),"Separator"),qa=(0,q.A)(o.createElement("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),Ga=(0,q.A)(o.createElement("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),Xa=(0,q.A)(o.createElement("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),Ya=(0,q.A)(o.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),Za=(0,q.A)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Qa=(0,q.A)(o.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),Ja=(0,q.A)(o.createElement("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),ei=(0,q.A)(o.createElement("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),ti=(0,q.A)(o.createElement("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),ni=(0,q.A)(o.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),ri=e=>{let{valueOptions:t}=e;return(t?["",...t]:[""]).map((e=>"object"==typeof e?o.createElement("option",{key:e.value,value:e.value},e.label):o.createElement("option",{key:e,value:e},e)))};function oi(e){const{item:t,applyValue:n,type:r,apiRef:a}=e,i=Ma(e,["item","applyValue","type","apiRef"]),l=o.useRef(),[u,s]=o.useState(t.value||""),[c,d]=o.useState(!1),f=(0,G.A)(),p="singleSelect"===r?{select:!0,SelectProps:{native:!0},children:ri(a.current.getColumn(t.columnField))}:{},m=o.useCallback((e=>{let o=e.target.value;if("singleSelect"===r){const e=a.current.getColumn(t.columnField);o=e.valueOptions.map((e=>"object"==typeof e?e.value:e)).find((e=>String(e)===o))}clearTimeout(l.current),s(o),d(!0),l.current=setTimeout((()=>{n(Object.assign(Object.assign({},t),{value:o})),d(!1)}),500)}),[a,n,t,r]);o.useEffect((()=>()=>{clearTimeout(l.current)}),[]),o.useEffect((()=>{s(t.value||"")}),[t.value]);const h=c?{endAdornment:o.createElement(Ja,null)}:i.InputProps;return o.createElement($e,Object.assign({id:f,label:a.current.getLocaleText("filterPanelInputLabel"),placeholder:a.current.getLocaleText("filterPanelInputPlaceholder"),value:u,onChange:m,type:r||"text",variant:"standard",InputProps:h,InputLabelProps:{shrink:!0}},p,i))}const ai={width:100,minWidth:50,hide:!1,sortable:!0,resizable:!0,filterable:!0,sortComparator:(e,t)=>{const n=ja(e,t);return null!==n?n:"string"==typeof e?za.compare(e.toString(),t.toString()):e-t},type:"string",align:"left",filterOperators:[{value:"contains",getApplyFilterFn:e=>{if(!e.value)return null;const t=new RegExp(to(e.value),"i");return e=>{let{value:n}=e;return t.test(n&&n.toString()||"")}},InputComponent:oi},{value:"equals",getApplyFilterFn:e=>{if(!e.value)return null;const t=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return n=>{let{value:r}=n;return 0===t.compare(e.value,r&&r.toString()||"")}},InputComponent:oi},{value:"startsWith",getApplyFilterFn:e=>{if(!e.value)return null;const t=new RegExp("^".concat(to(e.value),".*$"),"i");return e=>{let{value:n}=e;return t.test(n&&n.toString()||"")}},InputComponent:oi},{value:"endsWith",getApplyFilterFn:e=>{if(!e.value)return null;const t=new RegExp(".*".concat(to(e.value),"$"),"i");return e=>{let{value:n}=e;return t.test(n&&n.toString()||"")}},InputComponent:oi},{value:"isEmpty",getApplyFilterFn:()=>e=>{let{value:t}=e;return""===t||null==t}},{value:"isNotEmpty",getApplyFilterFn:()=>e=>{let{value:t}=e;return""!==t&&null!=t}}],renderEditCell:e=>o.createElement(La,Object.assign({},e))},ii=o.memo((e=>{const{id:t,value:n,formattedValue:r,api:a,field:i,row:l,colDef:u,cellMode:s,isEditable:c,hasFocus:d,tabIndex:f,getValue:p}=e,m=Ma(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","hasFocus","tabIndex","getValue"]),h=o.useMemo((()=>n?a.components.BooleanCellTrueIcon:a.components.BooleanCellFalseIcon),[a.components.BooleanCellFalseIcon,a.components.BooleanCellTrueIcon,n]);return o.createElement(h,Object.assign({fontSize:"small",className:Ao.booleanCell,titleAccess:a.getLocaleText(n?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":Boolean(n)},m))}));function li(e){const{id:t,value:n,formattedValue:r,api:i,field:l,row:u,colDef:s,cellMode:c,isEditable:d,tabIndex:f,className:p,getValue:m,hasFocus:h}=e,g=Ma(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus"]),v=o.useRef(null),b=(0,G.A)(),[D,y]=o.useState(n),C=o.useCallback((e=>{const n=e.target.checked;y(n),i.setEditCellValue({id:t,field:l,value:n},e)}),[i,l,t]);return o.useEffect((()=>{y(n)}),[n]),Ur((()=>{h&&v.current.focus()}),[h]),o.createElement("label",Object.assign({htmlFor:b,className:(0,a.A)(Ao.editBooleanCell,p)},g),o.createElement(ot,{id:b,inputRef:v,checked:Boolean(D),onChange:C,size:"small"}))}const ui=Object.assign(Object.assign({},ai),{type:"boolean",align:"center",headerAlign:"center",renderCell:e=>o.createElement(ii,Object.assign({},e)),renderEditCell:e=>o.createElement(li,Object.assign({},e)),sortComparator:Na,valueFormatter:function(e){let{value:t,api:n}=e;return t?n.getLocaleText("booleanCellTrueLabel"):n.getLocaleText("booleanCellFalseLabel")},filterOperators:[{value:"is",getApplyFilterFn:e=>{if(!e.value)return null;const t="true"===e.value;return e=>{let{value:n}=e;return Boolean(n)===t}},InputComponent:function(e){const{item:t,applyValue:n,apiRef:r}=e,a=Ma(e,["item","applyValue","apiRef"]),[i,l]=o.useState(t.value||""),u=o.useCallback((e=>{const r=e.target.value;l(r),n(Object.assign(Object.assign({},t),{value:r}))}),[n,t]);return o.useEffect((()=>{l(t.value||"")}),[t.value]),o.createElement($e,Object.assign({label:r.current.getLocaleText("filterPanelInputLabel"),value:i,onChange:u,variant:"standard",select:!0,SelectProps:{native:!0},InputLabelProps:{shrink:!0}},a),o.createElement("option",{value:""},r.current.getLocaleText("filterValueAny")),o.createElement("option",{value:"true"},r.current.getLocaleText("filterValueTrue")),o.createElement("option",{value:"false"},r.current.getLocaleText("filterValueFalse")))}}]}),si=Object.assign(Object.assign({},ui),{field:"__check__",type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,disableColumnMenu:!0,disableReorder:!0,valueGetter:e=>void 0!==Ba(e.api.state)[e.id],renderHeader:e=>o.createElement(Ta,Object.assign({},e)),renderCell:e=>o.createElement(Fa,Object.assign({},e)),cellClassName:Ao.cellCheckbox,headerClassName:Ao.columnHeaderCheckbox}),ci=Object.assign(Object.assign({},ai),{type:"number",align:"right",headerAlign:"right",sortComparator:Na,valueParser:e=>Number(e),valueFormatter:e=>{let{value:t}=e;return t&&function(e){return"number"==typeof e}(t)&&t.toLocaleString()||t},filterOperators:[{label:"=",value:"=",getApplyFilterFn:e=>null==e.value?null:t=>{let{value:n}=t;return Number(n)===e.value},InputComponent:oi,InputComponentProps:{type:"number"}},{label:"!=",value:"!=",getApplyFilterFn:e=>null==e.value?null:t=>{let{value:n}=t;return Number(n)!==e.value},InputComponent:oi,InputComponentProps:{type:"number"}},{label:">",value:">",getApplyFilterFn:e=>null==e.value?null:t=>{let{value:n}=t;return Number(n)>e.value},InputComponent:oi,InputComponentProps:{type:"number"}},{label:">=",value:">=",getApplyFilterFn:e=>null==e.value?null:t=>{let{value:n}=t;return Number(n)>=e.value},InputComponent:oi,InputComponentProps:{type:"number"}},{label:"<",value:"<",getApplyFilterFn:e=>null==e.value?null:t=>{let{value:n}=t;return Number(n)<e.value},InputComponent:oi,InputComponentProps:{type:"number"}},{label:"<=",value:"<=",getApplyFilterFn:e=>null==e.value?null:t=>{let{value:n}=t;return Number(n)<=e.value},InputComponent:oi,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>e=>{let{value:t}=e;return null==t}},{value:"isNotEmpty",getApplyFilterFn:()=>e=>{let{value:t}=e;return null!=t}}]}),di=/(\d+)-(\d+)-(\d+)/,fi=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function pi(e,t,n,r){if(!e.value)return null;const[o,a,i,l,u]=e.value.match(n?fi:di).slice(1).map(Number),s=new Date(o,a-1,i,l||0,u||0).getTime();return e=>{let{value:o}=e;if(!o)return!1;const a=o instanceof Date?o:new Date(o.toString());if(r)return t(a.getTime(),s);const i=(o instanceof Date?new Date(a):a).setHours(n?a.getHours():0,n?a.getMinutes():0,0,0);return t(i,s)}}const mi=e=>[{value:"is",getApplyFilterFn:t=>pi(t,((e,t)=>e===t),e),InputComponent:oi,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>pi(t,((e,t)=>e!==t),e),InputComponent:oi,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>pi(t,((e,t)=>e>t),e),InputComponent:oi,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>pi(t,((e,t)=>e>=t),e),InputComponent:oi,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>pi(t,((e,t)=>e<t),e,!e),InputComponent:oi,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>pi(t,((e,t)=>e<=t),e),InputComponent:oi,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>e=>{let{value:t}=e;return null==t}},{value:"isNotEmpty",getApplyFilterFn:()=>e=>{let{value:t}=e;return null!=t}}];function hi(e){const{id:t,value:n,formattedValue:r,api:a,field:i,row:l,colDef:u,cellMode:s,isEditable:c,tabIndex:d,hasFocus:f,getValue:p}=e,m=Ma(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue"]),h=o.useRef(),[g,v]=o.useState(n),b=o.useCallback((e=>{const n=e.target.value;if(v(n),""===n)return void a.setEditCellValue({id:t,field:i,value:null},e);const[r,o]=n.split("T"),[l,u,s]=r.split("-"),c=new Date;if(c.setFullYear(Number(l)),c.setMonth(Number(u)-1),c.setDate(Number(s)),c.setHours(0,0,0,0),o){const[e,t]=o.split(":");c.setHours(Number(e),Number(t),0,0)}a.setEditCellValue({id:t,field:i,value:c},e)}),[a,i,t]),D="dateTime"===u.type;o.useEffect((()=>{v(n)}),[n]),Ur((()=>{f&&h.current.focus()}),[f]);let y=g||"";if(g instanceof Date){const e=g.getTimezoneOffset();y=new Date(g.getTime()-60*e*1e3).toISOString().substr(0,D?16:10)}return o.createElement(xe.A,Object.assign({inputRef:h,fullWidth:!0,className:Ao.editInputCell,type:D?"datetime-local":"date",value:y,onChange:b},m))}const gi=e=>o.createElement(hi,Object.assign({},e));const vi=Object.assign(Object.assign({},ai),{type:"date",sortComparator:_a,valueFormatter:function(e){let{value:t}=e;return t instanceof Date?t.toLocaleDateString():t},filterOperators:mi(),renderEditCell:gi}),bi=Object.assign(Object.assign({},ai),{type:"dateTime",sortComparator:_a,valueFormatter:function(e){let{value:t}=e;return t instanceof Date?t.toLocaleString():t},filterOperators:mi(!0),renderEditCell:gi});var Di,yi,Ci;!function(e){e.Cell="cell",e.Row="row"}(Di||(Di={})),function(e){e.Edit="edit",e.View="view"}(yi||(yi={})),function(e){e.Edit="edit",e.View="view"}(Ci||(Ci={}));const Ei=e=>"object"==typeof e?o.createElement(at.A,{key:e.value,value:e.value},e.label):o.createElement(at.A,{key:e,value:e},e);function Ai(e){var t;const{id:n,value:r,formattedValue:a,api:i,field:l,row:u,colDef:s,cellMode:c,isEditable:d,tabIndex:f,className:p,getValue:m,hasFocus:h}=e,g=Ma(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus"]),v=o.useRef(),b=wa(),[D,y]=o.useState("cell"===b.editMode);return Ur((()=>{h&&v.current.querySelector('[role="button"]').focus()}),[h]),o.createElement(Ve.A,Object.assign({ref:v,value:r,onChange:e=>{y(!1),i.setEditCellValue({id:n,field:l,value:e.target.value},e),e.key||"cell"!==b.editMode||(i.commitCellChange({id:n,field:l},e),i.setCellMode(n,l,"view"))},open:D,onOpen:()=>{y(!0)},MenuProps:{onClose:(e,t)=>{b.editMode!==Di.Row?("backdropClick"===t||la(e.key))&&i.setCellMode(n,l,"view"):y(!1)}},fullWidth:!0},g),null===(t=s.valueOptions)||void 0===t?void 0:t.map(Ei))}const wi=Object.assign(Object.assign({},ai),{type:"singleSelect",renderEditCell:e=>o.createElement(Ai,Object.assign({},e)),filterOperators:[{value:"is",getApplyFilterFn:e=>null==e.value||""===e.value?null:t=>{let{value:n}=t;return"object"==typeof n?e.value===n.value:e.value===n},InputComponent:oi,InputComponentProps:{type:"singleSelect"}},{value:"not",getApplyFilterFn:e=>null==e.value||""===e.value?null:t=>{let{value:n}=t;return"object"==typeof n?e.value!==n.value:e.value!==n},InputComponent:oi,InputComponentProps:{type:"singleSelect"}}]}),xi=o.memo((function(e){const{direction:t,index:n}=e,r=Xt(),a=r.current.components.ColumnUnsortedIcon;if(null==t&&null===a)return null;const i=o.createElement(Ge.A,{tabIndex:-1,"aria-label":r.current.getLocaleText("columnHeaderSortIconLabel"),title:r.current.getLocaleText("columnHeaderSortIconLabel"),size:"small"},function(e,t){let n=e.ColumnUnsortedIcon;return"asc"===t?n=e.ColumnSortedAscendingIcon:"desc"===t&&(n=e.ColumnSortedDescendingIcon),o.createElement(n,{fontSize:"small",className:Ao.sortIcon})}(r.current.components,t));return o.createElement("div",{className:Ao.iconButtonContainer},null!=n&&o.createElement(lt,{badgeContent:n,color:"default"},i),null==n&&i)}));function Fi(e,t){return e.closest(".".concat(t))}function Si(e){return null!=e&&e.classList.contains(Ao.columnHeader)}function ki(e){const t=e.getAttribute("data-field"),n=Fi(e,"MuiDataGrid-root");if(!n)throw new Error("Material-UI: The root element is not found.");return n.querySelectorAll(".".concat(Ao.cell,'[data-field="').concat(t,'"]'))}function Oi(e){return e.replace(/["\\]/g,"\\$&")}function Ri(e,t){return e.querySelector(".".concat(Ao.row,'[data-id="').concat(Oi(String(t)),'"]'))}const Pi=o.forwardRef((function(e,t){const{className:n}=e,r=Ma(e,["className"]);return o.createElement("div",Object.assign({ref:t,className:(0,a.A)(Ao.columnHeaderTitle,n)},r))}));function Bi(e){const{label:t,description:n,columnWidth:r}=e,a=o.useRef(null),[i,l]=o.useState("");return o.useEffect((()=>{if(!n&&a&&a.current){const n=(e=a.current).scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth;l(n?t:"")}var e}),[a,r,n,t]),o.createElement(ut.Ay,{title:n||i},o.createElement(Pi,{ref:a},t))}const Ti=o.memo((function(e){const{resizable:t,resizing:n,height:r}=e,i=Ma(e,["resizable","resizing","height"]),l=Xt(),u=wa(),s=l.current.components.ColumnResizeIcon,c=o.useCallback((e=>{e.preventDefault(),e.stopPropagation()}),[]);return o.createElement("div",Object.assign({className:(0,a.A)(Ao.columnSeparator,{[Ao["columnSeparator--resizable"]]:t,"Mui-resizing":n}),style:{minHeight:r,opacity:u.showColumnRightBorder?0:1}},i,{onClick:c}),o.createElement(s,{className:Ao.iconSeparator}))})),Mi=o.memo((e=>{const{column:t,open:n,columnMenuId:r,columnMenuButtonId:i,iconButtonRef:l}=e,u=Xt(),s=u.current.components.ColumnMenuIcon,c=o.useCallback((e=>{e.preventDefault(),e.stopPropagation(),u.current.toggleColumnMenu(t.field)}),[u,t.field]);return o.createElement("div",{className:(0,a.A)(Ao.menuIcon,{[Ao.menuOpen]:n})},o.createElement(Ge.A,{ref:l,tabIndex:-1,className:Ao.menuIconButton,"aria-label":u.current.getLocaleText("columnMenuLabel"),title:u.current.getLocaleText("columnMenuLabel"),size:"small",onClick:c,"aria-expanded":n?"true":void 0,"aria-haspopup":"true","aria-controls":r,id:i},o.createElement(s,{fontSize:"small"})))})),Li=e=>e.preferencePanel;var Ii;function ji(e){const{counter:t}=e,n=Xt(),r=n.current.components.ColumnFilteredIcon,a=o.useCallback((e=>{e.preventDefault(),e.stopPropagation();const{open:t,openedPanelValue:r}=Li(n.current.state);t&&r===Ii.filters?n.current.hideFilterPanel():n.current.showFilterPanel()}),[n]);if(!t)return null;const i=o.createElement(Ge.A,{onClick:a,color:"default","aria-label":n.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1},o.createElement(r,{className:Ao.filterIcon,fontSize:"small"}));return o.createElement(ut.Ay,{title:n.current.getLocaleText("columnHeaderFiltersTooltipActive")(t),enterDelay:1e3},o.createElement("div",{className:Ao.iconButtonContainer},t>1&&o.createElement(lt,{badgeContent:t,color:"default"},i),1===t&&i))}!function(e){e.filters="filters",e.columns="columns"}(Ii||(Ii={}));const zi=we((e=>({root:{zIndex:e.zIndex.modal,"& .MuiDataGrid-gridMenuList":{outline:0}}})),{name:"MuiGridMenu",defaultTheme:Qr()}),Ni={"bottom-start":"top left","bottom-end":"top right"},_i=e=>{const{open:t,target:n,onClickAway:r,children:a,position:i}=e,l=Ma(e,["open","target","onClickAway","children","position"]),u=o.useRef(n),s=o.useRef(t),c=zi();return o.useEffect((()=>{s.current&&u.current&&u.current.focus(),s.current=t,u.current=n}),[t,n]),o.createElement(mt.A,Object.assign({className:c.root,open:t,anchorEl:n,transition:!0,placement:i},l),(e=>{let{TransitionProps:t,placement:n}=e;return o.createElement(dt,{onClickAway:r},o.createElement(ft.A,Object.assign({},t,{style:{transformOrigin:Ni[n]}}),o.createElement(pt.A,null,a)))}))};function Hi(e){let{columnMenuId:t,columnMenuButtonId:n,ContentComponent:r,contentComponentProps:a,field:i,open:l,target:u}=e;const s=Xt(),c=null==s?void 0:s.current.getColumn(i),d=o.useCallback((e=>{e.stopPropagation(),null==s||s.current.hideColumnMenu()}),[s]);return u?o.createElement(_i,{placement:"bottom-"+("right"===c.align?"start":"end"),open:l,target:u,onClickAway:d},o.createElement(r,Object.assign({currentColumn:c,hideMenu:d,open:l,id:t,labelledby:n},a))):null}function Vi(e){var t;const{column:n,columnMenuOpen:r,colIndex:i,headerHeight:l,isDragging:u,isResizing:s,sortDirection:c,sortIndex:d,options:f,filterItemsCounter:p,hasFocus:m,tabIndex:h}=e,g=Xt(),v=o.useRef(null),b=(0,G.A)(),D=(0,G.A)(),y=o.useRef(null),{classes:C,disableColumnReorder:E,showColumnRightBorder:A,disableColumnResize:w,disableColumnMenu:x,disableColumnFilter:F}=f,S=null!=c,k="number"===n.type;let O=null;n.renderHeader&&g.current&&(O=n.renderHeader(g.current.getColumnHeaderParams(n.field)));const R=o.useCallback((e=>t=>g.current.publishEvent(e,g.current.getColumnHeaderParams(n.field),t)),[g,n.field]),P=o.useMemo((()=>({onClick:R(Ut.columnHeaderClick),onDoubleClick:R(Ut.columnHeaderDoubleClick),onMouseOver:R(Ut.columnHeaderOver),onMouseOut:R(Ut.columnHeaderOut),onMouseEnter:R(Ut.columnHeaderEnter),onMouseLeave:R(Ut.columnHeaderLeave),onKeyDown:R(Ut.columnHeaderKeyDown),onFocus:R(Ut.columnHeaderFocus),onBlur:R(Ut.columnHeaderBlur)})),[R]),B=o.useMemo((()=>({onDragStart:R(Ut.columnHeaderDragStart),onDragEnter:R(Ut.columnHeaderDragEnter),onDragOver:R(Ut.columnHeaderDragOver),onDragEnd:R(Ut.columnHeaderDragEnd)})),[R]),T=o.useMemo((()=>({onMouseDown:R(Ut.columnSeparatorMouseDown)})),[R]),M=[null==C?void 0:C.columnHeader];if(n.headerClassName){const e=Xr(n.headerClassName)?n.headerClassName({field:n.field,colDef:n}):n.headerClassName;M.push(e)}const L=(0,a.A)("center"===n.headerAlign&&Ao["columnHeader--alignCenter"],"right"===n.headerAlign&&Ao["columnHeader--alignRight"],{[Ao["columnHeader--sortable"]]:n.sortable,[Ao["columnHeader--moving"]]:u,[Ao["columnHeader--sorted"]]:S,[Ao["columnHeader--numeric"]]:k,[Ao.withBorder]:A},...M),I=n.computedWidth;let j;null!=c&&(j={"aria-sort":"asc"===c?"ascending":"descending"});const z=!x&&!n.disableColumnMenu&&o.createElement(Mi,{column:n,columnMenuId:b,columnMenuButtonId:D,open:r,iconButtonRef:y}),N=o.createElement(o.Fragment,null,!F&&o.createElement(ji,{counter:p}),n.sortable&&!n.hideSortIcons&&o.createElement(xi,{direction:c,index:d}));return o.useLayoutEffect((()=>{const e=g.current.state.columnMenu;if(m&&!e.open){const e=v.current.querySelector('[tabindex="0"]');e?e.focus():v.current.focus()}})),o.createElement("div",Object.assign({ref:v,className:L,key:n.field,"data-field":n.field,style:{width:I,minWidth:I,maxWidth:I},role:"columnheader",tabIndex:h,"aria-colindex":i+1},j,P),o.createElement("div",Object.assign({className:Ao.columnHeaderDraggableContainer,draggable:!E&&!n.disableReorder},B),o.createElement("div",{className:Ao.columnHeaderTitleContainer},O||o.createElement(Bi,{label:n.headerName||n.field,description:n.description,columnWidth:I}),N),z),o.createElement(Ti,Object.assign({resizable:!w&&!!n.resizable,resizing:s,height:l},T)),o.createElement(Hi,{columnMenuId:b,columnMenuButtonId:D,field:n.field,open:r,target:y.current,ContentComponent:g.current.components.ColumnMenu,contentComponentProps:null===(t=g.current.componentsProps)||void 0===t?void 0:t.columnMenu}))}function Wi(e){const{columns:t}=e,n=Xt(),r=yo(n,ia),a=yo(n,_o),i=yo(n,Go),l=yo(n,Ro),u=yo(n,Po),s=yo(n,Zo),c=yo(n,Co).renderContext,d=yo(n,ea),f=yo(n,Jo),p=yo(n,oa),m=yo(n,aa),h=t.map(((e,t)=>{const n=(h=t,null==c?h:h+c.firstColIdx);var h;const g=0===n,v=!(null===d&&null===f),b=null!==d&&d.field===e.field||g&&!v?0:-1,D=null!==s&&s.field===e.field,y=m.open&&m.field===e.field;return o.createElement(Vi,Object.assign({key:e.field},a[e.field],{columnMenuOpen:y,filterItemsCounter:i[e.field]&&i[e.field].length,options:r,headerHeight:p,isDragging:e.field===l,column:e,colIndex:n,isResizing:u===e.field,hasFocus:D,tabIndex:b}))}));return o.createElement(o.Fragment,null,h)}const Ui=e=>e.containerSizes,$i=e=>e.viewportSizes,Ki=e=>e.scrollBar,qi=c(Ui,(e=>null==e?null:e.dataContainerSizes)),Gi=c(Ui,(e=>null==e?0:e.dataContainerSizes.height)),Xi=e=>e.scrollBar,Yi=o.forwardRef((function(e,t){var n;const r=Xt(),i=yo(r,Qt),l=yo(r,Ui),u=yo(r,oa),s=yo(r,Co).renderContext,{hasScrollX:c}=yo(r,Xi),d=yo(r,Ro),f=(0,a.A)(Ao.columnHeaderWrapper,{scroll:c,[Ao.columnHeaderDropZone]:d}),p=o.useMemo((()=>null==s?[]:i.slice(s.firstColIdx,s.lastColIdx+1)),[i,s]);return o.createElement(o.Fragment,null,o.createElement(Oo,{scrollDirection:"left"}),o.createElement("div",{ref:t,className:f,"aria-rowindex":1,role:"row",style:{minWidth:null===(n=null==l?void 0:l.totalSizes)||void 0===n?void 0:n.width}},o.createElement(wo,{width:null==s?void 0:s.leftEmptyWidth,height:u}),o.createElement(Wi,{columns:p}),o.createElement(wo,{width:null==s?void 0:s.rightEmptyWidth,height:u})),o.createElement(Oo,{scrollDirection:"right"}))})),Zi=o.forwardRef((function(e,t){const{className:n,style:r}=e,i=Ma(e,["className","style"]),l=Xt(),u=yo(l,oa);return o.createElement("div",Object.assign({ref:t,className:(0,a.A)(Ao.columnsContainer,n)},i,{style:Object.assign({minHeight:u,maxHeight:u,lineHeight:"".concat(u,"px")},r)}))}));function Qi(e){return o.createElement("div",{className:Ao.main},e.children)}const Ji=o.forwardRef((function(e,t){const{className:n,size:r}=e,i=Ma(e,["className","size"]),l=Xt(),u=wa(),s=yo(l,oa),c=yo(l,ra),d=yo(l,Gi);o.useEffect((()=>{l.current.resize()}),[l]);const f=o.useMemo((()=>u.autoHeight?s+(d<c?2*c:d):r.height),[u.autoHeight,d,s,c,r.height]);return o.createElement("div",{className:Ao.windowContainer,style:{width:r.width,height:f}},o.createElement("div",Object.assign({ref:t,className:(0,a.A)(Ao.window,n)},i,{style:{top:s,overflowY:u.autoHeight?"hidden":"auto"}})))}));const el=o.forwardRef((function(e,t){const{children:n,defaultHeight:r=null,defaultWidth:a=null,disableHeight:i=!1,disableWidth:l=!1,nonce:u,onResize:s,style:c}=e,d=Ma(e,["children","defaultHeight","defaultWidth","disableHeight","disableWidth","nonce","onResize","style"]),[f,p]=o.useState({height:r,width:a}),m=o.useRef(null),h=o.useRef(null),g=Wr((()=>{if(h.current){const e=h.current.offsetHeight||0,t=h.current.offsetWidth||0,n=(0,X.A)(h.current).getComputedStyle(h.current),r=parseInt(n.paddingLeft,10)||0,o=parseInt(n.paddingRight,10)||0,a=e-(parseInt(n.paddingTop,10)||0)-(parseInt(n.paddingBottom,10)||0),u=t-r-o;(!i&&f.height!==a||!l&&f.width!==u)&&(p({height:a,width:u}),s&&s({height:a,width:u}))}}));Ur((()=>{var e;if(h.current=m.current.parentElement,!h)return;const t=(0,X.A)(null!==(e=h.current)&&void 0!==e?e:void 0),n=function(e,t){var n=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},r=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var r=this;n(this),this.__resizeRAF__&&t.cancelAnimationFrame(this.__resizeRAF__),this.__resizeRAF__=t.requestAnimationFrame((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(r)&&(r.__resizeLast__.width=r.offsetWidth,r.__resizeLast__.height=r.offsetHeight,r.__resizeListeners__.forEach((function(t){t.call(r,e)})))}))}},o=!1,a="",i="animationstart",l="Webkit Moz O ms".split(" "),u="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),s=document.createElement("fakeelement");if(void 0!==s.style.animationName&&(o=!0),!1===o)for(var c=0;c<l.length;c++)if(void 0!==s.style[l[c]+"AnimationName"]){a="-"+l[c].toLowerCase()+"-",i=u[c],o=!0;break}var d="@"+a+"keyframes resizeanim { from { opacity: 0; } to { opacity: 0; } } ",f=a+"animation: 1ms resizeanim; ";return{addResizeListener:function(o,a){if(!o.__resizeTriggers__){var l=o.ownerDocument,u=t.getComputedStyle(o);u&&"static"==u.position&&(o.style.position="relative"),function(t){if(!t.getElementById("muiDetectElementResize")){var n=(d||"")+".Mui-resizeTriggers { "+(f||"")+'visibility: hidden; opacity: 0; } .Mui-resizeTriggers, .Mui-resizeTriggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .Mui-resizeTriggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],o=t.createElement("style");o.id="muiDetectElementResize",o.type="text/css",null!=e&&o.setAttribute("nonce",e),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(t.createTextNode(n)),r.appendChild(o)}}(l),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=l.createElement("div")).className="Mui-resizeTriggers",o.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',o.appendChild(o.__resizeTriggers__),n(o),o.addEventListener("scroll",r,!0),i&&(o.__resizeTriggers__.__animationListener__=function(e){"resizeanim"==e.animationName&&n(o)},o.__resizeTriggers__.addEventListener(i,o.__resizeTriggers__.__animationListener__))}o.__resizeListeners__.push(a)},removeResizeListener:function(e,t){if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",r,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(i,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}(u,t);return n.addResizeListener(h.current,g),g(),()=>{n.removeResizeListener(h.current,g)}}),[u,g]);const v={overflow:"visible"},b={};i||(v.height=0,b.height=f.height),l||(v.width=0,b.width=f.width);const D=(0,K.A)(m,t);return o.createElement("div",Object.assign({ref:D,style:Object.assign(Object.assign({},v),c)},d),null===f.height&&null===f.width?null:n(b))})),tl=e=>e.editRows;function nl(e){const{className:t}=e,n=Ma(e,["className"]),r=Xt(),i=yo(r,qi),l={minWidth:null==i?void 0:i.width,minHeight:null==i?void 0:i.height};return o.createElement("div",Object.assign({className:(0,a.A)(Ao.dataContainer,t),style:l},n))}const rl=o.forwardRef((function(e,t){const{height:n,width:r,children:a}=e;return o.createElement("div",{ref:t,className:Ao.renderingZone,style:{maxHeight:n,width:r}},a)}));function ol(e){const{selected:t,id:n,rowIndex:r,children:i}=e,l=r+2,u=Xt(),s=yo(u,ra),{classes:c,getRowClassName:d,editMode:f}=yo(u,ia),p=o.useCallback((e=>t=>{(1!==t.target.nodeType||t.currentTarget.contains(t.target))&&u.current.getRow(n)&&u.current.publishEvent(e,null==u?void 0:u.current.getRowParams(n),t)}),[u,n]),m=o.useMemo((()=>({onClick:p(Ut.rowClick),onDoubleClick:p(Ut.rowDoubleClick),onMouseOver:p(Ut.rowOver),onMouseOut:p(Ut.rowOut),onMouseEnter:p(Ut.rowEnter),onMouseLeave:p(Ut.rowLeave)})),[p]),h={maxHeight:s,minHeight:s},g=Xr(d)&&d(u.current.getRowParams(n)),v=(0,a.A)(g,null==c?void 0:c.row,{"Mui-selected":t,"MuiDataGrid-row--editing":u.current.getRowMode(n)===Ci.Edit,"MuiDataGrid-row--editable":f===Di.Row});return o.createElement("div",Object.assign({key:n,"data-id":n,"data-rowindex":r,role:"row",className:v,"aria-rowindex":l,"aria-selected":t,style:h},m),i)}const al=o.memo((function(e){const{align:t,className:n,children:r,colIndex:i,cellMode:l,field:u,formattedValue:s,hasFocus:c,height:d,isEditable:f,isSelected:p,rowIndex:m,rowId:h,showRightBorder:g,tabIndex:v,value:b,width:D}=e,y=null==s?b:s,C=o.useRef(null),E=Xt(),A=(0,a.A)(n,"".concat(Ao["cell--text".concat((0,Y.A)(t))]),{["".concat(Ao.withBorder)]:g,["".concat(Ao["cell--editable"])]:f}),w=o.useCallback((e=>t=>{if(t.relatedTarget&&t.currentTarget.contains(t.relatedTarget))return;const n=E.current.getCellParams(h,u||"");E.current.publishEvent(e,n,t)}),[E,u,h]),x=o.useCallback((e=>t=>{const n=E.current.getCellParams(h,u||"");E.current.publishEvent(e,n,t)}),[E,u,h]),F=o.useCallback((e=>t=>{if(1===t.target.nodeType&&!t.currentTarget.contains(t.target))return;if(!E.current.getRow(h))return;const n=E.current.getCellParams(h,u||"");E.current.publishEvent(e,n,t)}),[E,u,h]),S=o.useMemo((()=>({onClick:F(Ut.cellClick),onDoubleClick:F(Ut.cellDoubleClick),onMouseDown:F(Ut.cellMouseDown),onMouseUp:x(Ut.cellMouseUp),onMouseOver:F(Ut.cellOver),onMouseOut:F(Ut.cellOut),onMouseEnter:F(Ut.cellEnter),onMouseLeave:F(Ut.cellLeave),onKeyDown:F(Ut.cellKeyDown),onBlur:w(Ut.cellBlur),onFocus:F(Ut.cellFocus),onDragStart:F(Ut.cellDragStart),onDragEnter:F(Ut.cellDragEnter),onDragOver:F(Ut.cellDragOver)})),[F,w,x]),k={minWidth:D,maxWidth:D,lineHeight:d-1+"px",minHeight:d,maxHeight:d};return o.useLayoutEffect((()=>{if(!c||l===yi.Edit)return;const e=(0,Z.A)(E.current.rootElementRef.current);if(C.current&&!C.current.contains(e.activeElement)){const e=C.current.querySelector('[tabindex="0"]');e?e.focus():C.current.focus()}})),o.createElement("div",Object.assign({ref:C,className:A,role:"cell","data-value":b,"data-field":u,"data-rowindex":m,"data-colindex":i,"data-rowselected":p,"data-editable":f,"data-mode":l,"aria-colindex":i+1,style:k,tabIndex:"view"!==l&&f?-1:v},S),null!=r?r:null==y?void 0:y.toString())})),il=o.memo((function(e){const{columns:t,firstColIdx:n,hasScrollX:r,hasScrollY:i,height:l,id:u,getCellClassName:s,lastColIdx:c,rowIndex:d,cellFocus:f,cellTabIndex:p,showCellRightBorder:m,isSelected:h,editRowState:g,cellClassName:v}=e,b=Ma(e,["columns","firstColIdx","hasScrollX","hasScrollY","height","id","getCellClassName","lastColIdx","rowIndex","cellFocus","cellTabIndex","showCellRightBorder","isSelected","editRowState","cellClassName"]),D=Xt(),y=t.slice(n,c+1).map(((o,c)=>{const y=n+c,C=y===t.length-1,E=C?!(C&&r&&!i)&&!e.extendRowFullWidth:m,A=D.current.getCellParams(u,o.field),w=[v];o.cellClassName&&w.push((0,a.A)(Xr(o.cellClassName)?o.cellClassName(A):o.cellClassName));const x=g&&g[o.field];let F=null;if(null==x&&o.renderCell&&(F=o.renderCell(Object.assign(Object.assign({},A),{api:D.current})),w.push(Ao["cell--withRenderer"])),null!=x&&o.renderEditCell){const e=Object.assign(Object.assign(Object.assign({},A),x),{api:D.current});F=o.renderEditCell(e),w.push(Ao["cell--editing"])}return s&&w.push(s(A)),Object.assign({value:A.value,field:o.field,width:o.computedWidth,rowId:u,height:l,showRightBorder:E,formattedValue:A.formattedValue,align:o.align||"left",rowIndex:d,cellMode:A.cellMode,colIndex:y,children:F,isEditable:A.isEditable,isSelected:h,hasFocus:null!==f&&f.id===u&&f.field===o.field,tabIndex:null!==p&&p.id===u&&p.field===o.field&&"view"===A.cellMode?0:-1,className:(0,a.A)(w)},b)}));return o.createElement(o.Fragment,null,y.map((e=>o.createElement(al,Object.assign({key:e.field},e)))))}));function ll(e){const{height:t,width:n,children:r}=e;return o.createElement("div",{className:Ao.viewport,style:{minWidth:n,maxWidth:n,maxHeight:t}},r)}const ul=o.forwardRef((function(e,t){const n=Xt(),r=wa(),a=yo(n,ia),i=yo(n,Ui),l=yo(n,$i),u=yo(n,Ki),s=yo(n,Qt),c=yo(n,Co),d=yo(n,Yo),f=yo(n,Jo),p=yo(n,Ba),m=yo(n,Wo),h=yo(n,ra),g=yo(n,tl);return o.createElement(nl,null,o.createElement(ll,Object.assign({},l),o.createElement(rl,Object.assign({ref:t},(null==i?void 0:i.renderingZone)||{width:0,height:0}),null==c.renderContext?null:m.slice(c.renderContext.firstRowIdx,c.renderContext.lastRowIdx).map(((e,t)=>{let[n,i]=e;var l;return o.createElement(ol,{key:n,id:n,selected:void 0!==p[n],rowIndex:c.renderContext.firstRowIdx+t},o.createElement(wo,{width:c.renderContext.leftEmptyWidth,height:h}),o.createElement(il,{columns:s,row:i,id:n,height:h,firstColIdx:c.renderContext.firstColIdx,lastColIdx:c.renderContext.lastColIdx,hasScrollX:u.hasScrollX,hasScrollY:u.hasScrollY,showCellRightBorder:!!r.showCellRightBorder,extendRowFullWidth:!r.disableExtendRowFullWidth,rowIndex:c.renderContext.firstRowIdx+t,cellFocus:d,cellTabIndex:f,isSelected:void 0!==p[n],editRowState:g[n],cellClassName:null===(l=a.classes)||void 0===l?void 0:l.cell,getCellClassName:r.getCellClassName}),o.createElement(wo,{width:c.renderContext.rightEmptyWidth,height:h}))})))))}));function sl(){var e,t,n;const r=Xt(),a=wa(),i=yo(r,To),l=yo(r,$o),u=!a.loading&&0===i,s=!a.loading&&i>0&&0===l;return u?o.createElement(r.current.components.NoRowsOverlay,Object.assign({},null===(e=a.componentsProps)||void 0===e?void 0:e.noRowsOverlay)):s?o.createElement(r.current.components.NoResultsOverlay,Object.assign({},null===(t=a.componentsProps)||void 0===t?void 0:t.noResultsOverlay)):a.loading?o.createElement(r.current.components.LoadingOverlay,Object.assign({},null===(n=a.componentsProps)||void 0===n?void 0:n.loadingOverlay)):null}function cl(e){const{children:t}=e,n=Xt(),r=wa(),a=o.useRef(null),i=o.useRef(null),l=o.useRef(null),u=o.useRef(null);n.current.columnHeadersContainerElementRef=i,n.current.columnHeadersElementRef=a,n.current.windowRef=l,n.current.renderingZoneRef=u;const s=o.useCallback((e=>n.current.publishEvent(Ut.resize,e)),[n]);return o.createElement(Qi,null,o.createElement(sl,null),o.createElement(Zi,{ref:i},o.createElement(Yi,{ref:a})),o.createElement(el,{nonce:r.nonce,disableHeight:r.autoHeight,onResize:s},(e=>o.createElement(Ji,{ref:l,size:e},o.createElement(ul,{ref:u})))),t)}class dl extends o.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.props.api.current&&(this.logError(e),this.props.api.current.showError({error:e,errorInfo:t}))}logError(e,t){this.props.logger.error("An unexpected error occurred. Error: ".concat(e&&e.message,". "),e,t)}render(){var e;return this.props.hasError||(null===(e=this.state)||void 0===e?void 0:e.hasError)?this.props.render(this.props.componentProps||this.state):this.props.children}}function fl(e){const{children:t}=e,n=Xt(),r=lo(n,"GridErrorHandler"),a=wa(),[i]=Do(n);return o.createElement(dl,{hasError:null!=i.error,componentProps:i.error,api:n,logger:r,render:e=>{var t;return o.createElement(Qi,null,o.createElement(n.current.components.ErrorOverlay,Object.assign({},e,null===(t=a.componentsProps)||void 0===t?void 0:t.errorOverlay)))}},t)}function pl(){var e;const t=Xt(),n=wa(),r=o.useRef(null);return t.current.footerRef=r,n.hideFooter?null:o.createElement("div",{ref:r},o.createElement(t.current.components.Footer,Object.assign({},null===(e=n.componentsProps)||void 0===e?void 0:e.footer)))}function ml(){var e;const t=Xt(),n=wa(),r=o.useRef(null);return t.current.headerRef=r,o.createElement("div",{ref:r},o.createElement(t.current.components.Header,Object.assign({},null===(e=n.componentsProps)||void 0===e?void 0:e.header)))}const hl=we((e=>{const t="light"===Yr(e.palette)?(0,d.a)(Zr(e.palette.divider,1),.88):(0,d.e$)(Zr(e.palette.divider,1),.68),n={root:Object.assign(Object.assign({flex:1,boxSizing:"border-box",position:"relative",border:"1px solid ".concat(t),borderRadius:e.shape.borderRadius,color:e.palette.text.primary},e.typography.body2),{outline:"none",height:"100%",display:"flex",flexDirection:"column",["&.".concat(Ao.autoHeight)]:{height:"auto"},["& .".concat(Ao.main)]:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column"},["& .".concat(Ao.overlay)]:{display:"flex",position:"absolute",top:0,left:0,right:0,bottom:0,alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:Zr(e.palette.background.default,e.palette.action.disabledOpacity)},["& .".concat(Ao.toolbarContainer)]:{display:"flex",alignItems:"center",padding:"4px 4px 0"},["& .".concat(Ao.columnsContainer)]:{position:"absolute",top:0,left:0,right:0,overflow:"hidden",display:"flex",flexDirection:"column",borderBottom:"1px solid ".concat(t)},["& .".concat(Ao.scrollArea)]:{position:"absolute",top:0,zIndex:101,width:20,bottom:0},["& .".concat(Ao["scrollArea--left"])]:{left:0},["& .".concat(Ao["scrollArea--right"])]:{right:0},["& .".concat(Ao.columnHeaderWrapper)]:{display:"flex",width:"100%",alignItems:"center",overflow:"hidden"},["& .".concat(Ao.columnHeader,", & .").concat(Ao.cell)]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},["& .".concat(Ao.columnHeader,":focus-within, & .").concat(Ao.cell,":focus-within")]:{outline:"solid ".concat(Zr(e.palette.primary.main,.5)," 1px"),outlineWidth:1,outlineOffset:-1},["& .".concat(Ao.columnHeader,":focus, & .").concat(Ao.cell,":focus")]:{outline:"solid ".concat(e.palette.primary.main," 1px")},["& .".concat(Ao.columnHeaderCheckbox,", & .").concat(Ao.cellCheckbox)]:{padding:0,justifyContent:"center",alignItems:"center"},["& .".concat(Ao.columnHeader)]:{position:"relative",display:"flex",alignItems:"center"},["& .".concat(Ao.columnHeader,":not(.").concat(Ao["columnHeader--sorted"],") .").concat(Ao.sortIcon)]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},["& .".concat(Ao.columnHeader,":not(.").concat(Ao["columnHeader--sorted"],"):hover .").concat(Ao.sortIcon)]:{opacity:.5},["& .".concat(Ao.columnHeaderTitleContainer)]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",padding:"0 6px"},["& .".concat(Ao.sortIcon,", & .").concat(Ao.filterIcon)]:{fontSize:"inherit"},["& .".concat(Ao["columnHeader--sortable"])]:{cursor:"pointer"},["& .".concat(Ao["columnHeader--alignCenter"]," .").concat(Ao.columnHeaderTitleContainer)]:{justifyContent:"center"},["& .".concat(Ao["columnHeader--alignRight"]," .").concat(Ao.columnHeaderDraggableContainer,", & .").concat(Ao["columnHeader--alignRight"]," .").concat(Ao.columnHeaderTitleContainer)]:{flexDirection:"row-reverse"},["& .".concat(Ao["columnHeader--alignCenter"]," .").concat(Ao.menuIcon,", & .").concat(Ao["columnHeader--alignRight"]," .").concat(Ao.menuIcon)]:{marginRight:"auto",marginLeft:-6},["& .".concat(Ao.columnHeaderTitle)]:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:e.typography.fontWeightMedium},["& .".concat(Ao["columnHeader--moving"])]:{backgroundColor:e.palette.action.hover},["& .".concat(Ao.columnSeparator)]:{position:"absolute",right:-12,zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:t},["& .".concat(Ao["columnSeparator--resizable"])]:{cursor:"col-resize",touchAction:"none","&:hover":{color:e.palette.text.primary,"@media (hover: none)":{color:t}},"&.Mui-resizing":{color:e.palette.text.primary}},["& .".concat(Ao.iconSeparator)]:{color:"inherit"},["& .".concat(Ao.menuIcon)]:{visibility:"hidden",fontSize:20,marginRight:-6,display:"flex",alignItems:"center"},["& .".concat(Ao.columnHeader,":hover .").concat(Ao.menuIcon,", .").concat(Ao.menuOpen)]:{visibility:"visible"},["& .".concat(Ao.columnHeaderWrapper,".scroll .").concat(Ao.columnHeader,":last-child")]:{borderRight:"none"},["& .".concat(Ao.dataContainer)]:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column"},["& .".concat(Ao.window)]:{position:"absolute",bottom:0,left:0,right:0,overflowX:"auto"},["& .".concat(Ao.viewport)]:{position:"sticky",top:0,left:0,display:"flex",flexDirection:"column",overflow:"hidden"},["& .".concat(Ao.row)]:{display:"flex",width:"fit-content","&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:Zr(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:Zr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Zr(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},["& .".concat(Ao.cell)]:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderBottom:"1px solid ".concat(t)},["& .".concat(Ao.cell,".").concat(Ao["cell--editing"])]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:e.palette.background.paper,"&:focus-within":{outline:"solid ".concat(e.palette.primary.main," 1px"),outlineOffset:"-1px"}},["& .".concat(Ao["row--editing"])]:{boxShadow:e.shadows[2]},["& .".concat(Ao["row--editing"]," .").concat(Ao.cell)]:{boxShadow:e.shadows[0],backgroundColor:e.palette.background.paper},["& .".concat(Ao.editInputCell)]:Object.assign(Object.assign({},e.typography.body2),{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}}),["& .".concat(Ao.editBooleanCell)]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},["& .".concat(Ao.booleanCell,'[data-value="true"]')]:{color:e.palette.text.secondary},["& .".concat(Ao.booleanCell,'[data-value="false"]')]:{color:e.palette.text.disabled},["& .".concat(Ao.columnHeaderWrapper," .").concat(Ao.cell)]:{borderBottom:"none"},["& .".concat(Ao["cell--withRenderer"])]:{display:"flex",alignItems:"center"},["& .".concat(Ao.withBorder)]:{borderRight:"1px solid ".concat(t)},["& .".concat(Ao["cell--textLeft"])]:{textAlign:"left"},["& .".concat(Ao["cell--textLeft"],".").concat(Ao["cell--withRenderer"],", & .").concat(Ao["cell--textLeft"],".").concat(Ao["cell--editing"])]:{justifyContent:"flex-start"},["& .".concat(Ao["cell--textRight"])]:{textAlign:"right"},["& .".concat(Ao["cell--textRight"],".").concat(Ao["cell--withRenderer"],", & .").concat(Ao["cell--textRight"],".").concat(Ao["cell--editing"])]:{justifyContent:"flex-end"},["& .".concat(Ao["cell--textCenter"])]:{textAlign:"center"},["& .".concat(Ao["cell--textCenter"],".").concat(Ao["cell--withRenderer"],", & .").concat(Ao["cell--textCenter"],".").concat(Ao["cell--editing"])]:{justifyContent:"center"},["& .".concat(Ao.rowCount,", & .").concat(Ao.selectedRowCount)]:{alignItems:"center",display:"flex",margin:e.spacing(0,2)},["& .".concat(Ao.footerContainer)]:{display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,["& .".concat(Ao.selectedRowCount)]:{visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}},["& .".concat(Ao.columnHeaderDropZone," .").concat(Ao.columnHeaderDraggableContainer)]:{cursor:"move"},["& .".concat(Ao.columnHeaderDraggableContainer)]:{display:"flex",width:"100%"},["& .".concat(Ao["columnHeader--dragging"])]:{background:e.palette.background.paper,padding:"0 12px",borderRadius:e.shape.borderRadius,opacity:e.palette.action.disabledOpacity}})};if("dark"===Yr(e.palette)){const e="#202022",t="#585859",r="#838384";n.root=Object.assign(Object.assign({},n.root),{scrollbarColor:"".concat(t," ").concat(e),"& *::-webkit-scrollbar":{backgroundColor:e},"& *::-webkit-scrollbar-thumb":{borderRadius:8,backgroundColor:t,minHeight:24,border:"3px solid ".concat(e)},"& *::-webkit-scrollbar-thumb:focus":{backgroundColor:r},"& *::-webkit-scrollbar-thumb:active":{backgroundColor:r},"& *::-webkit-scrollbar-thumb:hover":{backgroundColor:r},"& *::-webkit-scrollbar-corner":{backgroundColor:e}})}return n}),{name:"MuiDataGrid",defaultTheme:Qr()}),gl=o.forwardRef((function(e,t){var n;const r=hl(),i=Xt(),l=wa(),{children:u,className:s}=e,c=Ma(e,["children","className"]),d=yo(i,nn),[f]=Do(i),p=yo(i,ia),m=o.useRef(null),h=(0,K.A)(m,t);return i.current.rootElementRef=m,o.createElement(gt,null,o.createElement("div",Object.assign({ref:h,className:(0,a.A)(r.root,null===(n=p.classes)||void 0===n?void 0:n.root,l.className,s,{[Ao.autoHeight]:l.autoHeight}),role:"grid","aria-colcount":d,"aria-rowcount":f.rows.totalRowCount,"aria-multiselectable":!l.disableMultipleSelection,"aria-label":l["aria-label"],"aria-labelledby":l["aria-labelledby"],style:l.style},c),u))})),vl=o.forwardRef((function(e,t){const{className:n}=e,r=Ma(e,["className"]);return o.createElement("div",Object.assign({ref:t,className:(0,a.A)(Ao.footerContainer,n)},r))})),bl=o.forwardRef((function(e,t){const{className:n,style:r}=e,i=Ma(e,["className","style"]),l=Xt(),u=yo(l,oa);return o.createElement("div",Object.assign({ref:t,className:(0,a.A)(Ao.overlay,n),style:Object.assign({top:u},r)},i))})),Dl=o.forwardRef((function(e,t){const{className:n,children:r}=e,i=Ma(e,["className","children"]);return r?o.createElement("div",Object.assign({ref:t,className:(0,a.A)(Ao.toolbarContainer,n)},i),r):null})),yl=e=>{const{onClick:t}=e,n=Xt(),r=wa(),a=o.useCallback((e=>{t(e),n.current.showPreferences(Ii.columns)}),[n,t]);return r.disableColumnSelector?null:o.createElement(at.A,{onClick:a},n.current.getLocaleText("columnMenuShowColumns"))},Cl=e=>{const{column:t,onClick:n}=e,r=Xt(),a=wa(),i=o.useCallback((e=>{n(e),r.current.showFilterPanel(null==t?void 0:t.field)}),[r,null==t?void 0:t.field,n]);return a.disableColumnFilter||!(null==t?void 0:t.filterable)?null:o.createElement(at.A,{onClick:i},r.current.getLocaleText("columnMenuFilter"))},El=o.forwardRef((function(e,t){const{hideMenu:n,currentColumn:r,open:i,id:l,labelledby:u,className:s,children:c}=e,d=Ma(e,["hideMenu","currentColumn","open","id","labelledby","className","children"]),f=o.useCallback((e=>{sa(e.key)&&e.preventDefault(),Ea(e.key)&&n()}),[n]);return o.createElement(vt.A,Object.assign({id:l,ref:t,className:(0,a.A)("MuiDataGrid-gridMenuList",s),"aria-labelledby":u,onKeyDown:f,autoFocus:i},d),c)})),Al=e=>{const{column:t,onClick:n}=e,r=Xt(),a=wa(),i=o.useRef(),l=o.useCallback((e=>{n(e),i.current=setTimeout((()=>{r.current.setColumnVisibility(null==t?void 0:t.field,!1)}),100)}),[r,null==t?void 0:t.field,n]);return o.useEffect((()=>()=>clearTimeout(i.current)),[]),a.disableColumnSelector?null:o.createElement(at.A,{onClick:l},r.current.getLocaleText("columnMenuHideColumn"))},wl=e=>{const{column:t,onClick:n}=e,r=Xt(),a=yo(r,No),i=o.useMemo((()=>{if(!t)return null;const e=a.find((e=>e.field===t.field));return null==e?void 0:e.sort}),[t,a]),l=o.useCallback((e=>{n(e);const o=e.currentTarget.getAttribute("data-value")||null;null==r||r.current.sortColumn(t,o)}),[r,t,n]);return t&&t.sortable?o.createElement(o.Fragment,null,o.createElement(at.A,{onClick:l,disabled:null==i},r.current.getLocaleText("columnMenuUnsort")),o.createElement(at.A,{onClick:l,"data-value":"asc",disabled:"asc"===i},r.current.getLocaleText("columnMenuSortAsc")),o.createElement(at.A,{onClick:l,"data-value":"desc",disabled:"desc"===i},r.current.getLocaleText("columnMenuSortDesc"))):null},xl=o.forwardRef((function(e,t){const{hideMenu:n,currentColumn:r}=e;return o.createElement(El,Object.assign({ref:t},e),o.createElement(wl,{onClick:n,column:r}),o.createElement(Cl,{onClick:n,column:r}),o.createElement(Al,{onClick:n,column:r}),o.createElement(yl,{onClick:n,column:r}))})),Fl=we((()=>({root:{display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400}})),{name:"MuiGridPanelContent"});function Sl(e){const t=Fl(),{className:n}=e,r=Ma(e,["className"]);return o.createElement("div",Object.assign({className:(0,a.A)(t.root,n)},r))}const kl=we((()=>({root:{padding:4,display:"flex",justifyContent:"space-between"}})),{name:"MuiGridPanelFooter"});function Ol(e){const t=kl(),{className:n}=e,r=Ma(e,["className"]);return o.createElement("div",Object.assign({className:(0,a.A)(t.root,n)},r))}const Rl=we((e=>({root:{padding:e.spacing(1)}})),{name:"MuiDataGridPanelHeader",defaultTheme:Qr()});function Pl(e){const t=Rl(),{className:n}=e,r=Ma(e,["className"]);return o.createElement("div",Object.assign({className:(0,a.A)(t.root,n)},r))}const Bl=we((()=>({root:{display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}})),{name:"MuiGridPanelWrapper"}),Tl=()=>!0;function Ml(e){const t=Bl(),{className:n}=e,r=Ma(e,["className"]),i="v4.12".startsWith("v4")?{getDoc:()=>document}:{};return o.createElement(wt.A,Object.assign({open:!0,disableEnforceFocus:!0,isEnabled:Tl},i),o.createElement("div",Object.assign({tabIndex:-1,className:(0,a.A)(t.root,n)},r)))}let Ll=!1;"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.GRID_EXPERIMENTAL_ENABLED&&Jr()&&window.localStorage.getItem("GRID_EXPERIMENTAL_ENABLED")?Ll="true"===window.localStorage.getItem("GRID_EXPERIMENTAL_ENABLED"):"undefined"!=typeof process&&(Ll="true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.GRID_EXPERIMENTAL_ENABLED);const Il=Ll,jl=we({container:{padding:"8px 0px 8px 8px"},column:{display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px"},switch:{marginRight:4},dragIcon:{justifyContent:"flex-end"}},{name:"MuiDataGridColumnsPanel"});const zl=we((e=>({root:{zIndex:e.zIndex.modal},paper:{backgroundColor:e.palette.background.paper,minWidth:300,maxHeight:450,display:"flex"}})),{name:"MuiGridPanel",defaultTheme:Qr()}),Nl=(Gr("MuiGridPanel",["root","paper"]),o.forwardRef((function(e,t){var n;const{children:r,className:i,open:l}=e,u=Ma(e,["children","className","open"]),s=zl(u),c=Xt(),d=o.useCallback((()=>{c.current.hidePreferences()}),[c]),f=o.useCallback((e=>{la(e.key)&&c.current.hidePreferences()}),[c]),p=null===(n=null==c?void 0:c.current.columnHeadersContainerElementRef)||void 0===n?void 0:n.current;return p?o.createElement(mt.A,Object.assign({ref:t,placement:"bottom-start",className:(0,a.A)(i,s.root),open:l,anchorEl:p,modifiers:{flip:{enabled:!1}}},u),o.createElement(dt,{onClickAway:d},o.createElement(pt.A,{className:s.paper,elevation:8,onKeyDown:f},r))):null}))),_l=o.forwardRef((function(e,t){var n,r,a;const i=Xt(),l=yo(i,Zt),u=wa(),s=yo(i,Li),c=s.openedPanelValue===Ii.columns,d=!s.openedPanelValue||!c,f=i.current.components.ColumnsPanel,p=i.current.components.FilterPanel,m=i.current.components.Panel;return o.createElement(m,Object.assign({ref:t,open:l.length>0&&s.open},null===(n=null==i?void 0:i.current.componentsProps)||void 0===n?void 0:n.panel,e),!u.disableColumnSelector&&c&&o.createElement(f,Object.assign({},null===(r=null==i?void 0:i.current.componentsProps)||void 0===r?void 0:r.columnsPanel)),!u.disableColumnFilter&&d&&o.createElement(p,Object.assign({},null===(a=null==i?void 0:i.current.componentsProps)||void 0===a?void 0:a.filterPanel)))})),Hl=we({root:{display:"flex",justifyContent:"space-around",padding:8},linkOperatorSelect:{minWidth:60},columnSelect:{width:150},operatorSelect:{width:120},filterValueInput:{width:190},closeIcon:{flexShrink:0,justifyContent:"flex-end",marginRight:6,marginBottom:2}},{name:"MuiGridFilterForm"});function Vl(e){var t,n;const{item:r,hasMultipleFilters:a,deleteFilter:i,applyFilterChanges:l,multiFilterOperator:u,showMultiFilterOperators:s,disableMultiFilterOperator:c,applyMultiFilterOperatorChanges:d}=e,f=Hl(),p=Xt(),m=yo(p,en),h=(0,G.A)(),g=(0,G.A)(),v=(0,G.A)(),b=(0,G.A)(),D=(0,G.A)(),y=(0,G.A)(),C=o.useCallback((()=>r.columnField?p.current.getColumn(r.columnField):null),[p,r]),E=o.useCallback((()=>{var e;const t=C();return r.operatorValue&&t?null===(e=t.filterOperators)||void 0===e?void 0:e.find((e=>e.value===r.operatorValue)):null}),[r,C]),A=o.useCallback((e=>{const t=e.target.value,n=p.current.getColumn(t).filterOperators[0];l(Object.assign(Object.assign({},r),{value:void 0,columnField:t,operatorValue:n.value}))}),[p,l,r]),w=o.useCallback((e=>{const t=e.target.value;l(Object.assign(Object.assign({},r),{operatorValue:t}))}),[l,r]),x=o.useCallback((e=>{const t=e.target.value===go.And.toString()?go.And:go.Or;d(t)}),[d]),F=o.useCallback((()=>{i(r)}),[i,r]),S=E();return o.createElement("div",{className:f.root},o.createElement(Ne,{variant:"standard",className:f.closeIcon},o.createElement(Ge.A,{"aria-label":p.current.getLocaleText("filterPanelDeleteIconLabel"),title:p.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:F,size:"small"},o.createElement(Za,{fontSize:"small"}))),o.createElement(Ne,{variant:"standard",className:f.linkOperatorSelect,style:{display:a?"block":"none",visibility:s?"visible":"hidden"}},o.createElement(Me,{htmlFor:h,id:g},p.current.getLocaleText("filterPanelOperators")),o.createElement(Ve.A,{labelId:g,id:h,value:u,onChange:x,disabled:!!c,native:!0},o.createElement("option",{key:go.And.toString(),value:go.And.toString()},p.current.getLocaleText("filterPanelOperatorAnd")),o.createElement("option",{key:go.Or.toString(),value:go.Or.toString()},p.current.getLocaleText("filterPanelOperatorOr")))),o.createElement(Ne,{variant:"standard",className:f.columnSelect},o.createElement(Me,{htmlFor:v,id:b},p.current.getLocaleText("filterPanelColumns")),o.createElement(Ve.A,{labelId:b,id:v,value:r.columnField||"",onChange:A,native:!0},m.map((e=>o.createElement("option",{key:e.field,value:e.field},e.headerName||e.field))))),o.createElement(Ne,{variant:"standard",className:f.operatorSelect},o.createElement(Me,{htmlFor:D,id:y},p.current.getLocaleText("filterPanelOperators")),o.createElement(Ve.A,{labelId:y,id:D,value:r.operatorValue,onChange:w,native:!0},null===(n=null===(t=C())||void 0===t?void 0:t.filterOperators)||void 0===n?void 0:n.map((e=>o.createElement("option",{key:e.value,value:e.value},e.label||p.current.getLocaleText("filterOperator".concat((0,Y.A)(e.value)))))))),o.createElement(Ne,{variant:"standard",className:f.filterValueInput},(null==S?void 0:S.InputComponent)?o.createElement(S.InputComponent,Object.assign({apiRef:p,item:r,applyValue:l},S.InputComponentProps)):null))}const Wl=o.forwardRef((function(e,t){const{onClick:n}=e,r=Ma(e,["onClick"]),a=Xt(),i=wa(),l=a.current.components.ColumnSelectorIcon,{open:u,openedPanelValue:s}=yo(a,Li);return i.disableColumnSelector?null:o.createElement(yt.A,Object.assign({ref:t,size:"small",color:"primary","aria-label":a.current.getLocaleText("toolbarColumnsLabel"),startIcon:o.createElement(l,null)},r,{onClick:e=>{u&&s===Ii.columns?a.current.hidePreferences():a.current.showPreferences(Ii.columns),null==n||n(e)}}),a.current.getLocaleText("toolbarColumns"))})),Ul=o.forwardRef((function(e,t){const{onClick:n}=e,r=Ma(e,["onClick"]),a=Xt(),i=wa(),l=yo(a,na),u=(0,G.A)(),s=(0,G.A)(),[c,d]=o.useState(null),f=a.current.components.DensityCompactIcon,p=a.current.components.DensityStandardIcon,m=a.current.components.DensityComfortableIcon,h=[{icon:o.createElement(f,null),label:a.current.getLocaleText("toolbarDensityCompact"),value:co.Compact},{icon:o.createElement(p,null),label:a.current.getLocaleText("toolbarDensityStandard"),value:co.Standard},{icon:o.createElement(m,null),label:a.current.getLocaleText("toolbarDensityComfortable"),value:co.Comfortable}],g=o.useCallback((()=>{switch(l){case co.Compact:return o.createElement(f,null);case co.Comfortable:return o.createElement(m,null);default:return o.createElement(p,null)}}),[l,f,m,p]),v=()=>d(null);if(i.disableDensitySelector)return null;const b=h.map(((e,t)=>o.createElement(at.A,{key:t,onClick:()=>{return t=e.value,a.current.setDensity(t),void d(null);var t},selected:e.value===l},o.createElement(St,null,e.icon),e.label)));return o.createElement(o.Fragment,null,o.createElement(yt.A,Object.assign({ref:t,color:"primary",size:"small",startIcon:g(),"aria-label":a.current.getLocaleText("toolbarDensityLabel"),"aria-expanded":c?"true":void 0,"aria-haspopup":"menu","aria-labelledby":s,id:u},r,{onClick:e=>{d(e.currentTarget),null==n||n(e)}}),a.current.getLocaleText("toolbarDensity")),o.createElement(_i,{open:Boolean(c),target:c,onClickAway:v,position:"bottom-start"},o.createElement(vt.A,{id:s,className:"MuiDataGrid-gridMenuList","aria-labelledby":u,onKeyDown:e=>{sa(e.key)&&e.preventDefault(),Ea(e.key)&&v()},autoFocusItem:Boolean(c)},b)))})),$l=we((e=>({list:{margin:e.spacing(1,1,.5),padding:e.spacing(0,1)}})),{name:"MuiGridToolbarFilterButton",defaultTheme:Qr()}),Kl=o.forwardRef((function(e,t){const{componentsProps:n={}}=e,r=Ma(e,["componentsProps"]),a=n.button||{},i=$l(),l=Xt(),u=wa(),s=yo(l,qo),c=yo(l,Ko),d=yo(l,Yt),f=yo(l,Li),p=o.useMemo((()=>f.open?l.current.getLocaleText("toolbarFiltersTooltipHide"):0===s?l.current.getLocaleText("toolbarFiltersTooltipShow"):o.createElement("div",null,l.current.getLocaleText("toolbarFiltersTooltipActive")(s),o.createElement("ul",{className:i.list},c.map(((e,t)=>Object.assign({},d[e.columnField]&&o.createElement("li",{key:t},"".concat(d[e.columnField].headerName||e.columnField,"\n                  ").concat((e=>d[e.columnField].filterOperators.find((t=>t.value===e.operatorValue)).label||l.current.getLocaleText("filterOperator".concat((0,Y.A)(e.operatorValue))).toString())(e),"\n                  ").concat(e.value)))))))),[l,f.open,s,c,d,i]);if(u.disableColumnFilter)return null;const m=l.current.components.OpenFilterButtonIcon;return o.createElement(ut.Ay,Object.assign({title:p,enterDelay:1e3},r),o.createElement(yt.A,Object.assign({ref:t,size:"small",color:"primary","aria-label":l.current.getLocaleText("toolbarFiltersLabel"),startIcon:o.createElement(lt,{badgeContent:s,color:"primary"},o.createElement(m,null))},a,{onClick:e=>{var t;const{open:n,openedPanelValue:r}=f;n&&r===Ii.filters?l.current.hideFilterPanel():l.current.showFilterPanel(),null===(t=a.onClick)||void 0===t||t.call(a,e)}}),l.current.getLocaleText("toolbarFilters")))})),ql=o.forwardRef((function(e,t){const{csvOptions:n,onClick:r}=e,a=Ma(e,["csvOptions","onClick"]),i=Xt(),l=(0,G.A)(),u=(0,G.A)(),[s,c]=o.useState(null),d=i.current.components.ExportIcon,f=[];f.push({label:i.current.getLocaleText("toolbarExportCSV"),format:"csv",formatOptions:n});const p=()=>c(null),m=e=>()=>{"csv"===e.format&&i.current.exportDataAsCsv(e.formatOptions),c(null)};return o.createElement(o.Fragment,null,o.createElement(yt.A,Object.assign({ref:t,color:"primary",size:"small",startIcon:o.createElement(d,null),"aria-expanded":s?"true":void 0,"aria-label":i.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-labelledby":u,id:l},a,{onClick:e=>{c(e.currentTarget),null==r||r(e)}}),i.current.getLocaleText("toolbarExport")),o.createElement(_i,{open:Boolean(s),target:s,onClickAway:p,position:"bottom-start"},o.createElement(vt.A,{id:u,className:"MuiDataGrid-gridMenuList","aria-labelledby":l,onKeyDown:e=>{sa(e.key)&&e.preventDefault(),Ea(e.key)&&p()},autoFocusItem:Boolean(s)},f.map(((e,t)=>o.createElement(at.A,{key:t,onClick:m(e)},e.label))))))})),Gl=(o.forwardRef((function(e,t){const n=wa();return n.disableColumnFilter&&n.disableColumnSelector&&n.disableDensitySelector?null:o.createElement(Dl,Object.assign({ref:t},e),o.createElement(Wl,null),o.createElement(Kl,null),o.createElement(Ul,null),o.createElement(ql,null))})),o.forwardRef((function(e,t){const{className:n,rowCount:r,visibleRowCount:i}=e,l=Ma(e,["className","rowCount","visibleRowCount"]),u=Xt();if(0===r)return null;const s=i<r?u.current.getLocaleText("footerTotalVisibleRows")(i,r):r.toLocaleString();return o.createElement("div",Object.assign({ref:t,className:(0,a.A)(Ao.rowCount,n)},l),u.current.getLocaleText("footerTotalRows")," ",s)}))),Xl=o.forwardRef((function(e,t){const{className:n,selectedRowCount:r}=e,i=Ma(e,["className","selectedRowCount"]),l=Xt().current.getLocaleText("footerRowSelected")(r);return o.createElement("div",Object.assign({ref:t,className:(0,a.A)(Ao.selectedRowCount,n)},i),l)})),Yl=o.forwardRef((function(e,t){var n;const r=Xt(),a=wa(),i=yo(r,To),l=yo(r,Ra),u=yo(r,Sa),s=yo(r,$o),c=!a.hideFooterSelectedRowCount&&l>0?o.createElement(Xl,{selectedRowCount:l}):o.createElement("div",null),d=a.hideFooterRowCount||a.pagination?null:o.createElement(Gl,{rowCount:i,visibleRowCount:s}),f=!!a.pagination&&null!=u.pageSize&&!a.hideFooterPagination&&(null==r?void 0:r.current.components.Pagination),p=f&&o.createElement(f,Object.assign({},null===(n=null==r?void 0:r.current.componentsProps)||void 0===n?void 0:n.pagination));return o.createElement(vl,Object.assign({ref:t},e),c,d,p)})),Zl=o.forwardRef((function(e,t){var n,r;const a=Xt(),i=null==a?void 0:a.current.components.PreferencesPanel,l=i&&o.createElement(i,Object.assign({},null===(n=null==a?void 0:a.current.componentsProps)||void 0===n?void 0:n.preferencesPanel)),u=null==a?void 0:a.current.components.Toolbar,s=u&&o.createElement(u,Object.assign({},null===(r=null==a?void 0:a.current.componentsProps)||void 0===r?void 0:r.toolbar));return o.createElement("div",Object.assign({ref:t},e),l,s)})),Ql=o.forwardRef((function(e,t){return o.createElement(bl,Object.assign({ref:t},e),o.createElement(Rt,null))})),Jl=o.forwardRef((function(e,t){const n=Xt().current.getLocaleText("noRowsLabel");return o.createElement(bl,Object.assign({ref:t},e),n)})),eu=we((e=>({selectLabel:{display:"none",[e.breakpoints.up("md")]:{display:"block"}},caption:{"&[id]":{display:"none",[e.breakpoints.up("md")]:{display:"block"}}},input:{display:"none",[e.breakpoints.up("md")]:{display:"inline-flex"}}})),{defaultTheme:Qr()}),tu=o.forwardRef((function(e,t){var n;const r=eu(),a=Xt(),i=wa(),l=yo(a,Sa),u=o.useMemo((()=>Math.floor(l.rowCount/(l.pageSize||1))),[l.rowCount,l.pageSize]),s=o.useCallback((e=>{const t=Number(e.target.value);a.current.setPageSize(t)}),[a]),c=o.useCallback(((e,t)=>{a.current.setPage(t)}),[a]);return o.createElement(Wt,Object.assign({ref:t,classes:Object.assign(Object.assign({},{caption:r.caption}),{input:r.input}),component:"div",count:l.rowCount,page:l.page<=u?l.page:u,rowsPerPageOptions:(null===(n=i.rowsPerPageOptions)||void 0===n?void 0:n.includes(l.pageSize))?i.rowsPerPageOptions:[],rowsPerPage:l.pageSize},a.current.getLocaleText("MuiTablePagination"),{onPageChange:c,onRowsPerPageChange:s},e))}));function nu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const o=function(e,t){const n=Object.assign(Object.assign({},e),t),r={};return Object.entries(n).forEach((e=>{let[t,o]=e;o=Object.assign(Object.assign({},n[o.extendType||"__default__"]),o),r[t]=o})),r}((()=>{const e={string:ai,number:ci,date:vi,dateTime:bi,boolean:ui,singleSelect:wi};return e.__default__=ai,e})(),t),a=e.map((e=>Object.assign(Object.assign({},((e,t)=>t?e[t]:e.__default__)(o,e.type)),e)));return r?[Object.assign(Object.assign({},si),{headerName:n("checkboxSelectionHeaderName")}),...a]:a}const ru=(e,t)=>{var n,r;const o={all:[...null!==(n=null==t?void 0:t.all)&&void 0!==n?n:[]],lookup:Object.assign({},null!==(r=null==t?void 0:t.lookup)&&void 0!==r?r:{})};return e.forEach((e=>{null==o.lookup[e.field]?(o.lookup[e.field]=e,o.all.push(e.field)):o.lookup[e.field]=Object.assign(Object.assign({},o.lookup[e.field]),e)})),o};function ou(e,t,n){const r=lo(e,"useGridScrollFn"),a=o.useRef();return[o.useCallback((e=>{var o;e.left===(null===(o=a.current)||void 0===o?void 0:o.left)&&e.top===a.current.top||t&&t.current&&(r.debug("Moving ".concat(t.current.className," to: ").concat(e.left,"-").concat(e.top)),t.current.style.transform="translate3d(".concat(-e.left,"px, ").concat(-e.top,"px, 0px)"),n.current.style.transform="translate3d(".concat(-e.left,"px, 0px, 0px)"),a.current=e)}),[t,r,n])]}const au=(e,t)=>t>0&&e>0?Math.ceil(e/t):0,iu=e=>e.pageCount?Object.assign(Object.assign({},e),{page:Math.max(Math.min(e.page,e.pageCount-1),0)}):e;const lu=(e,t,n,r,a)=>{const i=lo(e,"useNativeEventListener"),[l,u]=o.useState(!1),s=o.useRef(r),c=o.useCallback((e=>s.current&&s.current(e)),[]);o.useEffect((()=>{s.current=r}),[r]),o.useEffect((()=>{let r;if(r=Xr(t)?t():t&&t.current?t.current:null,r&&c&&n&&!l){i.debug("Binding native ".concat(n," event")),r.addEventListener(n,c,a);const t=r;u(!0);const o=()=>{i.debug("Clearing native ".concat(n," event")),t.removeEventListener(n,c,a)};e.current.subscribeEvent(Ut.unmount,o)}}),[t,c,n,l,i,a,e])};function uu(e,t,n){const r=t?t(e):e.id;return function(e,t,n){if(null==e)throw new Error(["Material-UI: The data grid component requires all rows to have a unique id property.",n||"A row was provided without id in the rows prop:",JSON.stringify(t)].join("\n"))}(r,e,n),r}const su=(e,t)=>{const n=lo(e,"useGridRows"),[,r,a]=Do(e),i=yo(e,Bo),l=o.useRef(),u=o.useCallback((e=>{null==l.current&&(l.current=setTimeout((()=>{n.debug("Updating component"),l.current=null,e&&e(),a()}),100))}),[n,a]),s=o.useRef(i);o.useEffect((()=>()=>clearTimeout(l.current)),[]),o.useEffect((()=>{r((e=>(s.current=function(e,t,n){const r=Object.assign(Object.assign({},{idRowsLookup:{},allRows:[],totalRowCount:0}),{totalRowCount:t&&t>e.length?t:e.length});return e.forEach((e=>{const t=uu(e,n);r.allRows.push(t),r.idRowsLookup[t]=e})),r}(t.rows,t.rowCount,t.getRowId),Object.assign(Object.assign({},e),{rows:s.current}))))}),[t.getRowId,t.rows,t.rowCount,r]);const c=o.useCallback((t=>e.current.getSortedRowIds?e.current.getSortedRowIds().indexOf(t):e.current.state.rows.allRows.indexOf(t)),[e]),d=o.useCallback((t=>e.current.getSortedRowIds?e.current.getSortedRowIds()[t]:e.current.state.rows.allRows[t]),[e]),f=o.useCallback((t=>{var n;return null!==(n=e.current.state.rows.idRowsLookup[t])&&void 0!==n?n:null}),[e]),p=o.useCallback((o=>{n.debug("updating all rows, new length ".concat(o.length)),s.current.allRows.length>0&&e.current.publishEvent(Ut.rowsClear);const a=[],i=o.reduce(((e,n)=>{const r=uu(n,t.getRowId);return e[r]=n,a.push(r),e}),{}),l=t.rowCount&&t.rowCount>a.length?t.rowCount:a.length;s.current={idRowsLookup:i,allRows:a,totalRowCount:l},r((e=>Object.assign(Object.assign({},e),{rows:s.current}))),u((()=>e.current.publishEvent(Ut.rowsSet)))}),[n,r,u,e,t.getRowId,t.rowCount]),m=o.useCallback((n=>{const o=n.reduce(((e,n)=>{const r=uu(n,t.getRowId,"A row was provided without id when calling updateRows():");return e[r]=null!=e[r]?Object.assign(Object.assign({},e[r]),n):n,e}),{}),a=[],i=[];let l=null;if(Object.entries(o).forEach((e=>{let[t,n]=e;if("delete"===n._action)return void i.push(t);const r=f(t);r?(l||(l=Object.assign({},s.current.idRowsLookup)),l[t]=Object.assign(Object.assign({},r),n)):a.push(n)})),l&&(s.current.idRowsLookup=l,r((e=>Object.assign(Object.assign({},e),{rows:Object.assign({},s.current)})))),i.length>0||a.length>0){i.forEach((e=>{delete s.current.idRowsLookup[e]}));const e=[...Object.values(s.current.idRowsLookup),...a];p(e)}u((()=>e.current.publishEvent(Ut.rowsUpdate)))}),[e,u,f,t.getRowId,r,p]),h=o.useCallback((()=>new Map(e.current.state.rows.allRows.map((t=>[t,e.current.state.rows.idRowsLookup[t]])))),[e]),g=o.useCallback((()=>e.current.state.rows.totalRowCount),[e]),v=o.useCallback((()=>e.current.state.rows.allRows),[e]);uo(e,{getRowIndex:c,getRowIdFromRowIndex:d,getRow:f,getRowModels:h,getRowsCount:g,getAllRowIds:v,setRows:p,updateRows:m},"GridRowApi")};function cu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(t.length<=0)return-1;if(n>=r)return n;const o=n+Math.floor((r-n)/2);return e<=t[o]?cu(e,t,n,o):cu(e,t,o+1,r)}const du=(e,t)=>{var n;const r=lo(e,"useGridVirtualization"),a=e.current.columnHeadersElementRef,i=e.current.windowRef,l=e.current.renderingZoneRef,[u,s,c]=Do(e),d=yo(e,Sa),f=yo(e,To),p=yo(e,Qt),m=yo(e,Jt),h=o.useRef(null),g=o.useRef(null),v=o.useRef(0),[b]=ou(e,l,a),D=o.useCallback((e=>{let t=!1;return s((n=>{const r=Object.assign(Object.assign({},n.rendering),e);return Vr(n.rendering,r)?n:(t=!0,Object.assign(Object.assign({},n),{rendering:r}))})),t}),[s]),y=o.useCallback((n=>{if(null==e.current.state.containerSizes)return null;let r=0;t.pagination&&null!=d.pageSize&&"client"===t.paginationMode&&(r=d.pageSize*d.page);const o=n*e.current.state.containerSizes.viewportPageSize+r;let a=o+e.current.state.containerSizes.renderingZonePageSize;const i=e.current.state.containerSizes.virtualRowsCount+r;return a>i&&(a=i),{page:n,firstRowIdx:o,lastRowIdx:a}}),[e,t.pagination,d.pageSize,t.paginationMode,d.page]),C=o.useCallback((()=>null==e.current.state.containerSizes?null:Object.assign(Object.assign(Object.assign({},h.current),y(e.current.state.rendering.virtualPage)),{paginationCurrentPage:d.page,pageSize:d.pageSize})),[h,y,e,d.page,d.pageSize]),E=o.useCallback((()=>{const e=C();D({renderContext:e})&&(r.debug("reRender: trigger rendering"),c())}),[C,r,c,D]),A=o.useCallback((e=>cu(e,m.positions)),[m.positions]),w=o.useCallback((e=>p.length?p[A(e)]:null),[A,p]),x=o.useCallback(((n,o)=>{var a,i,l,u;if(!n)return!1;g.current=n;const s=n.windowSizes.width;v.current=o,r.debug("GridColumns from ".concat(null===(a=w(o))||void 0===a?void 0:a.field," to ").concat(null===(i=w(o+s))||void 0===i?void 0:i.field));const c=A(o),d=A(o+s),f=(null===(l=null==h?void 0:h.current)||void 0===l?void 0:l.firstColIdx)||0,b=(null===(u=null==h?void 0:h.current)||void 0===u?void 0:u.lastColIdx)||0,D=t.columnBuffer,y=D>1?D-1:D,C=Math.abs(c-y-f),E=Math.abs(d+y-b);r.debug("Column buffer: ".concat(D,", tolerance: ").concat(y)),r.debug("Previous values  => first: ".concat(f,", last: ").concat(b)),r.debug("Current displayed values  => first: ".concat(c,", last: ").concat(d)),r.debug("Difference with first: ".concat(C," and last: ").concat(E," "));const x=p.length>0?p.length-1:0,F=c-D>=0?c-D:0,S={leftEmptyWidth:m.positions[F],rightEmptyWidth:0,firstColIdx:F,lastColIdx:d+D>=x?x:d+D};return e.current.state.scrollBar.hasScrollX?S.rightEmptyWidth=m.totalWidth-m.positions[S.lastColIdx]-p[S.lastColIdx].computedWidth:t.disableExtendRowFullWidth||(S.rightEmptyWidth=e.current.state.viewportSizes.width-m.totalWidth),Vr(S,h.current)?(r.debug("No rendering needed on columns"),!1):(h.current=S,r.debug("New columns state to render",S),!0)}),[e,m.positions,m.totalWidth,w,A,r,t.columnBuffer,t.disableExtendRowFullWidth,p]),F=o.useCallback((function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.disableVirtualization)return;const o=e.current.state,a=o.containerSizes;if(!i||!i.current||!a)return;const l=o.scrollBar,{scrollLeft:u,scrollTop:s}=i.current;r.debug("Handling scroll Left: ".concat(u," Top: ").concat(s));let c=x(a,u);const f=u,p=o.containerSizes.renderingZoneScrollHeight,m=o.rendering.virtualPage,h=p>0?Math.floor(s/p):0,g=s%p,v={left:l.hasScrollX?f:0,top:a.isVirtualized?g:s};a.isVirtualized&&m!==h?(D({virtualPage:h}),r.debug("Changing page from ".concat(m," to ").concat(h)),c=!0):(!a.isVirtualized&&m>0&&(r.debug("Virtualization disabled, setting virtualPage to 0"),D({virtualPage:0})),b(v)),D({renderingZoneScroll:v,realScroll:{left:i.current.scrollLeft,top:i.current.scrollTop}}),e.current.publishEvent(Ut.rowsScroll,v);const y=o.rendering.renderContext&&o.rendering.renderContext.paginationCurrentPage!==d.page;(n||c||y)&&E()}),[e,r,d.page,E,b,D,x,i,t.disableVirtualization]),S=o.useCallback((()=>{b({left:0,top:0}),D({virtualPage:0}),i&&i.current&&(i.current.scrollTop=0,i.current.scrollLeft=0),D({renderingZoneScroll:{left:0,top:0}})}),[b,D,i]),k=o.useRef(null),O=o.useCallback((()=>{t.disableVirtualization||i.current.scrollLeft<0||i.current.scrollTop<0||(k.current||s((e=>Object.assign(Object.assign({},e),{isScrolling:!0}))),clearTimeout(k.current),k.current=setTimeout((()=>{k.current=null,s((e=>Object.assign(Object.assign({},e),{isScrolling:!1}))),c()}),300),e.current.updateViewport&&e.current.updateViewport())}),[t.disableVirtualization,i,e,s,c]),R=o.useCallback((()=>u.containerSizes),[u.containerSizes]),P=o.useCallback((()=>u.rendering.renderContext||void 0),[u.rendering.renderContext]);Ur((()=>{t.disableVirtualization||l&&l.current&&(r.debug("applying scrollTop ",u.rendering.renderingZoneScroll.top),b(u.rendering.renderingZoneScroll))})),uo(e,{getContainerPropsState:R,getRenderContextState:P,updateViewport:F},"GridVirtualizationApi"),o.useEffect((()=>{var t;(null===(t=u.rendering.renderContext)||void 0===t?void 0:t.paginationCurrentPage)!==d.page&&e.current.updateViewport&&(r.debug("State paginationState.page changed to ".concat(d.page,". ")),e.current.updateViewport(!0),S())}),[e,d.page,null===(n=u.rendering.renderContext)||void 0===n?void 0:n.paginationCurrentPage,r,S]),o.useEffect((()=>(e.current.updateViewport&&(r.debug("totalRowCount has changed to ".concat(f,", updating viewport.")),e.current.updateViewport(!0)),()=>{clearTimeout(k.current)})),[r,f,u.viewportSizes,u.scrollBar,u.containerSizes,e]),lu(e,i,"scroll",O,{passive:!0});const B=o.useCallback((()=>{r.debug("Clearing previous renderedColRef"),h.current=null}),[r,h]);Fo(e,Ut.columnsChange,B),Fo(e,Ut.debouncedResize,B)};function fu(e){const{clientHeight:t,scrollTop:n,offsetHeight:r,offsetTop:o}=e,a=o+r;return a-t>n?a-t:o<n?o:void 0}class pu extends class{constructor(){this.maxListeners=10,this.warnOnce=!1,this.events={}}on(e,t){Array.isArray(this.events[e])||(this.events[e]=[]),this.events[e].push(t)}removeListener(e,t){if(Array.isArray(this.events[e])){const n=this.events[e].indexOf(t);n>-1&&this.events[e].splice(n,1)}}removeAllListeners(e){e?Array.isArray(this.events[e])&&(this.events[e]=[]):this.events={}}emit(e){if(Array.isArray(this.events[e])){const o=this.events[e].slice(),a=o.length;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<a;e+=1)o[e].apply(this,n)}}once(e,t){const n=this;this.on(e,(function r(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];n.removeListener(e,r),t.apply(n,a)}))}}{on(e,t,n){Array.isArray(this.events[e])||(this.events[e]=[]),n&&n.isFirst?this.events[e].splice(0,0,t):this.events[e].push(t)}}function mu(e,t){if(void 0!==t&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){const r=e.changedTouches[n];if(r.identifier===t)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}const hu=o.memo((function(e){const t=Xt(),n=wa(),[r]=n.sortingOrder,a="asc"===r?null==t?void 0:t.current.components.ColumnSortedAscendingIcon:null==t?void 0:t.current.components.ColumnSortedDescendingIcon;return a?o.createElement(a,Object.assign({},e)):null})),gu=o.forwardRef((function(e,t){const{message:n}=e,r=Ma(e,["message"]),a=Xt().current.getLocaleText("errorOverlayDefaultLabel");return o.createElement(bl,Object.assign({ref:t},r),n||a)})),vu=o.forwardRef((function(e,t){const n=Xt().current.getLocaleText("noResultsOverlayLabel");return o.createElement(bl,Object.assign({ref:t},e),n)})),bu={BooleanCellFalseIcon:Za,BooleanCellTrueIcon:ni,Checkbox:ot,ColumnFilteredIcon:Ua,ColumnMenu:xl,ColumnMenuIcon:Ya,ColumnResizeIcon:Ka,ColumnSelectorIcon:$a,ColumnSortedAscendingIcon:Ha,ColumnSortedDescendingIcon:Va,ColumnsPanel:function(){const e=jl(),t=Xt(),n=o.useRef(null),r=yo(t,Zt),a=wa(),[i,l]=o.useState(""),u=o.useCallback((e=>{const{name:n}=e.target,r=t.current.getColumn(n);t.current.setColumnVisibility(n,!!r.hide)}),[t]),s=o.useCallback((e=>{t.current.updateColumns(r.map((t=>(t.hide=e,t))))}),[t,r]),c=o.useCallback((()=>s(!1)),[s]),d=o.useCallback((()=>s(!0)),[s]),f=o.useCallback((e=>{l(e.target.value)}),[]),p=o.useMemo((()=>i?r.filter((e=>e.field.toLowerCase().indexOf(i.toLowerCase())>-1||e.headerName&&e.headerName.toLowerCase().indexOf(i.toLowerCase())>-1)):r),[r,i]);return o.useEffect((()=>{n.current.focus()}),[]),o.createElement(Ml,null,o.createElement(Pl,null,o.createElement($e,{label:t.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:t.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:n,value:i,onChange:f,variant:"standard",fullWidth:!0})),o.createElement(Sl,null,o.createElement("div",{className:e.container},p.map((n=>o.createElement("div",{key:n.field,className:e.column},o.createElement(At,{control:o.createElement(Dt,{className:e.switch,checked:!n.hide,onClick:u,name:n.field,color:"primary",size:"small"}),label:n.headerName||n.field}),!a.disableColumnReorder&&Il&&o.createElement(Ge.A,{draggable:!0,className:e.dragIcon,"aria-label":t.current.getLocaleText("columnsPanelDragIconLabel"),title:t.current.getLocaleText("columnsPanelDragIconLabel"),size:"small",disabled:!0},o.createElement(ei,null))))))),o.createElement(Ol,null,o.createElement(yt.A,{onClick:d,color:"primary"},t.current.getLocaleText("columnsPanelHideAllButton")),o.createElement(yt.A,{onClick:c,color:"primary"},t.current.getLocaleText("columnsPanelShowAllButton"))))},ColumnUnsortedIcon:hu,DensityComfortableIcon:Xa,DensityCompactIcon:qa,DensityStandardIcon:Ga,ErrorOverlay:gu,ExportIcon:ti,FilterPanel:function(){const e=Xt(),[t]=Do(e),n=wa(),r=o.useMemo((()=>t.filter.items.length>1),[t.filter.items.length]),a=o.useCallback((t=>{e.current.upsertFilter(t)}),[e]),i=o.useCallback((t=>{e.current.applyFilterLinkOperator(t)}),[e]),l=o.useCallback((()=>{e.current.upsertFilter({})}),[e]),u=o.useCallback((t=>{e.current.deleteFilter(t)}),[e]);return o.useEffect((()=>{0===t.filter.items.length&&l()}),[l,t.filter.items.length]),o.createElement(Ml,null,o.createElement(Sl,null,t.filter.items.map(((e,n)=>o.createElement(Vl,{key:null==e.id?n:e.id,item:e,applyFilterChanges:a,deleteFilter:u,hasMultipleFilters:r,showMultiFilterOperators:n>0,multiFilterOperator:t.filter.linkOperator,disableMultiFilterOperator:1!==n,applyMultiFilterOperatorChanges:i})))),!n.disableMultipleColumnsFiltering&&o.createElement(Ol,null,o.createElement(yt.A,{onClick:l,startIcon:o.createElement(Qa,null),color:"primary"},e.current.getLocaleText("filterPanelAddFilter"))))},Footer:Yl,Header:Zl,LoadingOverlay:Ql,NoResultsOverlay:vu,NoRowsOverlay:Jl,OpenFilterButtonIcon:Wa,Pagination:tu,Panel:Nl,PreferencesPanel:_l},Du=(e,t)=>{var n;return{props:{MuiDataGrid:{localeText:Object.assign(Object.assign({},e),{MuiTablePagination:(null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.MuiTablePagination)||{}})}}}},yu=(Du({noRowsLabel:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0635\u0641\u0648\u0641",noResultsOverlayLabel:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0646\u062a\u0627\u0626\u062c.",errorOverlayDefaultLabel:"\u062d\u062f\u062b \u062e\u0637\u0623.",toolbarDensity:"\u0643\u062b\u0627\u0641\u0629",toolbarDensityLabel:"\u0643\u062b\u0627\u0641\u0629",toolbarDensityCompact:"\u0645\u062f\u0645\u062c",toolbarDensityStandard:"\u0627\u0644\u0645\u0639\u064a\u0627\u0631",toolbarDensityComfortable:"\u0645\u0631\u064a\u062d",toolbarColumns:"\u0627\u0644\u0623\u0639\u0645\u062f\u0629",toolbarColumnsLabel:"\u062d\u062f\u062f \u0627\u0644\u0623\u0639\u0645\u062f\u0629",toolbarFilters:"\u0627\u0644\u0641\u0644\u0627\u062a\u0631",toolbarFiltersLabel:"\u0627\u0638\u0647\u0631 \u0627\u0644\u0641\u0644\u0627\u062a\u0631",toolbarFiltersTooltipHide:"\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u0641\u0644\u0627\u062a\u0631",toolbarFiltersTooltipShow:"\u0627\u0638\u0647\u0631 \u0627\u0644\u0641\u0644\u0627\u062a\u0631",toolbarFiltersTooltipActive:e=>"".concat(e," \u0641\u0644\u0627\u062a\u0631 \u0646\u0634\u0637\u0629"),toolbarExport:"\u062a\u0635\u062f\u064a\u0631",toolbarExportLabel:"\u062a\u0635\u062f\u064a\u0631",toolbarExportCSV:"\u062a\u0646\u0632\u064a\u0644 \u0643\u0645\u0644\u0641 CSV",columnsPanelTextFieldLabel:"\u0627\u064a\u062c\u0627\u062f \u0639\u0645\u0648\u062f",columnsPanelTextFieldPlaceholder:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0639\u0645\u0648\u062f",columnsPanelDragIconLabel:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0631\u062a\u064a\u0628 \u0627\u0644\u0639\u0645\u0648\u062f",columnsPanelShowAllButton:"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644",columnsPanelHideAllButton:"\u0627\u062e\u0641\u0627\u0621 \u0627\u0644\u0643\u0644",filterPanelAddFilter:"\u0627\u0636\u0641 \u0641\u0644\u062a\u0631",filterPanelDeleteIconLabel:"\u062d\u0630\u0641",filterPanelOperators:"\u0627\u0644\u0639\u0627\u0645\u0644\u064a\u0646",filterPanelOperatorAnd:"\u0648",filterPanelOperatorOr:"\u0627\u0648",filterPanelColumns:"\u0627\u0644\u0623\u0639\u0645\u062f\u0629",filterPanelInputLabel:"\u0642\u064a\u0645\u0629",filterPanelInputPlaceholder:"\u0642\u064a\u0645\u0629 \u0627\u0644\u062a\u0635\u0641\u064a\u0629",filterOperatorContains:"\u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649",filterOperatorEquals:"\u064a\u0633\u0627\u0648\u064a",filterOperatorStartsWith:"\u064a\u0628\u062f\u0623 \u0628",filterOperatorEndsWith:"\u064a\u0646\u062a\u0647\u064a \u0628\u0640",filterOperatorIs:"\u064a\u0643\u0648\u0646",filterOperatorNot:"\u0644\u064a\u0633",filterOperatorAfter:"\u064a\u0643\u0648\u0646 \u0628\u0639\u062f",filterOperatorOnOrAfter:"\u0641\u064a \u0623\u0648 \u0628\u0639\u062f",filterOperatorBefore:"\u064a\u0643\u0648\u0646",filterOperatorOnOrBefore:"\u0641\u064a \u0623\u0648 \u0642\u0628\u0644",filterOperatorIsEmpty:"\u0641\u0627\u0631\u063a",filterOperatorIsNotEmpty:"\u0644\u064a\u0633 \u0641\u0627\u0631\u063a\u0627",filterValueAny:"\u0623\u064a",filterValueTrue:"\u0635\u062d\u064a\u062d",filterValueFalse:"\u062e\u0627\u0637\u0626\u0629",columnMenuLabel:"\u0627\u0644\u0642\u0627\u0626\u0645\u0629",columnMenuShowColumns:"\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0623\u0639\u0645\u062f\u0629",columnMenuFilter:"\u0641\u0644\u062a\u0631",columnMenuHideColumn:"\u0625\u062e\u0641\u0627\u0621",columnMenuUnsort:"\u063a\u064a\u0631 \u0645\u0631\u062a\u0628",columnMenuSortAsc:"\u0627\u0644\u062a\u0631\u062a\u064a\u0628 \u062d\u0633\u0628 ASC",columnMenuSortDesc:"\u0627\u0644\u062a\u0631\u062a\u064a\u0628 \u062d\u0633\u0628 DESC",columnHeaderFiltersTooltipActive:e=>"".concat(e," \u0641\u0644\u0627\u062a\u0631 \u0646\u0634\u0637\u0629"),columnHeaderFiltersLabel:"\u0627\u0638\u0647\u0631 \u0627\u0644\u0641\u0644\u0627\u062a\u0631",columnHeaderSortIconLabel:"\u062a\u0631\u062a\u064a\u0628",footerRowSelected:e=>"".concat(e.toLocaleString()," \u0635\u0641\u0648\u0641 \u0645\u062e\u062a\u0627\u0631\u0629"),footerTotalRows:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0635\u0641\u0648\u0641:",footerTotalVisibleRows:(e,t)=>"".concat(e.toLocaleString()," \u0645\u0646 ").concat(t.toLocaleString()),checkboxSelectionHeaderName:"\u062a\u062d\u062f\u064a\u062f",booleanCellTrueLabel:"\u0635\u062d\u064a\u062d",booleanCellFalseLabel:"\u062e\u0627\u0637\u0626\u0629"},$t.cA),Du({noRowsLabel:"\u041d\u044f\u043c\u0430 \u0440\u0435\u0434\u043e\u0432\u0435",errorOverlayDefaultLabel:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430.",toolbarDensity:"\u0413\u044a\u0441\u0442\u043e\u0442\u0430",toolbarDensityLabel:"\u0413\u044a\u0441\u0442\u043e\u0442\u0430",toolbarDensityCompact:"\u041a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u0430",toolbarDensityStandard:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430",toolbarDensityComfortable:"\u041a\u043e\u043c\u0444\u043e\u0440\u0442\u043d\u0430",toolbarColumns:"\u041a\u043e\u043b\u043e\u043d\u0438",toolbarColumnsLabel:"\u041f\u043e\u043a\u0430\u0436\u0438 \u0441\u0435\u043b\u0435\u043a\u0442\u043e\u0440\u0430 \u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u0438",toolbarFilters:"\u0424\u0438\u043b\u0442\u0440\u0438",toolbarFiltersLabel:"\u041f\u043e\u043a\u0430\u0436\u0438 \u0424\u0438\u043b\u0442\u0440\u0438\u0442\u0435",toolbarFiltersTooltipHide:"\u0421\u043a\u0440\u0438\u0439 \u0424\u0438\u043b\u0442\u0440\u0438\u0442\u0435",toolbarFiltersTooltipShow:"\u041f\u043e\u043a\u0430\u0436\u0438 \u0424\u0438\u043b\u0442\u0440\u0438\u0442\u0435",toolbarFiltersTooltipActive:e=>"".concat(e," \u0430\u043a\u0442\u0438\u0432\u043d\u0438 \u0444\u0438\u043b\u0442\u0440\u0438"),columnsPanelTextFieldLabel:"\u041d\u0430\u043c\u0435\u0440\u0438 \u043a\u043e\u043b\u043e\u043d\u0430",columnsPanelTextFieldPlaceholder:"\u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 \u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u0430",columnsPanelDragIconLabel:"\u041f\u0440\u0435\u043d\u0430\u0440\u0435\u0434\u0438 \u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u0430",columnsPanelShowAllButton:"\u041f\u043e\u043a\u0430\u0436\u0438 \u0412\u0441\u0438\u0447\u043a\u0438",columnsPanelHideAllButton:"\u0421\u043a\u0440\u0438\u0439 \u0412\u0441\u0438\u0447\u043a\u0438",filterPanelAddFilter:"\u0414\u043e\u0431\u0430\u0432\u0438 \u0424\u0438\u043b\u0442\u044a\u0440",filterPanelDeleteIconLabel:"\u0418\u0437\u0442\u0440\u0438\u0439",filterPanelOperators:"\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0438",filterPanelOperatorAnd:"\u0418",filterPanelOperatorOr:"\u0418\u043b\u0438",filterPanelColumns:"\u041a\u043e\u043b\u043e\u043d\u0438",filterOperatorContains:"\u0441\u044a\u0434\u044a\u0440\u0436\u0430",filterOperatorEquals:"\u0440\u0430\u0432\u043d\u043e",filterOperatorStartsWith:"\u0437\u0430\u043f\u043e\u0447\u0432\u0430 \u0441",filterOperatorEndsWith:"\u0437\u0430\u0432\u044a\u0440\u0448\u0432\u0430 \u0441",filterOperatorIs:"\u0435",filterOperatorNot:"\u043d\u0435 \u0435",filterOperatorAfter:"\u0435 \u0441\u043b\u0435\u0434",filterOperatorOnOrAfter:"\u0435 \u043d\u0430 \u0438\u043b\u0438 \u0441\u043b\u0435\u0434",filterOperatorBefore:"\u0435 \u043f\u0440\u0435\u0434\u0438",filterOperatorOnOrBefore:"\u0435 \u043d\u0430 \u0438\u043b\u0438 \u043f\u0440\u0435\u0434\u0438",filterPanelInputLabel:"\u0421\u0442\u043e\u0439\u043d\u043e\u0441\u0442",filterPanelInputPlaceholder:"\u0421\u0442\u043e\u0439\u043d\u043e\u0441\u0442 \u043d\u0430 \u0444\u0438\u043b\u0442\u044a\u0440\u0430",columnMenuLabel:"\u041c\u0435\u043d\u044e",columnMenuShowColumns:"\u041f\u043e\u043a\u0430\u0436\u0438 \u043a\u043e\u043b\u043e\u043d\u0438\u0442\u0435",columnMenuFilter:"\u0424\u0438\u043b\u0442\u0440\u0438",columnMenuHideColumn:"\u0421\u043a\u0440\u0438\u0439",columnMenuUnsort:"\u041e\u0442\u043c\u0435\u043d\u0438 \u0441\u043e\u0440\u0442\u0438\u0440\u0430\u043d\u0435\u0442\u043e",columnMenuSortAsc:"\u0421\u043e\u0440\u0442\u0438\u0440\u0430\u0439 \u043f\u043e \u0432\u044a\u0437\u0445\u043e\u0434\u044f\u0449 \u0440\u0435\u0434",columnMenuSortDesc:"\u0421\u043e\u0440\u0442\u0438\u0440\u0430\u0439 \u043f\u043e \u043d\u0438\u0437\u0445\u043e\u0434\u044f\u0449 \u0440\u0435\u0434",columnHeaderFiltersTooltipActive:e=>"".concat(e," \u0430\u043a\u0442\u0438\u0432\u043d\u0438 \u0444\u0438\u043b\u0442\u0440\u0438"),columnHeaderFiltersLabel:"\u041f\u043e\u043a\u0430\u0436\u0438 \u0424\u0438\u043b\u0442\u0440\u0438\u0442\u0435",columnHeaderSortIconLabel:"\u0421\u043e\u0440\u0442\u0438\u0440\u0430\u0439",footerRowSelected:e=>"".concat(e.toLocaleString(),1!==e?" \u0438\u0437\u0431\u0440\u0430\u043d\u0438 \u0440\u0435\u0434\u043e\u0432\u0435":" \u0438\u0437\u0431\u0440\u0430\u043d \u0440\u0435\u0434"),footerTotalRows:"\u041e\u0431\u0449\u043e R\u0435\u0434\u043e\u0432\u0435:"},$t.dy),Du({noRowsLabel:"\u017d\xe1dn\xe9 z\xe1znamy",noResultsOverlayLabel:"Nena\u0161li se \u017eadn\xe9 v\xfdsledky.",errorOverlayDefaultLabel:"Stala sa nep\u0159edv\xeddan\xe1 chyba.",toolbarDensity:"Hustota",toolbarDensityLabel:"Hustota",toolbarDensityCompact:"Kompaktn\xed",toolbarDensityStandard:"Standartn\xed",toolbarDensityComfortable:"Komfortn\xed",toolbarColumns:"Sloupce",toolbarColumnsLabel:"Vybrat sloupec",toolbarFilters:"Filtry",toolbarFiltersLabel:"Zobrazit filtry",toolbarFiltersTooltipHide:"Skr\xfdt filtry",toolbarFiltersTooltipShow:"Zobrazit filtry",toolbarFiltersTooltipActive:e=>{let t="aktivn\xedch filtr\u016f";return e>1&&e<5?t="aktivn\xed filtry":1===e&&(t="aktivn\xed filtr"),"".concat(e," ").concat(t)},toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"St\xe1hnout jako CSV",columnsPanelTextFieldLabel:"Naj\xedt sloupec",columnsPanelTextFieldPlaceholder:"N\xe1zev sloupce",columnsPanelDragIconLabel:"Uspo\u0159\xe1dat sloupce",columnsPanelShowAllButton:"Zobrazit v\u0161e",columnsPanelHideAllButton:"Skr\xfdt v\u0161e",filterPanelAddFilter:"P\u0159idat filtr",filterPanelDeleteIconLabel:"Odstranit",filterPanelOperators:"Oper\xe1tory",filterPanelOperatorAnd:"A",filterPanelOperatorOr:"Nebo",filterPanelColumns:"Sloupce",filterPanelInputLabel:"Hodnota",filterPanelInputPlaceholder:"Hodnota filtru",filterOperatorContains:"obsahuje",filterOperatorEquals:"rovn\xe1 se",filterOperatorStartsWith:"za\u010d\xedn\xe1 s",filterOperatorEndsWith:"kon\u010d\xed na",filterOperatorIs:"je",filterOperatorNot:"nen\xed",filterOperatorAfter:"je po",filterOperatorOnOrAfter:"je na nebo po",filterOperatorBefore:"je p\u0159ed",filterOperatorOnOrBefore:"je na nebo d\u0159\xedve",filterValueAny:"jak\xfdkoliv",filterValueTrue:"ano",filterValueFalse:"ne",columnMenuLabel:"Menu",columnMenuShowColumns:"Zobrazit sloupce",columnMenuFilter:"Filtr",columnMenuHideColumn:"Skr\xfdt",columnMenuUnsort:"Zru\u0161it filtry",columnMenuSortAsc:"Se\u0159adit vzestupn\u011b",columnMenuSortDesc:"Se\u0159adit sestupn\u011b",columnHeaderFiltersTooltipActive:e=>{let t="aktivn\xedch filtr\u016f";return e>1&&e<5?t="aktivn\xed filtry":1===e&&(t="aktivn\xed filtr"),"".concat(e," ").concat(t)},columnHeaderFiltersLabel:"Zobrazit filtry",columnHeaderSortIconLabel:"Filtrovat",footerRowSelected:e=>{let t="vybran\xfdch z\xe1znam\u016f";return e>1&&e<5?t="vybran\xe9 z\xe1znamy":1===e&&(t="vybran\xfd z\xe1znam"),"".concat(e," ").concat(t)},footerTotalRows:"Celkem \u0159\xe1dk\u016f:",checkboxSelectionHeaderName:"V\xfdb\u011br \u0159\xe1dku",booleanCellTrueLabel:"ano",booleanCellFalseLabel:"ne"},$t.o6),Du({noRowsLabel:"Keine Eintr\xe4ge",noResultsOverlayLabel:"Keine Ergebnisse gefunden.",errorOverlayDefaultLabel:"Ein unerwarteter Fehler ist aufgetreten.",toolbarDensity:"Zeilenh\xf6he",toolbarDensityLabel:"Zeilenh\xf6he",toolbarDensityCompact:"Kompakt",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Breit",toolbarColumns:"Spalten",toolbarColumnsLabel:"Zeige Spaltenauswahl",toolbarFilters:"Filter",toolbarFiltersLabel:"Zeige Filter",toolbarFiltersTooltipHide:"Verberge Filter",toolbarFiltersTooltipShow:"Zeige Filter",toolbarFiltersTooltipActive:e=>"".concat(e,1!==e?" aktive Filter":" aktiver Filter"),toolbarExport:"Exportieren",toolbarExportLabel:"Exportieren",toolbarExportCSV:"Download als CSV",columnsPanelTextFieldLabel:"Finde Spalte",columnsPanelTextFieldPlaceholder:"Spalten\xfcberschrift",columnsPanelDragIconLabel:"Spalte umsortieren",columnsPanelShowAllButton:"Zeige alle",columnsPanelHideAllButton:"Verberge alle",filterPanelAddFilter:"Filter hinzuf\xfcgen",filterPanelDeleteIconLabel:"L\xf6schen",filterPanelOperators:"Operatoren",filterPanelOperatorAnd:"Und",filterPanelOperatorOr:"Oder",filterPanelColumns:"Spalten",filterPanelInputLabel:"Wert",filterPanelInputPlaceholder:"Wert filtern",filterOperatorContains:"beinhaltet",filterOperatorEquals:"ist gleich",filterOperatorStartsWith:"beginnt mit",filterOperatorEndsWith:"endet mit",filterOperatorIs:"ist",filterOperatorNot:"ist nicht",filterOperatorOnOrAfter:"ist an oder nach",filterOperatorBefore:"ist vor",filterOperatorOnOrBefore:"ist an oder vor",filterOperatorAfter:"ist nach",filterOperatorIsEmpty:"ist leer",filterOperatorIsNotEmpty:"ist nicht leer",columnMenuLabel:"Men\xfc",columnMenuShowColumns:"Zeige alle Spalten",columnMenuFilter:"Filter",columnMenuHideColumn:"Verbergen",columnMenuUnsort:"Sortierung deaktivieren",columnMenuSortAsc:"Sortiere aufsteigend",columnMenuSortDesc:"Sortiere absteigend",columnHeaderFiltersTooltipActive:e=>"".concat(e,1!==e?" aktive Filter":" aktiver Filter"),columnHeaderFiltersLabel:"Zeige Filter",columnHeaderSortIconLabel:"Sortieren",footerRowSelected:e=>"".concat(e.toLocaleString(),1!==e?" Eintr\xe4ge ausgew\xe4hlt":" Eintrag ausgew\xe4hlt"),footerTotalRows:"Gesamt:",footerTotalVisibleRows:(e,t)=>"".concat(e.toLocaleString()," von ").concat(t.toLocaleString())},$t.z5),Du({noRowsLabel:"\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03b9\u03c2",errorOverlayDefaultLabel:"\u03a0\u03b1\u03c1\u03bf\u03c5\u03c3\u03b9\u03ac\u03c3\u03c4\u03b7\u03ba\u03b5 \u03b1\u03c0\u03c1\u03cc\u03b2\u03bb\u03b5\u03c0\u03c4\u03bf \u03c3\u03c6\u03ac\u03bb\u03bc\u03b1.",toolbarDensity:"\u038e\u03c8\u03bf\u03c2 \u03c3\u03b5\u03b9\u03c1\u03ac\u03c2",toolbarDensityLabel:"\u038e\u03c8\u03bf\u03c2 \u03c3\u03b5\u03b9\u03c1\u03ac\u03c2",toolbarDensityCompact:"\u03a3\u03c5\u03bc\u03c0\u03b1\u03b3\u03ae\u03c2",toolbarDensityStandard:"\u03a0\u03c1\u03bf\u03ba\u03b1\u03b8\u03bf\u03c1\u03b9\u03c3\u03bc\u03ad\u03bd\u03bf",toolbarDensityComfortable:"\u03a0\u03bb\u03b1\u03c4\u03cd",toolbarColumns:"\u03a3\u03c4\u03ae\u03bb\u03b5\u03c2",toolbarColumnsLabel:"\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c3\u03c4\u03ae\u03bb\u03b5\u03c2",toolbarFilters:"\u03a6\u03af\u03bb\u03c4\u03c1\u03b1",toolbarFiltersLabel:"\u0395\u03bc\u03c6\u03ac\u03bd\u03b9\u03c3\u03b7 \u03c6\u03af\u03bb\u03c4\u03c1\u03c9\u03bd",toolbarFiltersTooltipHide:"\u0391\u03c0\u03cc\u03ba\u03c1\u03c5\u03c8\u03b7 \u03c6\u03af\u03bb\u03c4\u03c1\u03c9\u03bd",toolbarFiltersTooltipShow:"\u0395\u03bc\u03c6\u03ac\u03bd\u03b9\u03c3\u03b7 \u03c6\u03af\u03bb\u03c4\u03c1\u03c9\u03bd",toolbarFiltersTooltipActive:e=>"".concat(e,1!==e?" \u03b5\u03bd\u03b5\u03c1\u03b3\u03ac \u03c6\u03af\u03bb\u03c4\u03c1\u03b1":" \u03b5\u03bd\u03b5\u03c1\u03b3\u03cc \u03c6\u03af\u03bb\u03c4\u03c1\u03bf"),toolbarExport:"\u0395\u03be\u03b1\u03b3\u03c9\u03b3\u03ae",toolbarExportLabel:"\u0395\u03be\u03b1\u03b3\u03c9\u03b3\u03ae",toolbarExportCSV:"\u039b\u03ae\u03c8\u03b7 \u03c9\u03c2 CSV",columnsPanelTextFieldLabel:"\u0395\u03cd\u03c1\u03b5\u03c3\u03b7 \u03c3\u03c4\u03ae\u03bb\u03b7\u03c2",columnsPanelTextFieldPlaceholder:"\u0395\u03c0\u03b9\u03ba\u03b5\u03c6\u03b1\u03bb\u03af\u03b4\u03b1 \u03c3\u03c4\u03ae\u03bb\u03b7\u03c2",columnsPanelDragIconLabel:"\u0391\u03bd\u03b1\u03b4\u03b9\u03ac\u03c4\u03b1\u03be\u03b7 \u03c3\u03c4\u03ae\u03bb\u03b7\u03c2",columnsPanelShowAllButton:"\u03a0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae \u03cc\u03bb\u03c9\u03bd",columnsPanelHideAllButton:"\u0391\u03c0\u03cc\u03ba\u03c1\u03c5\u03c8\u03b7 \u03cc\u03bb\u03c9\u03bd",filterPanelAddFilter:"\u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u03c6\u03af\u03bb\u03c4\u03c1\u03bf\u03c5",filterPanelDeleteIconLabel:"\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae",filterPanelOperators:"\u03a4\u03b5\u03bb\u03b5\u03c3\u03c4\u03ad\u03c2",filterPanelOperatorAnd:"\u039a\u03b1\u03af",filterPanelOperatorOr:"\u0389",filterPanelColumns:"\u03a3\u03c4\u03ae\u03bb\u03b5\u03c2",filterPanelInputLabel:"\u03a4\u03b9\u03bc\u03ae",filterPanelInputPlaceholder:"\u03a4\u03b9\u03bc\u03ae \u03c6\u03af\u03bb\u03c4\u03c1\u03bf\u03c5",filterOperatorContains:"\u03c0\u03b5\u03c1\u03b9\u03ad\u03c7\u03b5\u03b9",filterOperatorEquals:"\u03b9\u03c3\u03bf\u03cd\u03c4\u03b1\u03b9",filterOperatorStartsWith:"\u03be\u03b5\u03ba\u03b9\u03bd\u03ac\u03b5\u03b9 \u03bc\u03b5",filterOperatorEndsWith:"\u03c4\u03b5\u03bb\u03b5\u03b9\u03ce\u03bd\u03b5\u03b9 \u03bc\u03b5",filterOperatorIs:"\u03b5\u03af\u03bd\u03b1\u03b9",filterOperatorNot:"\u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9",filterOperatorAfter:"\u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03c4\u03ac",filterOperatorOnOrAfter:"\u03b5\u03af\u03bd\u03b1\u03b9 \u03af\u03c3\u03bf \u03ae \u03bc\u03b5\u03c4\u03ac",filterOperatorBefore:"\u03b5\u03af\u03bd\u03b1\u03b9 \u03c0\u03c1\u03b9\u03bd",filterOperatorOnOrBefore:"\u03b5\u03af\u03bd\u03b1\u03b9 \u03af\u03c3\u03bf \u03ae \u03c0\u03c1\u03b9\u03bd",columnMenuLabel:"\u039c\u03b5\u03bd\u03bf\u03cd",columnMenuShowColumns:"\u0395\u03bc\u03c6\u03ac\u03bd\u03b9\u03c3\u03b7 \u03c3\u03c4\u03b7\u03bb\u03ce\u03bd",columnMenuFilter:"\u03a6\u03af\u03bb\u03c4\u03c1\u03bf",columnMenuHideColumn:"\u0391\u03c0\u03cc\u03ba\u03c1\u03c5\u03c8\u03b7",columnMenuUnsort:"\u0391\u03c0\u03b5\u03bd\u03b5\u03c1\u03b3\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7 \u03c4\u03b1\u03be\u03b9\u03bd\u03cc\u03bc\u03b7\u03c3\u03b7\u03c2",columnMenuSortAsc:"\u03a4\u03b1\u03be\u03b9\u03bd\u03cc\u03bc\u03b7\u03c3\u03b7 \u03c3\u03b5 \u03b1\u03cd\u03be\u03bf\u03c5\u03c3\u03b1 \u03c3\u03b5\u03b9\u03c1\u03ac",columnMenuSortDesc:"\u03a4\u03b1\u03be\u03b9\u03bd\u03cc\u03bc\u03b7\u03c3\u03b7 \u03c3\u03b5 \u03c6\u03b8\u03af\u03bd\u03bf\u03c5\u03c3\u03b1 \u03c3\u03b5\u03b9\u03c1\u03ac",columnHeaderFiltersTooltipActive:e=>"".concat(e,1!==e?" \u03b5\u03bd\u03b5\u03c1\u03b3\u03ac \u03c6\u03af\u03bb\u03c4\u03c1\u03b1":" \u03b5\u03bd\u03b5\u03c1\u03b3\u03cc \u03c6\u03af\u03bb\u03c4\u03c1\u03bf"),columnHeaderFiltersLabel:"\u0395\u03bc\u03c6\u03ac\u03bd\u03b9\u03c3\u03b7 \u03c6\u03af\u03bb\u03c4\u03c1\u03c9\u03bd",columnHeaderSortIconLabel:"\u03a4\u03b1\u03be\u03b9\u03bd\u03cc\u03bc\u03b7\u03c3\u03b7",footerRowSelected:e=>"".concat(e.toLocaleString(),1!==e?" \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03b5\u03c2 \u03b3\u03c1\u03b1\u03bc\u03bc\u03ad\u03c2":" \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03b7 \u03b3\u03c1\u03b1\u03bc\u03bc\u03ae"),footerTotalRows:"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u0393\u03c1\u03b1\u03bc\u03bc\u03ce\u03bd:"}),Du(so,$t.cA),Du({noRowsLabel:"Sin filas",errorOverlayDefaultLabel:"Ha ocurrido un error.",toolbarDensity:"Densidad",toolbarDensityLabel:"Densidad",toolbarDensityCompact:"Compacta",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comoda",toolbarColumns:"Columnas",toolbarColumnsLabel:"Seleccionar columnas",toolbarFilters:"Filtros",toolbarFiltersLabel:"Mostrar filtros",toolbarFiltersTooltipHide:"Ocultar filtros",toolbarFiltersTooltipShow:"Mostrar filtros",toolbarFiltersTooltipActive:e=>"".concat(e,e>1?" filtros activos":" filtro activo"),toolbarExport:"Exportar",toolbarExportLabel:"Exportar",toolbarExportCSV:"Descargar como CSV",columnsPanelTextFieldLabel:"Columna de b\xfasqueda",columnsPanelTextFieldPlaceholder:"T\xedtulo de columna",columnsPanelDragIconLabel:"Reorder columna",columnsPanelShowAllButton:"Mostrar todo",columnsPanelHideAllButton:"Ocultar todo",filterPanelAddFilter:"Agregar filtro",filterPanelDeleteIconLabel:"Borrar",filterPanelOperators:"Operadores",filterPanelOperatorAnd:"Y",filterPanelOperatorOr:"O",filterPanelColumns:"Columnas",filterPanelInputLabel:"Valor",filterPanelInputPlaceholder:"Valor de filtro",filterOperatorContains:"contiene",filterOperatorEquals:"es igual",filterOperatorStartsWith:"comienza con",filterOperatorEndsWith:"termina con",filterOperatorIs:"es",filterOperatorNot:"no es",filterOperatorAfter:"es posterior",filterOperatorOnOrAfter:"es en o posterior",filterOperatorBefore:"es anterior",filterOperatorOnOrBefore:"es en o anterior",filterOperatorIsEmpty:"est\xe1 vac\xedo",filterOperatorIsNotEmpty:"no esta vac\xedo",columnMenuLabel:"Men\xfa",columnMenuShowColumns:"Mostrar columnas",columnMenuFilter:"Filtro",columnMenuHideColumn:"Ocultar",columnMenuUnsort:"Desordenar",columnMenuSortAsc:"Ordenar ASC",columnMenuSortDesc:"Ordenar DESC",columnHeaderFiltersTooltipActive:e=>"".concat(e,e>1?" filtros activos":" filtro activo"),columnHeaderFiltersLabel:"Mostrar filtros",columnHeaderSortIconLabel:"Ordenar",footerRowSelected:e=>"".concat(e.toLocaleString(),e>1?" filas seleccionadas":" fila seleccionada"),footerTotalRows:"Filas Totales:",footerTotalVisibleRows:(e,t)=>"".concat(e.toLocaleString()," de ").concat(t.toLocaleString())},$t.FG),Du({noRowsLabel:"Pas de r\xe9sultats",noResultsOverlayLabel:"Aucun r\xe9sultat.",errorOverlayDefaultLabel:"Une erreur est apparue.",toolbarDensity:"Densit\xe9",toolbarDensityLabel:"Densit\xe9",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Confortable",toolbarColumns:"Colonnes",toolbarColumnsLabel:"Choisir les colonnes",toolbarFilters:"Filtres",toolbarFiltersLabel:"Afficher les filtres",toolbarFiltersTooltipHide:"Cacher les filtres",toolbarFiltersTooltipShow:"Afficher les filtres",toolbarFiltersTooltipActive:e=>"".concat(e,e>1?" filtres actifs":" filtre actif"),toolbarExport:"Exporter",toolbarExportLabel:"Exporter",toolbarExportCSV:"T\xe9l\xe9charger en CSV",columnsPanelTextFieldLabel:"Chercher colonne",columnsPanelTextFieldPlaceholder:"Titre de la colonne",columnsPanelDragIconLabel:"R\xe9organiser la colonne",columnsPanelShowAllButton:"Tout afficher",columnsPanelHideAllButton:"Tout cacher",filterPanelAddFilter:"Ajouter un filtre",filterPanelDeleteIconLabel:"Supprimer",filterPanelOperators:"Op\xe9rateurs",filterPanelOperatorAnd:"Et",filterPanelOperatorOr:"Ou",filterPanelColumns:"Colonnes",filterPanelInputLabel:"Valeur",filterPanelInputPlaceholder:"Filtrer la valeur",filterOperatorContains:"contient",filterOperatorEquals:"\xe9gal \xe0",filterOperatorStartsWith:"commence par",filterOperatorEndsWith:"se termine par",filterOperatorIs:"est",filterOperatorNot:"n'est pas",filterOperatorOnOrAfter:"\xe9gal ou post\xe9rieur",filterOperatorAfter:"post\xe9rieur",filterOperatorOnOrBefore:"\xe9gal ou ant\xe9rieur",filterOperatorBefore:"ant\xe9rieur",filterOperatorIsEmpty:"est vide",filterOperatorIsNotEmpty:"n'est pas vide",columnMenuLabel:"Menu",columnMenuShowColumns:"Afficher les colonnes",columnMenuFilter:"Filtrer",columnMenuHideColumn:"Cacher",columnMenuUnsort:"Annuler le tri",columnMenuSortAsc:"Tri ascendant",columnMenuSortDesc:"Tri descendant",columnHeaderFiltersTooltipActive:e=>"".concat(e,e>1?" filtres actifs":" filtre actif"),columnHeaderFiltersLabel:"Afficher les filtres",columnHeaderSortIconLabel:"Trier",footerRowSelected:e=>"".concat(e.toLocaleString(),e>1?" lignes s\xe9lectionn\xe9es":" ligne s\xe9lectionn\xe9e"),footerTotalRows:"Lignes totales :",footerTotalVisibleRows:(e,t)=>"".concat(e.toLocaleString()," sur ").concat(t.toLocaleString()),checkboxSelectionHeaderName:"S\xe9lection"},$t.nd),Du({noRowsLabel:"Nessun record",noResultsOverlayLabel:"Nessun record trovato.",errorOverlayDefaultLabel:"Si \xe8 verificato un errore.",toolbarDensity:"Densit\xe0",toolbarDensityLabel:"Densit\xe0",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Confortable",toolbarColumns:"Colonne",toolbarColumnsLabel:"Seleziona le colonne",toolbarFilters:"Filtri",toolbarFiltersLabel:"Mostra i filtri",toolbarFiltersTooltipHide:"Nascondi i filtri",toolbarFiltersTooltipShow:"Mostra i filtri",toolbarFiltersTooltipActive:e=>"".concat(e,e>1?" filtri attivi":" filtro attivo"),columnsPanelTextFieldLabel:"Cerca colonna",columnsPanelTextFieldPlaceholder:"Titolo della colonna",columnsPanelDragIconLabel:"Riordina la colonna",columnsPanelShowAllButton:"Mostra tutto",columnsPanelHideAllButton:"Nascondi tutto",filterPanelAddFilter:"Aggiungi un filtro",filterPanelDeleteIconLabel:"Rimuovi",filterPanelOperators:"Operatori",filterPanelOperatorAnd:"E (and)",filterPanelOperatorOr:"O (or)",filterPanelColumns:"Colonne",filterPanelInputLabel:"Valore",filterPanelInputPlaceholder:"Filtra il valore",filterOperatorContains:"contiene",filterOperatorEquals:"uguale a",filterOperatorStartsWith:"comincia per",filterOperatorEndsWith:"termina per",filterOperatorIs:"uguale a",filterOperatorNot:"diversa da",filterOperatorOnOrAfter:"a partire dal",filterOperatorAfter:"dopo il",filterOperatorOnOrBefore:"fino al",filterOperatorBefore:"prima del",filterOperatorIsEmpty:"\xe8 vuoto",filterOperatorIsNotEmpty:"non \xe8 vuoto",columnMenuLabel:"Menu",columnMenuShowColumns:"Mostra le colonne",columnMenuFilter:"Filtra",columnMenuHideColumn:"Nascondi",columnMenuUnsort:"Annulla l'ordinamento",columnMenuSortAsc:"Ordinamento crescente",columnMenuSortDesc:"Ordinamento decrescente",columnHeaderFiltersTooltipActive:e=>"".concat(e,e>1?" filtri attivi":" filtro attivo"),columnHeaderFiltersLabel:"Mostra i filtri",columnHeaderSortIconLabel:"Ordina",footerRowSelected:e=>"".concat(e.toLocaleString(),e>1?" record selezionati":" record selezionato"),footerTotalRows:"Record totali :",footerTotalVisibleRows:(e,t)=>"".concat(e.toLocaleString()," di ").concat(t.toLocaleString()),checkboxSelectionHeaderName:"Seleziona"},$t.NO),Du({noRowsLabel:"\u884c\u304c\u3042\u308a\u307e\u305b\u3093",errorOverlayDefaultLabel:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",toolbarDensity:"\u884c\u9593\u9694",toolbarDensityLabel:"\u884c\u9593\u9694",toolbarDensityCompact:"\u30b3\u30f3\u30d1\u30af\u30c8",toolbarDensityStandard:"\u6a19\u6e96",toolbarDensityComfortable:"\u3072\u308d\u3081",toolbarColumns:"\u5217\u4e00\u89a7",toolbarColumnsLabel:"\u5217\u9078\u629e",toolbarFilters:"\u30d5\u30a3\u30eb\u30bf\u30fc",toolbarFiltersLabel:"\u30d5\u30a3\u30eb\u30bf\u30fc\u8868\u793a",toolbarFiltersTooltipHide:"\u30d5\u30a3\u30eb\u30bf\u30fc\u975e\u8868\u793a",toolbarFiltersTooltipShow:"\u30d5\u30a3\u30eb\u30bf\u30fc\u8868\u793a",toolbarFiltersTooltipActive:e=>"".concat(e,"\u4ef6\u306e\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u9069\u7528\u4e2d"),toolbarExport:"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8",toolbarExportLabel:"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8",toolbarExportCSV:"CSV\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9",columnsPanelTextFieldLabel:"\u5217\u691c\u7d22",columnsPanelTextFieldPlaceholder:"\u691c\u7d22\u30af\u30a8\u30ea\u3092\u5165\u529b...",columnsPanelDragIconLabel:"\u5217\u4e26\u3079\u66ff\u3048",columnsPanelShowAllButton:"\u3059\u3079\u3066\u8868\u793a",columnsPanelHideAllButton:"\u3059\u3079\u3066\u975e\u8868\u793a",filterPanelAddFilter:"\u30d5\u30a3\u30eb\u30bf\u30fc\u8ffd\u52a0",filterPanelDeleteIconLabel:"\u524a\u9664",filterPanelOperators:"\u30aa\u30da\u30ec\u30fc\u30bf",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"\u5217",filterPanelInputLabel:"\u5024",filterPanelInputPlaceholder:"\u5024\u3092\u5165\u529b...",filterOperatorContains:"...\u3092\u542b\u3080",filterOperatorEquals:"...\u306b\u7b49\u3057\u3044",filterOperatorStartsWith:"...\u3067\u59cb\u307e\u308b",filterOperatorEndsWith:"...\u3067\u7d42\u308f\u308b",filterOperatorIs:"...\u3067\u3042\u308b",filterOperatorNot:"...\u3067\u306a\u3044",filterOperatorAfter:"...\u3088\u308a\u5f8c\u308d",filterOperatorOnOrAfter:"...\u4ee5\u964d",filterOperatorBefore:"...\u3088\u308a\u524d",filterOperatorOnOrBefore:"...\u4ee5\u524d",columnMenuLabel:"\u30e1\u30cb\u30e5\u30fc",columnMenuShowColumns:"\u5217\u8868\u793a",columnMenuFilter:"\u30d5\u30a3\u30eb\u30bf\u30fc",columnMenuHideColumn:"\u5217\u975e\u8868\u793a",columnMenuUnsort:"\u30bd\u30fc\u30c8\u89e3\u9664",columnMenuSortAsc:"\u6607\u9806\u30bd\u30fc\u30c8",columnMenuSortDesc:"\u964d\u9806\u30bd\u30fc\u30c8",columnHeaderFiltersTooltipActive:e=>"".concat(e,"\u4ef6\u306e\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u9069\u7528\u4e2d"),columnHeaderFiltersLabel:"\u30d5\u30a3\u30eb\u30bf\u30fc\u8868\u793a",columnHeaderSortIconLabel:"\u30bd\u30fc\u30c8",footerRowSelected:e=>"".concat(e,"\u884c\u3092\u9078\u629e\u4e2d"),footerTotalRows:"\u7dcf\u884c\u6570:"},$t.qx),Du({noRowsLabel:"Geen resultaten.",errorOverlayDefaultLabel:"Er deed zich een fout voor.",toolbarDensity:"Grootte",toolbarDensityLabel:"Grootte",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Normaal",toolbarDensityComfortable:"Breed",toolbarColumns:"Kolommen",toolbarColumnsLabel:"Kies kolommen",toolbarFilters:"Filters",toolbarFiltersLabel:"Toon filters",toolbarFiltersTooltipHide:"Verberg filters",toolbarFiltersTooltipShow:"Toon filters",toolbarFiltersTooltipActive:e=>"".concat(e,e>1?" actieve filters":" filter actief"),columnsPanelTextFieldLabel:"Zoek kolom",columnsPanelTextFieldPlaceholder:"Kolomtitel",columnsPanelDragIconLabel:"Kolom herschikken",columnsPanelShowAllButton:"Alles tonen",columnsPanelHideAllButton:"Alles verbergen",filterPanelAddFilter:"Filter toevoegen",filterPanelDeleteIconLabel:"Verwijderen",filterPanelOperators:"Operatoren",filterPanelOperatorAnd:"En",filterPanelOperatorOr:"Of",filterPanelColumns:"Kolommen",filterPanelInputLabel:"Waarde",filterPanelInputPlaceholder:"Filter waarde",filterOperatorContains:"bevat",filterOperatorEquals:"gelijk aan",filterOperatorStartsWith:"begint met",filterOperatorEndsWith:"eindigt met",filterOperatorIs:"is",filterOperatorNot:"is niet",filterOperatorOnOrAfter:"is gelijk of er voor",filterOperatorAfter:"is voor",filterOperatorOnOrBefore:"is gelijk of er na",filterOperatorBefore:"is na",columnMenuLabel:"Menu",columnMenuShowColumns:"Toon kolommen",columnMenuFilter:"Filteren",columnMenuHideColumn:"Verbergen",columnMenuUnsort:"Annuleer sortering",columnMenuSortAsc:"Oplopend sorteren",columnMenuSortDesc:"Aflopend sorteren",columnHeaderFiltersTooltipActive:e=>"".concat(e,e>1?" actieve filters":" filter actief"),columnHeaderFiltersLabel:"Toon filters",columnHeaderSortIconLabel:"Sorteren",footerRowSelected:e=>"".concat(e.toLocaleString(),e>1?" rijen geselecteerd":" rij geselecteerd"),footerTotalRows:"Totaal:"},$t.xK),Du({noRowsLabel:"Brak danych",errorOverlayDefaultLabel:"Wyst\u0105pi\u0142 b\u0142\u0105d.",toolbarDensity:"Wysoko\u015b\u0107 rz\u0119du",toolbarDensityLabel:"Wysoko\u015b\u0107 rz\u0119du",toolbarDensityCompact:"Kompakt",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Komfort",toolbarColumns:"Kolumny",toolbarColumnsLabel:"Zaznacz kolumny",toolbarFilters:"Filtry",toolbarFiltersLabel:"Poka\u017c filtry",toolbarFiltersTooltipHide:"Ukryj filtry",toolbarFiltersTooltipShow:"Poka\u017c filtry",toolbarFiltersTooltipActive:e=>"Liczba aktywnych filtr\xf3w: ".concat(e),toolbarExport:"Eksportuj",toolbarExportLabel:"Eksportuj",toolbarExportCSV:"Pobierz jako plik CSV",columnsPanelTextFieldLabel:"Znajd\u017a kolumn\u0119",columnsPanelTextFieldPlaceholder:"Tytu\u0142 kolumny",columnsPanelDragIconLabel:"Zmie\u0144 kolejno\u015b\u0107 kolumn",columnsPanelShowAllButton:"Poka\u017c wszystko",columnsPanelHideAllButton:"Ukryj wszystko",filterPanelAddFilter:"Dodaj filtr",filterPanelDeleteIconLabel:"Usu\u0144",filterPanelOperators:"Operator",filterPanelOperatorAnd:"I",filterPanelOperatorOr:"Lub",filterPanelColumns:"Kolumny",filterPanelInputLabel:"Warto\u015b\u0107",filterPanelInputPlaceholder:"Filtrowana warto\u015b\u0107",filterOperatorContains:"zawiera",filterOperatorEquals:"r\xf3wna si\u0119",filterOperatorStartsWith:"zaczyna si\u0119 od",filterOperatorEndsWith:"ko\u0144czy si\u0119 na",filterOperatorIs:"r\xf3wna si\u0119",filterOperatorNot:"r\xf3\u017cne",filterOperatorAfter:"wi\u0119ksze ni\u017c",filterOperatorOnOrAfter:"wi\u0119ksze lub r\xf3wne",filterOperatorBefore:"mniejsze ni\u017c",filterOperatorOnOrBefore:"mniejsze lub r\xf3wne",columnMenuLabel:"Menu",columnMenuShowColumns:"Poka\u017c wszystkie kolumny",columnMenuFilter:"Filtr",columnMenuHideColumn:"Ukryj",columnMenuUnsort:"Anuluj sortowanie",columnMenuSortAsc:"Sortuj rosn\u0105co",columnMenuSortDesc:"Sortuj malej\u0105co",columnHeaderFiltersTooltipActive:e=>"Liczba aktywnych filtr\xf3w: ".concat(e),columnHeaderFiltersLabel:"Poka\u017c filtry",columnHeaderSortIconLabel:"Sortuj",footerRowSelected:e=>"Liczba wybranych wierszy: ".concat(e.toLocaleString()),footerTotalRows:"\u0141\u0105czna liczba wierszy:"},$t.$N),Du({noRowsLabel:"Nenhuma linha",noResultsOverlayLabel:"Nenhum resultado encontrado.",errorOverlayDefaultLabel:"Ocorreu um erro.",toolbarDensity:"Densidade",toolbarDensityLabel:"Densidade",toolbarDensityCompact:"Compacto",toolbarDensityStandard:"Padr\xe3o",toolbarDensityComfortable:"Confort\xe1vel",toolbarColumns:"Colunas",toolbarColumnsLabel:"Exibir seletor de colunas",toolbarFilters:"Filtros",toolbarFiltersLabel:"Exibir filtros",toolbarFiltersTooltipHide:"Ocultar filtros",toolbarFiltersTooltipShow:"Exibir filtros",toolbarFiltersTooltipActive:e=>"".concat(e," ").concat(1!==e?"filtros":"filtro"," ").concat(1!==e?"ativos":"ativo"),toolbarExport:"Exportar",toolbarExportLabel:"Exportar",toolbarExportCSV:"Baixar como CSV",columnsPanelTextFieldLabel:"Localizar coluna",columnsPanelTextFieldPlaceholder:"T\xedtulo da coluna",columnsPanelDragIconLabel:"Reordenar Coluna",columnsPanelShowAllButton:"Mostrar todas",columnsPanelHideAllButton:"Ocultar todas",filterPanelAddFilter:"Adicionar filtro",filterPanelDeleteIconLabel:"Excluir",filterPanelOperators:"Operadores",filterPanelOperatorAnd:"E",filterPanelOperatorOr:"Ou",filterPanelColumns:"Colunas",filterPanelInputLabel:"Valor",filterPanelInputPlaceholder:"Filtrar valor",filterOperatorContains:"cont\xe9m",filterOperatorEquals:"\xe9 igual a",filterOperatorStartsWith:"come\xe7a com",filterOperatorEndsWith:"termina com",filterOperatorIs:"\xe9",filterOperatorNot:"n\xe3o \xe9",filterOperatorOnOrAfter:"em ou ap\xf3s",filterOperatorBefore:"antes de",filterOperatorOnOrBefore:"em ou antes de",filterOperatorAfter:"ap\xf3s",filterOperatorIsEmpty:"est\xe1 vazio",filterOperatorIsNotEmpty:"n\xe3o est\xe1 vazio",columnMenuLabel:"Menu",columnMenuShowColumns:"Exibir colunas",columnMenuFilter:"Filtrar",columnMenuHideColumn:"Ocultar",columnMenuUnsort:"Desfazer ordena\xe7\xe3o",columnMenuSortAsc:"Ordenar do menor para o maior",columnMenuSortDesc:"Ordenar do maior para o menor",columnHeaderFiltersTooltipActive:e=>"".concat(e," ").concat(1!==e?"filtros":"filtro"," ").concat(1!==e?"ativos":"ativo"),columnHeaderFiltersLabel:"Exibir Filtros",columnHeaderSortIconLabel:"Ordenar",footerRowSelected:e=>"".concat(e.toLocaleString(),1!==e?" linhas selecionadas":" linha selecionada"),footerTotalRows:"Total de linhas:",footerTotalVisibleRows:(e,t)=>"".concat(e.toLocaleString()," de ").concat(t.toLocaleString()),checkboxSelectionHeaderName:"Sele\xe7\xe3o",booleanCellTrueLabel:"sim",booleanCellFalseLabel:"n\xe3o"},$t.Fo),Du({noRowsLabel:"\u041d\u0435\u0442 \u0441\u0442\u0440\u043e\u043a",errorOverlayDefaultLabel:"\u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.",toolbarDensity:"\u0412\u044b\u0441\u043e\u0442\u0430 \u0441\u0442\u0440\u043e\u043a\u0438",toolbarDensityLabel:"\u0412\u044b\u0441\u043e\u0442\u0430 \u0441\u0442\u0440\u043e\u043a\u0438",toolbarDensityCompact:"\u041a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u0430\u044f",toolbarDensityStandard:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f",toolbarDensityComfortable:"\u041a\u043e\u043c\u0444\u043e\u0440\u0442\u043d\u0430\u044f",toolbarColumns:"\u0421\u0442\u043e\u043b\u0431\u0446\u044b",toolbarColumnsLabel:"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u044b",toolbarFilters:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b",toolbarFiltersLabel:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b",toolbarFiltersTooltipHide:"\u0421\u043a\u0440\u044b\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b",toolbarFiltersTooltipShow:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b",toolbarFiltersTooltipActive:e=>{let t="\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432";const n=e%10;return n>1&&n<5?t="\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u0430":1===n&&(t="\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u0442\u0440"),"".concat(e," ").concat(t)},toolbarExport:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442",toolbarExportLabel:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442",toolbarExportCSV:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 CSV",columnsPanelTextFieldLabel:"\u041d\u0430\u0439\u0442\u0438 \u0441\u0442\u043e\u043b\u0431\u0435\u0446",columnsPanelTextFieldPlaceholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u043e\u043b\u0431\u0446\u0430",columnsPanelDragIconLabel:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0441\u0442\u043e\u043b\u0431\u0446\u0430",columnsPanelShowAllButton:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435",columnsPanelHideAllButton:"\u0421\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u0435",filterPanelAddFilter:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440",filterPanelDeleteIconLabel:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",filterPanelOperators:"\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u044b",filterPanelOperatorAnd:"\u0418",filterPanelOperatorOr:"\u0418\u043b\u0438",filterPanelColumns:"\u0421\u0442\u043e\u043b\u0431\u0446\u044b",filterPanelInputLabel:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435",filterPanelInputPlaceholder:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430",filterOperatorContains:"\u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442",filterOperatorEquals:"\u0440\u0430\u0432\u0435\u043d",filterOperatorStartsWith:"\u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441",filterOperatorEndsWith:"\u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043d\u0430",filterOperatorIs:"\u0440\u0430\u0432\u0435\u043d",filterOperatorNot:"\u043d\u0435 \u0440\u0430\u0432\u0435\u043d",filterOperatorAfter:"\u0431\u043e\u043b\u044c\u0448\u0435 \u0447\u0435\u043c",filterOperatorOnOrAfter:"\u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e",filterOperatorBefore:"\u043c\u0435\u043d\u044c\u0448\u0435 \u0447\u0435\u043c",filterOperatorOnOrBefore:"\u043c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e",filterValueAny:"\u043b\u044e\u0431\u043e\u0439",filterValueTrue:"\u0438\u0441\u0442\u0438\u043d\u0430",filterValueFalse:"\u043b\u043e\u0436\u044c",columnMenuLabel:"\u041c\u0435\u043d\u044e",columnMenuShowColumns:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0446\u044b",columnMenuFilter:"\u0424\u0438\u043b\u044c\u0442\u0440",columnMenuHideColumn:"\u0421\u043a\u0440\u044b\u0442\u044c",columnMenuUnsort:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0443",columnMenuSortAsc:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",columnMenuSortDesc:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",columnHeaderFiltersTooltipActive:e=>{let t="\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432";const n=e%10;return n>1&&n<5?t="\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u0430":1===n&&(t="\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u0442\u0440"),"".concat(e," ").concat(t)},columnHeaderFiltersLabel:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b",columnHeaderSortIconLabel:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",footerRowSelected:e=>{let t="\u0441\u0442\u0440\u043e\u043a \u0432\u044b\u0431\u0440\u0430\u043d\u043e";const n=e%10;return n>1&&n<5?t="\u0441\u0442\u0440\u043e\u043a\u0438 \u0432\u044b\u0431\u0440\u0430\u043d\u044b":1===n&&(t="\u0441\u0442\u0440\u043e\u043a\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u0430"),"".concat(e," ").concat(t)},footerTotalRows:"\u0412\u0441\u0435\u0433\u043e \u0441\u0442\u0440\u043e\u043a:",checkboxSelectionHeaderName:"\u0412\u044b\u0431\u043e\u0440 \u0444\u043b\u0430\u0436\u043a\u0430",booleanCellTrueLabel:"\u0438\u0441\u0442\u0438\u043d\u0430",booleanCellFalseLabel:"\u043b\u043e\u0436\u044c"},$t.Fc),Du({noRowsLabel:"\u017diadne z\xe1znamy",noResultsOverlayLabel:"Nena\u0161li sa \u017eadne v\xfdsledky.",errorOverlayDefaultLabel:"Stala sa nepredv\xeddan\xe1 chyba.",toolbarDensity:"Hustota",toolbarDensityLabel:"Hustota",toolbarDensityCompact:"Kompaktn\xe1",toolbarDensityStandard:"\u0160tandartn\xe1",toolbarDensityComfortable:"Komfortn\xe1",toolbarColumns:"St\u013apce",toolbarColumnsLabel:"Vybra\u0165 st\u013apce",toolbarFilters:"Filtre",toolbarFiltersLabel:"Zobrazi\u0165 filtre",toolbarFiltersTooltipHide:"Skry\u0165 filtre ",toolbarFiltersTooltipShow:"Zobrazi\u0165 filtre",toolbarFiltersTooltipActive:e=>{let t="akt\xedvnych filtrov";return e>1&&e<5?t="akt\xedvne filtre":1===e&&(t="akt\xedvny filter"),"".concat(e," ").concat(t)},toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Stiahnu\u0165 ako CSV",columnsPanelTextFieldLabel:"N\xe1js\u0165 st\u013apec",columnsPanelTextFieldPlaceholder:"N\xe1zov st\u013apca",columnsPanelDragIconLabel:"Usporiad\u0165 st\u013apce",columnsPanelShowAllButton:"Zobrazi\u0165 v\u0161etko",columnsPanelHideAllButton:"Skry\u0165 v\u0161etko",filterPanelAddFilter:"Prida\u0165 filter",filterPanelDeleteIconLabel:"Odstr\xe1ni\u0165",filterPanelOperators:"Oper\xe1tory",filterPanelOperatorAnd:"A",filterPanelOperatorOr:"Alebo",filterPanelColumns:"St\u013apce",filterPanelInputLabel:"Hodnota",filterPanelInputPlaceholder:"Hodnota filtra",filterOperatorContains:"obsahuje",filterOperatorEquals:"rovn\xe1 sa",filterOperatorStartsWith:"za\u010d\xedna s",filterOperatorEndsWith:"kon\u010d\xed na",filterOperatorIs:"je",filterOperatorNot:"nie je",filterOperatorAfter:"je po",filterOperatorOnOrAfter:"je na alebo po",filterOperatorBefore:"je pred",filterOperatorOnOrBefore:"je na alebo sk\xf4r",filterValueAny:"ak\xfdko\u013evek",filterValueTrue:"\xe1no",filterValueFalse:"nie",columnMenuLabel:"Menu",columnMenuShowColumns:"Zobrazi\u0165 st\u013apce",columnMenuFilter:"Filter",columnMenuHideColumn:"Skry\u0165",columnMenuUnsort:"Zru\u0161i\u0165 filtre",columnMenuSortAsc:"Zoradi\u0165 vzostupne",columnMenuSortDesc:"Zoradi\u0165 zostupne",columnHeaderFiltersTooltipActive:e=>{let t="akt\xedvnych filtrov";return e>1&&e<5?t="akt\xedvne filtre":1===e&&(t="akt\xedvny filter"),"".concat(e," ").concat(t)},columnHeaderFiltersLabel:"Zobrazi\u0165 filtre",columnHeaderSortIconLabel:"Filtrova\u0165",footerRowSelected:e=>{let t="vybran\xfdch z\xe1znamov";return e>1&&e<5?t="vybran\xe9 z\xe1znamy":1===e&&(t="vybran\xfd z\xe1znam"),"".concat(e," ").concat(t)},footerTotalRows:"Riadkov spolu:",checkboxSelectionHeaderName:"V\xfdber riadku",booleanCellTrueLabel:"\xe1no",booleanCellFalseLabel:"nie"},$t.d8),Du({noRowsLabel:"Sat\u0131r yok",errorOverlayDefaultLabel:"Bir hata olu\u015ftu.",toolbarDensity:"Yo\u011funluk",toolbarDensityLabel:"Yo\u011funluk",toolbarDensityCompact:"S\u0131k\u0131",toolbarDensityStandard:"Standart",toolbarDensityComfortable:"Rahat",toolbarColumns:"S\xfctunlar",toolbarColumnsLabel:"S\xfctun se\xe7",toolbarFilters:"Filtreler",toolbarFiltersLabel:"Filtreleri g\xf6ster",toolbarFiltersTooltipHide:"Filtreleri gizle",toolbarFiltersTooltipShow:"Filtreleri g\xf6ster",toolbarFiltersTooltipActive:e=>"".concat(e," aktif filtre"),toolbarExport:"D\u0131\u015fa aktar",toolbarExportLabel:"D\u0131\u015fa aktar",toolbarExportCSV:"CSV olarak aktar",columnsPanelTextFieldLabel:"S\xfctun ara",columnsPanelTextFieldPlaceholder:"S\xfctun ad\u0131",columnsPanelDragIconLabel:"S\xfctunlar\u0131 yeniden s\u0131rala",columnsPanelShowAllButton:"Hepsini g\xf6ster",columnsPanelHideAllButton:"Hepsini gizle",filterPanelAddFilter:"Filtre Ekle",filterPanelDeleteIconLabel:"Kald\u0131r",filterPanelOperators:"Operat\xf6r",filterPanelOperatorAnd:"Ve",filterPanelOperatorOr:"Veya",filterPanelColumns:"S\xfctunlar",filterPanelInputLabel:"De\u011fer",filterPanelInputPlaceholder:"Filtre de\u011feri",filterOperatorContains:"i\xe7erir",filterOperatorEquals:"e\u015fittir",filterOperatorStartsWith:"ile ba\u015flar",filterOperatorEndsWith:"ile biter",filterOperatorIs:"e\u015fittir",filterOperatorNot:"e\u015fit de\u011fildir",filterOperatorAfter:"b\xfcy\xfck",filterOperatorOnOrAfter:"b\xfcy\xfck e\u015fit",filterOperatorBefore:"k\xfc\xe7\xfck",filterOperatorOnOrBefore:"k\xfc\xe7\xfck e\u015fit",filterOperatorIsEmpty:"bo\u015f",filterOperatorIsNotEmpty:"dolu",columnMenuLabel:"Men\xfc",columnMenuShowColumns:"S\xfctunlar\u0131 g\xf6ster",columnMenuFilter:"Filtre uygula",columnMenuHideColumn:"Gizle",columnMenuUnsort:"S\u0131ralama",columnMenuSortAsc:"S\u0131rala - Artan",columnMenuSortDesc:"S\u0131rala - Azalan",columnHeaderFiltersTooltipActive:e=>"".concat(e," filtre aktif"),columnHeaderFiltersLabel:"Filtreleri g\xf6ster",columnHeaderSortIconLabel:"S\u0131rala",footerRowSelected:e=>"".concat(e.toLocaleString()," sat\u0131r se\xe7ildi"),footerTotalRows:"Toplam Sat\u0131r:",footerTotalVisibleRows:(e,t)=>"".concat(e.toLocaleString()," / ").concat(t.toLocaleString())},$t.hS),Du({noRowsLabel:"\u041d\u0435\u043c\u0430\u0454 \u0440\u044f\u0434\u043a\u0456\u0432",errorOverlayDefaultLabel:"\u0412\u0438\u044f\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0443.",toolbarDensity:"\u0412\u0438\u0441\u043e\u0442\u0430 \u0440\u044f\u0434\u043a\u0430",toolbarDensityLabel:"\u0412\u0438\u0441\u043e\u0442\u0430 \u0440\u044f\u0434\u043a\u0430",toolbarDensityCompact:"\u041a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u0438\u0439",toolbarDensityStandard:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0438\u0439",toolbarDensityComfortable:"\u041a\u043e\u043c\u0444\u043e\u0440\u0442\u043d\u0438\u0439",toolbarColumns:"\u0421\u0442\u043e\u0432\u043f\u0446\u0456",toolbarColumnsLabel:"\u0412\u0438\u0434\u0456\u043b\u0456\u0442\u044c \u0441\u0442\u043e\u0432\u043f\u0446\u0456",toolbarFilters:"\u0424\u0456\u043b\u044c\u0442\u0440\u0438",toolbarFiltersLabel:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440\u0438",toolbarFiltersTooltipHide:"\u0421\u0445\u043e\u0432\u0430\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440\u0438",toolbarFiltersTooltipShow:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440\u0438",toolbarFiltersTooltipActive:e=>"".concat(e,1!==e?" \u0430\u043a\u0442\u0438\u0432\u043d\u0456 \u0444\u0456\u043b\u044c\u0442\u0440\u0438":" \u0430\u043a\u0442\u0438\u0432\u043d\u0438\u0439 \u0444\u0456\u043b\u044c\u0442\u0440"),toolbarExport:"\u0415\u043a\u0441\u043f\u043e\u0440\u0442",toolbarExportLabel:"\u0415\u043a\u0441\u043f\u043e\u0440\u0442",toolbarExportCSV:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0443 \u0444\u043e\u0440\u043c\u0430\u0442\u0456 CSV",columnsPanelTextFieldLabel:"\u0417\u043d\u0430\u0439\u0442\u0438 \u0441\u0442\u043e\u0432\u043f\u0435\u0446\u044c",columnsPanelTextFieldPlaceholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u043e\u0432\u043f\u0446\u044f",columnsPanelDragIconLabel:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0441\u0442\u043e\u0432\u043f\u0446\u044f",columnsPanelShowAllButton:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0443\u0441\u0456",columnsPanelHideAllButton:"\u0421\u0445\u043e\u0432\u0430\u0442\u0438 \u0443\u0441\u0456",filterPanelAddFilter:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440",filterPanelDeleteIconLabel:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",filterPanelOperators:"\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0438",filterPanelOperatorAnd:"\u0406",filterPanelOperatorOr:"\u0410\u0431\u043e",filterPanelColumns:"\u0421\u0442\u043e\u0432\u043f\u0446\u0456",filterPanelInputLabel:"\u0417\u043d\u0430\u0447\u0435\u043d\u043d\u044f",filterPanelInputPlaceholder:"\u0417\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0444\u0456\u043b\u044c\u0442\u0440\u0430",filterOperatorContains:"\u043c\u0456\u0441\u0442\u0438\u0442\u044c",filterOperatorEquals:"\u0434\u043e\u0440\u0456\u0432\u043d\u044e\u0454",filterOperatorStartsWith:"\u043f\u043e\u0447\u0438\u043d\u0430\u0454\u0442\u044c\u0441\u044f \u0437",filterOperatorEndsWith:"\u0437\u0430\u043a\u0456\u043d\u0447\u0443\u0454\u0442\u044c\u0441\u044f \u043d\u0430",filterOperatorIs:"\u0434\u043e\u0440\u0456\u0432\u043d\u044e\u0454",filterOperatorNot:"\u043d\u0435",filterOperatorAfter:"\u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0456\u0436",filterOperatorOnOrAfter:"\u0431\u0456\u043b\u044c\u0448\u0435 \u0430\u0431\u043e \u0434\u043e\u0440\u0456\u0432\u043d\u044e\u0454",filterOperatorBefore:"\u043c\u0435\u043d\u0448\u0435 \u043d\u0456\u0436",filterOperatorOnOrBefore:"\u043c\u0435\u043d\u0448\u0435 \u0430\u0431\u043e \u0434\u043e\u0440\u0456\u0432\u043d\u044e\u0454",filterValueAny:"\u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0439",filterValueTrue:"\u043f\u0440\u0430\u0432\u0434\u0430",filterValueFalse:"\u043f\u043e\u043c\u0438\u043b\u043a\u043e\u0432\u0438\u0439",columnMenuLabel:"\u041c\u0435\u043d\u044e",columnMenuShowColumns:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0441\u0442\u043e\u0432\u043f\u0446\u0456",columnMenuFilter:"\u0424\u0456\u043b\u044c\u0442\u0440",columnMenuHideColumn:"\u0421\u0445\u043e\u0432\u0430\u0442\u0438",columnMenuUnsort:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438 \u0441\u043e\u0440\u0442\u0443\u0432\u0430\u043d\u043d\u044f",columnMenuSortAsc:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0430 \u0437\u0440\u043e\u0441\u0442\u0430\u043d\u043d\u044f\u043c",columnMenuSortDesc:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0430 \u0441\u043f\u0430\u0434\u0430\u043d\u043d\u044f\u043c",columnHeaderFiltersTooltipActive:e=>"".concat(e,1!==e?" \u0430\u043a\u0442\u0438\u0432\u043d\u0456 \u0444\u0456\u043b\u044c\u0442\u0440\u0438":" \u0430\u043a\u0442\u0438\u0432\u043d\u0438\u0439 \u0444\u0456\u043b\u044c\u0442\u0440"),columnHeaderFiltersLabel:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440\u0438",columnHeaderSortIconLabel:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438",footerRowSelected:e=>"".concat(e.toLocaleString(),1!==e?" \u0432\u0438\u0431\u0440\u0430\u043d\u0456 \u0440\u044f\u0434\u043a\u0438":" \u0432\u0438\u0431\u0440\u0430\u043d\u0438\u0439 \u0440\u044f\u0434\u043e\u043a"),footerTotalRows:"\u0412\u0441\u044c\u043e\u0433\u043e \u0440\u044f\u0434\u043a\u0456\u0432:",checkboxSelectionHeaderName:"\u0412\u0438\u0431\u0456\u0440 \u043f\u0440\u0430\u043f\u043e\u0440\u0446\u044f",booleanCellTrueLabel:"\u043f\u0440\u0430\u0432\u0434\u0430",booleanCellFalseLabel:"\u043f\u043e\u043c\u0438\u043b\u043a\u043e\u0432\u0438\u0439"},$t.hv),e=>{let{apiRef:t,props:n,children:r}=e;return o.createElement(Aa.Provider,{value:n},o.createElement(Gt.Provider,{value:t},r))}),Cu=(e,t)=>{if("string"==typeof e){const n=e.replace(/"/g,'""');return n.includes(t)?'"'.concat(n,'"'):n}return e};function Eu(e){const{columns:t,rows:n,selectedRowIds:r,getCellParams:o,delimiterCharacter:a,includeHeaders:i=!0}=e;let l=[...n.keys()];r.length&&(l=l.filter((e=>r.includes(e))));const u=l.reduce(((e,n)=>"".concat(e).concat(function(e,t,n,r){const o=[];return t.forEach((t=>t.field!==si.field&&o.push(Cu(n(e,t.field).formattedValue,r)))),o}(n,t,o,a).join(a),"\r\n")),"").trim();return i?"".concat("".concat(t.filter((e=>e.field!==si.field)).map((e=>Cu(e.headerName||e.field,a))).join(a),"\r\n"),u).trim():u}function Au(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function wu(e,t){if("options::UPDATE"===t.type)return function(e,t){return t=function(e){const t=Object.assign({},e);return Object.keys(e).forEach((n=>{e.hasOwnProperty(n)&&void 0===e[n]&&delete t[n]})),t}(t),Object.assign(Object.assign({},e),t)}(e,t.payload);throw new Error("Material-UI: Action ".concat(t.type," not found."))}const xu=(e,t)=>{(function(e,t){e.current.getLogger=o.useCallback((e=>no?io(e,"debug",t.logger):t.logLevel?io(e,t.logLevel.toString(),t.logger):oo),[t.logLevel,t.logger])})(e,t),function(e,t){const n=lo(e,"useApi"),r=o.useCallback((function(n,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(o.defaultMuiPrevented=!1,o&&(e=>void 0!==e.isPropagationStopped)(o)&&o.isPropagationStopped())return;const a=t.signature===xo.DataGridPro?{api:e.current}:{};e.current.emit(n,r,o,a)}),[e,t.signature]),a=o.useCallback(((t,r,o)=>{n.debug("Binding ".concat(t," event")),e.current.on(t,r,o);const a=e.current;return()=>{n.debug("Clearing ".concat(t," event")),a.removeListener(t,r)}}),[e,n]),i=o.useCallback((t=>{e.current.publishEvent(Ut.componentError,t)}),[e]);o.useEffect((()=>{n.debug("Initializing grid api.");const t=e.current;return()=>{n.info("Unmounting Grid component. Clearing all events listeners."),t.emit(Ut.unmount),t.removeAllListeners()}}),[n,e]),uo(e,{subscribeEvent:a,publishEvent:r,showError:i},"GridCoreApi")}(e,t),function(e,t){const[,n]=Do(e),r=o.useCallback((e=>{n((t=>Object.assign(Object.assign({},t),{error:e})))}),[n]);o.useEffect((()=>{r(t.error)}),[r,t.error]),Fo(e,Ut.componentError,r)}(e,t),function(e,t){const n=o.useRef({}),r=o.useCallback((e=>{const{stateId:t,stateSelector:r}=e,o=Ma(e,["stateId","stateSelector"]);n.current[t]=Object.assign(Object.assign({},o),{stateId:t,stateSelector:r||(e=>e[t])})}),[]),a=o.useCallback((r=>{let o=!1;const a=[],i=n.current;if(Object.keys(i).forEach((t=>{const n=i[t],l=n.stateSelector(e.current.state),u=n.stateSelector(r);u!==l&&u!==n.propModel&&a.push(n.stateId),void 0!==n.propModel&&u!==n.propModel&&(o=!0)})),a.length>1)throw new Error("You're not allowed to update several sub-state in one transaction. You already updated ".concat(a[0],", therefore, you're not allowed to update ").concat(a.join(", ")," in the same transaction."));return{ignoreSetState:o,postUpdate:()=>{a.forEach((n=>{const o=i[n],a=i[n].stateSelector(r);if(o.propOnChange){const n=t.signature===xo.DataGridPro?{api:e.current}:{};o.propOnChange(a,n)}e.current.publishEvent(o.changeEvent,a)}))}}}),[e,t.signature]);uo(e,{updateControlState:r,applyControlStateConstraint:a},"controlStateApi")}(e,t),function(e,t){const n=lo(e,"useOptionsProp"),r=o.useMemo((()=>Object.assign(Object.assign({},t),{classes:$r({root:["root"],columnHeader:["columnHeader"],row:["row"],cell:["cell"]},eo,t.classes),localeText:Object.assign(Object.assign({},so),t.localeText)})),[t]),{gridState:a,dispatch:i}=((e,t,n,r)=>{const a=bo(e),[i,l,u]=Do(e),s=o.useCallback((e=>{void 0===i[t]&&(i[t]=r),l((r=>{const o=Object.assign({},r);return o[t]=n(r[t],e),o})),u()}),[u,i,r,n,l,t]),c=o.useRef(s);o.useEffect((()=>{c.current=s}),[s]);const d=o.useCallback((e=>c.current(e)),[]);return{gridState:i,dispatch:d,gridApi:a}})(e,"options",wu,Object.assign({},ho)),l=o.useCallback((e=>{n.debug("updating options state."),i({type:"options::UPDATE",payload:e})}),[i,n]);o.useEffect((()=>{l(r)}),[r,l]),a.options}(e,t),function(e,t){ko(e,Ut.columnHeaderClick,t.onColumnHeaderClick),ko(e,Ut.columnHeaderDoubleClick,t.onColumnHeaderDoubleClick),ko(e,Ut.columnHeaderOver,t.onColumnHeaderOver),ko(e,Ut.columnHeaderOut,t.onColumnHeaderOut),ko(e,Ut.columnHeaderEnter,t.onColumnHeaderEnter),ko(e,Ut.columnHeaderLeave,t.onColumnHeaderLeave),ko(e,Ut.columnOrderChange,t.onColumnOrderChange),ko(e,Ut.cellClick,t.onCellClick),ko(e,Ut.cellDoubleClick,t.onCellDoubleClick),ko(e,Ut.cellOver,t.onCellOver),ko(e,Ut.cellOut,t.onCellOut),ko(e,Ut.cellEnter,t.onCellEnter),ko(e,Ut.cellLeave,t.onCellLeave),ko(e,Ut.cellKeyDown,t.onCellKeyDown),ko(e,Ut.cellBlur,t.onCellBlur),ko(e,Ut.cellFocusOut,t.onCellFocusOut),ko(e,Ut.rowDoubleClick,t.onRowDoubleClick),ko(e,Ut.rowClick,t.onRowClick),ko(e,Ut.rowOver,t.onRowOver),ko(e,Ut.rowOut,t.onRowOut),ko(e,Ut.rowEnter,t.onRowEnter),ko(e,Ut.rowLeave,t.onRowLeave),ko(e,Ut.componentError,t.onError),ko(e,Ut.stateChange,t.onStateChange)}(e,t),(e=>{const{localeText:t}=yo(e,ia);uo(e,{getLocaleText:o.useCallback((e=>{if(null==t[e])throw new Error("Missing translation for key ".concat(e,"."));return t[e]}),[t])},"LocaleTextApi")})(e),function(e,t){const n=lo(e,"useResizeContainer"),r=o.useRef(!1),a=o.useCallback((()=>{var t;n.debug("resizing..."),e.current.publishEvent(Ut.debouncedResize,null===(t=e.current.state.containerSizes)||void 0===t?void 0:t.windowSizes)}),[e,n]);uo(e,{resize:a},"GridEventsApi");const i=o.useMemo((()=>(0,Q.A)(a,60)),[a]),l=o.useCallback((e=>{const o=/jsdom/.test(window.navigator.userAgent);0!==e.height||r.current||t.autoHeight||o||(n.warn(["The parent of the grid has an empty height.","You need to make sure the container has an intrinsic height.","The grid displays with a height of 0px.","","You can find a solution in the docs:","https://material-ui.com/components/data-grid/layout/"].join("\n")),r.current=!0),0!==e.width||r.current||o||(n.warn(["The parent of the grid has an empty width.","You need to make sure the container has an intrinsic width.","The grid displays with a width of 0px.","","You can find a solution in the docs:","https://material-ui.com/components/data-grid/layout/"].join("\n")),r.current=!0),i()}),[t.autoHeight,i,n,a]);o.useEffect((()=>()=>{n.info("canceling resize..."),i.clear()}),[n,i]),o.useEffect((()=>{n.info("canceling resize..."),i.clear()}),[t.rows,i,n]),Fo(e,Ut.resize,l),ko(e,Ut.debouncedResize,t.onResize)}(e,t),function(e,t){let{rows:n}=t}(0,t),function(e,t){const n=lo(e,"useGridColumns"),[r,a,i]=Do(e),l=yo(e,Jt),u=yo(e,Zt),s=yo(e,Qt),c=o.useCallback((function(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.debug("Updating columns state."),a((e=>Object.assign(Object.assign({},e),{columns:t}))),i(),r&&e.current.publishEvent(Ut.columnsChange,t.all)}),[n,a,i,e]),d=o.useCallback((t=>e.current.state.columns.lookup[t]),[e]),f=o.useCallback((()=>u),[u]),p=o.useCallback((()=>s),[s]),m=o.useCallback((()=>l),[l]),h=o.useCallback((function(e){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?u.findIndex((t=>t.field===e)):s.findIndex((t=>t.field===e))}),[u,s]),g=o.useCallback((e=>{const t=h(e);return l.positions[t]}),[l.positions,h]),v=o.useCallback(((t,r)=>{n.debug("updating GridColumns with new state");const o=e.current.state.viewportSizes.width;let a=t.all.map((e=>t.lookup[e]));a=function(e,t){let n=0,r=t;const o=e.map((e=>{var t,o;const a=Object.assign({},e);if(e.hide)a.computedWidth=0;else{const e=null!==(t=a.minWidth)&&void 0!==t?t:ai.minWidth;if(a.flex&&a.flex>0)n+=a.flex,a.computedWidth=e;else{const t=Math.max(null!==(o=a.width)&&void 0!==o?o:ai.width,e);r-=t,a.computedWidth=t}}return a}));if(n>0&&r>0){const e=r/n;for(let t=0;t<o.length;t+=1){const n=o[t];!n.hide&&n.flex&&n.flex>0&&(o[t].computedWidth=Math.max(e*n.flex,n.computedWidth))}}return o}(a,o);const i={all:a.map((e=>e.field)),lookup:a.reduce(((e,t)=>(e[t.field]=t,e)),{})};c(i,r)}),[e,n,c]),b=o.useCallback((t=>{const n=ru(t,e.current.state.columns);v(n,!1)}),[e,v]),D=o.useCallback((e=>b([e])),[b]),y=o.useCallback(((t,n)=>{const r=d(t),o=Object.assign(Object.assign({},r),{hide:!n});b([o]),e.current.publishEvent(Ut.columnVisibilityChange,{field:t,colDef:o,isVisible:n})}),[e,d,b]),C=o.useCallback(((t,o)=>{const a=r.columns.all.findIndex((e=>e===t));if(a===o)return;n.debug("Moving column ".concat(t," to index ").concat(o));const i={field:t,element:e.current.getColumnHeaderElement(t),colDef:e.current.getColumn(t),targetIndex:o,oldIndex:a};e.current.publishEvent(Ut.columnOrderChange,i);const l=[...r.columns.all];l.splice(o,0,l.splice(a,1)[0]),c(Object.assign(Object.assign({},r.columns),{all:l}))}),[e,r.columns,n,c]),E=o.useCallback(((t,r)=>{n.debug("Updating column ".concat(t," width to ").concat(r));const o=e.current.getColumn(t),a=Object.assign(Object.assign({},o),{width:r});e.current.updateColumns([a]),e.current.publishEvent(Ut.columnWidthChange,{element:e.current.getColumnHeaderElement(t),colDef:a,width:r})}),[e,n]);uo(e,{getColumn:d,getAllColumns:f,getColumnIndex:h,getColumnPosition:g,getVisibleColumns:p,getColumnsMeta:m,updateColumn:D,updateColumns:b,setColumnVisibility:y,setColumnIndex:C,setColumnWidth:E},"ColApi"),o.useEffect((()=>{n.info("GridColumns have changed, new length ".concat(t.columns.length));const r=nu(t.columns,t.columnTypes,e.current.getLocaleText,t.checkboxSelection),o=ru(r);v(o)}),[n,e,v,t.columns,t.columnTypes,t.checkboxSelection]),o.useEffect((()=>{n.debug("GridColumns gridState.viewportSizes.width, changed ".concat(r.viewportSizes.width)),v(e.current.state.columns)}),[e,v,r.viewportSizes.width,n]),ko(e,Ut.columnVisibilityChange,t.onColumnVisibilityChange)}(e,t),function(e){const t=o.useCallback((t=>({field:t,colDef:e.current.getColumn(t)})),[e]),n=o.useCallback((t=>{const n=e.current.getRow(t);if(!n)throw new Error("No row with id #".concat(t," found"));return{id:t,columns:e.current.getAllColumns(),row:n,getValue:e.current.getCellValue}}),[e]),r=o.useCallback(((t,n)=>{const r=e.current.getRow(t);if(!r)throw new Error("No row with id #".concat(t," found"));const o=Yo(e.current.state),a=Jo(e.current.state);return{id:t,field:n,row:r,value:r[n],colDef:e.current.getColumn(n),cellMode:e.current.getCellMode(t,n),getValue:e.current.getCellValue,api:e.current,hasFocus:null!==o&&o.field===n&&o.id===t,tabIndex:a&&a.field===n&&a.id===t?0:-1}}),[e]),a=o.useCallback(((t,n)=>{const r=e.current.getColumn(n),o=e.current.getCellValue(t,n),a=e.current.getRow(t);if(!a)throw new Error("No row with id #".concat(t," found"));const i=Yo(e.current.state),l=Jo(e.current.state),u={id:t,field:n,row:a,colDef:r,cellMode:e.current.getCellMode(t,n),getValue:e.current.getCellValue,hasFocus:null!==i&&i.field===n&&i.id===t,tabIndex:l&&l.field===n&&l.id===t?0:-1,value:o,formattedValue:o};return r.valueFormatter&&(u.formattedValue=r.valueFormatter(Object.assign(Object.assign({},u),{api:e.current}))),u.isEditable=r&&e.current.isCellEditable(u),u}),[e]),i=o.useCallback(((t,n)=>{const o=e.current.getColumn(n);if(!o||!o.valueGetter){const r=e.current.getRow(t);if(!r)throw new Error("No row with id #".concat(t," found"));return r[n]}return o.valueGetter(r(t,n))}),[e,r]),l=o.useCallback((t=>e.current.rootElementRef.current?function(e,t){return e.querySelector('[role="columnheader"][data-field="'.concat(Oi(t),'"]'))}(e.current.rootElementRef.current,t):null),[e]),u=o.useCallback((t=>e.current.rootElementRef.current?Ri(e.current.rootElementRef.current,t):null),[e]),s=o.useCallback(((t,n)=>e.current.rootElementRef.current?function(e,t){let{id:n,field:r}=t;const o=Ri(e,n);return o?o.querySelector(".".concat(Ao.cell,'[data-field="').concat(Oi(r),'"]')):null}(e.current.rootElementRef.current,{id:t,field:n}):null),[e]);uo(e,{getCellValue:i,getCellParams:a,getCellElement:s,getRowParams:n,getRowElement:u,getColumnHeaderParams:t,getColumnHeaderElement:l},"GridParamsApi")}(e),su(e,t),function(e,t){const n=lo(e,"useGridEditRows"),[,r,a]=Do(e),i=o.useRef(null),l=o.useRef(null),u=yo(e,Zt),s=(n,r)=>{n.cellMode!==yi.View&&(t.editMode===Di.Row?(l.current=null,i.current=setTimeout((()=>{var t;if((null===(t=l.current)||void 0===t?void 0:t.id)!==n.id){e.current.commitRowChange(n.id,r);const t=e.current.getRowParams(n.id);e.current.publishEvent(Ut.rowEditStop,t,r)}}))):(e.current.commitCellChange(n,r),e.current.publishEvent(Ut.cellEditStop,n,r)))},c=o.useCallback((e=>{l.current=e}),[]),d=Wr(((e,t)=>{s(e,t)})),f=Wr((t=>{const{cell:n}=e.current.state.focus;if(!n)return;const r=e.current.getCellParams(n.id,n.field);s(r,t)})),p=o.useCallback(((t,o,i)=>{const l=e.current.getCellMode(t,o)===yi.Edit;i===yi.Edit&&l||i===yi.View&&!l||(n.debug("Switching cell id: ".concat(t," field: ").concat(o," to mode: ").concat(i)),r((n=>{const r=Object.assign({},n.editRows);return r[t]=Object.assign({},r[t]),i===yi.Edit?r[t][o]={value:e.current.getCellValue(t,o)}:(delete r[t][o],Object.keys(r[t]).length||delete r[t]),Object.assign(Object.assign({},n),{editRows:r})})),a(),e.current.publishEvent(Ut.cellModeChange,{id:t,field:o,mode:i,api:e.current}))}),[e,a,n,r]),m=o.useCallback(((t,n)=>{const o=e.current.getRowMode(t)===Ci.Edit;n===Ci.Edit&&o||n===Ci.View&&!o||(r((r=>{const o=Object.assign({},r.editRows);return n===Ci.Edit?(o[t]={},u.forEach((n=>{const r=e.current.getCellParams(t,n.field);r.isEditable&&(o[t][n.field]={value:r.value})}))):delete o[t],Object.assign(Object.assign({},r),{editRows:o})})),a())}),[e,u,a,r]),h=o.useCallback((n=>t.editMode===Di.Cell?Ci.View:e.current.state.editRows[n]?Ci.Edit:Ci.View),[e,t.editMode]),g=o.useCallback(((t,n)=>{const r=e.current.state.editRows;return r[t]&&r[t][n]?yi.Edit:yi.View}),[e]),v=o.useCallback((e=>!!e.colDef.editable&&!!e.colDef.renderEditCell&&(!t.isCellEditable||t.isCellEditable(e))),[t.isCellEditable]),b=o.useCallback(((t,n)=>{const r={id:t.id,field:t.field,props:{value:t.value}};e.current.publishEvent(Ut.editCellPropsChange,r,n)}),[e]),D=o.useCallback((t=>{const{id:o,field:i,props:l}=t;n.debug("Setting cell props on id: ".concat(o," field: ").concat(i)),r((t=>{const n=e.current.getColumn(i),r=n.valueParser?n.valueParser(l.value,e.current.getCellParams(o,i)):l.value,a=Object.assign({},t.editRows);return a[o]=Object.assign({},t.editRows[o]),a[o][i]=Object.assign(Object.assign({},l),{value:r}),Object.assign(Object.assign({},t),{editRows:a})})),a()}),[e,a,n,r]),y=o.useCallback((e=>{D(e)}),[D]),C=o.useCallback((e=>{n.debug("Setting row model"),r((t=>Object.assign(Object.assign({},t),{editRows:e}))),a()}),[a,n,r]),E=o.useCallback((()=>e.current.state.editRows),[e]),A=o.useCallback(((t,n)=>{const{id:r,field:o}=t,a=e.current.getEditRowsModel();if(!a[r]||!a[r][o])throw new Error("Material-UI: Cell at id: ".concat(r," and field: ").concat(o," is not in edit mode."));const{error:i,value:l}=a[r][o];if(!i){const r=Object.assign(Object.assign({},t),{value:l});return e.current.publishEvent(Ut.cellEditCommit,r,n),!0}return!1}),[e]),w=o.useCallback((r=>{if(t.editMode===Di.Row)throw new Error("Material-UI: You can't commit changes when the edit mode is 'row'.");const{id:o,field:a}=r,i=e.current.getEditRowsModel(),{value:l}=i[o][a];n.debug("Setting cell id: ".concat(o," field: ").concat(a," to value: ").concat(null==l?void 0:l.toString()));const u=e.current.getRow(o),s=Object.assign(Object.assign({},u),{[a]:l});e.current.updateRows([s])}),[e,n,t.editMode]),x=o.useCallback(((n,r)=>{if(t.editMode===Di.Cell)throw new Error("Material-UI: You can't commit changes when the edit mode is 'cell'.");const o=e.current.getEditRowsModel()[n];if(!o)throw new Error("Material-UI: Row at id: ".concat(n," is not being editted."));return!Object.values(o).some((e=>!!e.error))&&(e.current.publishEvent(Ut.rowEditCommit,n,r),!0)}),[e,t.editMode]),F=o.useCallback(((e,t)=>{e.isEditable&&(p(e.id,e.field,yi.Edit),Ca(t)&&ga(t.key)&&D({id:e.id,field:e.field,props:{value:""}}))}),[D,p]),S=o.useCallback((t=>{e.current.setRowMode(t.id,Ci.Edit)}),[e]),k=o.useCallback(((t,n)=>{e.current.setRowMode(t.id,Ci.View),"Enter"===n.key&&e.current.publishEvent(Ut.cellNavigationKeyDown,t,n)}),[e]),O=o.useCallback((t=>{const n=e.current.getEditRowsModel()[t];if(!n)throw new Error("Material-UI: Row at id: ".concat(t," is not being editted."));const r=e.current.getRow(t),o=Object.assign({},r);Object.keys(n).forEach((e=>{o[e]=n[e].value})),e.current.updateRows([o])}),[e]),R=o.useCallback(((e,t)=>{const n=t.detail>1;e.isEditable&&e.cellMode===yi.View&&n&&t.preventDefault()}),[]),P=o.useCallback(((n,r)=>{const{id:o,field:a,cellMode:i,isEditable:l}=n;if(!l)return;const u=i===yi.Edit;if(t.editMode===Di.Row){const t=e.current.getRowParams(n.id);return void(u?"Enter"===r.key?(e.current.commitRowChange(n.id),e.current.publishEvent(Ut.rowEditStop,t,r)):"Escape"===r.key&&e.current.publishEvent(Ut.rowEditStop,t,r):"Enter"===r.key&&e.current.publishEvent(Ut.rowEditStart,t,r))}const s=r.ctrlKey||r.metaKey||r.altKey;var c;if(!u&&(c=r.key,ua(c)||ma(c)||ga(c))&&!s&&e.current.publishEvent(Ut.cellEditStart,n,r),!u&&ma(r.key)&&(e.current.setEditCellValue({id:o,field:a,value:""}),e.current.commitCellChange({id:o,field:a},r),e.current.publishEvent(Ut.cellEditStop,n,r)),u&&Da(r.key)){const t={id:o,field:a};if(!e.current.commitCellChange(t,r))return}u&&(e=>va.indexOf(e)>-1)(r.key)&&e.current.publishEvent(Ut.cellEditStop,n,r)}),[e,t.editMode]),B=o.useCallback(((t,n)=>{p(t.id,t.field,yi.View),n&&Ca(n)&&(Da(n.key)?e.current.publishEvent(Ut.cellNavigationKeyDown,t,n):("Escape"===n.key||ma(n.key))&&e.current.setCellFocus(t.id,t.field))}),[e,p]),T=o.useCallback(((n,r)=>{if(n.isEditable)if(t.editMode===Di.Row){const t=e.current.getRowParams(n.id);e.current.publishEvent(Ut.rowEditStart,t,r)}else e.current.publishEvent(Ut.cellEditStart,n,r)}),[e,t.editMode]);Fo(e,Ut.cellKeyDown,P),Fo(e,Ut.cellMouseDown,R),Fo(e,Ut.cellDoubleClick,T),Fo(e,Ut.cellFocusOut,d),Fo(e,Ut.cellFocusIn,c),Fo(e,Ut.columnHeaderDragStart,f),Fo(e,Ut.editCellPropsChange,y),Fo(e,Ut.cellEditStart,F),Fo(e,Ut.cellEditStop,B),Fo(e,Ut.cellEditCommit,w),Fo(e,Ut.rowEditStart,S),Fo(e,Ut.rowEditStop,k),Fo(e,Ut.rowEditCommit,O),ko(e,Ut.editCellPropsChange,t.onEditCellPropsChange),ko(e,Ut.cellEditCommit,t.onCellEditCommit),ko(e,Ut.cellEditStart,t.onCellEditStart),ko(e,Ut.cellEditStop,t.onCellEditStop),ko(e,Ut.rowEditCommit,t.onRowEditCommit),ko(e,Ut.rowEditStart,t.onRowEditStart),ko(e,Ut.rowEditStop,t.onRowEditStop),uo(e,{setCellMode:p,getCellMode:g,setRowMode:m,getRowMode:h,isCellEditable:v,commitCellChange:A,commitRowChange:x,setEditRowsModel:C,getEditRowsModel:E,setEditCellValue:b},"EditRowApi"),o.useEffect((()=>{e.current.updateControlState({stateId:"editRows",propModel:t.editRowsModel,propOnChange:t.onEditRowsModelChange,stateSelector:e=>e.editRows,changeEvent:Ut.editRowsModelChange})}),[e,t.editRowsModel,t.onEditRowsModelChange]),o.useEffect((()=>{const n=e.current.state.editRows;void 0!==t.editRowsModel&&t.editRowsModel!==n&&e.current.setEditRowsModel(t.editRowsModel||{})}),[e,t.editRowsModel])}(e,t),((e,t)=>{const n=lo(e,"useGridFocus"),[,r,a]=Do(e),i=o.useRef(null),l=o.useCallback(((t,o)=>{e.current.getRow(t)&&(r((e=>(n.debug("Focusing on cell with id=".concat(t," and field=").concat(o)),Object.assign(Object.assign({},e),{tabIndex:{cell:{id:t,field:o},columnHeader:null},focus:{cell:{id:t,field:o},columnHeader:null}})))),a(),e.current.publishEvent(Ut.cellFocusIn,e.current.getCellParams(t,o)))}),[e,a,n,r]),u=o.useCallback(((t,o)=>{const{cell:i}=e.current.state.focus;i&&e.current.publishEvent(Ut.cellFocusOut,e.current.getCellParams(i.id,i.field),o),r((e=>(n.debug("Focusing on column header with colIndex=".concat(t)),Object.assign(Object.assign({},e),{tabIndex:{columnHeader:{field:t},cell:null},focus:{columnHeader:{field:t},cell:null}})))),a()}),[e,a,n,r]),s=o.useCallback((t=>{let{id:n,field:r}=t;e.current.setCellFocus(n,r)}),[e]),c=o.useCallback(((t,n)=>{"Enter"===n.key||"Tab"===n.key||ya(n.key)||e.current.setCellFocus(t.id,t.field)}),[e]),d=o.useCallback(((t,n)=>{let{field:r}=t;n.target===n.currentTarget&&e.current.setColumnHeaderFocus(r,n)}),[e]),f=o.useCallback((()=>{n.debug("Clearing focus"),r((e=>Object.assign(Object.assign({},e),{focus:{cell:null,columnHeader:null}})))}),[n,r]),p=o.useCallback((e=>{i.current=e}),[]),m=o.useCallback((t=>{const n=i.current;i.current=null;const{cell:o}=e.current.state.focus;if(!o)return void(n&&e.current.setCellFocus(n.id,n.field));if((null==n?void 0:n.id)===o.id&&(null==n?void 0:n.field)===o.field)return;const l=e.current.getCellElement(o.id,o.field);(null==l?void 0:l.contains(t.target))||e.current.getRow(o.id)&&(e.current.publishEvent(Ut.cellFocusOut,e.current.getCellParams(o.id,o.field),t),n?e.current.setCellFocus(n.id,n.field):(r((e=>Object.assign(Object.assign({},e),{focus:{cell:null,columnHeader:null}}))),a()))}),[e,a,r]),h=o.useCallback((t=>{if("view"===t.cellMode)return;const{cell:n}=e.current.state.focus;(null==n?void 0:n.id)===t.id&&(null==n?void 0:n.field)===t.field||e.current.setCellFocus(t.id,t.field)}),[e]);uo(e,{setCellFocus:l,setColumnHeaderFocus:u},"GridFocusApi"),o.useEffect((()=>{const{cell:t}=e.current.state.focus;t&&(e.current.getRow(t.id)||r((e=>Object.assign(Object.assign({},e),{focus:{cell:null,columnHeader:null}}))))}),[e,r,t.rows]),o.useEffect((()=>{const t=(0,Z.A)(e.current.rootElementRef.current);return t.addEventListener("click",m),()=>{t.removeEventListener("click",m)}}),[e,m]),Fo(e,Ut.columnHeaderBlur,f),Fo(e,Ut.cellDoubleClick,s),Fo(e,Ut.cellMouseUp,p),Fo(e,Ut.cellKeyDown,c),Fo(e,Ut.cellModeChange,h),Fo(e,Ut.columnHeaderFocus,d)})(e,t),(e=>{const t=lo(e,"useGridKeyboard"),n=o.useCallback(((n,r)=>{const o=Fi(r.target,Ao.row),a=Number(o.getAttribute("data-rowindex"));let i=a;const l=[...e.current.getSelectedRows().keys()];if(l.length>0){const t=l.map((t=>e.current.getRowIndex(t))),n=t.map((e=>Math.abs(a-e))),r=Math.max(...n);i=t[n.indexOf(r)]}e.current.publishEvent(Ut.cellNavigationKeyDown,n,r);const u=e.current.state.focus.cell,s=e.current.getRowIndex(u.id),c=Array(Math.abs(s-i)+1).fill(s>i?i:s);t.debug("Selecting rows "),e.current.selectRows(c,!0,!0)}),[t,e]),r=o.useCallback(((t,r)=>{if(1===r.target.nodeType&&(null==(o=r.target)||!o.classList.contains(Ao.cell)))return;var o;const a=e.current.getCellParams(t.id,t.field);if(a.cellMode!==yi.Edit){if(ca(r.key)&&r.shiftKey)return r.preventDefault(),void e.current.selectRow(a.id);if(!ya(r.key)||r.shiftKey)return ya(r.key)&&r.shiftKey?(r.preventDefault(),void n(a,r)):void("c"===r.key.toLowerCase()&&(r.ctrlKey||r.metaKey)||"a"===r.key.toLowerCase()&&(r.ctrlKey||r.metaKey)&&(r.preventDefault(),e.current.selectRows(e.current.getAllRowIds(),!0)));e.current.publishEvent(Ut.cellNavigationKeyDown,a,r)}}),[e,n]),a=o.useCallback(((t,n)=>{Si(n.target)&&(ca(n.key)&&Si(n.target)&&n.preventDefault(),!ya(n.key)||ca(n.key)||n.shiftKey?ua(n.key)&&(n.ctrlKey||n.metaKey)&&e.current.toggleColumnMenu(t.field):e.current.publishEvent(Ut.columnHeaderNavigationKeyDown,t,n))}),[e]);Fo(e,Ut.cellKeyDown,r),Fo(e,Ut.columnHeaderKeyDown,a)})(e),((e,t)=>{const n=lo(e,"useGridKeyboardNavigation"),r=yo(e,Sa),a=yo(e,To),i=yo(e,nn),l=yo(e,Ui),u=yo(e,Wo),s=e=>ua(e.key)?"ArrowDown":sa(e.key)?e.shiftKey?"ArrowLeft":"ArrowRight":e.key,c=o.useCallback(((o,c)=>{c.preventDefault();const d=e.current.getColumnIndex(o.field),f=u.findIndex((e=>{let[t]=e;return t===o.id})),p=s(c),m=c.ctrlKey||c.metaKey||c.shiftKey;let h,g=a;if(t.pagination&&a>r.pageSize&&(g=r.pageSize*(r.page+1)),da(p))h=((e,t)=>{if(!da(e))throw new Error("Material-UI: The first argument (key) should be an arrow key code.");switch(e){case"ArrowLeft":return Object.assign(Object.assign({},t),{colIndex:t.colIndex-1});case"ArrowRight":return Object.assign(Object.assign({},t),{colIndex:t.colIndex+1});case"ArrowUp":return Object.assign(Object.assign({},t),{rowIndex:t.rowIndex-1});default:return Object.assign(Object.assign({},t),{rowIndex:t.rowIndex+1})}})(p,{colIndex:d,rowIndex:f});else if(fa(p)){const e="Home"===p?0:i-1;if(m){let n=0;n=0===e?t.pagination?g-r.pageSize:0:g-1,h={colIndex:e,rowIndex:n}}else h={colIndex:e,rowIndex:f}}else{if(!pa(p)&&!ca(p))throw new Error("Material-UI. Key not mapped to navigation behavior.");h={colIndex:d,rowIndex:f+(p.indexOf("Down")>-1||ca(p)?l.viewportPageSize:-1*l.viewportPageSize)}}if(h.rowIndex<0){const t=e.current.getVisibleColumns()[h.colIndex].field;return void e.current.setColumnHeaderFocus(t,c)}h.rowIndex=h.rowIndex>=g&&g>0?g-1:h.rowIndex,h.colIndex=h.colIndex<=0?0:h.colIndex,h.colIndex=h.colIndex>=i?i-1:h.colIndex,n.debug("Navigating to next cell row ".concat(h.rowIndex,", col ").concat(h.colIndex)),e.current.scrollToIndexes(h);const v=e.current.getVisibleColumns()[h.colIndex].field,[b]=u[h.rowIndex];e.current.setCellFocus(b,v)}),[e,u,a,t.pagination,r.pageSize,r.page,i,n,l]),d=o.useCallback(((t,r)=>{let o;r.preventDefault();const a=e.current.getColumnIndex(t.field),c=s(r);if(da(c))o=((e,t)=>{if(!da(e))throw new Error("Material-UI: The first argument (key) should be an arrow key code.");switch(e){case"ArrowLeft":return{colIndex:t.colIndex-1};case"ArrowRight":return{colIndex:t.colIndex+1};case"ArrowDown":return null;default:return Object.assign({},t)}})(c,{colIndex:a});else{if(!fa(c)){if(pa(c)){if(c.indexOf("Down")>-1){const t=e.current.getVisibleColumns()[a].field,n=e.current.getRowIdFromRowIndex(l.viewportPageSize-1);e.current.setCellFocus(n,t)}return}throw new Error("Material-UI. Key not mapped to navigation behavior.")}o={colIndex:"Home"===c?0:i-1}}if(!o){const t=e.current.getVisibleColumns()[a].field,[n]=u[0];return void e.current.setCellFocus(n,t)}o.colIndex=Math.max(0,o.colIndex),o.colIndex=o.colIndex>=i?i-1:o.colIndex,n.debug("Navigating to next column row ".concat(o.colIndex)),e.current.scrollToIndexes(o);const d=e.current.getVisibleColumns()[o.colIndex].field;e.current.setColumnHeaderFocus(d,r)}),[e,i,l,n,u]);Fo(e,Ut.cellNavigationKeyDown,c),Fo(e,Ut.columnHeaderNavigationKeyDown,d)})(e,t),((e,t)=>{const n=lo(e,"useGridSelection"),[,r,a]=Do(e),i=yo(e,ia),l=yo(e,Mo),u=o.useMemo((()=>null==t.selectionModel||Array.isArray(t.selectionModel)?t.selectionModel:[t.selectionModel]),[t.selectionModel]),{checkboxSelection:s,disableMultipleSelection:c,disableSelectionOnClick:d,isRowSelectable:f}=i,p=o.useCallback((()=>Pa(e.current.state)),[e]),m=o.useCallback((t=>{const{id:o,allowMultipleOverride:i,isSelected:l,isMultipleKey:u}=t;f&&!f(e.current.getRowParams(o))||(n.debug("Selecting row ".concat(o)),r((e=>{let t=Ba(e);if(i||!c&&u||s)(null==l?void 0===t[o]:l)?t[o]=o:delete t[o];else{const e=null==l?!u||void 0===t[o]:l;t={},e&&(t[o]=o)}return Object.assign(Object.assign({},e),{selection:Object.values(t)})})),a())}),[f,c,e,n,s,a,r]),h=o.useCallback((function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=e.current.getRow(t);o&&m({id:t,row:o,allowMultipleOverride:r,isSelected:n})}),[e,m]),g=o.useCallback((function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=f?t.filter((t=>f(e.current.getRowParams(t)))):t;c&&i.length>1&&!s||(r((e=>{const t=o?{}:Ba(e);return i.forEach((e=>{n?t[e]=e:void 0!==t[e]&&delete t[e]})),Object.assign(Object.assign({},e),{selection:Object.values(t)})})),a())}),[f,c,s,r,a,e]),v=o.useCallback((t=>{e.current.state.selection!==t&&r((e=>Object.assign(Object.assign({},e),{selection:t})))}),[r,e]),b=o.useCallback(((e,t)=>{d||m({id:e.id,row:e.row,isMultipleKey:t.metaKey||t.ctrlKey})}),[d,m]);Fo(e,Ut.rowClick,b),uo(e,{selectRow:h,getSelectedRows:p,selectRows:g,setSelectionModel:v},"GridSelectionApi"),o.useEffect((()=>{e.current.updateControlState({stateId:"selection",propModel:u,propOnChange:t.onSelectionModelChange,stateSelector:Oa,changeEvent:Ut.selectionChange})}),[e,t.onSelectionModelChange,u]),o.useEffect((()=>{r((e=>{const t=Oa(e),n=Ba(e);let r=!1;return t.forEach((e=>{l[e]||(delete n[e],r=!0)})),r?Object.assign(Object.assign({},e),{selection:Object.values(n)}):e})),a()}),[l,e,r,a]),o.useEffect((()=>{void 0!==u&&e.current.setSelectionModel(u)}),[e,u,r]),o.useEffect((()=>{r((t=>{const n=[...t.selection],r=Ba(t);let o=!1;return n.forEach((t=>{!f||f(e.current.getRowParams(t))||(delete r[t],o=!0)})),o?Object.assign(Object.assign({},t),{selection:Object.values(r)}):t})),a()}),[e,r,a,f])})(e,t),((e,t)=>{const n=lo(e,"useGridSorting"),[r,a,i]=Do(e),l=yo(e,To),u=o.useCallback(((e,t)=>{const n=r.sorting.sortModel.findIndex((t=>t.field===e));let o=[...r.sorting.sortModel];return n>-1?t?o.splice(n,1,t):o.splice(n,1):o=[...r.sorting.sortModel,t],o}),[r.sorting.sortModel]),s=o.useCallback(((e,n)=>{const o=r.sorting.sortModel.find((t=>t.field===e.field));if(o){const e=void 0===n?Ia(t.sortingOrder,o.sort):n;return null==e?void 0:Object.assign(Object.assign({},o),{sort:e})}return{field:e.field,sort:void 0===n?Ia(t.sortingOrder):n}}),[r.sorting.sortModel,t.sortingOrder]),c=o.useCallback(((t,n)=>({id:t,field:n,value:e.current.getCellValue(t,n),api:e.current})),[e]),d=o.useCallback((e=>(t,n)=>e.reduce(((e,r,o)=>{if(0!==e)return e;const{comparator:a}=r,i=t[o],l=n[o];return a(i.value,l.value,i,l)}),0)),[]),f=o.useCallback((t=>t.map((t=>{const n=e.current.getColumn(t.field);if(!n)throw new Error("Error sorting: column with field '".concat(t.field,"' not found. "));const r="desc"===t.sort?(e,t,r,o)=>-1*n.sortComparator(e,t,r,o):n.sortComparator;return{field:n.field,comparator:r}}))),[e]),p=o.useCallback((()=>{let r=e.current.getAllRowIds();if(t.sortingMode===po)return n.debug("Skipping sorting rows as sortingMode = server"),void a((e=>Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortedRows:r})})));const o=e.current.state.sorting.sortModel;if(o.length>0){const e=f(o);n.debug("Sorting rows with ",o),r=r.map((t=>e.map((e=>c(t,e.field))))).sort(d(e)).map((e=>e[0].id))}a((e=>Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortedRows:r})}))),i()}),[e,n,c,a,i,f,d,t.sortingMode]),m=o.useCallback((t=>{a((e=>Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortModel:t})}))),i(),e.current.applySorting()}),[a,i,e]),h=o.useCallback(((e,n,r)=>{if(!e.sortable)return;const o=s(e,n);let a;a=!r||t.disableMultipleColumnsSorting?o?[o]:[]:u(e.field,o),m(a)}),[u,m,s,t.disableMultipleColumnsSorting]),g=o.useCallback(((e,t)=>{let{colDef:n}=e;const r=t.shiftKey||t.metaKey||t.ctrlKey;h(n,void 0,r)}),[h]),v=o.useCallback(((e,t)=>{let{colDef:n}=e;!ua(t.key)||t.ctrlKey||t.metaKey||h(n,void 0,t.shiftKey)}),[h]),b=o.useCallback((()=>{a((e=>Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortedRows:[]})})))}),[a]),D=o.useCallback((()=>r.sorting.sortModel),[r.sorting.sortModel]),y=o.useCallback((()=>Object.values(zo(e.current.state))),[e]),C=o.useCallback((()=>jo(e.current.state)),[e]),E=o.useCallback((()=>{a((e=>{const t=e.sorting.sortModel,n=Zt(e);let r=t;return t.length>0&&(r=t.reduce(((e,t)=>(n.find((e=>e.field===t.field))&&e.push(t),e)),[])),Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortModel:r})})}))}),[a]);Fo(e,Ut.columnHeaderClick,g),Fo(e,Ut.columnHeaderKeyDown,v),Fo(e,Ut.rowsSet,e.current.applySorting),Fo(e,Ut.rowsClear,b),Fo(e,Ut.rowsUpdate,e.current.applySorting),Fo(e,Ut.columnsChange,E),uo(e,{getSortModel:D,getSortedRows:y,getSortedRowIds:C,setSortModel:m,sortColumn:h,applySorting:p},"GridSortApi"),o.useEffect((()=>{e.current.applySorting()}),[e,t.rows]),o.useEffect((()=>{l>0&&(n.debug("row changed, applying sortModel"),e.current.applySorting())}),[l,e,n]),o.useEffect((()=>{e.current.updateControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:e=>e.sorting.sortModel,changeEvent:Ut.sortModelChange})}),[e,t.sortModel,t.onSortModelChange]),o.useEffect((()=>{const n=e.current.state.sorting.sortModel;void 0!==t.sortModel&&t.sortModel!==n&&m(t.sortModel)}),[t.sortModel,e,m])})(e,t),(e=>{const t=lo(e,"useGridColumnMenu"),[n,r,a]=Do(e),i=o.useCallback((n=>{t.debug("Opening Column Menu"),r((e=>Object.assign(Object.assign({},e),{columnMenu:{open:!0,field:n}}))),e.current.hidePreferences(),a()}),[e,a,t,r]),l=o.useCallback((()=>{t.debug("Hiding Column Menu"),r((e=>Object.assign(Object.assign({},e),{columnMenu:Object.assign(Object.assign({},e.columnMenu),{open:!1,field:void 0})}))),a()}),[a,t,r]),u=o.useCallback((e=>{t.debug("Toggle Column Menu"),n.columnMenu.open&&n.columnMenu.field===e?l():i(e)}),[t,i,l,n]),s=o.useCallback((()=>{r((e=>e.columnMenu.open?Object.assign(Object.assign({},e),{columnMenu:Object.assign(Object.assign({},e.columnMenu),{open:!1})}):e))}),[r]);o.useEffect((()=>{n.isScrolling&&l()}),[n.isScrolling,l]),uo(e,{showColumnMenu:i,hideColumnMenu:l,toggleColumnMenu:u},"ColumnMenuApi"),Fo(e,Ut.columnResizeStart,s)})(e),(e=>{const t=lo(e,"useGridPreferencesPanel"),[,n,r]=Do(e),a=o.useRef(),i=o.useRef(),l=o.useCallback((()=>{t.debug("Hiding Preferences Panel"),n((e=>Object.assign(Object.assign({},e),{preferencePanel:{open:!1}}))),r()}),[r,t,n]),u=o.useCallback((()=>{i.current=setTimeout((()=>clearTimeout(a.current)),0)}),[]),s=o.useCallback((()=>{a.current=setTimeout(l,100)}),[l]);uo(e,{showPreferences:o.useCallback((e=>{t.debug("Opening Preferences Panel"),u(),n((t=>Object.assign(Object.assign({},t),{preferencePanel:Object.assign(Object.assign({},t.preferencePanel),{open:!0,openedPanelValue:e})}))),r()}),[u,r,t,n]),hidePreferences:s},"ColumnMenuApi"),o.useEffect((()=>()=>{clearTimeout(a.current),clearTimeout(i.current)}),[])})(e),((e,t)=>{const n=lo(e,"useGridFilter"),[r,a,i]=Do(e),l=yo(e,tn),u=o.useCallback((()=>{n.debug("clearing filtered rows"),a((e=>Object.assign(Object.assign({},e),{visibleRows:{visibleRowsLookup:{}}})))}),[n,a]),s=o.useCallback((function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:go.And;if(!t.columnField||!t.operatorValue)return;const o=e.current.getColumn(t.columnField);if(!o)return;const l=o.valueParser?o.valueParser(t.value):t.value,u=Object.assign(Object.assign({},t),{value:l});n.debug("Filtering column: ".concat(u.columnField," ").concat(u.operatorValue," ").concat(u.value," "));const s=o.filterOperators;if(!(null==s?void 0:s.length))throw new Error("Material-UI: No filter operators found for column '".concat(o.field,"'."));const c=s.find((e=>e.value===u.operatorValue));if(!c)throw new Error("Material-UI: No filter operator found for column '".concat(o.field,"' and operator value '").concat(u.operatorValue,"'."));const d=c.getApplyFilterFn(u,o);"function"==typeof d&&(a((t=>{const n=Object.assign({},t.visibleRows.visibleRowsLookup);return zo(t).forEach(((t,o)=>{const a=e.current.getCellParams(o,u.columnField),i=d(a);null==n[o]?n[o]=i:n[o]=r===go.And?n[o]&&i:n[o]||i})),Object.assign(Object.assign({},t),{visibleRows:Object.assign(Object.assign({},t.visibleRows),{visibleRowsLookup:n,visibleRows:Object.entries(n).filter((e=>{let[,t]=e;return t})).map((e=>{let[t]=e;return t}))})})})),i())}),[e,i,n,a]),c=o.useCallback((()=>{if(t.filterMode===po)return void i();u();const{items:n,linkOperator:r}=e.current.state.filter;n.forEach((t=>{e.current.applyFilter(t,r)})),i()}),[e,u,i,t.filterMode]),d=o.useCallback((r=>{n.debug("Upserting filter"),a((n=>{const o=[...n.filter.items],a=Object.assign({},r),i=o.findIndex((e=>e.id===a.id));if(1===o.length&&Vr(o[0],{})?o[0]=a:-1===i?o.push(a):o[i]=a,null==a.id&&(a.id=Math.round(1e5*Math.random())),null==a.columnField&&(a.columnField=l[0]),null!=a.columnField&&null==a.operatorValue){const t=e.current.getColumn(a.columnField);a.operatorValue=t&&t.filterOperators[0].value}return t.disableMultipleColumnsFiltering&&o.length>1&&(o.length=1),Object.assign(Object.assign({},n),{filter:Object.assign(Object.assign({},n.filter),{items:o})})})),c()}),[n,a,e,c,t.disableMultipleColumnsFiltering,l]),f=o.useCallback((t=>{n.debug("Deleting filter on column ".concat(t.columnField," with value ").concat(t.value)),a((e=>{const n=[...e.filter.items.filter((e=>e.id!==t.id))];return Object.assign(Object.assign({},e),{filter:Object.assign(Object.assign({},e.filter),{items:n})})})),0===e.current.state.filter.items.length&&e.current.upsertFilter({}),c()}),[e,c,n,a]),p=o.useCallback((t=>{if(n.debug("Displaying filter panel"),t){const n=r.filter.items.length>0?r.filter.items[r.filter.items.length-1]:null;n&&n.columnField===t||e.current.upsertFilter({columnField:t})}e.current.showPreferences(Ii.filters)}),[e,r.filter.items,n]),m=o.useCallback((()=>{n.debug("Hiding filter panel"),null==e||e.current.hidePreferences()}),[e,n]),h=o.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:go.And;n.debug("Applying filter link operator"),a((t=>Object.assign(Object.assign({},t),{filter:Object.assign(Object.assign({},t.filter),{linkOperator:e})}))),c()}),[c,n,a]),g=o.useCallback((()=>{u(),n.debug("Clearing filter model"),a((e=>Object.assign(Object.assign({},e),{filter:vo()})))}),[u,n,a]),v=o.useCallback((e=>{g(),n.debug("Setting filter model"),h(e.linkOperator),e.items.forEach((e=>d(e)))}),[h,g,n,d]),b=o.useCallback((()=>Vo(e.current.state)),[e]);uo(e,{applyFilterLinkOperator:h,applyFilters:c,applyFilter:s,deleteFilter:f,upsertFilter:d,setFilterModel:v,showFilterPanel:p,hideFilterPanel:m,getVisibleRowModels:b},"FilterApi"),o.useEffect((()=>{e.current&&(n.debug("Rows prop changed, applying filters"),u(),e.current.applyFilters())}),[e,u,n,t.rows]);const D=o.useCallback((()=>{n.debug("onColUpdated - GridColumns changed, applying filters");const t=e.current.state.filter,r=tn(e.current.state);n.debug("GridColumns changed, applying filters"),t.items.forEach((t=>{r.find((e=>e===t.columnField))||e.current.deleteFilter(t)})),e.current.applyFilters()}),[e,n]);o.useEffect((()=>{e.current.updateControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:e=>e.filter,changeEvent:Ut.filterModelChange})}),[e,t.filterModel,t.onFilterModelChange]),o.useEffect((()=>{if(void 0!==t.filterModel&&t.filterModel.items.length>1&&t.filterModel.items.find((e=>null==e.id)))throw new Error("The 'id' field is required on filterModel.items when you use multiple filters.");const r=e.current.state.filter;void 0!==t.filterModel&&t.filterModel!==r&&(n.debug("filterModel prop changed, applying filters"),a((e=>Object.assign(Object.assign({},e),{filter:t.filterModel||vo()}))),e.current.applyFilters())}),[e,n,t.filterModel,a]),Fo(e,Ut.rowsSet,e.current.applyFilters),Fo(e,Ut.rowsUpdate,e.current.applyFilters),Fo(e,Ut.columnsChange,D)})(e,t),((e,t)=>{var n,r;const a=lo(e,"useGridContainerProps"),[i,l,u]=Do(e),s=o.useRef({width:0,height:0}),c=yo(e,ra),d=yo(e,rn),f=yo(e,$o),p=yo(e,Sa),m=e.current.windowRef,h=null===(r=null===(n=e.current)||void 0===n?void 0:n.rootElementRef)||void 0===r?void 0:r.current,g=!!d,v=o.useMemo((()=>{if(null!=t.scrollbarSize)return t.scrollbarSize;if(!g||!h)return 0;const e=function(e,t){const n=e.createElement("div");n.style.width="99px",n.style.height="99px",n.style.position="absolute",n.style.overflow="scroll",n.className="scrollDiv",t.appendChild(n);const r=n.offsetWidth-n.clientWidth;return t.removeChild(n),r}((0,Z.A)(h),h);return a.debug("Detected scroll bar size ".concat(e,".")),e}),[h,a,t.scrollbarSize,g]),b=o.useCallback((()=>{if(a.debug("Calculating virtual row count."),t.pagination&&(!t.autoPageSize||t.pageSize)){const e=f-p.page*p.pageSize;return e>p.pageSize?p.pageSize:e}return f}),[a,t.autoPageSize,t.pagination,t.pageSize,p.page,p.pageSize,f]),D=o.useCallback((e=>{a.debug("Calculating scrollbar sizes.");let n=d>s.current.width;const r={y:0,x:n?v:0};if(0===e)return{hasScrollX:n,hasScrollY:!1,sizes:r};const o=e*c,i=!t.autoPageSize&&!t.autoHeight&&o+r.x>s.current.height;return r.y=i?v:0,n=d+r.y>s.current.width,r.x=n?v:0,a.debug("Scrollbar size on axis x: ".concat(r.x,", y: ").concat(r.y)),{hasScrollX:n,hasScrollY:i,sizes:r}}),[a,d,t.autoPageSize,t.autoHeight,c,v]),y=o.useCallback(((e,n)=>{if(!(null==m?void 0:m.current))return null;a.debug("Calculating container sizes.");const r=m.current.getBoundingClientRect();return s.current={width:r.width,height:r.height},a.debug("window Size - W: ".concat(s.current.width," H: ").concat(s.current.height," ")),{width:s.current.width-n.sizes.y,height:t.autoHeight?e*c:s.current.height-n.sizes.x}}),[a,t.autoHeight,c,m]),C=o.useCallback(((e,n,r)=>{if(!m||!m.current||0===d||Number.isNaN(d))return null;const o=e*c-s.current.height>2*c&&!t.disableVirtualization;if(t.autoPageSize||t.autoHeight||!o){const o=Math.floor(n.height/c),i=r.hasScrollY||e<o?e:o,l=Math.max(i*c+(t.autoHeight?r.sizes.x:0),1),u={isVirtualized:!1,virtualRowsCount:i,renderingZonePageSize:i,viewportPageSize:i,totalSizes:{width:d,height:l},dataContainerSizes:{width:d,height:l},renderingZoneScrollHeight:l-n.height,renderingZone:{width:d,height:l},windowSizes:s.current,lastPage:1};return a.debug("Fixed container props",u),u}const i=Math.floor(n.height/c),l=i>0?Math.ceil(e/i)-1:0,u=2*i,f=u*c,p=f-n.height;let h=l*p+n.height;const g=e%i;g>0&&(h=h-p+g*c);const v={isVirtualized:o,virtualRowsCount:e,viewportPageSize:i,totalSizes:{width:d,height:h},dataContainerSizes:{width:d,height:h},renderingZonePageSize:u,renderingZone:{width:d,height:f},renderingZoneScrollHeight:p,windowSizes:s.current,lastPage:l};return a.debug("virtualized container props",v),v}),[m,d,c,t.autoPageSize,t.autoHeight,t.disableVirtualization,a]),E=o.useCallback(((e,t)=>{let n=!1;l((r=>(n=e(r),n?t(r):r))),n&&u()}),[u,l]),A=o.useCallback((()=>{a.debug("Refreshing container sizes");const e=b(),t=D(e),n=y(e,t);if(!n)return;E((e=>e.scrollBar!==t),(e=>Object.assign(Object.assign({},e),{scrollBar:t}))),E((e=>e.viewportSizes!==n),(e=>Object.assign(Object.assign({},e),{viewportSizes:n})));const r=C(e,n,t);E((e=>!Vr(e.containerSizes,r)),(e=>Object.assign(Object.assign({},e),{containerSizes:r})))}),[C,D,y,b,a,E]);o.useEffect((()=>{A()}),[i.columns,t.hideFooter,A,f]),Fo(e,Ut.debouncedResize,A)})(e,t),((e,t)=>{const n=lo(e,"useDensity"),[,r,a]=Do(e),i=o.useCallback(((e,t,n)=>{switch(e){case co.Compact:return{value:e,headerHeight:Math.floor(.7*t),rowHeight:Math.floor(.7*n)};case co.Comfortable:return{value:e,headerHeight:Math.floor(1.3*t),rowHeight:Math.floor(1.3*n)};default:return{value:e,headerHeight:t,rowHeight:n}}}),[]),l=o.useCallback((function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.headerHeight,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.rowHeight;n.debug("Set grid density to ".concat(e)),r((t=>Object.assign(Object.assign({},t),{density:Object.assign(Object.assign({},t.density),i(e,o,l))}))),a()}),[n,r,a,i,t.headerHeight,t.rowHeight]);o.useEffect((()=>{l(t.density,t.headerHeight,t.rowHeight)}),[l,t.density,t.rowHeight,t.headerHeight]),uo(e,{setDensity:l},"GridDensityApi")})(e,t),((e,t)=>{const n=lo(e,"useGridScroll"),r=e.current.columnHeadersElementRef,a=e.current.windowRef,i=yo(e,ra),l=yo(e,Sa),u=yo(e,To),s=yo(e,Qt),c=yo(e,Jt),d=o.useCallback((r=>{if(0===u||0===s.length)return!1;n.debug("Scrolling to cell at row ".concat(r.rowIndex,", col: ").concat(r.colIndex," "));const o={};if(null!=r.colIndex&&(o.left=fu({clientHeight:a.current.clientWidth,scrollTop:a.current.scrollLeft,offsetHeight:s[r.colIndex].computedWidth,offsetTop:c.positions[r.colIndex]})),null!=r.rowIndex){const e=t.pagination?r.rowIndex-l.page*l.pageSize:r.rowIndex;o.top=fu({clientHeight:a.current.clientHeight,scrollTop:a.current.scrollTop,offsetHeight:i,offsetTop:i*e})}return(void 0!==typeof o.left||void 0!==typeof o.top)&&(e.current.scroll(o),!0)}),[u,s,n,e,t.pagination,l.page,l.pageSize,a,c.positions,i]),f=o.useCallback((e=>{a.current&&null!=e.left&&r.current&&(r.current.scrollLeft=e.left,a.current.scrollLeft=e.left,n.debug("Scrolling left: ".concat(e.left))),a.current&&null!=e.top&&(a.current.scrollTop=e.top,n.debug("Scrolling top: ".concat(e.top))),n.debug("Scrolling, updating container, and viewport")}),[a,r,n]),p=o.useCallback((()=>Eo(e.current.getState())),[e]);uo(e,{scroll:f,scrollToIndexes:d,getScrollPosition:p},"GridScrollApi");const m=o.useCallback((e=>{e.target.scrollLeft=0,e.target.scrollTop=0}),[]);lu(e,(()=>{var t,n,r;return null===(r=null===(n=null===(t=e.current)||void 0===t?void 0:t.renderingZoneRef)||void 0===n?void 0:n.current)||void 0===r?void 0:r.parentElement}),"scroll",m),lu(e,(()=>{var t,n;return null===(n=null===(t=e.current)||void 0===t?void 0:t.columnHeadersContainerElementRef)||void 0===n?void 0:n.current}),"scroll",m)})(e,t),((e,t)=>{const n=e.current.windowRef,r=e.current.columnHeadersElementRef,a=e.current.renderingZoneRef,[i,l,u]=Do(e),[s]=ou(e,a,r),c=yo(e,Sa),d=yo(e,Qt),f=o.useCallback((()=>{if(!i.containerSizes||!(null==n?void 0:n.current))return;let e=0;const{page:r,pageSize:o}=c;t.pagination&&"client"===t.paginationMode&&(e=o*r);const a={firstRowIdx:e,lastRowIdx:e+i.containerSizes.virtualRowsCount,firstColIdx:0,lastColIdx:d.length>0?d.length-1:0},s={top:n.current.scrollTop,left:n.current.scrollLeft};l((e=>Object.assign(Object.assign({},e),{rendering:Object.assign(Object.assign({},e.rendering),{virtualPage:0,renderContext:a,realScroll:s,renderingZoneScroll:s})}))),u()}),[i.containerSizes,c,t.pagination,t.paginationMode,l,u,d.length,n]);o.useEffect((()=>{t.disableVirtualization&&f()}),[t.disableVirtualization,f]);const p=o.useCallback((()=>{if(!t.disableVirtualization||!(null==n?void 0:n.current))return;const{scrollLeft:e,scrollTop:r}=n.current;s({top:r,left:e}),f()}),[t.disableVirtualization,s,n,f]);lu(e,n,"scroll",p,{passive:!0})})(e,t),du(e,t),((e,t)=>{const n=lo(e,"useGridColumnResize"),[,r,a]=Do(e),i=o.useRef(),l=o.useRef(),u=o.useRef(),s=o.useRef(),c=o.useRef(),d=o.useRef(),f=e=>{n.debug("Updating width to ".concat(e," for col ").concat(i.current.field)),i.current.computedWidth=e,i.current.width=e,i.current.flex=void 0,l.current.style.width="".concat(e,"px"),l.current.style.minWidth="".concat(e,"px"),l.current.style.maxWidth="".concat(e,"px"),u.current.forEach((t=>{const n=t;n.style.width="".concat(e,"px"),n.style.minWidth="".concat(e,"px"),n.style.maxWidth="".concat(e,"px")}))},p=Wr((t=>{D(),e.current.updateColumn(i.current),clearTimeout(c.current),c.current=setTimeout((()=>{var n;e.current.publishEvent(Ut.columnResizeStop,null,t),e.current.publishEvent(Ut.columnWidthChange,{element:l.current,colDef:i.current,width:null===(n=i.current)||void 0===n?void 0:n.computedWidth},t)})),n.debug("Updating col ".concat(i.current.field," with new width: ").concat(i.current.width))})),m=Wr((t=>{var n;if(0===t.buttons)return void p(t);let r=s.current+t.clientX-l.current.getBoundingClientRect().left;r=Math.max(null===(n=i.current)||void 0===n?void 0:n.minWidth,r),f(r),e.current.publishEvent(Ut.columnResize,{element:l.current,colDef:i.current,width:r},t)})),h=Wr(((t,r)=>{let{colDef:o}=t;var a;if(0!==r.button)return;if(!r.currentTarget.classList.contains(Ao["columnSeparator--resizable"]))return;r.preventDefault(),l.current=Fi(r.currentTarget,Ao.columnHeader),n.debug("Start Resize on col ".concat(o.field)),e.current.publishEvent(Ut.columnResizeStart,{field:o.field},r),i.current=o,l.current=null===(a=e.current.columnHeadersElementRef)||void 0===a?void 0:a.current.querySelector('[data-field="'.concat(o.field,'"]')),u.current=ki(l.current);const c=(0,Z.A)(e.current.rootElementRef.current);c.body.style.cursor="col-resize",s.current=i.current.computedWidth-(r.clientX-l.current.getBoundingClientRect().left),c.addEventListener("mousemove",m),c.addEventListener("mouseup",p)})),g=Wr((t=>{mu(t,d.current)&&(D(),e.current.updateColumn(i.current),clearTimeout(c.current),c.current=setTimeout((()=>{e.current.publishEvent(Ut.columnResizeStop,null,t)})),n.debug("Updating col ".concat(i.current.field," with new width: ").concat(i.current.width)))})),v=Wr((t=>{var n;const r=mu(t,d.current);if(!r)return;if("mousemove"===t.type&&0===t.buttons)return void g(t);let o=s.current+r.x-l.current.getBoundingClientRect().left;o=Math.max(null===(n=i.current)||void 0===n?void 0:n.minWidth,o),f(o),e.current.publishEvent(Ut.columnResize,{element:l.current,colDef:i.current,width:o},t)})),b=Wr((t=>{var r;if(!Fi(t.target,Ao["columnSeparator--resizable"]))return;t.preventDefault();const o=t.changedTouches[0];null!=o&&(d.current=o.identifier),l.current=Fi(t.target,Ao.columnHeader);const a=l.current.getAttribute("data-field"),c=e.current.getColumn(a);n.debug("Start Resize on col ".concat(c.field)),e.current.publishEvent(Ut.columnResizeStart,{field:a},t),i.current=c,l.current=function(e,t){return e.querySelector('[data-field="'.concat(t,'"]'))}(null===(r=e.current.columnHeadersElementRef)||void 0===r?void 0:r.current,c.field),u.current=ki(l.current),s.current=i.current.computedWidth-(o.clientX-l.current.getBoundingClientRect().left);const f=(0,Z.A)(t.currentTarget);f.addEventListener("touchmove",v),f.addEventListener("touchend",g)})),D=o.useCallback((()=>{const t=(0,Z.A)(e.current.rootElementRef.current);t.body.style.removeProperty("cursor"),t.removeEventListener("mousemove",m),t.removeEventListener("mouseup",p),t.removeEventListener("touchmove",v),t.removeEventListener("touchend",g)}),[e,m,p,v,g]),y=o.useCallback((e=>{let{field:t}=e;r((e=>Object.assign(Object.assign({},e),{columnResize:Object.assign(Object.assign({},e.columnResize),{resizingColumnField:t})}))),a()}),[r,a]),C=o.useCallback((()=>{r((e=>Object.assign(Object.assign({},e),{columnResize:Object.assign(Object.assign({},e.columnResize),{resizingColumnField:""})}))),a()}),[r,a]);o.useEffect((()=>()=>{clearTimeout(c.current),D()}),[e,b,D]),lu(e,(()=>{var t,n;return null===(n=null===(t=e.current)||void 0===t?void 0:t.columnHeadersElementRef)||void 0===n?void 0:n.current}),"touchstart",b,{passive:!1}),Fo(e,Ut.columnSeparatorMouseDown,h),Fo(e,Ut.columnResizeStart,y),Fo(e,Ut.columnResizeStop,C),ko(e,Ut.columnResize,t.onColumnResize),ko(e,Ut.columnWidthChange,t.onColumnWidthChange)})(e,t),((e,t)=>{const n=lo(e,"useGridPageSize"),[,r,a]=Do(e),i=yo(e,$o),l=yo(e,Ui),u=o.useCallback((e=>{n.debug("Setting page size to ".concat(e)),r((t=>Object.assign(Object.assign({},t),{pagination:Object.assign(Object.assign({},t.pagination),{pageSize:e})}))),a()}),[r,a,n]);o.useEffect((()=>{e.current.updateControlState({stateId:"pageSize",propModel:t.pageSize,propOnChange:t.onPageSizeChange,stateSelector:e=>e.pagination.pageSize,changeEvent:Ut.pageSizeChange})}),[e,t.pageSize,t.onPageSizeChange]),o.useEffect((()=>{const n=null==l?void 0:l.viewportPageSize,o=e.current.state.pagination.pageSize;let i=o;null!=t.pageSize?i=t.pageSize:t.autoPageSize&&(i=null!=n?n:0),i!==o&&(t.autoPageSize&&e.current.publishEvent(Ut.pageSizeChange,n),r((e=>Object.assign(Object.assign({},e),{pagination:Object.assign(Object.assign({},e.pagination),{pageSize:i})}))),a())}),[e,r,a,i,t.autoPageSize,t.pageSize,null==l?void 0:l.viewportPageSize]),uo(e,{setPageSize:u},"GridPageSizeApi")})(e,t),((e,t)=>{const n=lo(e,"useGridPage"),[,r,a]=Do(e),i=yo(e,$o),l=o.useCallback((e=>{n.debug("Setting page to ".concat(e)),r((t=>Object.assign(Object.assign({},t),{pagination:iu(Object.assign(Object.assign({},t.pagination),{page:e}))}))),a()}),[r,a,n]);o.useEffect((()=>{e.current.updateControlState({stateId:"page",propModel:t.page,propOnChange:t.onPageChange,stateSelector:e=>e.pagination.page,changeEvent:Ut.pageChange})}),[e,t.page,t.onPageChange]),o.useEffect((()=>{r((e=>{const n=void 0!==t.rowCount?t.rowCount:i,r=au(n,e.pagination.pageSize),o=null==t.page?e.pagination.page:t.page;return Object.assign(Object.assign({},e),{pagination:iu(Object.assign(Object.assign({},e.pagination),{page:o,rowCount:n,pageCount:r}))})})),a()}),[r,a,i,t.rowCount,t.page,e]);const u=o.useCallback((e=>{r((t=>{const n=au(t.pagination.rowCount,e);return Object.assign(Object.assign({},t),{pagination:iu(Object.assign(Object.assign({},t.pagination),{pageCount:n,page:t.pagination.page}))})})),a()}),[r,a]);Fo(e,Ut.pageSizeChange,u),uo(e,{setPage:l},"GridPageApi")})(e,t),(e=>{const t=lo(e,"useGridCsvExport"),n=yo(e,Qt),r=yo(e,Zt),a=yo(e,Vo),i=yo(e,Oa),l=o.useCallback((o=>{let l;return t.debug("Get data as CSV"),l=(null==o?void 0:o.fields)?o.fields.map((e=>r.find((t=>t.field===e)))).filter((e=>!!e)):((null==o?void 0:o.allColumns)?r:n).filter((e=>!e.disableExport)),Eu({columns:l,rows:a,selectedRowIds:i,getCellParams:e.current.getCellParams,delimiterCharacter:(null==o?void 0:o.delimiter)||","})}),[t,n,r,a,i,e]),u=o.useCallback((e=>{t.debug("Export data as CSV");const n=l(e);!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.title;const r="".concat(n,".").concat(t);if("download"in HTMLAnchorElement.prototype){const t=URL.createObjectURL(e),n=document.createElement("a");return n.href=t,n.download=r,n.click(),void setTimeout((()=>{URL.revokeObjectURL(t)}))}throw new Error("exportAs not supported")}(new Blob([(null==e?void 0:e.utf8WithBom)?new Uint8Array([239,187,191]):"",n],{type:"text/csv"}),"csv",null==e?void 0:e.fileName)}),[t,l]);uo(e,{getDataAsCsv:l,exportDataAsCsv:u},"GridCsvExportApi")})(e),((e,t)=>{const n=yo(e,Ui),r=yo(e,Qt),a=o.useRef(!1),i=yo(e,Co),l=o.useRef(null),u=o.useCallback((o=>{if(!n)return;const i=o.top+n.windowSizes.height+t.scrollEndThreshold;if(i<n.dataContainerSizes.height&&(a.current=!1),i>=n.dataContainerSizes.height&&!a.current){const t={visibleColumns:r,viewportPageSize:n.viewportPageSize,virtualRowsCount:n.virtualRowsCount};e.current.publishEvent(Ut.rowsScrollEnd,t),a.current=!0}}),[e,t.scrollEndThreshold,r,n]),s=o.useCallback((()=>{const t=e.current.getScrollPosition();u(t)}),[e,u]);o.useEffect((()=>{const t=i.renderContext;if(t){if(!l.current||t.firstRowIdx!==l.current.firstRowIndex||t.lastRowIdx!==l.current.lastRowIndex){const n={firstRowIndex:t.firstRowIdx,lastRowIndex:t.lastRowIdx};e.current.publishEvent(Ut.viewportRowsChange,n)}l.current={firstRowIndex:t.firstRowIdx,lastRowIndex:t.lastRowIdx}}}),[e,t.onViewportRowsChange,i]),Fo(e,Ut.rowsScroll,s),ko(e,Ut.rowsScrollEnd,t.onRowsScrollEnd),ko(e,Ut.viewportRowsChange,t.onViewportRowsChange)})(e,t),(e=>{const t=yo(e,Qt),n=o.useCallback((function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const r=e.current.getSelectedRows(),o=t.filter((e=>e.field!==si.field));if(0===r.size||0===o.length)return;const a=Eu({columns:t,rows:r,selectedRowIds:[],includeHeaders:n,getCellParams:e.current.getCellParams,delimiterCharacter:"\t"});navigator.clipboard?navigator.clipboard.writeText(a).catch((()=>{Au(a)})):Au(a)}),[e,t]),r=o.useCallback((t=>{var n;const r=t.ctrlKey||t.metaKey||t.altKey;"c"===t.key.toLowerCase()&&r&&""===(null===(n=window.getSelection())||void 0===n?void 0:n.toString())&&e.current.copySelectedRowsToClipboard(t.altKey)}),[e]);lu(e,e.current.rootElementRef,"keydown",r),uo(e,{copySelectedRowsToClipboard:n},"GridClipboardApi")})(e),((e,t)=>{const n=o.useMemo((()=>{var e,n;return{BooleanCellTrueIcon:t.components&&t.components.BooleanCellTrueIcon||bu.BooleanCellTrueIcon,BooleanCellFalseIcon:t.components&&t.components.BooleanCellFalseIcon||bu.BooleanCellFalseIcon,ColumnFilteredIcon:t.components&&t.components.ColumnFilteredIcon||bu.ColumnFilteredIcon,ColumnMenuIcon:t.components&&t.components.ColumnMenuIcon||bu.ColumnMenuIcon,ColumnResizeIcon:t.components&&t.components.ColumnResizeIcon||bu.ColumnResizeIcon,ColumnSelectorIcon:t.components&&t.components.ColumnSelectorIcon||bu.ColumnSelectorIcon,ColumnUnsortedIcon:void 0===(null===(e=t.components)||void 0===e?void 0:e.ColumnUnsortedIcon)?bu.ColumnUnsortedIcon:null===(n=t.components)||void 0===n?void 0:n.ColumnUnsortedIcon,ColumnSortedAscendingIcon:t.components&&t.components.ColumnSortedAscendingIcon||bu.ColumnSortedAscendingIcon,ColumnSortedDescendingIcon:t.components&&t.components.ColumnSortedDescendingIcon||bu.ColumnSortedDescendingIcon,DensityComfortableIcon:t.components&&t.components.DensityComfortableIcon||bu.DensityComfortableIcon,DensityCompactIcon:t.components&&t.components.DensityCompactIcon||bu.DensityCompactIcon,DensityStandardIcon:t.components&&t.components.DensityStandardIcon||bu.DensityStandardIcon,ExportIcon:t.components&&t.components.ExportIcon||bu.ExportIcon,OpenFilterButtonIcon:t.components&&t.components.OpenFilterButtonIcon||bu.OpenFilterButtonIcon,Checkbox:t.components&&t.components.Checkbox||bu.Checkbox,ColumnMenu:t.components&&t.components.ColumnMenu||bu.ColumnMenu,ErrorOverlay:t.components&&t.components.ErrorOverlay||bu.ErrorOverlay,Footer:t.components&&t.components.Footer||bu.Footer,Header:t.components&&t.components.Header||bu.Header,Toolbar:t.components&&t.components.Toolbar,PreferencesPanel:t.components&&t.components.PreferencesPanel||bu.PreferencesPanel,LoadingOverlay:t.components&&t.components.LoadingOverlay||bu.LoadingOverlay,NoResultsOverlay:t.components&&t.components.NoResultsOverlay||bu.NoResultsOverlay,NoRowsOverlay:t.components&&t.components.NoRowsOverlay||bu.NoRowsOverlay,Pagination:t.components&&t.components.Pagination||bu.Pagination,FilterPanel:t.components&&t.components.FilterPanel||bu.FilterPanel,ColumnsPanel:t.components&&t.components.ColumnsPanel||bu.ColumnsPanel,Panel:t.components&&t.components.Panel||bu.Panel}}),[t.components]);e.current.components=n,e.current.componentsProps=t.componentsProps})(e,t),function(e,t){let{state:n}=t;const[,r,a]=Do(e),i=lo(e,"useStateProp");o.useEffect((()=>{null!=n&&e.current.state!==n&&(i.debug("Overriding state with props.state"),r((e=>Object.assign(Object.assign({},e),n))),a())}),[e,a,i,n,r])}(e,t),function(e){const[t]=Do(e),n=lo(e,"useRenderInfoLog");if(null!=t.rendering.renderContext){const{page:e,firstColIdx:r,lastColIdx:o,firstRowIdx:a,lastRowIdx:i}=t.rendering.renderContext;n.info("Rendering, page: ".concat(e,", col: ").concat(r,"-").concat(o,", row: ").concat(a,"-").concat(i))}}(e)},Fu=e=>{if(e.pageSize>100)throw new Error("'props.pageSize' cannot exceed 100 in DataGrid.");const t=function(e){let{props:t,name:n}=e;const r=(0,S.A)();return o.useMemo((()=>{const e=Object.assign({},t),o=function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n]||!t.components[n].defaultProps)return r;const o=(0,v.A)({},r),a=t.components[n].defaultProps;let i;for(i in a)void 0===o[i]&&(o[i]=a[i]);return o}({theme:r,name:n,props:e}),a=o.theme||r,i="rtl"===a.direction;return Object.assign({theme:a,isRtl:i},o)}),[t,n,r])}({props:e,name:"MuiDataGrid"});return o.useMemo((()=>Object.assign(Object.assign({},t),{apiRef:void 0,disableColumnResize:!0,disableColumnReorder:!0,disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleSelection:!0,pagination:!0,onRowsScrollEnd:void 0,onViewportRowsChange:void 0,checkboxSelectionVisibleOnly:!1,signature:"DataGrid"})),[t])},Su=o.forwardRef((function(e,t){const n=Fu(e),r=function(){const e=arguments.length<=0?void 0:arguments[0],t=o.useRef(new pu);return o.useImperativeHandle(e,(()=>t.current),[t]),t}();return xu(r,n),o.createElement(yu,{apiRef:r,props:n},o.createElement(gl,{ref:t},o.createElement(fl,null,o.createElement(ml,null),o.createElement(cl,null),o.createElement(pl,null))))}));Su.defaultProps=mo;const ku=o.memo(Su);ku.propTypes={apiRef:(qt().any,()=>null),checkboxSelectionVisibleOnly:(qt().bool,()=>null),columns:(qt().array.isRequired,()=>null),disableColumnReorder:(qt().bool,()=>null),disableColumnResize:(qt().bool,()=>null),disableMultipleColumnsFiltering:(qt().bool,()=>null),disableMultipleColumnsSorting:(qt().bool,()=>null),disableMultipleSelection:(qt().bool,()=>null),filterModel:(qt().any,()=>null),onRowsScrollEnd:(qt().any,()=>null),onViewportRowsChange:(qt().any,()=>null),pageSize:(qt().number,()=>null),pagination:e=>!1===e.pagination?new Error(["Material-UI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to the DataGridPro component to disable the pagination."].join("\n")):null,rows:qt().array.isRequired,scrollEndThreshold:(qt().number,()=>null),selectionModel:(qt().oneOfType([qt().number,qt().string,qt().array]),()=>null)}},3024:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}n.d(t,{A:()=>o});const o=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}},5270:(e,t,n)=>{"use strict";var r=n(139),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,i,l,u,s,c=!1;t||(t={}),n=t.debug||!1;try{if(i=r(),l=document.createRange(),u=document.getSelection(),(s=document.createElement("span")).textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=o[t.format]||o.default;window.clipboardData.setData(a,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(s),l.selectNodeContents(s),u.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(l):u.removeAllRanges()),s&&document.body.removeChild(s),i()}return c}},219:(e,t,n)=>{"use strict";var r=n(3763),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function u(e){return r.isMemo(e)?i:l[e.$$typeof]||o}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=i;var s=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(m){var o=p(n);o&&o!==m&&e(t,o,r)}var i=c(n);d&&(i=i.concat(d(n)));for(var l=u(t),h=u(n),g=0;g<i.length;++g){var v=i[g];if(!a[v]&&(!r||!r[v])&&(!h||!h[v])&&(!l||!l[v])){var b=f(n,v);try{s(t,v,b)}catch(D){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,h=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,D=n?Symbol.for("react.responder"):60118,y=n?Symbol.for("react.scope"):60119;function C(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case a:case l:case i:case p:return e;default:switch(e=e&&e.$$typeof){case s:case f:case g:case h:case u:return e;default:return t}}case o:return t}}}function E(e){return C(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=s,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=g,t.Memo=h,t.Portal=o,t.Profiler=l,t.StrictMode=i,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||C(e)===c},t.isConcurrentMode=E,t.isContextConsumer=function(e){return C(e)===s},t.isContextProvider=function(e){return C(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return C(e)===f},t.isFragment=function(e){return C(e)===a},t.isLazy=function(e){return C(e)===g},t.isMemo=function(e){return C(e)===h},t.isPortal=function(e){return C(e)===o},t.isProfiler=function(e){return C(e)===l},t.isStrictMode=function(e){return C(e)===i},t.isSuspense=function(e){return C(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===l||e===i||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===f||e.$$typeof===b||e.$$typeof===D||e.$$typeof===y||e.$$typeof===v)},t.typeOf=C},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},700:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};const o="object"===("undefined"===typeof window?"undefined":r(window))&&"object"===("undefined"===typeof document?"undefined":r(document))&&9===document.nodeType},1141:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},2475:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=/[A-Z]/g,o=/^ms-/,a={};function i(e){return"-"+e.toLowerCase()}const l=function(e){if(a.hasOwnProperty(e))return a[e];var t=e.replace(r,i);return a[e]=o.test(t)?"-"+t:t};function u(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:l(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(u):t.fallbacks=u(e.fallbacks)),t}const s=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=u(e[t]);return e}return u(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=l(t);return t===r?e:(n.prop(r,e),null)}}}},2646:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(2852),o=r.rN&&CSS?CSS.px:"px",a=r.rN&&CSS?CSS.ms:"ms",i=r.rN&&CSS?CSS.percent:"%";function l(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var o in e)r[o]=e[o],r[o.replace(t,n)]=e[o];return r}var u=l({"animation-delay":a,"animation-duration":a,"background-position":o,"background-position-x":o,"background-position-y":o,"background-size":o,border:o,"border-bottom":o,"border-bottom-left-radius":o,"border-bottom-right-radius":o,"border-bottom-width":o,"border-left":o,"border-left-width":o,"border-radius":o,"border-right":o,"border-right-width":o,"border-top":o,"border-top-left-radius":o,"border-top-right-radius":o,"border-top-width":o,"border-width":o,"border-block":o,"border-block-end":o,"border-block-end-width":o,"border-block-start":o,"border-block-start-width":o,"border-block-width":o,"border-inline":o,"border-inline-end":o,"border-inline-end-width":o,"border-inline-start":o,"border-inline-start-width":o,"border-inline-width":o,"border-start-start-radius":o,"border-start-end-radius":o,"border-end-start-radius":o,"border-end-end-radius":o,margin:o,"margin-bottom":o,"margin-left":o,"margin-right":o,"margin-top":o,"margin-block":o,"margin-block-end":o,"margin-block-start":o,"margin-inline":o,"margin-inline-end":o,"margin-inline-start":o,padding:o,"padding-bottom":o,"padding-left":o,"padding-right":o,"padding-top":o,"padding-block":o,"padding-block-end":o,"padding-block-start":o,"padding-inline":o,"padding-inline-end":o,"padding-inline-start":o,"mask-position-x":o,"mask-position-y":o,"mask-size":o,height:o,width:o,"min-height":o,"max-height":o,"min-width":o,"max-width":o,bottom:o,left:o,top:o,right:o,inset:o,"inset-block":o,"inset-block-end":o,"inset-block-start":o,"inset-inline":o,"inset-inline-end":o,"inset-inline-start":o,"box-shadow":o,"text-shadow":o,"column-gap":o,"column-rule":o,"column-rule-width":o,"column-width":o,"font-size":o,"font-size-delta":o,"letter-spacing":o,"text-decoration-thickness":o,"text-indent":o,"text-stroke":o,"text-stroke-width":o,"word-spacing":o,motion:o,"motion-offset":o,outline:o,"outline-offset":o,"outline-width":o,perspective:o,"perspective-origin-x":i,"perspective-origin-y":i,"transform-origin":i,"transform-origin-x":i,"transform-origin-y":i,"transform-origin-z":i,"transition-delay":a,"transition-duration":a,"vertical-align":o,"flex-basis":o,"shape-margin":o,size:o,gap:o,grid:o,"grid-gap":o,"row-gap":o,"grid-row-gap":o,"grid-column-gap":o,"grid-template-rows":o,"grid-template-columns":o,"grid-auto-rows":o,"grid-auto-columns":o,"box-shadow-x":o,"box-shadow-y":o,"box-shadow-blur":o,"box-shadow-spread":o,"font-line-height":o,"text-shadow-x":o,"text-shadow-y":o,"text-shadow-blur":o});function s(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=s(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var a in t)t[a]=s(a,t[a],n);else for(var i in t)t[i]=s(e+"-"+i,t[i],n);else if("number"===typeof t&&!1===isNaN(t)){var l=n[e]||u[e];return!l||0===t&&l===o?t.toString():"function"===typeof l?l(t).toString():""+t+l}return t}const c=function(e){void 0===e&&(e={});var t=l(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=s(r,e[r],t);return e},onChangeValue:function(e,n){return s(n,e,t)}}}},1312:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(8168),o=n(2852),a="@global",i="@global ",l=function(){function e(e,t,n){for(var i in this.type="global",this.at=a,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new o.VZ((0,r.A)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),u=function(){function e(e,t,n){this.type="global",this.at=a,this.isProcessed=!1,this.key=e,this.options=n;var o=e.substr(8);this.rule=n.jss.createRule(o,t,(0,r.A)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),s=/\s*,\s*/g;function c(e,t){for(var n=e.split(s),r="",o=0;o<n.length;o++)r+=t+" "+n[o].trim(),n[o+1]&&(r+=", ");return r}const d=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===a)return new l(e,t,n);if("@"===e[0]&&e.substr(0,8)===i)return new u(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,o=e.style,i=o?o[a]:null;if(i){for(var l in i)t.addRule(l,i[l],(0,r.A)({},n,{selector:c(l,e.selector)}));delete o[a]}}(e,t),function(e,t){var n=e.options,o=e.style;for(var i in o)if("@"===i[0]&&i.substr(0,7)===a){var l=c(i.substr(7),e.selector);t.addRule(l,o[i],(0,r.A)({},n,{selector:l})),delete o[i]}}(e,t))}}}},3796:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(8168),o=/\s*,\s*/g,a=/&/g,i=/\$([\w-]+)/g;const l=function(){function e(e,t){return function(n,r){var o=e.getRule(r)||t&&t.getRule(r);return o?o.selector:r}}function t(e,t){for(var n=t.split(o),r=e.split(o),i="",l=0;l<n.length;l++)for(var u=n[l],s=0;s<r.length;s++){var c=r[s];i&&(i+=", "),i+=-1!==c.indexOf("&")?c.replace(a,u):u+" "+c}return i}function n(e,t,n){if(n)return(0,r.A)({},n,{index:n.index+1});var o=e.options.nestingLevel;o=void 0===o?1:o+1;var a=(0,r.A)({},e.options,{nestingLevel:o,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(o,a,l){if("style"!==a.type)return o;var u,s,c=a,d=c.options.parent;for(var f in o){var p=-1!==f.indexOf("&"),m="@"===f[0];if(p||m){if(u=n(c,d,u),p){var h=t(f,c.selector);s||(s=e(d,l)),h=h.replace(i,s);var g=c.key+"-"+f;"replaceRule"in d?d.replaceRule(g,o[f],(0,r.A)({},u,{selector:h})):d.addRule(g,o[f],(0,r.A)({},u,{selector:h}))}else m&&d.addRule(f,{},u).addRule(c.key,o[f],{selector:c.selector});delete o[f]}}return o}}}},4620:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},o=Object.keys(t).sort(e),a=0;a<o.length;a++)r[o[a]]=t[o[a]];return r}}}},4636:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(2852),o=Date.now(),a="fnValues"+o,i="fnStyle"+ ++o;const l=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var o=(0,r.D_)(e,{},n);return o[i]=t,o},onProcessStyle:function(e,t){if(a in t||i in t)return e;var n={};for(var r in e){var o=e[r];"function"===typeof o&&(delete e[r],n[r]=o)}return t[a]=n,e},onUpdate:function(e,t,n,r){var o=t,l=o[i];l&&(o.style=l(e)||{});var u=o[a];if(u)for(var s in u)o.prop(s,u[s](e),r)}}}},6224:(e,t,n)=>{"use strict";n.d(t,{A:()=>re});var r=n(700),o=n(5458),a="",i="",l="",u="",s=r.A&&"ontouchstart"in document.documentElement;if(r.A){var c={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},d=document.createElement("p").style;for(var f in c)if(f+"Transform"in d){a=f,i=c[f];break}"Webkit"===a&&"msHyphens"in d&&(a="ms",i=c.ms,u="edge"),"Webkit"===a&&"-apple-trailing-word"in d&&(l="apple")}var p=a,m=i,h=l,g=u,v=s;var b={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===p?"-webkit-"+e:m+e)}},D={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===p?m+"print-"+e:e)}},y=/[-\s]+(.)?/g;function C(e,t){return t?t.toUpperCase():""}function E(e){return e.replace(y,C)}function A(e){return E("-"+e)}var w,x={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===p){var n="mask-image";if(E(n)in t)return e;if(p+A(n)in t)return m+e}return e}},F={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==h||v?e:m+e)}},S={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:m+e)}},k={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:m+e)}},O={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===p||"ms"===p&&"edge"!==g?m+e:e)}},R={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===p||"ms"===p||"apple"===h?m+e:e)}},P={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===p?"WebkitColumn"+A(e)in t&&m+"column-"+e:"Moz"===p&&("page"+A(e)in t&&"page-"+e))}},B={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===p)return e;var n=e.replace("-inline","");return p+A(n)in t&&m+n}},T={supportedProperty:function(e,t){return E(e)in t&&e}},M={supportedProperty:function(e,t){var n=A(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:p+n in t?m+e:"Webkit"!==p&&"Webkit"+n in t&&"-webkit-"+e}},L={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===p?""+m+e:e)}},I={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===p?m+"scroll-chaining":e)}},j={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},z={supportedProperty:function(e,t){var n=j[e];return!!n&&(p+A(n)in t&&m+n)}},N={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},_=Object.keys(N),H=function(e){return m+e},V={supportedProperty:function(e,t,n){var r=n.multiple;if(_.indexOf(e)>-1){var o=N[e];if(!Array.isArray(o))return p+A(o)in t&&m+o;if(!r)return!1;for(var a=0;a<o.length;a++)if(!(p+A(o[0])in t))return!1;return o.map(H)}return!1}},W=[b,D,x,F,S,k,O,R,P,B,T,M,L,I,z,V],U=W.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),$=W.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,o.A)(t.noPrefill)),e}),[]),K={};if(r.A){w=document.createElement("p");var q=window.getComputedStyle(document.documentElement,"");for(var G in q)isNaN(G)||(K[q[G]]=q[G]);$.forEach((function(e){return delete K[e]}))}function X(e,t){if(void 0===t&&(t={}),!w)return e;if(null!=K[e])return K[e];"transition"!==e&&"transform"!==e||(t[e]=e in w.style);for(var n=0;n<U.length&&(K[e]=U[n](e,w.style,t),!K[e]);n++);try{w.style[e]=""}catch(r){return!1}return K[e]}var Y,Z={},Q={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},J=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function ee(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?X(t):", "+X(n);return r||(t||n)}function te(e,t){var n=t;if(!Y||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Z[r])return Z[r];try{Y.style[e]=n}catch(o){return Z[r]=!1,!1}if(Q[e])n=n.replace(J,ee);else if(""===Y.style[e]&&("-ms-flex"===(n=m+n)&&(Y.style[e]="-ms-flexbox"),Y.style[e]=n,""===Y.style[e]))return Z[r]=!1,!1;return Y.style[e]="",Z[r]=n,Z[r]}r.A&&(Y=document.createElement("p"));var ne=n(2852);const re=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var o=!1,a=X(n);a&&a!==n&&(o=!0);var i=!1,l=te(a,(0,ne.Sg)(r));l&&l!==r&&(i=!0),(o||i)&&(o&&delete t[n],t[a||n]=l||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===p?e:"@"+m+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return te(t,(0,ne.Sg)(e))||e}}}},2852:(e,t,n)=>{"use strict";n.d(t,{D_:()=>d,SN:()=>Z,Sg:()=>p,VZ:()=>G,ih:()=>be,rN:()=>ve,vt:()=>ge});var r=n(8168),o=n(700),a=n(2901),i=n(5540),l=n(9417),u=n(8587),s={}.constructor;function c(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(c);if(e.constructor!==s)return e;var t={};for(var n in e)t[n]=c(e[n]);return t}function d(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,o=c(t),a=r.plugins.onCreateRule(e,o,n);return a||(e[0],null)}var f=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},p=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=f(e[n]," ");else t=f(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function m(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function h(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function g(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var o=n.indent,a=void 0===o?0:o,i=t.fallbacks;!1===n.format&&(a=-1/0);var l=m(n),u=l.linebreak,s=l.space;if(e&&a++,i)if(Array.isArray(i))for(var c=0;c<i.length;c++){var d=i[c];for(var f in d){var g=d[f];null!=g&&(r&&(r+=u),r+=h(f+":"+s+p(g)+";",a))}}else for(var v in i){var b=i[v];null!=b&&(r&&(r+=u),r+=h(v+":"+s+p(b)+";",a))}for(var D in t){var y=t[D];null!=y&&"fallbacks"!==D&&(r&&(r+=u),r+=h(D+":"+s+p(y)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),h(""+e+s+"{"+r,--a)+h("}",a)):r}var v=/([[\].#*$><+~=|^:(),"'`\s])/g,b="undefined"!==typeof CSS&&CSS.escape,D=function(e){return b?b(e):e.replace(v,"\\$1")},y=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,o=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:o&&(this.renderer=new o)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var o=t;n&&!1===n.process||(o=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==o||!1===o,i=e in this.style;if(a&&!i&&!r)return this;var l=a&&i;if(l?delete this.style[e]:this.style[e]=o,this.renderable&&this.renderer)return l?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,o),this;var u=this.options.sheet;return u&&u.attached,this},e}(),C=function(e){function t(t,n,r){var o;o=e.call(this,t,n,r)||this;var a=r.selector,i=r.scoped,u=r.sheet,s=r.generateId;return a?o.selectorText=a:!1!==i&&(o.id=s((0,l.A)((0,l.A)(o)),u),o.selectorText="."+D(o.id)),o}(0,i.A)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=p(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,r.A)({},e,{allowEmpty:!0}):e;return g(this.selectorText,this.style,n)},(0,a.A)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(y),E={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new C(e,t,n)}},A={indent:1,children:!0},w=/@([\w-]+)/,x=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var o=e.match(w);for(var a in this.at=o?o[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new G((0,r.A)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=A);var t=m(e).linebreak;if(null==e.indent&&(e.indent=A.indent),null==e.children&&(e.children=A.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),F=/@container|@media|@supports\s+/,S={onCreateRule:function(e,t,n){return F.test(e)?new x(e,t,n):null}},k={indent:1,children:!0},O=/@keyframes\s+([\w-]+)/,R=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=e.match(O);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,i=n.sheet,l=n.generateId;for(var u in this.id=!1===a?this.name:D(l(this,i)),this.rules=new G((0,r.A)({},n,{parent:this})),t)this.rules.add(u,t[u],(0,r.A)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=k);var t=m(e).linebreak;if(null==e.indent&&(e.indent=k.indent),null==e.children&&(e.children=k.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),P=/@keyframes\s+/,B=/\$([\w-]+)/g,T=function(e,t){return"string"===typeof e?e.replace(B,(function(e,n){return n in t?t[n]:e})):e},M=function(e,t,n){var r=e[t],o=T(r,n);o!==r&&(e[t]=o)},L={onCreateRule:function(e,t,n){return"string"===typeof e&&P.test(e)?new R(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&M(e,"animation-name",n.keyframes),"animation"in e&&M(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return T(e,r.keyframes);default:return e}}},I=function(e){function t(){return e.apply(this,arguments)||this}return(0,i.A)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,r.A)({},e,{allowEmpty:!0}):e;return g(this.key,this.style,n)},t}(y),j={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new I(e,t,n):null}},z=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=m(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=g(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return g(this.at,this.style,e)},e}(),N=/@font-face/,_={onCreateRule:function(e,t,n){return N.test(e)?new z(e,t,n):null}},H=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return g(this.key,this.style,e)},e}(),V={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new H(e,t,n):null}},W=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),U={"@charset":!0,"@import":!0,"@namespace":!0},$=[E,S,L,j,_,V,{onCreateRule:function(e,t,n){return e in U?new W(e,t,n):null}}],K={process:!0},q={force:!0,process:!0},G=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var o=this.options,a=o.parent,i=o.sheet,l=o.jss,u=o.Renderer,s=o.generateId,c=o.scoped,f=(0,r.A)({classes:this.classes,parent:a,sheet:i,jss:l,Renderer:u,generateId:s,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),p=e;e in this.raw&&(p=e+"-d"+this.counter++),this.raw[p]=t,p in this.classes&&(f.selector="."+D(this.classes[p]));var m=d(p,t,f);if(!m)return null;this.register(m);var h=void 0===f.index?this.index.length:f.index;return this.index.splice(h,0,m),m},t.replace=function(e,t,n){var o=this.get(e),a=this.index.indexOf(o);o&&this.remove(o);var i=n;return-1!==a&&(i=(0,r.A)({},n,{index:a})),this.add(e,t,i)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof C?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof R&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof C?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof R&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=K);var o=this.options,a=o.jss.plugins,i=o.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var l=t.style;if(a.onUpdate(n,t,i,r),r.process&&l&&l!==t.style){for(var u in a.onProcessStyle(t.style,t,i),t.style){var s=t.style[u];s!==l[u]&&t.prop(u,s,q)}for(var c in l){var d=t.style[c],f=l[c];null==d&&d!==f&&t.prop(c,null,q)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,o=m(e).linebreak,a=0;a<this.index.length;a++){var i=this.index[a].toString(e);(i||r)&&(t&&(t+=o),t+=i)}return t},e}(),X=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,r.A)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new G(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var o=this.rules.add(e,t,n);return o?(this.options.jss.plugins.onProcessRule(o),this.attached?this.deployed?(r?r.push(o):(this.insertRule(o),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),o):o:(this.deployed=!1,o)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var o=this.rules.replace(e,t,n);return o&&this.options.jss.plugins.onProcessRule(o),this.attached?this.deployed?(this.renderer&&(o?r.renderable&&this.renderer.replaceRule(r.renderable,o):this.renderer.deleteRule(r)),o):o:(this.deployed=!1,o)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var o=this.addRule(r,e[r],t);o&&n.push(o)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Y=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var o=this.registry.onCreateRule[r](e,t,n);if(o)return o}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var o=0;o<this.registry.onUpdate.length;o++)this.registry.onUpdate[o](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,o=0;o<this.registry.onChangeValue.length;o++)r=this.registry.onChangeValue[o](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),Z=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,u.A)(t,["attached"]),o=m(r).linebreak,a="",i=0;i<this.registry.length;i++){var l=this.registry[i];null!=n&&l.attached!==n||(a&&(a+=o),a+=l.toString(r))}return a},(0,a.A)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),Q=new Z,J="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ee="2f1acc6c3a606b082e5eef5e54414ffb";null==J[ee]&&(J[ee]=0);var te=J[ee]++,ne=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var o="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(o=String(r.options.jss.id))),e.minify?""+(a||"c")+te+o+t:a+n.key+"-"+te+(o?"-"+o:"")+"-"+t}},re=function(e){var t;return function(){return t||(t=e()),t}},oe=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ae=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=p(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var o=r?r.indexOf("!important"):-1,a=o>-1?r.substr(0,o-1):r;e.style.setProperty(t,a,o>-1?"important":"")}}catch(i){return!1}return!0},ie=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},le=function(e,t){return e.selectorText=t,e.selectorText===t},ue=re((function(){return document.querySelector("head")}));function se(e){var t=Q.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var o=function(e){for(var t=ue(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(o)return{parent:o.parentNode,node:o.nextSibling}}return!1}var ce=re((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),de=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},fe=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},pe=function(){function e(e){this.getPropertyValue=oe,this.setProperty=ae,this.removeProperty=ie,this.setSelector=le,this.hasInsertedRules=!1,this.cssRules=[],e&&Q.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,o=t.element;this.element=o||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=ce();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=se(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var o=n,a=o.parentNode;a&&a.insertBefore(e,o.nextSibling)}else ue().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,o=n;if("conditional"===e.type||"keyframes"===e.type){var a=fe(n,t);if(!1===(o=de(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,o)}return this.insertRules(r.rules,o),o}var i=e.toString();if(!i)return!1;var l=fe(n,t),u=de(n,i,l);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,l,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof X&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),me=0,he=function(){function e(e){this.id=me++,this.version="10.10.0",this.plugins=new Y,this.options={id:{minify:!1},createGenerateId:ne,Renderer:o.A?pe:null,plugins:[]},this.generateId=ne({minify:!1});for(var t=0;t<$.length;t++)this.plugins.use($[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,r.A)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===Q.index?0:Q.index+1);var o=new X(e,(0,r.A)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(o),o},t.removeStyleSheet=function(e){return e.detach(),Q.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var o=(0,r.A)({},n,{name:e,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var a=d(e,t,o);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),ge=function(e){return new he(e)},ve="object"===typeof CSS&&null!=CSS&&"number"in CSS;function be(e){var t=null;for(var n in e){var r=e[n],o=typeof r;if("function"===o)t||(t={}),t[n]=r;else if("object"===o&&null!==r&&!Array.isArray(r)){var a=be(r);a&&(t||(t={}),t[n]=a)}}return t}ge()},2123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(e,o){for(var a,i,l=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var s in a=Object(arguments[u]))n.call(a,s)&&(l[s]=a[s]);if(t){i=t(a);for(var c=0;c<i.length;c++)r.call(a,i[c])&&(l[i[c]]=a[i[c]])}}return l}},8123:(e,t,n)=>{var r=n(1141);e.exports=m,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=p;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,l=0,u="",s=t&&t.delimiter||"/";null!=(n=o.exec(e));){var d=n[0],f=n[1],p=n.index;if(u+=e.slice(l,p),l=p+d.length,f)u+=f[1];else{var m=e[l],h=n[2],g=n[3],v=n[4],b=n[5],D=n[6],y=n[7];u&&(r.push(u),u="");var C=null!=h&&null!=m&&m!==h,E="+"===D||"*"===D,A="?"===D||"*"===D,w=h||s,x=v||b,F=h||("string"===typeof r[r.length-1]?r[r.length-1]:"");r.push({name:g||a++,prefix:h||"",delimiter:w,optional:A,repeat:E,partial:C,asterisk:!!y,pattern:x?c(x):y?".*":i(w,F)})}}return l<e.length&&(u+=e.substr(l)),u&&r.push(u),r}function i(e,t){return!t||t.indexOf(e)>-1?"[^"+s(e)+"]+?":s(t)+"|(?:(?!"+s(t)+")[^"+s(e)+"])+?"}function l(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"===typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",f(t)));return function(t,o){for(var a="",i=t||{},u=(o||{}).pretty?l:encodeURIComponent,s=0;s<e.length;s++){var c=e[s];if("string"!==typeof c){var d,f=i[c.name];if(null==f){if(c.optional){c.partial&&(a+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(d=u(f[p]),!n[s].test(d))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(d)+"`");a+=(0===p?c.prefix:c.delimiter)+d}}else{if(d=c.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[s].test(d))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+d+'"');a+=c.prefix+d}}else a+=c}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,a=!1!==n.end,i="",l=0;l<e.length;l++){var u=e[l];if("string"===typeof u)i+=s(u);else{var c=s(u.prefix),p="(?:"+u.pattern+")";t.push(u),u.repeat&&(p+="(?:"+c+p+")*"),i+=p=u.optional?u.partial?c+"("+p+")?":"(?:"+c+"("+p+"))?":c+"("+p+")"}}var m=s(n.delimiter||"/"),h=i.slice(-m.length)===m;return o||(i=(h?i.slice(0,-m.length):i)+"(?:"+m+"(?=$))?"),i+=a?"$":o&&h?"":"(?="+m+"|$)",d(new RegExp("^"+i,f(n)),t)}function m(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(m(e[o],t,n).source);return d(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return p(a(e,n),t,n)}(e,t,n)}},1497:(e,t,n)=>{"use strict";var r=n(3218);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(e,t,n)=>{"use strict";var r=n(5043),o=n(2123),a=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(i(227));var l=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,m={},h={};function g(e,t,n,r,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}function y(e,t,n,r){var o=v.hasOwnProperty(t)?v[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!p.call(h,e)||!p.call(m,e)&&(f.test(e)?h[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,D);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,D);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,D);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var C=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,A=60106,w=60107,x=60108,F=60114,S=60109,k=60110,O=60112,R=60113,P=60120,B=60115,T=60116,M=60121,L=60128,I=60129,j=60130,z=60131;if("function"===typeof Symbol&&Symbol.for){var N=Symbol.for;E=N("react.element"),A=N("react.portal"),w=N("react.fragment"),x=N("react.strict_mode"),F=N("react.profiler"),S=N("react.provider"),k=N("react.context"),O=N("react.forward_ref"),R=N("react.suspense"),P=N("react.suspense_list"),B=N("react.memo"),T=N("react.lazy"),M=N("react.block"),N("react.scope"),L=N("react.opaque.id"),I=N("react.debug_trace_mode"),j=N("react.offscreen"),z=N("react.legacy_hidden")}var _,H="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=H&&e[H]||e["@@iterator"])?e:null}function W(e){if(void 0===_)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||""}return"\n"+_+e}var U=!1;function $(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var o=u.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,l=a.length-1;1<=i&&0<=l&&o[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==a[l]){if(1!==i||1!==l)do{if(i--,0>--l||o[i]!==a[l])return"\n"+o[i].replace(" at new "," at ")}while(1<=i&&0<=l);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function K(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 22:return e=$(e.type._render,!1);case 1:return e=$(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case A:return"Portal";case F:return"Profiler";case x:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case B:return q(e.type);case M:return q(e._render);case T:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&oe(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function oe(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ie(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function le(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function se(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function me(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var he,ge,ve=(ge=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((he=he||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var De={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];function Ce(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||De.hasOwnProperty(e)&&De[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=Ce(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(De).forEach((function(e){ye.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),De[t]=De[e]}))}));var Ae=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,t){if(t){if(Ae[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Fe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Oe=null;function Re(e){if(e=ro(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=ao(t),Se(e.stateNode,e.type,t))}}function Pe(e){ke?Oe?Oe.push(e):Oe=[e]:ke=e}function Be(){if(ke){var e=ke,t=Oe;if(Oe=ke=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Te(e,t){return e(t)}function Me(e,t,n,r,o){return e(t,n,r,o)}function Le(){}var Ie=Te,je=!1,ze=!1;function Ne(){null===ke&&null===Oe||(Le(),Be())}function _e(e,t){var n=e.stateNode;if(null===n)return null;var r=ao(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var He=!1;if(d)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){He=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ge){He=!1}function We(e,t,n,r,o,a,i,l,u){var s=Array.prototype.slice.call(arguments,3);try{t.apply(n,s)}catch(c){this.onError(c)}}var Ue=!1,$e=null,Ke=!1,qe=null,Ge={onError:function(e){Ue=!0,$e=e}};function Xe(e,t,n,r,o,a,i,l,u){Ue=!1,$e=null,We.apply(Ge,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(Ye(e)!==e)throw Error(i(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Qe(o),e;if(a===r)return Qe(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var l=!1,u=o.child;u;){if(u===n){l=!0,n=o,r=a;break}if(u===r){l=!0,r=o,n=a;break}u=u.sibling}if(!l){for(u=a.child;u;){if(u===n){l=!0,n=a,r=o;break}if(u===r){l=!0,r=a,n=o;break}u=u.sibling}if(!l)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,ot,at=!1,it=[],lt=null,ut=null,st=null,ct=new Map,dt=new Map,ft=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mt(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[r]}}function ht(e,t){switch(e){case"focusin":case"focusout":lt=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function gt(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e=mt(t,n,r,o,a),null!==t&&(null!==(t=ro(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function vt(e){var t=no(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void ot(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ro(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function Dt(e,t,n){bt(e)&&n.delete(t)}function yt(){for(at=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=ro(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==lt&&bt(lt)&&(lt=null),null!==ut&&bt(ut)&&(ut=null),null!==st&&bt(st)&&(st=null),ct.forEach(Dt),dt.forEach(Dt)}function Ct(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,yt)))}function Et(e){function t(t){return Ct(t,e)}if(0<it.length){Ct(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==lt&&Ct(lt,e),null!==ut&&Ct(ut,e),null!==st&&Ct(st,e),ct.forEach(t),dt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)vt(n),null===n.blockedOn&&ft.shift()}function At(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wt={animationend:At("Animation","AnimationEnd"),animationiteration:At("Animation","AnimationIteration"),animationstart:At("Animation","AnimationStart"),transitionend:At("Transition","TransitionEnd")},xt={},Ft={};function St(e){if(xt[e])return xt[e];if(!wt[e])return e;var t,n=wt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ft)return xt[e]=n[t];return e}d&&(Ft=document.createElement("div").style,"AnimationEvent"in window||(delete wt.animationend.animation,delete wt.animationiteration.animation,delete wt.animationstart.animation),"TransitionEvent"in window||delete wt.transitionend.transition);var kt=St("animationend"),Ot=St("animationiteration"),Rt=St("animationstart"),Pt=St("transitionend"),Bt=new Map,Tt=new Map,Mt=["abort","abort",kt,"animationEnd",Ot,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Tt.set(r,t),Bt.set(r,o),s(o,[r])}}(0,a.unstable_now)();var It=8;function jt(e){if(0!==(1&e))return It=15,1;if(0!==(2&e))return It=14,2;if(0!==(4&e))return It=13,4;var t=24&e;return 0!==t?(It=12,t):0!==(32&e)?(It=11,32):0!==(t=192&e)?(It=10,t):0!==(256&e)?(It=9,256):0!==(t=3584&e)?(It=8,t):0!==(4096&e)?(It=7,4096):0!==(t=4186112&e)?(It=6,t):0!==(t=62914560&e)?(It=5,t):67108864&e?(It=4,67108864):0!==(134217728&e)?(It=3,134217728):0!==(t=805306368&e)?(It=2,t):0!==(1073741824&e)?(It=1,1073741824):(It=8,e)}function zt(e,t){var n=e.pendingLanes;if(0===n)return It=0;var r=0,o=0,a=e.expiredLanes,i=e.suspendedLanes,l=e.pingedLanes;if(0!==a)r=a,o=It=15;else if(0!==(a=134217727&n)){var u=a&~i;0!==u?(r=jt(u),o=It):0!==(l&=a)&&(r=jt(l),o=It)}else 0!==(a=n&~i)?(r=jt(a),o=It):0!==l&&(r=jt(l),o=It);if(0===r)return 0;if(r=n&((0>(r=31-Ut(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&i)){if(jt(t),o<=It)return t;It=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-Ut(t)),r|=e[n],t&=~o;return r}function Nt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function _t(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?_t(10,t):e;case 10:return 0===(e=Ht(192&~t))?_t(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&(0===(e=Ht(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(i(358,e))}function Ht(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ut(t)]=n}var Ut=Math.clz32?Math.clz32:function(e){return 0===e?32:31-($t(e)/Kt|0)|0},$t=Math.log,Kt=Math.LN2;var qt=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,Xt=!0;function Yt(e,t,n,r){je||Le();var o=Qt,a=je;je=!0;try{Me(o,e,t,n,r)}finally{(je=a)||Ne()}}function Zt(e,t,n,r){Gt(qt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var o;if(Xt)if((o=0===(4&t))&&0<it.length&&-1<pt.indexOf(e))e=mt(null,e,t,n,r),it.push(e);else{var a=Jt(e,t,n,r);if(null===a)o&&ht(e,r);else{if(o){if(-1<pt.indexOf(e))return e=mt(a,e,t,n,r),void it.push(e);if(function(e,t,n,r,o){switch(t){case"focusin":return lt=gt(lt,e,t,n,r,o),!0;case"dragenter":return ut=gt(ut,e,t,n,r,o),!0;case"mouseover":return st=gt(st,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return ct.set(a,gt(ct.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,dt.set(a,gt(dt.get(a)||null,e,t,n,r,o)),!0}return!1}(a,e,t,n,r))return;ht(e,r)}Lr(e,t,r,null,n)}}}function Jt(e,t,n,r){var o=Fe(r);if(null!==(o=no(o))){var a=Ye(o);if(null===a)o=null;else{var i=a.tag;if(13===i){if(null!==(o=Ze(a)))return o;o=null}else if(3===i){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return Lr(e,t,r,o,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,o="value"in en?en.value:en.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return nn=o.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function ln(){return!1}function un(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?an:ln,this.isPropagationStopped=ln,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var sn,cn,dn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=un(fn),mn=o({},fn,{view:0,detail:0}),hn=un(mn),gn=o({},mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(sn=e.screenX-dn.screenX,cn=e.screenY-dn.screenY):cn=sn=0,dn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),vn=un(gn),bn=un(o({},gn,{dataTransfer:0})),Dn=un(o({},mn,{relatedTarget:0})),yn=un(o({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),Cn=o({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=un(Cn),An=un(o({},fn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Fn[e])&&!!t[e]}function kn(){return Sn}var On=o({},mn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=un(On),Pn=un(o({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Bn=un(o({},mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Tn=un(o({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=o({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Mn),In=[9,13,27,32],jn=d&&"CompositionEvent"in window,zn=null;d&&"documentMode"in document&&(zn=document.documentMode);var Nn=d&&"TextEvent"in window&&!zn,_n=d&&(!jn||zn&&8<zn&&11>=zn),Hn=String.fromCharCode(32),Vn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Gn(e,t,n,r){Pe(r),0<(t=jr(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Yn=null;function Zn(e){Or(e,0)}function Qn(e){if(Z(oo(e)))return e}function Jn(e,t){if("change"===e)return t}var er=!1;if(d){var tr;if(d){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function or(){Xn&&(Xn.detachEvent("onpropertychange",ar),Yn=Xn=null)}function ar(e){if("value"===e.propertyName&&Qn(Yn)){var t=[];if(Gn(t,Yn,e,Fe(e)),e=Zn,je)e(t);else{je=!0;try{Te(e,t)}finally{je=!1,Ne()}}}}function ir(e,t,n){"focusin"===e?(or(),Yn=n,(Xn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&or()}function lr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Yn)}function ur(e,t){if("click"===e)return Qn(t)}function sr(e,t){if("input"===e||"change"===e)return Qn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},dr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!dr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function pr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mr(e,t){var n,r=pr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var br=d&&"documentMode"in document&&11>=document.documentMode,Dr=null,yr=null,Cr=null,Er=!1;function Ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==Dr||Dr!==Q(r)||("selectionStart"in(r=Dr)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Cr&&fr(Cr,r)||(Cr=r,0<(r=jr(yr,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Dr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Mt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xr=0;xr<wr.length;xr++)Tt.set(wr[xr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,l,u,s){if(Xe.apply(this,arguments),Ue){if(!Ue)throw Error(i(198));var c=$e;Ue=!1,$e=null,Ke||(Ke=!0,qe=c)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],u=l.instance,s=l.currentTarget;if(l=l.listener,u!==a&&o.isPropagationStopped())break e;kr(o,l,s),a=u}else for(i=0;i<r.length;i++){if(u=(l=r[i]).instance,s=l.currentTarget,l=l.listener,u!==a&&o.isPropagationStopped())break e;kr(o,l,s),a=u}}}if(Ke)throw e=qe,Ke=!1,qe=null,e}function Rr(e,t){var n=io(t),r=e+"__bubble";n.has(r)||(Mr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){e[Pr]||(e[Pr]=!0,l.forEach((function(t){Sr.has(t)||Tr(t,!1,e,null),Tr(t,!0,e,null)})))}function Tr(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;o|=2,a=r}var i=io(a),l=e+"__"+(t?"capture":"bubble");i.has(l)||(t&&(o|=4),Mr(a,e,o,t),i.add(l))}function Mr(e,t,n,r){var o=Tt.get(t);switch(void 0===o?2:o){case 0:o=Yt;break;case 1:o=Zt;break;default:o=Qt}n=o.bind(null,t,n,e),o=void 0,!He||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,o){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===o||8===l.nodeType&&l.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var u=i.tag;if((3===u||4===u)&&((u=i.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;i=i.return}for(;null!==l;){if(null===(i=no(l)))return;if(5===(u=i.tag)||6===u){r=a=i;continue e}l=l.parentNode}}r=r.return}!function(e,t,n){if(ze)return e(t,n);ze=!0;try{return Ie(e,t,n)}finally{ze=!1,Ne()}}((function(){var r=a,o=Fe(n),i=[];e:{var l=Bt.get(e);if(void 0!==l){var u=pn,s=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=Rn;break;case"focusin":s="focus",u=Dn;break;case"focusout":s="blur",u=Dn;break;case"beforeblur":case"afterblur":u=Dn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Bn;break;case kt:case Ot:case Rt:u=yn;break;case Pt:u=Tn;break;case"scroll":u=hn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==l?l+"Capture":null:l;c=[];for(var p,m=r;null!==m;){var h=(p=m).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==f&&(null!=(h=_e(m,f))&&c.push(Ir(m,h,p)))),d)break;m=m.return}0<c.length&&(l=new u(l,s,null,n,o),i.push({event:l,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(s=n.relatedTarget||n.fromElement)||!no(s)&&!s[eo])&&(u||l)&&(l=o.window===o?o:(l=o.ownerDocument)?l.defaultView||l.parentWindow:window,u?(u=r,null!==(s=(s=n.relatedTarget||n.toElement)?no(s):null)&&(s!==(d=Ye(s))||5!==s.tag&&6!==s.tag)&&(s=null)):(u=null,s=r),u!==s)){if(c=vn,h="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,h="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==u?l:oo(u),p=null==s?l:oo(s),(l=new c(h,m+"leave",u,n,o)).target=d,l.relatedTarget=p,h=null,no(o)===r&&((c=new c(f,m+"enter",s,n,o)).target=p,c.relatedTarget=d,h=c),d=h,u&&s)e:{for(f=s,m=0,p=c=u;p;p=zr(p))m++;for(p=0,h=f;h;h=zr(h))p++;for(;0<m-p;)c=zr(c),m--;for(;0<p-m;)f=zr(f),p--;for(;m--;){if(c===f||null!==f&&c===f.alternate)break e;c=zr(c),f=zr(f)}c=null}else c=null;null!==u&&Nr(i,l,u,c,!1),null!==s&&null!==d&&Nr(i,d,s,c,!0)}if("select"===(u=(l=r?oo(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===u&&"file"===l.type)var g=Jn;else if(qn(l))if(er)g=sr;else{g=lr;var v=ir}else(u=l.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=ur);switch(g&&(g=g(e,r))?Gn(i,g,n,o):(v&&v(e,l,r),"focusout"===e&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&oe(l,"number",l.value)),v=r?oo(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(Dr=v,yr=r,Cr=null);break;case"focusout":Cr=yr=Dr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Ar(i,n,o);break;case"selectionchange":if(br)break;case"keydown":case"keyup":Ar(i,n,o)}var b;if(jn)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else $n?Wn(e,n)&&(D="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(D="onCompositionStart");D&&(_n&&"ko"!==n.locale&&($n||"onCompositionStart"!==D?"onCompositionEnd"===D&&$n&&(b=rn()):(tn="value"in(en=o)?en.value:en.textContent,$n=!0)),0<(v=jr(r,D)).length&&(D=new An(D,e,null,n,o),i.push({event:D,listeners:v}),b?D.data=b:null!==(b=Un(n))&&(D.data=b))),(b=Nn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Vn=!0,Hn);case"textInput":return(e=t.data)===Hn&&Vn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!jn&&Wn(e,t)?(e=rn(),nn=tn=en=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(o=new An("onBeforeInput","beforeinput",null,n,o),i.push({event:o,listeners:r}),o.data=b))}Or(i,t)}))}function Ir(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=_e(e,n))&&r.unshift(Ir(e,a,o)),null!=(a=_e(e,t))&&r.push(Ir(e,a,o))),e=e.return}return r}function zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Nr(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var l=n,u=l.alternate,s=l.stateNode;if(null!==u&&u===r)break;5===l.tag&&null!==s&&(l=s,o?null!=(u=_e(n,a))&&i.unshift(Ir(n,u,l)):o||null!=(u=_e(n,a))&&i.push(Ir(n,u,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}function _r(){}var Hr=null,Vr=null;function Wr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ur(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $r="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Xr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Zr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Zr,Jr="__reactProps$"+Zr,eo="__reactContainer$"+Zr,to="__reactEvents$"+Zr;function no(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[eo]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Xr(e);null!==e;){if(n=e[Qr])return n;e=Xr(e)}return t}n=(e=n).parentNode}return null}function ro(e){return!(e=e[Qr]||e[eo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function oo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ao(e){return e[Jr]||null}function io(e){var t=e[to];return void 0===t&&(t=e[to]=new Set),t}var lo=[],uo=-1;function so(e){return{current:e}}function co(e){0>uo||(e.current=lo[uo],lo[uo]=null,uo--)}function fo(e,t){uo++,lo[uo]=e.current,e.current=t}var po={},mo=so(po),ho=so(!1),go=po;function vo(e,t){var n=e.type.contextTypes;if(!n)return po;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Do(){co(ho),co(mo)}function yo(e,t,n){if(mo.current!==po)throw Error(i(168));fo(mo,t),fo(ho,n)}function Co(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(i(108,q(t)||"Unknown",a));return o({},n,r)}function Eo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||po,go=mo.current,fo(mo,e),fo(ho,ho.current),!0}function Ao(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Co(e,t,go),r.__reactInternalMemoizedMergedChildContext=e,co(ho),co(mo),fo(mo,e)):co(ho),fo(ho,n)}var wo=null,xo=null,Fo=a.unstable_runWithPriority,So=a.unstable_scheduleCallback,ko=a.unstable_cancelCallback,Oo=a.unstable_shouldYield,Ro=a.unstable_requestPaint,Po=a.unstable_now,Bo=a.unstable_getCurrentPriorityLevel,To=a.unstable_ImmediatePriority,Mo=a.unstable_UserBlockingPriority,Lo=a.unstable_NormalPriority,Io=a.unstable_LowPriority,jo=a.unstable_IdlePriority,zo={},No=void 0!==Ro?Ro:function(){},_o=null,Ho=null,Vo=!1,Wo=Po(),Uo=1e4>Wo?Po:function(){return Po()-Wo};function $o(){switch(Bo()){case To:return 99;case Mo:return 98;case Lo:return 97;case Io:return 96;case jo:return 95;default:throw Error(i(332))}}function Ko(e){switch(e){case 99:return To;case 98:return Mo;case 97:return Lo;case 96:return Io;case 95:return jo;default:throw Error(i(332))}}function qo(e,t){return e=Ko(e),Fo(e,t)}function Go(e,t,n){return e=Ko(e),So(e,t,n)}function Xo(){if(null!==Ho){var e=Ho;Ho=null,ko(e)}Yo()}function Yo(){if(!Vo&&null!==_o){Vo=!0;var e=0;try{var t=_o;qo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),_o=null}catch(n){throw null!==_o&&(_o=_o.slice(e+1)),So(To,Xo),n}finally{Vo=!1}}}var Zo=C.ReactCurrentBatchConfig;function Qo(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Jo=so(null),ea=null,ta=null,na=null;function ra(){na=ta=ea=null}function oa(e){var t=Jo.current;co(Jo),e.type._context._currentValue=t}function aa(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ia(e,t){ea=e,na=ta=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ji=!0),e.firstContext=null)}function la(e,t){if(na!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(na=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ta){if(null===ea)throw Error(i(308));ta=t,ea.dependencies={lanes:0,firstContext:t,responders:null}}else ta=ta.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function pa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ma(e,t,n,r){var a=e.updateQueue;ua=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var s=u,c=s.next;s.next=null,null===l?i=c:l.next=c,l=s;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==l&&(null===f?d.firstBaseUpdate=c:f.next=c,d.lastBaseUpdate=s)}}if(null!==i){for(f=a.baseState,l=0,d=c=s=null;;){u=i.lane;var p=i.eventTime;if((r&u)===u){null!==d&&(d=d.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,h=i;switch(u=t,p=n,h.tag){case 1:if("function"===typeof(m=h.payload)){f=m.call(p,f,u);break e}f=m;break e;case 3:m.flags=-4097&m.flags|64;case 0:if(null===(u="function"===typeof(m=h.payload)?m.call(p,f,u):m)||void 0===u)break e;f=o({},f,u);break e;case 2:ua=!0}}null!==i.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[i]:u.push(i))}else p={eventTime:p,lane:u,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=p,s=f):d=d.next=p,l|=u;if(null===(i=i.next)){if(null===(u=a.shared.pending))break;i=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===d&&(s=f),a.baseState=s,a.firstBaseUpdate=c,a.lastBaseUpdate=d,Vl|=l,e.lanes=l,e.memoizedState=f}}function ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var ga=(new r.Component).refs;function va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ba={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pu(),o=mu(e),a=da(r,o);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),hu(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pu(),o=mu(e),a=da(r,o);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),hu(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pu(),r=mu(e),o=da(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),fa(e,o),hu(e,r,n)}};function Da(e,t,n,r,o,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(o,a))}function ya(e,t,n){var r=!1,o=po,a=t.contextType;return"object"===typeof a&&null!==a?a=la(a):(o=bo(t)?go:mo.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?vo(e,o):po),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ca(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function Ea(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=ga,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?o.context=la(a):(a=bo(t)?go:mo.current,o.context=vo(e,a)),ma(e,n,o,r),o.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(va(e,t,a,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&ba.enqueueReplaceState(o,o.state,null),ma(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4)}var Aa=Array.isArray;function wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===ga&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function xa(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Fa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=qu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function l(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Zu(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function s(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=wa(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qu(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Xu(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Zu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=wa(e,null,t),n.return=e,n;case A:return(t=Qu(t,e.mode,n)).return=e,t}if(Aa(t)||V(t))return(t=Xu(t,e.mode,n,null)).return=e,t;xa(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===o?n.type===w?d(e,t,n.props.children,r,o):s(e,t,n,r):null;case A:return n.key===o?c(e,t,n,r):null}if(Aa(n)||V(n))return null!==o?null:d(e,t,n,r,null);xa(e,n)}return null}function m(e,t,n,r,o){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===w?d(t,e,r.props.children,o,r.key):s(t,e,r,o);case A:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(Aa(r)||V(r))return d(t,e=e.get(n)||null,r,o,null);xa(t,r)}return null}function h(o,i,l,u){for(var s=null,c=null,d=i,h=i=0,g=null;null!==d&&h<l.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var v=p(o,d,l[h],u);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),i=a(v,i,h),null===c?s=v:c.sibling=v,c=v,d=g}if(h===l.length)return n(o,d),s;if(null===d){for(;h<l.length;h++)null!==(d=f(o,l[h],u))&&(i=a(d,i,h),null===c?s=d:c.sibling=d,c=d);return s}for(d=r(o,d);h<l.length;h++)null!==(g=m(d,o,h,l[h],u))&&(e&&null!==g.alternate&&d.delete(null===g.key?h:g.key),i=a(g,i,h),null===c?s=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(o,e)})),s}function g(o,l,u,s){var c=V(u);if("function"!==typeof c)throw Error(i(150));if(null==(u=c.call(u)))throw Error(i(151));for(var d=c=null,h=l,g=l=0,v=null,b=u.next();null!==h&&!b.done;g++,b=u.next()){h.index>g?(v=h,h=null):v=h.sibling;var D=p(o,h,b.value,s);if(null===D){null===h&&(h=v);break}e&&h&&null===D.alternate&&t(o,h),l=a(D,l,g),null===d?c=D:d.sibling=D,d=D,h=v}if(b.done)return n(o,h),c;if(null===h){for(;!b.done;g++,b=u.next())null!==(b=f(o,b.value,s))&&(l=a(b,l,g),null===d?c=b:d.sibling=b,d=b);return c}for(h=r(o,h);!b.done;g++,b=u.next())null!==(b=m(h,o,g,b.value,s))&&(e&&null!==b.alternate&&h.delete(null===b.key?g:b.key),l=a(b,l,g),null===d?c=b:d.sibling=b,d=b);return e&&h.forEach((function(e){return t(o,e)})),c}return function(e,r,a,u){var s="object"===typeof a&&null!==a&&a.type===w&&null===a.key;s&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case E:e:{for(c=a.key,s=r;null!==s;){if(s.key===c){if(7===s.tag){if(a.type===w){n(e,s.sibling),(r=o(s,a.props.children)).return=e,e=r;break e}}else if(s.elementType===a.type){n(e,s.sibling),(r=o(s,a.props)).ref=wa(e,s,a),r.return=e,e=r;break e}n(e,s);break}t(e,s),s=s.sibling}a.type===w?((r=Xu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=wa(e,r,a),u.return=e,e=u)}return l(e);case A:e:{for(s=a.key;null!==r;){if(r.key===s){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=o(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Qu(a,e.mode,u)).return=e,e=r}return l(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,a)).return=e,e=r):(n(e,r),(r=Zu(a,e.mode,u)).return=e,e=r),l(e);if(Aa(a))return h(e,r,a,u);if(V(a))return g(e,r,a,u);if(c&&xa(e,a),"undefined"===typeof a&&!s)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,q(e.type)||"Component"))}return n(e,r)}}var Sa=Fa(!0),ka=Fa(!1),Oa={},Ra=so(Oa),Pa=so(Oa),Ba=so(Oa);function Ta(e){if(e===Oa)throw Error(i(174));return e}function Ma(e,t){switch(fo(Ba,t),fo(Pa,e),fo(Ra,Oa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:me(null,"");break;default:t=me(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}co(Ra),fo(Ra,t)}function La(){co(Ra),co(Pa),co(Ba)}function Ia(e){Ta(Ba.current);var t=Ta(Ra.current),n=me(t,e.type);t!==n&&(fo(Pa,e),fo(Ra,n))}function ja(e){Pa.current===e&&(co(Ra),co(Pa))}var za=so(0);function Na(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _a=null,Ha=null,Va=!1;function Wa(e,t){var n=$u(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function $a(e){if(Va){var t=Ha;if(t){var n=t;if(!Ua(e,t)){if(!(t=Gr(n.nextSibling))||!Ua(e,t))return e.flags=-1025&e.flags|2,Va=!1,void(_a=e);Wa(_a,n)}_a=e,Ha=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Va=!1,_a=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;_a=e}function qa(e){if(e!==_a)return!1;if(!Va)return Ka(e),Va=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ur(t,e.memoizedProps))for(t=Ha;t;)Wa(e,t),t=Gr(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ha=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ha=null}}else Ha=_a?Gr(e.stateNode.nextSibling):null;return!0}function Ga(){Ha=_a=null,Va=!1}var Xa=[];function Ya(){for(var e=0;e<Xa.length;e++)Xa[e]._workInProgressVersionPrimary=null;Xa.length=0}var Za=C.ReactCurrentDispatcher,Qa=C.ReactCurrentBatchConfig,Ja=0,ei=null,ti=null,ni=null,ri=!1,oi=!1;function ai(){throw Error(i(321))}function ii(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function li(e,t,n,r,o,a){if(Ja=a,ei=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Za.current=null===e||null===e.memoizedState?Ti:Mi,e=n(r,o),oi){a=0;do{if(oi=!1,!(25>a))throw Error(i(301));a+=1,ni=ti=null,t.updateQueue=null,Za.current=Li,e=n(r,o)}while(oi)}if(Za.current=Bi,t=null!==ti&&null!==ti.next,Ja=0,ni=ti=ei=null,ri=!1,t)throw Error(i(300));return e}function ui(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ni?ei.memoizedState=ni=e:ni=ni.next=e,ni}function si(){if(null===ti){var e=ei.alternate;e=null!==e?e.memoizedState:null}else e=ti.next;var t=null===ni?ei.memoizedState:ni.next;if(null!==t)ni=t,ti=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ti=e).memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},null===ni?ei.memoizedState=ni=e:ni=ni.next=e}return ni}function ci(e,t){return"function"===typeof t?t(e):t}function di(e){var t=si(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ti,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var l=o.next;o.next=a.next,a.next=l}r.baseQueue=o=a,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var u=l=a=null,s=o;do{var c=s.lane;if((Ja&c)===c)null!==u&&(u=u.next={lane:0,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null}),r=s.eagerReducer===e?s.eagerState:e(r,s.action);else{var d={lane:c,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,ei.lanes|=c,Vl|=c}s=s.next}while(null!==s&&s!==o);null===u?a=r:u.next=l,cr(r,t.memoizedState)||(ji=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fi(e){var t=si(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var l=o=o.next;do{a=e(a,l.action),l=l.next}while(l!==o);cr(a,t.memoizedState)||(ji=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function pi(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Xa.push(t))),e)return n(t._source);throw Xa.push(t),Error(i(350))}function mi(e,t,n,r){var o=Ml;if(null===o)throw Error(i(349));var a=t._getVersion,l=a(t._source),u=Za.current,s=u.useState((function(){return pi(o,t,n)})),c=s[1],d=s[0];s=ni;var f=e.memoizedState,p=f.refs,m=p.getSnapshot,h=f.source;f=f.subscribe;var g=ei;return e.memoizedState={refs:p,source:t,subscribe:r},u.useEffect((function(){p.getSnapshot=n,p.setSnapshot=c;var e=a(t._source);if(!cr(l,e)){e=n(t._source),cr(d,e)||(c(e),e=mu(g),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var r=o.entanglements,i=e;0<i;){var u=31-Ut(i),s=1<<u;r[u]|=e,i&=~s}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=mu(g);o.mutableReadLanes|=r&o.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),cr(m,n)&&cr(h,t)&&cr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ci,lastRenderedState:d}).dispatch=c=Pi.bind(null,ei,e),s.queue=e,s.baseQueue=null,d=pi(o,t,n),s.memoizedState=s.baseState=d),d}function hi(e,t,n){return mi(si(),e,t,n)}function gi(e){var t=ui();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e}).dispatch=Pi.bind(null,ei,e),[t.memoizedState,e]}function vi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ei.updateQueue)?(t={lastEffect:null},ei.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function bi(e){return e={current:e},ui().memoizedState=e}function Di(){return si().memoizedState}function yi(e,t,n,r){var o=ui();ei.flags|=e,o.memoizedState=vi(1|t,n,void 0,void 0===r?null:r)}function Ci(e,t,n,r){var o=si();r=void 0===r?null:r;var a=void 0;if(null!==ti){var i=ti.memoizedState;if(a=i.destroy,null!==r&&ii(r,i.deps))return void vi(t,n,a,r)}ei.flags|=e,o.memoizedState=vi(1|t,n,a,r)}function Ei(e,t){return yi(516,4,e,t)}function Ai(e,t){return Ci(516,4,e,t)}function wi(e,t){return Ci(4,2,e,t)}function xi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ci(4,2,xi.bind(null,t,e),n)}function Si(){}function ki(e,t){var n=si();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ii(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Oi(e,t){var n=si();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ii(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ri(e,t){var n=$o();qo(98>n?98:n,(function(){e(!0)})),qo(97<n?97:n,(function(){var n=Qa.transition;Qa.transition=1;try{e(!1),t()}finally{Qa.transition=n}}))}function Pi(e,t,n){var r=pu(),o=mu(e),a={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?a.next=a:(a.next=i.next,i.next=a),t.pending=a,i=e.alternate,e===ei||null!==i&&i===ei)oi=ri=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,u=i(l,n);if(a.eagerReducer=i,a.eagerState=u,cr(u,l))return}catch(s){}hu(e,o,r)}}var Bi={readContext:la,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useLayoutEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useMutableSource:ai,useOpaqueIdentifier:ai,unstable_isNewReconciler:!1},Ti={readContext:la,useCallback:function(e,t){return ui().memoizedState=[e,void 0===t?null:t],e},useContext:la,useEffect:Ei,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,yi(4,2,xi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yi(4,2,e,t)},useMemo:function(e,t){var n=ui();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ui();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pi.bind(null,ei,e),[r.memoizedState,e]},useRef:bi,useState:gi,useDebugValue:Si,useDeferredValue:function(e){var t=gi(e),n=t[0],r=t[1];return Ei((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=gi(!1),t=e[0];return bi(e=Ri.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ui();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},mi(r,e,t,n)},useOpaqueIdentifier:function(){if(Va){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(i(355))})),n=gi(t)[1];return 0===(2&ei.mode)&&(ei.flags|=516,vi(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return gi(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Mi={readContext:la,useCallback:ki,useContext:la,useEffect:Ai,useImperativeHandle:Fi,useLayoutEffect:wi,useMemo:Oi,useReducer:di,useRef:Di,useState:function(){return di(ci)},useDebugValue:Si,useDeferredValue:function(e){var t=di(ci),n=t[0],r=t[1];return Ai((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=di(ci)[0];return[Di().current,e]},useMutableSource:hi,useOpaqueIdentifier:function(){return di(ci)[0]},unstable_isNewReconciler:!1},Li={readContext:la,useCallback:ki,useContext:la,useEffect:Ai,useImperativeHandle:Fi,useLayoutEffect:wi,useMemo:Oi,useReducer:fi,useRef:Di,useState:function(){return fi(ci)},useDebugValue:Si,useDeferredValue:function(e){var t=fi(ci),n=t[0],r=t[1];return Ai((function(){var t=Qa.transition;Qa.transition=1;try{r(e)}finally{Qa.transition=t}}),[e]),n},useTransition:function(){var e=fi(ci)[0];return[Di().current,e]},useMutableSource:hi,useOpaqueIdentifier:function(){return fi(ci)[0]},unstable_isNewReconciler:!1},Ii=C.ReactCurrentOwner,ji=!1;function zi(e,t,n,r){t.child=null===e?ka(t,null,n,r):Sa(t,e.child,n,r)}function Ni(e,t,n,r,o){n=n.render;var a=t.ref;return ia(t,o),r=li(e,t,n,r,a,o),null===e||ji?(t.flags|=1,zi(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,il(e,t,o))}function _i(e,t,n,r,o,a){if(null===e){var i=n.type;return"function"!==typeof i||Ku(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Hi(e,t,i,r,o,a))}return i=e.child,0===(o&a)&&(o=i.memoizedProps,(n=null!==(n=n.compare)?n:fr)(o,r)&&e.ref===t.ref)?il(e,t,a):(t.flags|=1,(e=qu(i,r)).ref=t.ref,e.return=t,t.child=e)}function Hi(e,t,n,r,o,a){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(ji=!1,0===(a&o))return t.lanes=e.lanes,il(e,t,a);0!==(16384&e.flags)&&(ji=!0)}return Ui(e,t,n,r,a)}function Vi(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Au(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Au(t,e),null;t.memoizedState={baseLanes:0},Au(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Au(t,r);return zi(e,t,o,n),t.child}function Wi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ui(e,t,n,r,o){var a=bo(n)?go:mo.current;return a=vo(t,a),ia(t,o),n=li(e,t,n,r,a,o),null===e||ji?(t.flags|=1,zi(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,il(e,t,o))}function $i(e,t,n,r,o){if(bo(n)){var a=!0;Eo(t)}else a=!1;if(ia(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ya(t,n,r),Ea(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var u=i.context,s=n.contextType;"object"===typeof s&&null!==s?s=la(s):s=vo(t,s=bo(n)?go:mo.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==r||u!==s)&&Ca(t,i,r,s),ua=!1;var f=t.memoizedState;i.state=f,ma(t,r,i,o),u=t.memoizedState,l!==r||f!==u||ho.current||ua?("function"===typeof c&&(va(t,n,c,r),u=t.memoizedState),(l=ua||Da(t,n,l,r,f,u,s))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4)):("function"===typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=s,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4),r=!1)}else{i=t.stateNode,ca(e,t),l=t.memoizedProps,s=t.type===t.elementType?l:Qo(t.type,l),i.props=s,d=t.pendingProps,f=i.context,"object"===typeof(u=n.contextType)&&null!==u?u=la(u):u=vo(t,u=bo(n)?go:mo.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==d||f!==u)&&Ca(t,i,r,u),ua=!1,f=t.memoizedState,i.state=f,ma(t,r,i,o);var m=t.memoizedState;l!==d||f!==m||ho.current||ua?("function"===typeof p&&(va(t,n,p,r),m=t.memoizedState),(s=ua||Da(t,n,s,r,f,m,u))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,u),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,u)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=u,r=s):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Ki(e,t,n,r,a,o)}function Ki(e,t,n,r,o,a){Wi(e,t);var i=0!==(64&t.flags);if(!r&&!i)return o&&Ao(t,n,!1),il(e,t,a);r=t.stateNode,Ii.current=t;var l=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,l,a)):zi(e,t,l,a),t.memoizedState=r.state,o&&Ao(t,n,!0),t.child}function qi(e){var t=e.stateNode;t.pendingContext?yo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yo(0,t.context,!1),Ma(e,t.containerInfo)}var Gi,Xi,Yi,Zi,Qi={dehydrated:null,retryLane:0};function Ji(e,t,n){var r,o=t.pendingProps,a=za.current,i=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),fo(za,1&a),null===e?(void 0!==o.fallback&&$a(t),e=o.children,a=o.fallback,i?(e=el(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qi,e):"number"===typeof o.unstable_expectedLoadTime?(e=el(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qi,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,i?(o=nl(e,t,o.children,o.fallback,n),i=t.child,a=e.child.memoizedState,i.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=Qi,o):(n=tl(e,t,o.children,n),t.memoizedState=null,n))}function el(e,t,n,r){var o=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&o)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,o,0,null),n=Xu(n,o,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function tl(e,t,n,r){var o=e.child;return e=o.sibling,n=qu(o,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function nl(e,t,n,r,o){var a=t.mode,i=e.child;e=i.sibling;var l={mode:"hidden",children:n};return 0===(2&a)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=l,null!==(i=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null):n=qu(i,l),null!==e?r=qu(e,r):(r=Xu(r,a,o,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function rl(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),aa(e.return,t)}function ol(e,t,n,r,o,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o,i.lastEffect=a)}function al(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(zi(e,t,r.children,n),0!==(2&(r=za.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rl(e,n);else if(19===e.tag)rl(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fo(za,r),0===(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Na(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ol(t,!1,o,n,a,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Na(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ol(t,!0,n,null,a,t.lastEffect);break;case"together":ol(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vl|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=qu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ll(e,t){if(!Va)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ul(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return bo(t.type)&&Do(),null;case 3:return La(),co(ho),co(mo),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(qa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Xi(t),null;case 5:ja(t);var a=Ta(Ba.current);if(n=t.type,null!==e&&null!=t.stateNode)Yi(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(i(166));return null}if(e=Ta(Ra.current),qa(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Qr]=t,r[Jr]=l,n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(e=0;e<Fr.length;e++)Rr(Fr[e],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":ee(r,l),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Rr("invalid",r);break;case"textarea":ue(r,l),Rr("invalid",r)}for(var s in we(n,l),e=null,l)l.hasOwnProperty(s)&&(a=l[s],"children"===s?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(s)&&null!=a&&"onScroll"===s&&Rr("scroll",r));switch(n){case"input":Y(r),re(r,l,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(r.onclick=_r)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(s=9===a.nodeType?a:a.ownerDocument,e===de&&(e=pe(n)),e===de?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Qr]=t,e[Jr]=r,Gi(e,t,!1,!1),t.stateNode=e,s=xe(n,r),n){case"dialog":Rr("cancel",e),Rr("close",e),a=r;break;case"iframe":case"object":case"embed":Rr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Fr.length;a++)Rr(Fr[a],e);a=r;break;case"source":Rr("error",e),a=r;break;case"img":case"image":case"link":Rr("error",e),Rr("load",e),a=r;break;case"details":Rr("toggle",e),a=r;break;case"input":ee(e,r),a=J(e,r),Rr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=o({},r,{value:void 0}),Rr("invalid",e);break;case"textarea":ue(e,r),a=le(e,r),Rr("invalid",e);break;default:a=r}we(n,a);var c=a;for(l in c)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?Ee(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===l?"string"===typeof d?("textarea"!==n||""!==d)&&be(e,d):"number"===typeof d&&be(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?null!=d&&"onScroll"===l&&Rr("scroll",e):null!=d&&y(e,l,d,s))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ie(e,!!r.multiple,l,!1):null!=r.defaultValue&&ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=_r)}Wr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Zi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));n=Ta(Ba.current),Ta(Ra.current),qa(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return co(za),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&qa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&za.current)?0===Nl&&(Nl=3):(0!==Nl&&3!==Nl||(Nl=4),null===Ml||0===(134217727&Vl)&&0===(134217727&Wl)||Du(Ml,Il))),(r||n)&&(t.flags|=4),null);case 4:return La(),Xi(t),null===e&&Br(t.stateNode.containerInfo),null;case 10:return oa(t),null;case 19:if(co(za),null===(r=t.memoizedState))return null;if(l=0!==(64&t.flags),null===(s=r.rendering))if(l)ll(r,!1);else{if(0!==Nl||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(s=Na(e))){for(t.flags|=64,ll(r,!1),null!==(l=s.updateQueue)&&(t.updateQueue=l,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,null===(s=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,l.type=s.type,e=s.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fo(za,1&za.current|2),t.child}e=e.sibling}null!==r.tail&&Uo()>ql&&(t.flags|=64,l=!0,ll(r,!1),t.lanes=33554432)}else{if(!l)if(null!==(e=Na(s))){if(t.flags|=64,l=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ll(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!Va)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Uo()-r.renderingStartTime>ql&&1073741824!==n&&(t.flags|=64,l=!0,ll(r,!1),t.lanes=33554432);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Uo(),n.sibling=null,t=za.current,fo(za,l?1&t|2:1&t),n):null;case 23:case 24:return wu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}function sl(e){switch(e.tag){case 1:bo(e.type)&&Do();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(La(),co(ho),co(mo),Ya(),0!==(64&(t=e.flags)))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return ja(e),null;case 13:return co(za),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return co(za),null;case 4:return La(),null;case 10:return oa(e),null;case 23:case 24:return wu(),null;default:return null}}function cl(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var o=n}catch(a){o="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:o}}function dl(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Gi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xi=function(){},Yi=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ta(Ra.current);var i,l=null;switch(n){case"input":a=J(e,a),r=J(e,r),l=[];break;case"option":a=ae(e,a),r=ae(e,r),l=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),l=[];break;case"textarea":a=le(e,a),r=le(e,r),l=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=_r)}for(d in we(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var s=a[d];for(i in s)s.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(u.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(s=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==s&&(null!=c||null!=s))if("style"===d)if(s){for(i in s)!s.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&s[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(u.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Rr("scroll",e),l||s===c||(l=[])):"object"===typeof c&&null!==c&&c.$$typeof===L?c.toString():(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Zi=function(e,t,n,r){n!==r&&(t.flags|=4)};var fl="function"===typeof WeakMap?WeakMap:Map;function pl(e,t,n){(n=da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zl||(Zl=!0,Ql=r),dl(0,t)},n}function ml(e,t,n){(n=da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return dl(0,t),r(o)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Jl?Jl=new Set([this]):Jl.add(this),dl(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var hl="function"===typeof WeakSet?WeakSet:Set;function gl(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Hu(e,n)}else t.current=null}function vl(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo))}throw Error(i(163))}function bl(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;r=o.next,0!==(4&(o=o.tag))&&0!==(1&o)&&(zu(n,e),ju(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ha(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ha(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Wr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(i(163))}function Dl(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,r.style.display=Ce("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function yl(e,t){if(xo&&"function"===typeof xo.onCommitFiberUnmount)try{xo.onCommitFiberUnmount(wo,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,void 0!==o)if(0!==(4&r))zu(t,n);else{r=t;try{o()}catch(a){Hu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(gl(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Hu(t,a)}break;case 5:gl(t);break;case 4:Fl(e,t)}}function Cl(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function El(e){return 5===e.tag||3===e.tag||4===e.tag}function Al(e){e:{for(var t=e.return;null!==t;){if(El(t))break e;t=t.return}throw Error(i(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(i(161))}16&n.flags&&(be(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||El(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?wl(e,n,t):xl(e,n,t)}function wl(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=_r));else if(4!==r&&null!==(e=e.child))for(wl(e,t,n),e=e.sibling;null!==e;)wl(e,t,n),e=e.sibling}function xl(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(xl(e,t,n),e=e.sibling;null!==e;)xl(e,t,n),e=e.sibling}function Fl(e,t){for(var n,r,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(i(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var l=e,u=o,s=u;;)if(yl(l,s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===u)break e;for(;null===s.sibling;){if(null===s.return||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}r?(l=n,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(yl(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function Sl(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var o=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),xe(e,o),t=xe(e,r),o=0;o<a.length;o+=2){var l=a[o],u=a[o+1];"style"===l?Ee(n,u):"dangerouslySetInnerHTML"===l?ve(n,u):"children"===l?be(n,u):y(n,l,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":se(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?ie(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?ie(n,!!r.multiple,r.defaultValue,!0):ie(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Kl=Uo(),Dl(t.child,!0)),void kl(t);case 19:return void kl(t);case 23:case 24:return void Dl(t,null!==t.memoizedState)}throw Error(i(163))}function kl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new hl),t.forEach((function(t){var r=Wu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ol(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Rl=Math.ceil,Pl=C.ReactCurrentDispatcher,Bl=C.ReactCurrentOwner,Tl=0,Ml=null,Ll=null,Il=0,jl=0,zl=so(0),Nl=0,_l=null,Hl=0,Vl=0,Wl=0,Ul=0,$l=null,Kl=0,ql=1/0;function Gl(){ql=Uo()+500}var Xl,Yl=null,Zl=!1,Ql=null,Jl=null,eu=!1,tu=null,nu=90,ru=[],ou=[],au=null,iu=0,lu=null,uu=-1,su=0,cu=0,du=null,fu=!1;function pu(){return 0!==(48&Tl)?Uo():-1!==uu?uu:uu=Uo()}function mu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===$o()?1:2;if(0===su&&(su=Hl),0!==Zo.transition){0!==cu&&(cu=null!==$l?$l.pendingLanes:0),e=su;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=$o(),0!==(4&Tl)&&98===e?e=_t(12,su):e=_t(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),su),e}function hu(e,t,n){if(50<iu)throw iu=0,lu=null,Error(i(185));if(null===(e=gu(e,t)))return null;Wt(e,t,n),e===Ml&&(Wl|=t,4===Nl&&Du(e,Il));var r=$o();1===t?0!==(8&Tl)&&0===(48&Tl)?yu(e):(vu(e,n),0===Tl&&(Gl(),Xo())):(0===(4&Tl)||98!==r&&99!==r||(null===au?au=new Set([e]):au.add(e)),vu(e,n)),$l=e}function gu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var u=31-Ut(l),s=1<<u,c=a[u];if(-1===c){if(0===(s&r)||0!==(s&o)){c=t,jt(s);var d=It;a[u]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=s);l&=~s}if(r=zt(e,e===Ml?Il:0),t=It,0===r)null!==n&&(n!==zo&&ko(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==zo&&ko(n)}15===t?(n=yu.bind(null,e),null===_o?(_o=[n],Ho=So(To,Yo)):_o.push(n),n=zo):14===t?n=Go(99,yu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),n=Go(n,bu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function bu(e){if(uu=-1,cu=su=0,0!==(48&Tl))throw Error(i(327));var t=e.callbackNode;if(Iu()&&e.callbackNode!==t)return null;var n=zt(e,e===Ml?Il:0);if(0===n)return null;var r=n,o=Tl;Tl|=16;var a=Su();for(Ml===e&&Il===r||(Gl(),xu(e,r));;)try{Ru();break}catch(u){Fu(e,u)}if(ra(),Pl.current=a,Tl=o,null!==Ll?r=0:(Ml=null,Il=0,r=Nl),0!==(Hl&Wl))xu(e,0);else if(0!==r){if(2===r&&(Tl|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=Nt(e))&&(r=ku(e,n))),1===r)throw t=_l,xu(e,0),Du(e,n),vu(e,Uo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(i(345));case 2:case 5:Tu(e);break;case 3:if(Du(e,n),(62914560&n)===n&&10<(r=Kl+500-Uo())){if(0!==zt(e,0))break;if(((o=e.suspendedLanes)&n)!==n){pu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=$r(Tu.bind(null,e),r);break}Tu(e);break;case 4:if(Du(e,n),(4186112&n)===n)break;for(r=e.eventTimes,o=-1;0<n;){var l=31-Ut(n);a=1<<l,(l=r[l])>o&&(o=l),n&=~a}if(n=o,10<(n=(120>(n=Uo()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Rl(n/1960))-n)){e.timeoutHandle=$r(Tu.bind(null,e),n);break}Tu(e);break;default:throw Error(i(329))}}return vu(e,Uo()),e.callbackNode===t?bu.bind(null,e):null}function Du(e,t){for(t&=~Ul,t&=~Wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function yu(e){if(0!==(48&Tl))throw Error(i(327));if(Iu(),e===Ml&&0!==(e.expiredLanes&Il)){var t=Il,n=ku(e,t);0!==(Hl&Wl)&&(n=ku(e,t=zt(e,t)))}else n=ku(e,t=zt(e,0));if(0!==e.tag&&2===n&&(Tl|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=Nt(e))&&(n=ku(e,t))),1===n)throw n=_l,xu(e,0),Du(e,t),vu(e,Uo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tu(e),vu(e,Uo()),null}function Cu(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Gl(),Xo())}}function Eu(e,t){var n=Tl;Tl&=-2,Tl|=8;try{return e(t)}finally{0===(Tl=n)&&(Gl(),Xo())}}function Au(e,t){fo(zl,jl),jl|=t,Hl|=t}function wu(){jl=zl.current,co(zl)}function xu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ll)for(n=Ll.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Do();break;case 3:La(),co(ho),co(mo),Ya();break;case 5:ja(r);break;case 4:La();break;case 13:case 19:co(za);break;case 10:oa(r);break;case 23:case 24:wu()}n=n.return}Ml=e,Ll=qu(e.current,null),Il=jl=Hl=t,Nl=0,_l=null,Ul=Wl=Vl=0}function Fu(e,t){for(;;){var n=Ll;try{if(ra(),Za.current=Bi,ri){for(var r=ei.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ri=!1}if(Ja=0,ni=ti=ei=null,oi=!1,Bl.current=null,null===n||null===n.return){Nl=1,_l=t,Ll=null;break}e:{var a=e,i=n.return,l=n,u=t;if(t=Il,l.flags|=2048,l.firstEffect=l.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var s=u;if(0===(2&l.mode)){var c=l.alternate;c?(l.updateQueue=c.updateQueue,l.memoizedState=c.memoizedState,l.lanes=c.lanes):(l.updateQueue=null,l.memoizedState=null)}var d=0!==(1&za.current),f=i;do{var p;if(p=13===f.tag){var m=f.memoizedState;if(null!==m)p=null!==m.dehydrated;else{var h=f.memoizedProps;p=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!d)}}if(p){var g=f.updateQueue;if(null===g){var v=new Set;v.add(s),f.updateQueue=v}else g.add(s);if(0===(2&f.mode)){if(f.flags|=64,l.flags|=16384,l.flags&=-2981,1===l.tag)if(null===l.alternate)l.tag=17;else{var b=da(-1,1);b.tag=2,fa(l,b)}l.lanes|=1;break e}u=void 0,l=t;var D=a.pingCache;if(null===D?(D=a.pingCache=new fl,u=new Set,D.set(s,u)):void 0===(u=D.get(s))&&(u=new Set,D.set(s,u)),!u.has(l)){u.add(l);var y=Vu.bind(null,a,s,l);s.then(y,y)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((q(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Nl&&(Nl=2),u=cl(u,l),f=i;do{switch(f.tag){case 3:a=u,f.flags|=4096,t&=-t,f.lanes|=t,pa(f,pl(0,a,t));break e;case 1:a=u;var C=f.type,E=f.stateNode;if(0===(64&f.flags)&&("function"===typeof C.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Jl||!Jl.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,pa(f,ml(f,a,t));break e}}f=f.return}while(null!==f)}Bu(n)}catch(A){t=A,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function Su(){var e=Pl.current;return Pl.current=Bi,null===e?Bi:e}function ku(e,t){var n=Tl;Tl|=16;var r=Su();for(Ml===e&&Il===t||xu(e,t);;)try{Ou();break}catch(o){Fu(e,o)}if(ra(),Tl=n,Pl.current=r,null!==Ll)throw Error(i(261));return Ml=null,Il=0,Nl}function Ou(){for(;null!==Ll;)Pu(Ll)}function Ru(){for(;null!==Ll&&!Oo();)Pu(Ll)}function Pu(e){var t=Xl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?Bu(e):Ll=t,Bl.current=null}function Bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ul(n,t,jl)))return void(Ll=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&jl)||0===(4&n.mode)){for(var r=0,o=n.child;null!==o;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=sl(t)))return n.flags&=2047,void(Ll=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===Nl&&(Nl=5)}function Tu(e){var t=$o();return qo(99,Mu.bind(null,e,t)),null}function Mu(e,t){do{Iu()}while(null!==tu);if(0!==(48&Tl))throw Error(i(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,a=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var l=e.eventTimes,u=e.expirationTimes;0<a;){var s=31-Ut(a),c=1<<s;o[s]=0,l[s]=-1,u[s]=-1,a&=~c}if(null!==au&&0===(24&r)&&au.has(e)&&au.delete(e),e===Ml&&(Ll=Ml=null,Il=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(o=Tl,Tl|=32,Bl.current=null,Hr=Xt,vr(l=gr())){if("selectionStart"in l)u={start:l.selectionStart,end:l.selectionEnd};else e:if(u=(u=l.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,a=c.anchorOffset,s=c.focusNode,c=c.focusOffset;try{u.nodeType,s.nodeType}catch(F){u=null;break e}var d=0,f=-1,p=-1,m=0,h=0,g=l,v=null;t:for(;;){for(var b;g!==u||0!==a&&3!==g.nodeType||(f=d+a),g!==s||0!==c&&3!==g.nodeType||(p=d+c),3===g.nodeType&&(d+=g.nodeValue.length),null!==(b=g.firstChild);)v=g,g=b;for(;;){if(g===l)break t;if(v===u&&++m===a&&(f=d),v===s&&++h===c&&(p=d),null!==(b=g.nextSibling))break;v=(g=v).parentNode}g=b}u=-1===f||-1===p?null:{start:f,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:l,selectionRange:u},Xt=!1,du=null,fu=!1,Yl=r;do{try{Lu()}catch(F){if(null===Yl)throw Error(i(330));Hu(Yl,F),Yl=Yl.nextEffect}}while(null!==Yl);du=null,Yl=r;do{try{for(l=e;null!==Yl;){var D=Yl.flags;if(16&D&&be(Yl.stateNode,""),128&D){var y=Yl.alternate;if(null!==y){var C=y.ref;null!==C&&("function"===typeof C?C(null):C.current=null)}}switch(1038&D){case 2:Al(Yl),Yl.flags&=-3;break;case 6:Al(Yl),Yl.flags&=-3,Sl(Yl.alternate,Yl);break;case 1024:Yl.flags&=-1025;break;case 1028:Yl.flags&=-1025,Sl(Yl.alternate,Yl);break;case 4:Sl(Yl.alternate,Yl);break;case 8:Fl(l,u=Yl);var E=u.alternate;Cl(u),null!==E&&Cl(E)}Yl=Yl.nextEffect}}catch(F){if(null===Yl)throw Error(i(330));Hu(Yl,F),Yl=Yl.nextEffect}}while(null!==Yl);if(C=Vr,y=gr(),D=C.focusedElem,l=C.selectionRange,y!==D&&D&&D.ownerDocument&&hr(D.ownerDocument.documentElement,D)){null!==l&&vr(D)&&(y=l.start,void 0===(C=l.end)&&(C=y),"selectionStart"in D?(D.selectionStart=y,D.selectionEnd=Math.min(C,D.value.length)):(C=(y=D.ownerDocument||document)&&y.defaultView||window).getSelection&&(C=C.getSelection(),u=D.textContent.length,E=Math.min(l.start,u),l=void 0===l.end?E:Math.min(l.end,u),!C.extend&&E>l&&(u=l,l=E,E=u),u=mr(D,E),a=mr(D,l),u&&a&&(1!==C.rangeCount||C.anchorNode!==u.node||C.anchorOffset!==u.offset||C.focusNode!==a.node||C.focusOffset!==a.offset)&&((y=y.createRange()).setStart(u.node,u.offset),C.removeAllRanges(),E>l?(C.addRange(y),C.extend(a.node,a.offset)):(y.setEnd(a.node,a.offset),C.addRange(y))))),y=[];for(C=D;C=C.parentNode;)1===C.nodeType&&y.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"===typeof D.focus&&D.focus(),D=0;D<y.length;D++)(C=y[D]).element.scrollLeft=C.left,C.element.scrollTop=C.top}Xt=!!Hr,Vr=Hr=null,e.current=n,Yl=r;do{try{for(D=e;null!==Yl;){var A=Yl.flags;if(36&A&&bl(D,Yl.alternate,Yl),128&A){y=void 0;var w=Yl.ref;if(null!==w){var x=Yl.stateNode;Yl.tag,y=x,"function"===typeof w?w(y):w.current=y}}Yl=Yl.nextEffect}}catch(F){if(null===Yl)throw Error(i(330));Hu(Yl,F),Yl=Yl.nextEffect}}while(null!==Yl);Yl=null,No(),Tl=o}else e.current=n;if(eu)eu=!1,tu=e,nu=t;else for(Yl=r;null!==Yl;)t=Yl.nextEffect,Yl.nextEffect=null,8&Yl.flags&&((A=Yl).sibling=null,A.stateNode=null),Yl=t;if(0===(r=e.pendingLanes)&&(Jl=null),1===r?e===lu?iu++:(iu=0,lu=e):iu=0,n=n.stateNode,xo&&"function"===typeof xo.onCommitFiberRoot)try{xo.onCommitFiberRoot(wo,n,void 0,64===(64&n.current.flags))}catch(F){}if(vu(e,Uo()),Zl)throw Zl=!1,e=Ql,Ql=null,e;return 0!==(8&Tl)||Xo(),null}function Lu(){for(;null!==Yl;){var e=Yl.alternate;fu||null===du||(0!==(8&Yl.flags)?et(Yl,du)&&(fu=!0):13===Yl.tag&&Ol(e,Yl)&&et(Yl,du)&&(fu=!0));var t=Yl.flags;0!==(256&t)&&vl(e,Yl),0===(512&t)||eu||(eu=!0,Go(97,(function(){return Iu(),null}))),Yl=Yl.nextEffect}}function Iu(){if(90!==nu){var e=97<nu?97:nu;return nu=90,qo(e,Nu)}return!1}function ju(e,t){ru.push(t,e),eu||(eu=!0,Go(97,(function(){return Iu(),null})))}function zu(e,t){ou.push(t,e),eu||(eu=!0,Go(97,(function(){return Iu(),null})))}function Nu(){if(null===tu)return!1;var e=tu;if(tu=null,0!==(48&Tl))throw Error(i(331));var t=Tl;Tl|=32;var n=ou;ou=[];for(var r=0;r<n.length;r+=2){var o=n[r],a=n[r+1],l=o.destroy;if(o.destroy=void 0,"function"===typeof l)try{l()}catch(s){if(null===a)throw Error(i(330));Hu(a,s)}}for(n=ru,ru=[],r=0;r<n.length;r+=2){o=n[r],a=n[r+1];try{var u=o.create;o.destroy=u()}catch(s){if(null===a)throw Error(i(330));Hu(a,s)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Tl=t,Xo(),!0}function _u(e,t,n){fa(e,t=pl(0,t=cl(n,t),1)),t=pu(),null!==(e=gu(e,1))&&(Wt(e,1,t),vu(e,t))}function Hu(e,t){if(3===e.tag)_u(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){_u(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Jl||!Jl.has(r))){var o=ml(n,e=cl(t,e),1);if(fa(n,o),o=pu(),null!==(n=gu(n,1)))Wt(n,1,o),vu(n,o);else if("function"===typeof r.componentDidCatch&&(null===Jl||!Jl.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Vu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=pu(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Il&n)===n&&(4===Nl||3===Nl&&(62914560&Il)===Il&&500>Uo()-Kl?xu(e,0):Ul|=n),vu(e,t)}function Wu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===$o()?1:2:(0===su&&(su=Hl),0===(t=Ht(62914560&~su))&&(t=4194304))),n=pu(),null!==(e=gu(e,t))&&(Wt(e,t,n),vu(e,n))}function Uu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function $u(e,t,n,r){return new Uu(e,t,n,r)}function Ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qu(e,t){var n=e.alternate;return null===n?((n=$u(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,o,a){var l=2;if(r=e,"function"===typeof e)Ku(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case w:return Xu(n.children,o,a,t);case I:l=8,o|=16;break;case x:l=8,o|=1;break;case F:return(e=$u(12,n,t,8|o)).elementType=F,e.type=F,e.lanes=a,e;case R:return(e=$u(13,n,t,o)).type=R,e.elementType=R,e.lanes=a,e;case P:return(e=$u(19,n,t,o)).elementType=P,e.lanes=a,e;case j:return Yu(n,o,a,t);case z:return(e=$u(24,n,t,o)).elementType=z,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:l=10;break e;case k:l=9;break e;case O:l=11;break e;case B:l=14;break e;case T:l=16,r=null;break e;case M:l=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=$u(l,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Xu(e,t,n,r){return(e=$u(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=$u(23,e,r,t)).elementType=j,e.lanes=n,e}function Zu(e,t,n){return(e=$u(6,e,null,t)).lanes=n,e}function Qu(e,t,n){return(t=$u(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function es(e,t,n,r){var o=t.current,a=pu(),l=mu(o);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(i(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(bo(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(i(171))}if(1===n.tag){var s=n.type;if(bo(s)){n=Co(n,s,u);break e}}n=u}else n=po;return null===t.context?t.context=n:t.pendingContext=n,(t=da(a,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(o,t),hu(o,l,a),l}function ts(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ns(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rs(e,t){ns(e,t),(e=e.alternate)&&ns(e,t)}function os(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=$u(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[eo]=n.current,Br(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var o=(t=r[e])._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function as(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function is(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a._internalRoot;if("function"===typeof o){var l=o;o=function(){var e=ts(i);l.call(e)}}es(t,i,e,o)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new os(e,0,t?{hydrate:!0}:void 0)}(n,r),i=a._internalRoot,"function"===typeof o){var u=o;o=function(){var e=ts(i);u.call(e)}}Eu((function(){es(t,i,e,o)}))}return ts(i)}function ls(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!as(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Xl=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ho.current)ji=!0;else{if(0===(n&r)){switch(ji=!1,t.tag){case 3:qi(t),Ga();break;case 5:Ia(t);break;case 1:bo(t.type)&&Eo(t);break;case 4:Ma(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;fo(Jo,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ji(e,t,n):(fo(za,1&za.current),null!==(t=il(e,t,n))?t.sibling:null);fo(za,1&za.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return al(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),fo(za,za.current),r)break;return null;case 23:case 24:return t.lanes=0,Vi(e,t,n)}return il(e,t,n)}ji=0!==(16384&e.flags)}else ji=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=vo(t,mo.current),ia(t,n),o=li(null,t,r,e,o,n),t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,bo(r)){var a=!0;Eo(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,sa(t);var l=r.getDerivedStateFromProps;"function"===typeof l&&va(t,r,l,e),o.updater=ba,t.stateNode=o,o._reactInternals=t,Ea(t,r,e,n),t=Ki(null,t,r,!0,a,n)}else t.tag=0,zi(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(a=o._init)(o._payload),t.type=o,a=t.tag=function(e){if("function"===typeof e)return Ku(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===B)return 14}return 2}(o),e=Qo(o,e),a){case 0:t=Ui(null,t,o,e,n);break e;case 1:t=$i(null,t,o,e,n);break e;case 11:t=Ni(null,t,o,e,n);break e;case 14:t=_i(null,t,o,Qo(o.type,e),r,n);break e}throw Error(i(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ui(e,t,r,o=t.elementType===r?o:Qo(r,o),n);case 1:return r=t.type,o=t.pendingProps,$i(e,t,r,o=t.elementType===r?o:Qo(r,o),n);case 3:if(qi(t),r=t.updateQueue,null===e||null===r)throw Error(i(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,ca(e,t),ma(t,r,null,n),(r=t.memoizedState.element)===o)Ga(),t=il(e,t,n);else{if((a=(o=t.stateNode).hydrate)&&(Ha=Gr(t.stateNode.containerInfo.firstChild),_a=t,a=Va=!0),a){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(a=e[o])._workInProgressVersionPrimary=e[o+1],Xa.push(a);for(n=ka(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else zi(e,t,r,n),Ga();t=t.child}return t;case 5:return Ia(t),null===e&&$a(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,l=o.children,Ur(r,o)?l=null:null!==a&&Ur(r,a)&&(t.flags|=16),Wi(e,t),zi(e,t,l,n),t.child;case 6:return null===e&&$a(t),null;case 13:return Ji(e,t,n);case 4:return Ma(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):zi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Ni(e,t,r,o=t.elementType===r?o:Qo(r,o),n);case 7:return zi(e,t,t.pendingProps,n),t.child;case 8:case 12:return zi(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,l=t.memoizedProps,a=o.value;var u=t.type._context;if(fo(Jo,u._currentValue),u._currentValue=a,null!==l)if(u=l.value,0===(a=cr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(l.children===o.children&&!ho.current){t=il(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var s=u.dependencies;if(null!==s){l=u.child;for(var c=s.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===u.tag&&((c=da(-1,n&-n)).tag=2,fa(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),aa(u.return,n),s.lanes|=n;break}c=c.next}}else l=10===u.tag&&u.type===t.type?null:u.child;if(null!==l)l.return=u;else for(l=u;null!==l;){if(l===t){l=null;break}if(null!==(u=l.sibling)){u.return=l.return,l=u;break}l=l.return}u=l}zi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(a=t.pendingProps).children,ia(t,n),r=r(o=la(o,a.unstable_observedBits)),t.flags|=1,zi(e,t,r,n),t.child;case 14:return a=Qo(o=t.type,t.pendingProps),_i(e,t,o,a=Qo(o.type,a),r,n);case 15:return Hi(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Qo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,bo(r)?(e=!0,Eo(t)):e=!1,ia(t,n),ya(t,r,o),Ea(t,r,o,n),Ki(null,t,r,!0,e,n);case 19:return al(e,t,n);case 23:case 24:return Vi(e,t,n)}throw Error(i(156,t.tag))},os.prototype.render=function(e){es(e,this._internalRoot,null,null)},os.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;es(null,e,null,(function(){t[eo]=null}))},tt=function(e){13===e.tag&&(hu(e,4,pu()),rs(e,4))},nt=function(e){13===e.tag&&(hu(e,67108864,pu()),rs(e,67108864))},rt=function(e){if(13===e.tag){var t=pu(),n=mu(e);hu(e,n,t),rs(e,n)}},ot=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ao(r);if(!o)throw Error(i(90));Z(r),ne(r,o)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},Te=Cu,Me=function(e,t,n,r,o){var a=Tl;Tl|=4;try{return qo(98,e.bind(null,t,n,r,o))}finally{0===(Tl=a)&&(Gl(),Xo())}},Le=function(){0===(49&Tl)&&(function(){if(null!==au){var e=au;au=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vu(e,Uo())}))}Xo()}(),Iu())},Ie=function(e,t){var n=Tl;Tl|=2;try{return e(t)}finally{0===(Tl=n)&&(Gl(),Xo())}};var us={Events:[ro,oo,ao,Pe,Be,Iu,{current:!1}]},ss={findFiberByHostInstance:no,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cs={bundleType:ss.bundleType,version:ss.version,rendererPackageName:ss.rendererPackageName,rendererConfig:ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:ss.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ds.isDisabled&&ds.supportsFiber)try{wo=ds.inject(cs),xo=ds}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=us,t.createPortal=ls,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Tl;if(0!==(48&n))return e(t);Tl|=1;try{if(e)return qo(99,e.bind(null,t))}finally{Tl=n,Xo()}},t.hydrate=function(e,t,n){if(!as(t))throw Error(i(200));return is(null,e,t,!0,n)},t.render=function(e,t,n){if(!as(t))throw Error(i(200));return is(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!as(e))throw Error(i(40));return!!e._reactRootContainer&&(Eu((function(){is(null,null,e,!1,(function(){e._reactRootContainer=null,e[eo]=null}))})),!0)},t.unstable_batchedUpdates=Cu,t.unstable_createPortal=function(e,t){return ls(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!as(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return is(e,t,n,!1,r)},t.version="17.0.2"},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},5082:(e,t)=>{"use strict";var n=60103,r=60106,o=60107,a=60108,i=60114,l=60109,u=60110,s=60112,c=60113,d=60120,f=60115,p=60116,m=60121,h=60122,g=60117,v=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var D=Symbol.for;n=D("react.element"),r=D("react.portal"),o=D("react.fragment"),a=D("react.strict_mode"),i=D("react.profiler"),l=D("react.provider"),u=D("react.context"),s=D("react.forward_ref"),c=D("react.suspense"),d=D("react.suspense_list"),f=D("react.memo"),p=D("react.lazy"),m=D("react.block"),h=D("react.server.block"),g=D("react.fundamental"),v=D("react.debug_trace_mode"),b=D("react.legacy_hidden")}function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case i:case a:case c:case d:return e;default:switch(e=e&&e.$$typeof){case u:case s:case p:case f:case l:return e;default:return t}}case r:return t}}}},2086:(e,t,n)=>{"use strict";n(5082)},9005:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,h=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,D=n?Symbol.for("react.responder"):60118,y=n?Symbol.for("react.scope"):60119;function C(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case a:case l:case i:case p:return e;default:switch(e=e&&e.$$typeof){case s:case f:case g:case h:case u:return e;default:return t}}case o:return t}}}function E(e){return C(e)===d}},7681:(e,t,n)=>{"use strict";n(9005)},9998:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>g});var r=n(8587),o=n(5540),a=n(5043),i=n(7950);const l=!1;var u=n(8726),s="unmounted",c="exited",d="entering",f="entered",p="exiting",m=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(o=c,r.appearStatus=d):o=f:o=t.unmountOnExit||t.mountOnEnter?s:c,r.state={status:o},r.nextCallback=null,r}(0,o.A)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===s?{status:c}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==f&&(t=d):n!==d&&n!==f||(t=p)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===d){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:s})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[i.findDOMNode(this),r],a=o[0],u=o[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||l?this.safeSetState({status:f},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,u),this.safeSetState({status:d},(function(){t.props.onEntering(a,u),t.onTransitionEnd(c,(function(){t.safeSetState({status:f},(function(){t.props.onEntered(a,u)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!l?(this.props.onExit(r),this.safeSetState({status:p},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:c},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:c},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=o[0],l=o[1];this.props.addEndListener(a,l)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===s)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(u.A.Provider,{value:null},"function"===typeof n?n(e,o):a.cloneElement(a.Children.only(n),o))},t}(a.Component);function h(){}m.contextType=u.A,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h},m.UNMOUNTED=s,m.EXITED=c,m.ENTERING=d,m.ENTERED=f,m.EXITING=p;const g=m},8726:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(5043).createContext(null)},1153:(e,t,n)=>{"use strict";n(2123);var r=n(5043),o=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;o=a("react.element"),t.Fragment=a("react.fragment")}var i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,n){var r,a={},s=null,c=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(c=t.ref),t)l.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:o,type:e,key:s,ref:c,props:a,_owner:i.current}}t.jsx=s,t.jsxs=s},4202:(e,t,n)=>{"use strict";var r=n(2123),o=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,l=60110,u=60112;t.Suspense=60113;var s=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;o=d("react.element"),a=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),i=d("react.provider"),l=d("react.context"),u=d("react.forward_ref"),t.Suspense=d("react.suspense"),s=d("react.memo"),c=d("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function g(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||m}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var D=b.prototype=new v;D.constructor=b,r(D,g.prototype),D.isPureReactComponent=!0;var y={current:null},C=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var r,a={},i=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)C.call(t,r)&&!E.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var s=Array(u),c=0;c<u;c++)s[c]=arguments[c+2];a.children=s}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:o,type:e,key:i,ref:l,props:a,_owner:y.current}}function w(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var x=/\/+/g;function F(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var u=!1;if(null===e)u=!0;else switch(l){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return i=i(u=e),e=""===r?"."+F(u,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),S(i,t,n,"",(function(e){return e}))):null!=i&&(w(i)&&(i=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(x,"$&/")+"/")+e)),t.push(i)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var s=0;s<e.length;s++){var c=r+F(l=e[s],s);u+=S(l,t,n,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),s=0;!(l=e.next()).done;)u+=S(l=l.value,t,n,c=r+F(l,s++),i);else if("object"===l)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function k(e,t,n){if(null==e)return e;var r=[],o=0;return S(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function P(){var e=R.current;if(null===e)throw Error(p(321));return e}var B={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:y,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!w(e))throw Error(p(143));return e}},t.Component=g,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(p(267,e));var a=r({},e.props),i=e.key,l=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,u=y.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)C.call(t,c)&&!E.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){s=Array(c);for(var d=0;d<c;d++)s[d]=arguments[d+2];a.children=s}return{$$typeof:o,type:e.type,key:i,ref:l,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:l,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=w,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:s,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";var n,r,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var s=null,c=null,d=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(n){throw setTimeout(d,0),n}};n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(d,0))},r=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var h=!1,g=null,v=-1,b=5,D=0;t.unstable_shouldYield=function(){return t.unstable_now()>=D},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var y=new MessageChannel,C=y.port2;y.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();D=e+b;try{g(!0,e)?C.postMessage(null):(h=!1,g=null)}catch(n){throw C.postMessage(null),n}}else h=!1},n=function(e){g=e,h||(h=!0,C.postMessage(null))},r=function(e,n){v=f((function(){e(t.unstable_now())}),n)},o=function(){p(v),v=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<x(o,t)))break e;e[r]=t,e[n]=o,n=r}}function A(e){return void 0===(e=e[0])?null:e}function w(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var a=2*(r+1)-1,i=e[a],l=a+1,u=e[l];if(void 0!==i&&0>x(i,n))void 0!==u&&0>x(u,i)?(e[r]=u,e[l]=n,r=l):(e[r]=i,e[a]=n,r=a);else{if(!(void 0!==u&&0>x(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var F=[],S=[],k=1,O=null,R=3,P=!1,B=!1,T=!1;function M(e){for(var t=A(S);null!==t;){if(null===t.callback)w(S);else{if(!(t.startTime<=e))break;w(S),t.sortIndex=t.expirationTime,E(F,t)}t=A(S)}}function L(e){if(T=!1,M(e),!B)if(null!==A(F))B=!0,n(I);else{var t=A(S);null!==t&&r(L,t.startTime-e)}}function I(e,n){B=!1,T&&(T=!1,o()),P=!0;var a=R;try{for(M(n),O=A(F);null!==O&&(!(O.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=O.callback;if("function"===typeof i){O.callback=null,R=O.priorityLevel;var l=i(O.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?O.callback=l:O===A(F)&&w(F),M(n)}else w(F);O=A(F)}if(null!==O)var u=!0;else{var s=A(S);null!==s&&r(L,s.startTime-n),u=!1}return u}finally{O=null,R=a,P=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){B||P||(B=!0,n(I))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return A(F)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,a,i){var l=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?l+i:l:i=l,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:k++,callback:a,priorityLevel:e,startTime:i,expirationTime:u=i+u,sortIndex:-1},i>l?(e.sortIndex=i,E(S,e),null===A(F)&&e===A(S)&&(T?o():T=!0,r(L,i-l))):(e.sortIndex=u,E(F,e),B||P||(B=!0,n(I))),e},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},139:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},6305:(e,t,n)=>{var r=n(3738).default;function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var u=i?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(a,l,u):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3145:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{A:()=>r})},9417:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{A:()=>r})},3029:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{A:()=>r})},2901:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(816);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,r.A)(o.key),o)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},4467:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(816);function o(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},5540:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{A:()=>o})},45:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8587);function o(e,t){if(null==e)return{};var n,o,a=(0,r.A)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},296:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7800);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||(0,r.A)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},5458:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(3145);var o=n(7800);function a(e){return function(e){if(Array.isArray(e))return(0,r.A)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},816:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2284);function o(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=(0,r.A)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},7800:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(3145);function o(e,t){if(e){if("string"==typeof e)return(0,r.A)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.A)(e,t):void 0}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(5043),t=n(7950),r=n(5540),o=n(5173),a=n.n(o),i=n(8168);function l(e){return"/"===e.charAt(0)}function u(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}const s=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],a=e&&l(e),i=t&&l(t),s=a||i;if(e&&l(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var c=o[o.length-1];n="."===c||".."===c||""===c}else n=!1;for(var d=0,f=o.length;f>=0;f--){var p=o[f];"."===p?u(o,f):".."===p?(u(o,f),d++):d&&(u(o,f),d--)}if(!s)for(;d--;d)o.unshift("..");!s||""===o[0]||o[0]&&l(o[0])||o.unshift("");var m=o.join("/");return n&&"/"!==m.substr(-1)&&(m+="/"),m};var c="Invariant failed";function d(e,t){if(!e)throw new Error(c)}function f(e){return"/"===e.charAt(0)?e:"/"+e}function p(e){return"/"===e.charAt(0)?e.substr(1):e}function m(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function g(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function v(e,t,n,r){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=(0,i.A)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=s(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function b(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,o):o(!0):o(!1!==a)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var D=!("undefined"===typeof window||!window.document||!window.document.createElement);function y(e,t){t(window.confirm(e))}var C="popstate",E="hashchange";function A(){try{return window.history.state||{}}catch(e){return{}}}function w(e){void 0===e&&{},D||d(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,l=void 0!==a&&a,u=o.getUserConfirmation,s=void 0===u?y:u,c=o.keyLength,p=void 0===c?6:c,w=e.basename?h(f(e.basename)):"";function x(e){var t=e||{},n=t.key,r=t.state,o=window.location,a=o.pathname+o.search+o.hash;return w&&m(a,w),v(a,r,n)}function F(){return Math.random().toString(36).substr(2,p)}var S=b();function k(e){(0,i.A)(_,e),_.length=t.length,S.notifyListeners(_.location,_.action)}function O(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||B(x(e.state))}function R(){B(x(A()))}var P=!1;function B(e){if(P)k();else{S.confirmTransitionTo(e,"POP",s,(function(t){t?k({action:"POP",location:e}):function(e){var t=_.location,n=M.indexOf(t.key);-1===n&&0;var r=M.indexOf(e.key);-1===r&&0;var o=n-r;o&&I(o)}(e)}))}}var T=x(A()),M=[T.key];function L(e){return w+g(e)}function I(e){t.go(e)}var j=0;function z(e){1===(j+=e)&&1===e?(window.addEventListener(C,O),r&&window.addEventListener(E,R)):0===j&&(window.removeEventListener(C,O),r&&window.removeEventListener(E,R))}var N=!1;var _={length:t.length,action:"POP",location:T,createHref:L,push:function(e,r){var o="PUSH",a=v(e,r,F(),_.location);S.confirmTransitionTo(a,o,s,(function(e){if(e){var r=L(a),i=a.key,u=a.state;if(n)if(t.pushState({key:i,state:u},null,r),l)window.location.href=r;else{var s=M.indexOf(_.location.key),c=M.slice(0,s+1);c.push(a.key),k({action:o,location:a})}else window.location.href=r}}))},replace:function(e,r){var o="REPLACE",a=v(e,r,F(),_.location);S.confirmTransitionTo(a,o,s,(function(e){if(e){var r=L(a),i=a.key,u=a.state;if(n)if(t.replaceState({key:i,state:u},null,r),l)window.location.replace(r);else{var s=M.indexOf(_.location.key);-1!==s&&(M[s]=a.key),k({action:o,location:a})}else window.location.replace(r)}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(e){void 0===e&&!1;var t=S.setPrompt(e);return N||(z(1),!0),function(){return N&&z(-1),t()}},listen:function(e){var t=S.appendListener(e);return z(1),function(){z(-1),t()}}};return _}var x="hashchange",F={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+p(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:p,decodePath:f},slash:{encodePath:f,decodePath:f}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function k(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(S(window.location.href)+"#"+e)}function R(e){void 0===e&&(e={}),D||d(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,o=void 0===r?y:r,a=n.hashType,l=void 0===a?"slash":a,u=e.basename?h(f(e.basename)):"",s=F[l],c=s.encodePath,p=s.decodePath;function C(){var e=p(k());return u&&(e=m(e,u)),v(e)}var E=b();function A(e){(0,i.A)(_,e),_.length=t.length,E.notifyListeners(_.location,_.action)}var w=!1,R=null;function P(){var e,t,n=k(),r=c(n);if(n!==r)O(r);else{var a=C(),i=_.location;if(!w&&(t=a,(e=i).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(R===g(a))return;R=null,function(e){if(w)w=!1,A();else{var t="POP";E.confirmTransitionTo(e,t,o,(function(n){n?A({action:t,location:e}):function(e){var t=_.location,n=L.lastIndexOf(g(t));-1===n&&(n=0);var r=L.lastIndexOf(g(e));-1===r&&(r=0);var o=n-r;o&&(w=!0,I(o))}(e)}))}}(a)}}var B=k(),T=c(B);B!==T&&O(T);var M=C(),L=[g(M)];function I(e){t.go(e)}var j=0;function z(e){1===(j+=e)&&1===e?window.addEventListener(x,P):0===j&&window.removeEventListener(x,P)}var N=!1;var _={length:t.length,action:"POP",location:M,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=S(window.location.href)),n+"#"+c(u+g(e))},push:function(e,t){var n="PUSH",r=v(e,void 0,void 0,_.location);E.confirmTransitionTo(r,n,o,(function(e){if(e){var t=g(r),o=c(u+t);if(k()!==o){R=t,function(e){window.location.hash=e}(o);var a=L.lastIndexOf(g(_.location)),i=L.slice(0,a+1);i.push(t),L=i,A({action:n,location:r})}else A()}}))},replace:function(e,t){var n="REPLACE",r=v(e,void 0,void 0,_.location);E.confirmTransitionTo(r,n,o,(function(e){if(e){var t=g(r),o=c(u+t);k()!==o&&(R=t,O(o));var a=L.indexOf(g(_.location));-1!==a&&(L[a]=t),A({action:n,location:r})}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return N||(z(1),N=!0),function(){return N&&(N=!1,z(-1)),t()}},listen:function(e){var t=E.appendListener(e);return z(1),function(){z(-1),t()}}};return _}function P(e,t,n){return Math.min(Math.max(e,t),n)}var B=n(8123),T=n.n(B),M=(n(7681),n(8587)),L=(n(219),1073741823),I="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var j=e.createContext||function(t,n){var o,i,l="__create-react-context-"+function(){var e="__global_unique_id__";return I[e]=(I[e]||0)+1}()+"__",u=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}(0,r.A)(t,e);var o=t.prototype;return o.getChildContext=function(){var e;return(e={})[l]=this.emitter,e},o.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,o=e.value;((a=r)===(i=o)?0!==a||1/a===1/i:a!==a&&i!==i)?t=0:(t="function"===typeof n?n(r,o):L,0!==(t|=0)&&this.emitter.set(e.value,t))}var a,i},o.render=function(){return this.props.children},t}(e.Component);u.childContextTypes=((o={})[l]=a().object.isRequired,o);var s=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).observedBits=void 0,t.state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}(0,r.A)(n,e);var o=n.prototype;return o.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?L:t},o.componentDidMount=function(){this.context[l]&&this.context[l].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?L:e},o.componentWillUnmount=function(){this.context[l]&&this.context[l].off(this.onUpdate)},o.getValue=function(){return this.context[l]?this.context[l].get():t},o.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return s.contextTypes=((i={})[l]=a().object,i),{Provider:u,Consumer:s}},z=function(e){var t=j();return t.displayName=e,t},N=z("Router-History"),_=z("Router"),H=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._pendingLocation=e}))),n}(0,r.A)(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var o=n.prototype;return o.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},o.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},o.render=function(){return e.createElement(_.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(N.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component;e.Component;var V={},W=0;function U(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,a=void 0!==o&&o,i=n.strict,l=void 0!==i&&i,u=n.sensitive,s=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=V[n]||(V[n]={});if(r[e])return r[e];var o=[],a={regexp:T()(e,o,t),keys:o};return W<1e4&&(r[e]=a,W++),a}(n,{end:a,strict:l,sensitive:s}),o=r.regexp,i=r.keys,u=o.exec(e);if(!u)return null;var c=u[0],d=u.slice(1),f=e===c;return a&&!f?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:f,params:i.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var $=function(t){function n(){return t.apply(this,arguments)||this}return(0,r.A)(n,t),n.prototype.render=function(){var t=this;return e.createElement(_.Consumer,null,(function(n){n||d(!1);var r=t.props.location||n.location,o=t.props.computedMatch?t.props.computedMatch:t.props.path?U(r.pathname,t.props):n.match,a=(0,i.A)({},n,{location:r,match:o}),l=t.props,u=l.children,s=l.component,c=l.render;return Array.isArray(u)&&function(t){return 0===e.Children.count(t)}(u)&&(u=null),e.createElement(_.Provider,{value:a},a.match?u?"function"===typeof u?u(a):u:s?e.createElement(s,a):c?c(a):null:"function"===typeof u?u(a):null)}))},n}(e.Component);function K(e){return"/"===e.charAt(0)?e:"/"+e}function q(e,t){if(!e)return t;var n=K(e);return 0!==t.pathname.indexOf(n)?t:(0,i.A)({},t,{pathname:t.pathname.substr(n.length)})}function G(e){return"string"===typeof e?e:g(e)}function X(e){return function(){d(!1)}}function Y(){}e.Component;var Z=function(t){function n(){return t.apply(this,arguments)||this}return(0,r.A)(n,t),n.prototype.render=function(){var t=this;return e.createElement(_.Consumer,null,(function(n){n||d(!1);var r,o,a=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==o&&e.isValidElement(t)){r=t;var l=t.props.path||t.props.from;o=l?U(a.pathname,(0,i.A)({},t.props,{path:l})):n.match}})),o?e.cloneElement(r,{location:a,computedMatch:o}):null}))},n}(e.Component);var Q=e.useContext;function J(){return Q(_).location}function ee(){var e=Q(_).match;return e?e.params:{}}function te(e){var t=J(),n=Q(_).match;return e?U(t.pathname,e):n}e.Component;var ne=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).history=R(e.props),e}return(0,r.A)(n,t),n.prototype.render=function(){return e.createElement(H,{history:this.history,children:this.props.children})},n}(e.Component);var re=function(e,t){return"function"===typeof e?e(t):e},oe=function(e,t){return"string"===typeof e?v(e,null,null,t):e},ae=function(e){return e},ie=e.forwardRef;"undefined"===typeof ie&&(ie=ae);var le=ie((function(t,n){var r=t.innerRef,o=t.navigate,a=t.onClick,l=(0,M.A)(t,["innerRef","navigate","onClick"]),u=l.target,s=(0,i.A)({},l,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),o())}});return s.ref=ae!==ie&&n||r,e.createElement("a",s)}));var ue=ie((function(t,n){var r=t.component,o=void 0===r?le:r,a=t.replace,l=t.to,u=t.innerRef,s=(0,M.A)(t,["component","replace","to","innerRef"]);return e.createElement(_.Consumer,null,(function(t){t||d(!1);var r=t.history,c=oe(re(l,t.location),t.location),f=c?r.createHref(c):"",p=(0,i.A)({},s,{href:f,navigate:function(){var e=re(l,t.location),n=g(t.location)===g(oe(e));(a||n?r.replace:r.push)(e)}});return ae!==ie?p.ref=n||u:p.innerRef=u,e.createElement(o,p)}))})),se=function(e){return e},ce=e.forwardRef;"undefined"===typeof ce&&(ce=se);ce((function(t,n){var r=t["aria-current"],o=void 0===r?"page":r,a=t.activeClassName,l=void 0===a?"active":a,u=t.activeStyle,s=t.className,c=t.exact,f=t.isActive,p=t.location,m=t.sensitive,h=t.strict,g=t.style,v=t.to,b=t.innerRef,D=(0,M.A)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(_.Consumer,null,(function(t){t||d(!1);var r=p||t.location,a=oe(re(v,r),r),y=a.pathname,C=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),E=C?U(r.pathname,{path:C,exact:c,sensitive:m,strict:h}):null,A=!!(f?f(E,r):E),w="function"===typeof s?s(A):s,x="function"===typeof g?g(A):g;A&&(w=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(w,l),x=(0,i.A)({},x,u));var F=(0,i.A)({"aria-current":A&&o||null,className:w,style:x,to:a},D);return se!==ce?F.ref=n||b:F.innerRef=b,e.createElement(ue,F)}))}));var de=n(4467);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,de.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=n(1551),he=n(8553),ge={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},ve=function(e){return(0,i.A)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};const be=(0,he.A)((function(e){return{"@global":{html:ge,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,i.A)({margin:0},ve(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(t){var n=t.children,r=void 0===n?null:n;return t.classes,e.createElement(e.Fragment,null,r)}));var De=n(45),ye=n(3024),Ce=n(4822),Ee=e.forwardRef((function(t,n){var r=t.classes,o=t.className,a=t.component,l=void 0===a?"div":a,u=t.disableGutters,s=void 0!==u&&u,c=t.fixed,d=void 0!==c&&c,f=t.maxWidth,p=void 0===f?"lg":f,m=(0,De.A)(t,["classes","className","component","disableGutters","fixed","maxWidth"]);return e.createElement(l,(0,i.A)({className:(0,ye.A)(r.root,o,d&&r.fixed,s&&r.disableGutters,!1!==p&&r["maxWidth".concat((0,Ce.A)(String(p)))]),ref:n},m))}));const Ae=(0,he.A)((function(e){return{root:(0,de.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t}),{}),maxWidthXs:(0,de.A)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:(0,de.A)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:(0,de.A)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:(0,de.A)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:(0,de.A)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(Ee);var we=n(567),xe=n(3536),Fe=n(296),Se=n(9998),ke=n(2899),Oe=n(830),Re=n(768),Pe={entering:{opacity:1},entered:{opacity:1}},Be={enter:ke.p0.enteringScreen,exit:ke.p0.leavingScreen};const Te=e.forwardRef((function(t,n){var r=t.children,o=t.disableStrictModeCompat,a=void 0!==o&&o,l=t.in,u=t.onEnter,s=t.onEntered,c=t.onEntering,d=t.onExit,f=t.onExited,p=t.onExiting,m=t.style,h=t.TransitionComponent,g=void 0===h?Se.Ay:h,v=t.timeout,b=void 0===v?Be:v,D=(0,De.A)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),y=(0,we.A)(),C=y.unstable_strictMode&&!a,E=e.useRef(null),A=(0,Re.A)(r.ref,n),w=(0,Re.A)(C?E:void 0,A),x=function(e){return function(t,n){if(e){var r=C?[E.current,t]:[t,n],o=(0,Fe.A)(r,2),a=o[0],i=o[1];void 0===i?e(a):e(a,i)}}},F=x(c),S=x((function(e,t){(0,Oe.q)(e);var n=(0,Oe.c)({style:m,timeout:b},{mode:"enter"});e.style.webkitTransition=y.transitions.create("opacity",n),e.style.transition=y.transitions.create("opacity",n),u&&u(e,t)})),k=x(s),O=x(p),R=x((function(e){var t=(0,Oe.c)({style:m,timeout:b},{mode:"exit"});e.style.webkitTransition=y.transitions.create("opacity",t),e.style.transition=y.transitions.create("opacity",t),d&&d(e)})),P=x(f);return e.createElement(g,(0,i.A)({appear:!0,in:l,nodeRef:C?E:void 0,onEnter:S,onEntered:k,onEntering:F,onExit:R,onExited:P,onExiting:O,timeout:b},D),(function(t,n){return e.cloneElement(r,(0,i.A)({style:(0,i.A)({opacity:0,visibility:"exited"!==t||l?void 0:"hidden"},Pe[t],m,r.props.style),ref:w},n))}))}));var Me=e.forwardRef((function(t,n){var r=t.children,o=t.classes,a=t.className,l=t.invisible,u=void 0!==l&&l,s=t.open,c=t.transitionDuration,d=t.TransitionComponent,f=void 0===d?Te:d,p=(0,De.A)(t,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return e.createElement(f,(0,i.A)({in:s,timeout:c},p),e.createElement("div",{className:(0,ye.A)(o.root,a,u&&o.invisible),"aria-hidden":!0,ref:n},r))}));const Le=(0,he.A)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(Me);var Ie=n(7355);function je(e,t){var n=function(e,t){var n,r=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var o=window.getComputedStyle(t);n=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("transform")}var a=0,i=0;if(n&&"none"!==n&&"string"===typeof n){var l=n.split("(")[1].split(")")[0].split(",");a=parseInt(l[4],10),i=parseInt(l[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(").concat(a-r.left,"px)"):"right"===e?"translateX(-".concat(r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(").concat(i-r.top,"px)"):"translateY(-".concat(r.top+r.height-i,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var ze={enter:ke.p0.enteringScreen,exit:ke.p0.leavingScreen};const Ne=e.forwardRef((function(n,r){var o=n.children,a=n.direction,l=void 0===a?"down":a,u=n.in,s=n.onEnter,c=n.onEntered,d=n.onEntering,f=n.onExit,p=n.onExited,m=n.onExiting,h=n.style,g=n.timeout,v=void 0===g?ze:g,b=n.TransitionComponent,D=void 0===b?Se.Ay:b,y=(0,De.A)(n,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),C=(0,we.A)(),E=e.useRef(null),A=e.useCallback((function(e){E.current=t.findDOMNode(e)}),[]),w=(0,Re.A)(o.ref,A),x=(0,Re.A)(w,r),F=function(e){return function(t){e&&(void 0===t?e(E.current):e(E.current,t))}},S=F((function(e,t){je(l,e),(0,Oe.q)(e),s&&s(e,t)})),k=F((function(e,t){var n=(0,Oe.c)({timeout:v,style:h},{mode:"enter"});e.style.webkitTransition=C.transitions.create("-webkit-transform",(0,i.A)({},n,{easing:C.transitions.easing.easeOut})),e.style.transition=C.transitions.create("transform",(0,i.A)({},n,{easing:C.transitions.easing.easeOut})),e.style.webkitTransform="none",e.style.transform="none",d&&d(e,t)})),O=F(c),R=F(m),P=F((function(e){var t=(0,Oe.c)({timeout:v,style:h},{mode:"exit"});e.style.webkitTransition=C.transitions.create("-webkit-transform",(0,i.A)({},t,{easing:C.transitions.easing.sharp})),e.style.transition=C.transitions.create("transform",(0,i.A)({},t,{easing:C.transitions.easing.sharp})),je(l,e),f&&f(e)})),B=F((function(e){e.style.webkitTransition="",e.style.transition="",p&&p(e)})),T=e.useCallback((function(){E.current&&je(l,E.current)}),[l]);return e.useEffect((function(){if(!u&&"down"!==l&&"right"!==l){var e=(0,Ie.A)((function(){E.current&&je(l,E.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[l,u]),e.useEffect((function(){u||T()}),[u,T]),e.createElement(D,(0,i.A)({nodeRef:E,onEnter:S,onEntered:O,onEntering:k,onExit:P,onExited:B,onExiting:R,appear:!0,in:u,timeout:v},y),(function(t,n){return e.cloneElement(o,(0,i.A)({ref:x,style:(0,i.A)({visibility:"exited"!==t||u?void 0:"hidden"},h,o.props.style)},n))}))}));var _e=n(495),He={left:"right",right:"left",top:"down",bottom:"up"};var Ve={enter:ke.p0.enteringScreen,exit:ke.p0.leavingScreen},We=e.forwardRef((function(t,n){var r=t.anchor,o=void 0===r?"left":r,a=t.BackdropProps,l=t.children,u=t.classes,s=t.className,c=t.elevation,d=void 0===c?16:c,f=t.ModalProps,p=(f=void 0===f?{}:f).BackdropProps,m=(0,De.A)(f,["BackdropProps"]),h=t.onClose,g=t.open,v=void 0!==g&&g,b=t.PaperProps,D=void 0===b?{}:b,y=t.SlideProps,C=t.TransitionComponent,E=void 0===C?Ne:C,A=t.transitionDuration,w=void 0===A?Ve:A,x=t.variant,F=void 0===x?"temporary":x,S=(0,De.A)(t,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),k=(0,we.A)(),O=e.useRef(!1);e.useEffect((function(){O.current=!0}),[]);var R=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?He[t]:t}(k,o),P=e.createElement(_e.A,(0,i.A)({elevation:"temporary"===F?d:0,square:!0},D,{className:(0,ye.A)(u.paper,u["paperAnchor".concat((0,Ce.A)(R))],D.className,"temporary"!==F&&u["paperAnchorDocked".concat((0,Ce.A)(R))])}),l);if("permanent"===F)return e.createElement("div",(0,i.A)({className:(0,ye.A)(u.root,u.docked,s),ref:n},S),P);var B=e.createElement(E,(0,i.A)({in:v,direction:He[R],timeout:w,appear:O.current},y),P);return"persistent"===F?e.createElement("div",(0,i.A)({className:(0,ye.A)(u.root,u.docked,s),ref:n},S),B):e.createElement(xe.A,(0,i.A)({BackdropProps:(0,i.A)({},a,p,{transitionDuration:w}),BackdropComponent:Le,className:(0,ye.A)(u.root,u.modal,s),open:v,onClose:h,ref:n},S,m),B)}));const Ue=(0,he.A)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(We);var $e=e.forwardRef((function(t,n){var r=t.classes,o=t.className,a=t.color,l=void 0===a?"primary":a,u=t.position,s=void 0===u?"fixed":u,c=(0,De.A)(t,["classes","className","color","position"]);return e.createElement(_e.A,(0,i.A)({square:!0,component:"header",elevation:4,className:(0,ye.A)(r.root,r["position".concat((0,Ce.A)(s))],r["color".concat((0,Ce.A)(l))],o,"fixed"===s&&"mui-fixed"),ref:n},c))}));const Ke=(0,he.A)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})($e);var qe=n(7243),Ge=n(9989),Xe=n(6187),Ye=n(2454),Ze=e.forwardRef((function(t,n){var r=t.absolute,o=void 0!==r&&r,a=t.classes,l=t.className,u=t.component,s=void 0===u?"hr":u,c=t.flexItem,d=void 0!==c&&c,f=t.light,p=void 0!==f&&f,m=t.orientation,h=void 0===m?"horizontal":m,g=t.role,v=void 0===g?"hr"!==s?"separator":void 0:g,b=t.variant,D=void 0===b?"fullWidth":b,y=(0,De.A)(t,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return e.createElement(s,(0,i.A)({className:(0,ye.A)(a.root,l,"fullWidth"!==D&&a[D],o&&a.absolute,d&&a.flexItem,p&&a.light,"vertical"===h&&a.vertical),role:v,ref:n},y))}));const Qe=(0,he.A)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:(0,Ye.X4)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(Ze);var Je=n(7339),et=n(2312),tt=n(9073),nt=n(2024),rt=n(7603),ot=n(5982),at=e.forwardRef((function(t,n){var r=t.children,o=t.classes,a=t.className,l=t.disableTypography,u=void 0!==l&&l,s=t.inset,c=void 0!==s&&s,d=t.primary,f=t.primaryTypographyProps,p=t.secondary,m=t.secondaryTypographyProps,h=(0,De.A)(t,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),g=e.useContext(ot.A).dense,v=null!=d?d:r;null==v||v.type===Xe.A||u||(v=e.createElement(Xe.A,(0,i.A)({variant:g?"body2":"body1",className:o.primary,component:"span",display:"block"},f),v));var b=p;return null==b||b.type===Xe.A||u||(b=e.createElement(Xe.A,(0,i.A)({variant:"body2",className:o.secondary,color:"textSecondary",display:"block"},m),b)),e.createElement("div",(0,i.A)({className:(0,ye.A)(o.root,a,g&&o.dense,c&&o.inset,v&&b&&o.multiline),ref:n},h),v,b)}));const it=(0,he.A)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(at);var lt=e.forwardRef((function(t,n){var r=t.children,o=t.classes,a=t.className,l=t.collapsedHeight,u=t.collapsedSize,s=void 0===u?"0px":u,c=t.component,d=void 0===c?"div":c,f=t.disableStrictModeCompat,p=void 0!==f&&f,m=t.in,h=t.onEnter,g=t.onEntered,v=t.onEntering,b=t.onExit,D=t.onExited,y=t.onExiting,C=t.style,E=t.timeout,A=void 0===E?ke.p0.standard:E,w=t.TransitionComponent,x=void 0===w?Se.Ay:w,F=(0,De.A)(t,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),S=(0,we.A)(),k=e.useRef(),O=e.useRef(null),R=e.useRef(),P="number"===typeof(l||s)?"".concat(l||s,"px"):l||s;e.useEffect((function(){return function(){clearTimeout(k.current)}}),[]);var B=S.unstable_strictMode&&!p,T=e.useRef(null),M=(0,Re.A)(n,B?T:void 0),L=function(e){return function(t,n){if(e){var r=B?[T.current,t]:[t,n],o=(0,Fe.A)(r,2),a=o[0],i=o[1];void 0===i?e(a):e(a,i)}}},I=L((function(e,t){e.style.height=P,h&&h(e,t)})),j=L((function(e,t){var n=O.current?O.current.clientHeight:0,r=(0,Oe.c)({style:C,timeout:A},{mode:"enter"}).duration;if("auto"===A){var o=S.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(o,"ms"),R.current=o}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style.height="".concat(n,"px"),v&&v(e,t)})),z=L((function(e,t){e.style.height="auto",g&&g(e,t)})),N=L((function(e){var t=O.current?O.current.clientHeight:0;e.style.height="".concat(t,"px"),b&&b(e)})),_=L(D),H=L((function(e){var t=O.current?O.current.clientHeight:0,n=(0,Oe.c)({style:C,timeout:A},{mode:"exit"}).duration;if("auto"===A){var r=S.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),R.current=r}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height=P,y&&y(e)}));return e.createElement(x,(0,i.A)({in:m,onEnter:I,onEntered:z,onEntering:j,onExit:N,onExited:_,onExiting:H,addEndListener:function(e,t){var n=B?e:t;"auto"===A&&(k.current=setTimeout(n,R.current||0))},nodeRef:B?T:void 0,timeout:"auto"===A?null:A},F),(function(t,n){return e.createElement(d,(0,i.A)({className:(0,ye.A)(o.root,o.container,a,{entered:o.entered,exited:!m&&"0px"===P&&o.hidden}[t]),style:(0,i.A)({minHeight:P},C),ref:M},n),e.createElement("div",{className:o.wrapper,ref:O},e.createElement("div",{className:o.wrapperInner},r)))}))}));lt.muiSupportAuto=!0;const ut=(0,he.A)((function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(lt);var st=n(606),ct=n(2262);const dt=JSON.parse(document.getElementById("result").innerHTML),ft=[];Object.keys(dt.specifications).forEach((e=>{const t=dt.specifications[e];t.isIetf="ietf"===t.format,t.isMarkdown="markdown"===t.format;const n=e.split("/"),r=t.title||n[n.length-1].replace(".txt",""),o="/spec/".concat(encodeURIComponent(e)),a=[];t.sections.forEach(((e,n)=>{e.url="".concat(o,"/").concat(encodeURIComponent(e.id)),e.lines=e.lines.map(Ct),e.spec=t,e.idx=n,e.requirements=(e.requirements||[]).map((e=>dt.annotations[e])),e.shortId=t.isIetf?e.id.replace(/^section-/,"").replace(/^appendix-/,""):e.id,t.isIetf&&(e.title="".concat(e.shortId,". ").concat(e.title)),a.push(e),a[e.id]=e}));const i={id:e,title:r,url:o,sections:a,requirements:t.requirements.map((e=>dt.annotations[e]))};ft.push(i),ft[e]=i,ft[encodeURIComponent(e)]=i}));const pt=(mt=((mt=dt.blob_link)||"").replace(/\/+$/,""),e=>{if(!e.source)return null;let t=e.source;return e.line>0&&(t+="#L".concat(e.line)),e.line>0&&e.line_impl>0&&(t+="-L".concat(e.line_impl)),{title:t,href:mt.length?"".concat(mt,"/").concat(t):null,toString:()=>t}});var mt;const ht=(gt=((gt=dt.issue_link)||"").replace(/\/+$/,""),e=>e?/^http(s)?:/.test(e)?{title:e,href:e}:{title:e,href:gt.length?"".concat(gt,"/").concat(e):null,toString:()=>e}:null);var gt;const vt=function(e){return e=(e||"").replace(/\/+$/,""),function(){if(!e)return!1;if(!this.comment)return!1;const t=new URL("".concat(e,"/new")),n=this.comment.trim().split("\n").map((e=>"> ".concat(e))).join("\n"),r="\nFrom [".concat(this.section.title,"](").concat(this.target,") in [").concat(this.specification.title,"](").concat(this.target_path,"):\n\n").concat(n);t.searchParams.set("body",r);const o=["compliance",this.level&&"compliance:".concat(this.level),this.specification.title&&"spec:".concat(this.specification.title)].concat(this.features).filter((e=>!!e)).join(",");return t.searchParams.set("labels",o),t.toString()}}(dt.issue_link);dt.annotations.forEach(((e,t)=>{const n=dt.statuses[t];if(n&&(n.related=(n.related||[]).map((e=>dt.annotations[e])),Object.assign(e,n),e.isComplete=e.spec===e.citation&&e.spec===e.test||e.spec===e.implication,e.isOk=e.isComplete||e.exception===e.spec),e.id=t,e.source=pt(e),e.specification=ft[e.target_path],e.section=e.specification.sections[e.target_section],!e.section){let t=e.target_section.replace(/^section-/,"").replace(/^appendix-/,""),n=e.specification.sections;e.section=n["section-".concat(t)]||n["appendix-".concat(t)]}e.target="".concat(e.specification.id,"#").concat(e.section.id),e.features=[],e.tracking_issues=[],e.tags=e.tags||[],e.newIssueLink=vt,e.cmp=function(e){const t=this;return t.specification===e.specification&&t.section.idx!==e.section.idx?t.section.idx-e.section.idx:t.id-e.id}}));class bt{constructor(){this.total=0,this.complete=0,this.incomplete=0,this.citations=0,this.implications=0,this.tests=0,this.exceptions=0,this.todos=0}onRequirement(e){this.total+=1,e.incomplete?this.incomplete+=1:e.isOk&&(this.complete+=1),e.citation&&(this.citations+=1),e.implication&&(this.implications+=1),e.test&&(this.tests+=1),e.exception&&(this.exceptions+=1),e.todo&&(this.todos+=1)}percent(e){const t=this.total?this[e]/this.total:0;return Number(t).toLocaleString(void 0,{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2})}}function Dt(e){const t={overall:new bt,MUST:new bt,SHOULD:new bt,MAY:new bt};return e.maxFeatures=0,e.maxTrackingIssues=0,e.maxTags=0,e.forEach((n=>{t.overall.onRequirement(n);let r=t[n.level]||new bt;t[n.level]=r,r.onRequirement(n);const o=new Set,a=new Set,i=new Set;function l(e){e.feature&&o.add(e.feature),e.tracking_issue&&a.add(e.tracking_issue),(e.tags||[]).forEach(i.add,i)}l(n),(n.related||[]).forEach(l),n.features=Array.from(o),n.features.sort(),e.maxFeatures=Math.max(e.maxFeatures,o.size),n.tracking_issues=Array.from(a),n.tracking_issues.sort(),n.tracking_issues=n.tracking_issues.map(ht),e.maxTrackingIssues=Math.max(e.maxTrackingIssues,a.size),n.tags=Array.from(i),n.tags.sort(),e.maxTags=Math.max(e.maxTags,i.size)})),t}function yt(e,t){return e.cmp(t)}function Ct(e){return"string"===typeof e?[{annotations:[],status:dt.refs[0],text:e}]:e.map((e=>{if("string"===typeof e)return{annotations:[],status:dt.refs[0],text:e};const[t,n,r]=e;return{annotations:t.map((e=>dt.annotations[e])),status:dt.refs[n]||dt.refs[0],text:r}}))}ft.forEach((e=>{e.requirements.sort(yt),e.sections.forEach((e=>{e.requirements.sort(yt),e.stats=Dt(e.requirements)})),e.stats=Dt(e.requirements)}));const Et=ft;var At=n(4455),wt=e.forwardRef((function(t,n){var r=t.classes,o=t.className,a=t.color,l=void 0===a?"primary":a,u=t.component,s=void 0===u?"a":u,c=t.onBlur,d=t.onFocus,f=t.TypographyClasses,p=t.underline,m=void 0===p?"hover":p,h=t.variant,g=void 0===h?"inherit":h,v=(0,De.A)(t,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),b=(0,At.A)(),D=b.isFocusVisible,y=b.onBlurVisible,C=b.ref,E=e.useState(!1),A=E[0],w=E[1],x=(0,Re.A)(n,C);return e.createElement(Xe.A,(0,i.A)({className:(0,ye.A)(r.root,r["underline".concat((0,Ce.A)(m))],o,A&&r.focusVisible,"button"===s&&r.button),classes:f,color:l,component:s,onBlur:function(e){A&&(y(),w(!1)),c&&c(e)},onFocus:function(e){D(e)&&w(!0),d&&d(e)},ref:x,variant:g},v))}));const xt=(0,he.A)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(wt);var Ft=n(579);function St(e){return e.href?(0,Ft.jsx)(xt,pe({},e)):(0,Ft.jsx)(xt,pe({component:ue},e))}const kt=["to"],Ot=400,Rt=(0,me.A)((e=>({appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(Ot,"px)"),marginLeft:Ot,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:Ot,flexShrink:0},drawerPaper:{width:Ot},drawerHeader:pe(pe({position:"fixed",top:0,left:0,alignItems:"center",width:Ot,padding:e.spacing(0,1)},e.mixins.toolbar),{},{display:"flex",justifyContent:"flex-end",backgroundColor:e.palette.background.paper,borderBottom:"1px solid ".concat(e.palette.divider),zIndex:1}),drawerContent:{marginTop:e.spacing(7)},content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-400},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},nested:{paddingLeft:e.spacing(4)},sectionTitle:{paddingLeft:e.spacing(4),textAlign:"right"}})));function Pt(e){let{open:t,setOpen:n}=e;const r=Rt(),o=(0,we.A)();return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Ke,{position:"fixed",className:(0,ye.A)(r.appBar,{[r.appBarShift]:t}),children:(0,Ft.jsxs)(qe.A,{children:[(0,Ft.jsx)(Je.A,{color:"inherit","aria-label":"open drawer",onClick:()=>{n(!0)},edge:"start",className:(0,ye.A)(r.menuButton,t&&r.hide),children:(0,Ft.jsx)(et.A,{})}),(0,Ft.jsx)(St,{to:"/",color:"inherit",children:(0,Ft.jsx)(Xe.A,{variant:"h6",noWrap:!0,children:"Compliance Coverage Report"})})]})}),(0,Ft.jsxs)(Ue,{className:r.drawer,variant:"persistent",anchor:"left",open:t,classes:{paper:r.drawerPaper},children:[(0,Ft.jsx)("div",{className:r.drawerHeader,children:(0,Ft.jsx)(Je.A,{onClick:()=>{n(!1)},children:"ltr"===o.direction?(0,Ft.jsx)(tt.A,{}):(0,Ft.jsx)(nt.A,{})})}),(0,Ft.jsx)(Ge.A,{className:r.drawerContent,children:Et.map(((e,t)=>(0,Ft.jsx)(Tt,{spec:e},t)))})]})]})}const Bt=Et.reduce(((e,t)=>(e[t.id]=t.sections.map(((e,t)=>(0,Ft.jsx)(Mt,{section:e},t))),e)),{});function Tt(t){let{spec:n}=t;const r=!!te(n.url),[o,a]=(0,e.useState)(r),i=Bt[n.id];return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Qe,{light:!0}),(0,Ft.jsxs)(Lt,{button:!0,selected:r,to:n.url,onClick:e=>{r?(a(!o),e.preventDefault()):a(!0)},children:[(0,Ft.jsx)(it,{primary:n.title}),o?(0,Ft.jsx)(st.A,{onClick:e=>{a(!1),e.stopPropagation(),e.preventDefault()}}):(0,Ft.jsx)(ct.A,{onClick:e=>{a(!0),e.stopPropagation(),e.preventDefault()}})]}),(0,Ft.jsx)(ut,{in:o,timeout:100,unmountOnExit:!0,children:(0,Ft.jsx)(Ge.A,{component:"div",disablePadding:!0,children:i})})]})}function Mt(e){let{spec:t,section:n}=e;const r=Rt(),o=!!te(n.url);return(0,Ft.jsxs)(Lt,{button:!0,className:r.nested,selected:o,to:n.url,children:[(0,Ft.jsx)(it,{secondary:"".concat(n.id)}),(0,Ft.jsx)(it,{className:r.sectionTitle,secondary:"".concat(n.title)})]},n.id)}function Lt(t){const{to:n}=t,r=(0,De.A)(t,kt),o=(0,e.useMemo)((()=>(0,e.forwardRef)(((e,t)=>(0,Ft.jsx)(St,pe({ref:t,to:n},e))))),[n]);return(0,Ft.jsx)("li",{children:(0,Ft.jsx)(rt.A,pe({component:o},r))})}var It=n(7431),jt=n(2008),zt="table",Nt=e.forwardRef((function(t,n){var r=t.classes,o=t.className,a=t.component,l=void 0===a?zt:a,u=t.padding,s=void 0===u?"normal":u,c=t.size,d=void 0===c?"medium":c,f=t.stickyHeader,p=void 0!==f&&f,m=(0,De.A)(t,["classes","className","component","padding","size","stickyHeader"]),h=e.useMemo((function(){return{padding:s,size:d,stickyHeader:p}}),[s,d,p]);return e.createElement(jt.A.Provider,{value:h},e.createElement(l,(0,i.A)({role:l===zt?null:"table",ref:n,className:(0,ye.A)(r.root,o,p&&r.stickyHeader)},m)))}));const _t=(0,he.A)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,i.A)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(Nt);var Ht=n(9116),Vt={variant:"body"},Wt="tbody",Ut=e.forwardRef((function(t,n){var r=t.classes,o=t.className,a=t.component,l=void 0===a?Wt:a,u=(0,De.A)(t,["classes","className","component"]);return e.createElement(Ht.A.Provider,{value:Vt},e.createElement(l,(0,i.A)({className:(0,ye.A)(r.root,o),ref:n,role:l===Wt?null:"rowgroup"},u)))}));const $t=(0,he.A)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(Ut);var Kt=n(2703),qt={variant:"head"},Gt="thead",Xt=e.forwardRef((function(t,n){var r=t.classes,o=t.className,a=t.component,l=void 0===a?Gt:a,u=(0,De.A)(t,["classes","className","component"]);return e.createElement(Ht.A.Provider,{value:qt},e.createElement(l,(0,i.A)({className:(0,ye.A)(r.root,o),ref:n,role:l===Gt?null:"rowgroup"},u)))}));const Yt=(0,he.A)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(Xt);var Zt=e.forwardRef((function(t,n){var r=t.classes,o=t.className,a=t.component,l=void 0===a?"tr":a,u=t.hover,s=void 0!==u&&u,c=t.selected,d=void 0!==c&&c,f=(0,De.A)(t,["classes","className","component","hover","selected"]),p=e.useContext(Ht.A);return e.createElement(l,(0,i.A)({ref:n,className:(0,ye.A)(r.root,o,p&&{head:r.head,footer:r.footer}[p.variant],s&&r.hover,d&&r.selected),role:"tr"===l?null:"row"},f))}));const Qt=(0,he.A)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:(0,Ye.X4)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(Zt);var Jt=n(9579);const en=["title","stats"];function tn(e){let{spec:t}=e;return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("h2",{children:t.title}),(0,Ft.jsx)("h3",{children:"Stats"}),(0,Ft.jsx)(un,{spec:t}),(0,Ft.jsx)("h3",{children:"Requirements"}),(0,Ft.jsx)(an,{requirements:t.requirements,showSection:!0},t.id)]})}const nn=(0,me.A)((e=>({root:{"& > div":{height:"auto !important"}},text:{lineHeight:"initial !important",padding:e.spacing(2,1),whiteSpace:"normal !important",overflow:"auto !important"},error:{background:e.palette.error.light,color:e.palette.error.contrastText},missingCitation:{background:e.palette.warning.dark,color:e.palette.warning.contrastText},missingTest:{background:e.palette.warning.light,color:e.palette.warning.contrastText},success:{background:e.palette.success.light,color:e.palette.success.contrastText},info:{background:e.palette.info.light,color:e.palette.info.contrastText}}))),rn=["MUST","SHOULD","MAY"],on=rn.reduce(((e,t,n)=>(e[t]=n,e)),{});function an(e){let{requirements:t,showSection:n}=e;const r=nn(),o=[];function a(e){o.push(pe({width:150,sortComparator(e,t){const n=e.join(", "),r=t.join(", ");return n.localeCompare(r)},valueFormatter:e=>(e.value||[]).join(", ")},e))}return n&&o.push({field:"section",headerName:"Section",valueGetter:e=>e.row,sortComparator:(e,t)=>e.cmp(t),renderCell(e){const t=e.row;return(0,Ft.jsx)(St,{to:{pathname:t.section.url,hash:"#A".concat(t.id)},children:t.section.shortId})}}),o.push({field:"level",headerName:"Requirement",width:120,sortComparator:(e,t)=>on[t]-on[e]},{field:"status",headerName:"Status",width:150,valueGetter:e=>cn(e.row)||[],valueFormatter:e=>(e.value||cn(e.row))[1],sortComparator:(e,t)=>e[0]-t[0],cellClassName(e){const t=(e.value||cn(e.row))[2];return r[t]}}),t.maxFeatures&&a({width:200,field:"features",headerName:1===t.maxFeatures?"Feature":"Features"}),t.maxTrackingIssues&&a({field:"tracking_issues",headerName:1===t.maxTrackingIssues?"Tracking Issue":"Tracking Issues",renderCell:e=>e.value.map((e=>e.href?(0,Ft.jsx)(St,{href:e.href,children:e.title},e.title):e.title))}),t.maxTags&&a({field:"tags",headerName:1===t.maxTags?"Tag":"Tags"}),o.push({field:"comment",headerName:"Text",sortable:!1,width:850,cellClassName:r.text}),(0,Ft.jsx)("div",{className:r.root,children:(0,Ft.jsx)(It.zhn,{pageSize:25,disableSelectionOnClick:!0,autoHeight:!0,rows:t,columns:o,sortingOrder:["desc","asc",null]})})}const ln=(0,me.A)((e=>({totals:{borderTop:"2px solid ".concat(e.palette.grey.A200)}})));function un(e){let{spec:{stats:t}}=e;const n=ln();return(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsxs)(_t,{size:"small",children:[(0,Ft.jsx)(Yt,{children:(0,Ft.jsxs)(Qt,{children:[(0,Ft.jsx)(Kt.A,{component:"th",children:"Requirement"}),(0,Ft.jsx)(Kt.A,{align:"right",children:"Total"}),(0,Ft.jsx)(Kt.A,{align:"right",children:"Complete"}),(0,Ft.jsx)(Kt.A,{align:"right",children:"Citations"}),(0,Ft.jsx)(Kt.A,{align:"right",children:"Implications"}),(0,Ft.jsx)(Kt.A,{align:"right",children:"Tests"}),(0,Ft.jsx)(Kt.A,{align:"right",children:"Exceptions"}),(0,Ft.jsx)(Kt.A,{align:"right",children:"TODOs"})]})}),(0,Ft.jsxs)($t,{children:[rn.filter((e=>t[e].total)).map((e=>(0,Ft.jsx)(sn,{title:e,stats:t[e]},e))),(0,Ft.jsx)(sn,{className:n.totals,title:"Totals",stats:t.overall})]})]})})}function sn(e){let{title:t,stats:n}=e,r=(0,De.A)(e,en);return(0,Ft.jsxs)(Qt,pe(pe({},r),{},{children:[(0,Ft.jsx)(Kt.A,{component:"th",children:t}),(0,Ft.jsx)(Kt.A,{align:"right",children:n.total}),["complete","citations","implications","tests","exceptions","todos"].map((e=>(0,Ft.jsx)(Kt.A,{align:"right",children:(0,Ft.jsx)(Jt.Ay,{title:n.percent(e),children:(0,Ft.jsx)("span",{children:n[e]})})},e)))]}))}function cn(e){return e.isComplete?[1,"Complete","success"]:e.isOk?[2,"Exception","info"]:e.spec===e.citation?[4,"Missing test","missingTest"]:e.spec===e.test?[5,"Missing citation","missingCitation"]:e.todo?[7,"Not started","error"]:e.incomplete===e.spec?[8,"Unknown","error"]:[6,"Partial coverage","warning"]}var dn=n(5458),fn=n(5714);function pn(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function mn(e){var t=function(t){var n=e(t);return t.css?(0,i.A)({},(0,fn.A)(n,e((0,i.A)({theme:t.theme},t.css))),pn(t.css,[e.filterProps])):t.sx?(0,i.A)({},(0,fn.A)(n,e((0,i.A)({theme:t.theme},t.sx))),pn(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat((0,dn.A)(e.filterProps)),t}const hn=mn;const gn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?(0,fn.A)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r};var vn=n(498);function bn(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}const Dn=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,o=e.themeKey,a=e.transform,i=function(e){if(null==e[t])return null;var n=e[t],i=bn(e.theme,o)||{};return(0,vn.N)(e,n,(function(e){var t;return"function"===typeof i?t=i(e):Array.isArray(i)?t=i[e]||e:(t=bn(i,e)||e,a&&(t=a(t))),!1===r?t:(0,de.A)({},r,t)}))};return i.propTypes={},i.filterProps=[t],i};function yn(e){return"number"!==typeof e?e:"".concat(e,"px solid")}const Cn=gn(Dn({prop:"border",themeKey:"borders",transform:yn}),Dn({prop:"borderTop",themeKey:"borders",transform:yn}),Dn({prop:"borderRight",themeKey:"borders",transform:yn}),Dn({prop:"borderBottom",themeKey:"borders",transform:yn}),Dn({prop:"borderLeft",themeKey:"borders",transform:yn}),Dn({prop:"borderColor",themeKey:"palette"}),Dn({prop:"borderRadius",themeKey:"shape"}));const En=gn(Dn({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),Dn({prop:"display"}),Dn({prop:"overflow"}),Dn({prop:"textOverflow"}),Dn({prop:"visibility"}),Dn({prop:"whiteSpace"}));const An=gn(Dn({prop:"flexBasis"}),Dn({prop:"flexDirection"}),Dn({prop:"flexWrap"}),Dn({prop:"justifyContent"}),Dn({prop:"alignItems"}),Dn({prop:"alignContent"}),Dn({prop:"order"}),Dn({prop:"flex"}),Dn({prop:"flexGrow"}),Dn({prop:"flexShrink"}),Dn({prop:"alignSelf"}),Dn({prop:"justifyItems"}),Dn({prop:"justifySelf"}));const wn=gn(Dn({prop:"gridGap"}),Dn({prop:"gridColumnGap"}),Dn({prop:"gridRowGap"}),Dn({prop:"gridColumn"}),Dn({prop:"gridRow"}),Dn({prop:"gridAutoFlow"}),Dn({prop:"gridAutoColumns"}),Dn({prop:"gridAutoRows"}),Dn({prop:"gridTemplateColumns"}),Dn({prop:"gridTemplateRows"}),Dn({prop:"gridTemplateAreas"}),Dn({prop:"gridArea"}));const xn=gn(Dn({prop:"position"}),Dn({prop:"zIndex",themeKey:"zIndex"}),Dn({prop:"top"}),Dn({prop:"right"}),Dn({prop:"bottom"}),Dn({prop:"left"}));const Fn=gn(Dn({prop:"color",themeKey:"palette"}),Dn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}));const Sn=Dn({prop:"boxShadow",themeKey:"shadows"});function kn(e){return e<=1?"".concat(100*e,"%"):e}var On=Dn({prop:"width",transform:kn}),Rn=Dn({prop:"maxWidth",transform:kn}),Pn=Dn({prop:"minWidth",transform:kn}),Bn=Dn({prop:"height",transform:kn}),Tn=Dn({prop:"maxHeight",transform:kn}),Mn=Dn({prop:"minHeight",transform:kn});Dn({prop:"size",cssProperty:"width",transform:kn}),Dn({prop:"size",cssProperty:"height",transform:kn});const Ln=gn(On,Rn,Pn,Bn,Tn,Mn,Dn({prop:"boxSizing"}));var In=n(5995);const jn=gn(Dn({prop:"fontFamily",themeKey:"typography"}),Dn({prop:"fontSize",themeKey:"typography"}),Dn({prop:"fontStyle",themeKey:"typography"}),Dn({prop:"fontWeight",themeKey:"typography"}),Dn({prop:"letterSpacing"}),Dn({prop:"lineHeight"}),Dn({prop:"textAlign"}));var zn=n(9356),Nn=hn(gn(Cn,En,An,wn,xn,Fn,Sn,Ln,In.A,jn));const _n=(0,zn.A)("div")(Nn,{name:"MuiBox"});var Hn={enter:ke.p0.enteringScreen,exit:ke.p0.leavingScreen},Vn=e.forwardRef((function(t,n){var r=t.BackdropProps,o=t.children,a=t.classes,l=t.className,u=t.disableBackdropClick,s=void 0!==u&&u,c=t.disableEscapeKeyDown,d=void 0!==c&&c,f=t.fullScreen,p=void 0!==f&&f,m=t.fullWidth,h=void 0!==m&&m,g=t.maxWidth,v=void 0===g?"sm":g,b=t.onBackdropClick,D=t.onClose,y=t.onEnter,C=t.onEntered,E=t.onEntering,A=t.onEscapeKeyDown,w=t.onExit,x=t.onExited,F=t.onExiting,S=t.open,k=t.PaperComponent,O=void 0===k?_e.A:k,R=t.PaperProps,P=void 0===R?{}:R,B=t.scroll,T=void 0===B?"paper":B,M=t.TransitionComponent,L=void 0===M?Te:M,I=t.transitionDuration,j=void 0===I?Hn:I,z=t.TransitionProps,N=t["aria-describedby"],_=t["aria-labelledby"],H=(0,De.A)(t,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),V=e.useRef();return e.createElement(xe.A,(0,i.A)({className:(0,ye.A)(a.root,l),BackdropComponent:Le,BackdropProps:(0,i.A)({transitionDuration:j},r),closeAfterTransition:!0},s?{disableBackdropClick:s}:{},{disableEscapeKeyDown:d,onEscapeKeyDown:A,onClose:D,open:S,ref:n},H),e.createElement(L,(0,i.A)({appear:!0,in:S,timeout:j,onEnter:y,onEntering:E,onEntered:C,onExit:w,onExiting:F,onExited:x,role:"none presentation"},z),e.createElement("div",{className:(0,ye.A)(a.container,a["scroll".concat((0,Ce.A)(T))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===V.current&&(V.current=null,b&&b(e),!s&&D&&D(e,"backdropClick"))},onMouseDown:function(e){V.current=e.target}},e.createElement(O,(0,i.A)({elevation:24,role:"dialog","aria-describedby":N,"aria-labelledby":_},P,{className:(0,ye.A)(a.paper,a["paperScroll".concat((0,Ce.A)(T))],a["paperWidth".concat((0,Ce.A)(String(v)))],P.className,p&&a.paperFullScreen,h&&a.paperFullWidth)}),o))))}));const Wn=(0,he.A)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":(0,de.A)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":(0,de.A)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":(0,de.A)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":(0,de.A)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":(0,de.A)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(Vn);var Un=n(105);n(2086);Un.A.styles;var $n=e.forwardRef((function(t,n){var r=t.children,o=t.classes,a=t.className,l=t.color,u=void 0===l?"default":l,s=t.component,c=void 0===s?"div":s,d=t.disabled,f=void 0!==d&&d,p=t.disableElevation,m=void 0!==p&&p,h=t.disableFocusRipple,g=void 0!==h&&h,v=t.disableRipple,b=void 0!==v&&v,D=t.fullWidth,y=void 0!==D&&D,C=t.orientation,E=void 0===C?"horizontal":C,A=t.size,w=void 0===A?"medium":A,x=t.variant,F=void 0===x?"outlined":x,S=(0,De.A)(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"]),k=(0,ye.A)(o.grouped,o["grouped".concat((0,Ce.A)(E))],o["grouped".concat((0,Ce.A)(F))],o["grouped".concat((0,Ce.A)(F)).concat((0,Ce.A)(E))],o["grouped".concat((0,Ce.A)(F)).concat("default"!==u?(0,Ce.A)(u):"")],f&&o.disabled);return e.createElement(c,(0,i.A)({role:"group",className:(0,ye.A)(o.root,a,y&&o.fullWidth,m&&o.disableElevation,"contained"===F&&o.contained,"vertical"===E&&o.vertical),ref:n},S),e.Children.map(r,(function(t){return e.isValidElement(t)?e.cloneElement(t,{className:(0,ye.A)(k,t.props.className),color:t.props.color||u,disabled:t.props.disabled||f,disableElevation:t.props.disableElevation||m,disableFocusRipple:g,disableRipple:b,fullWidth:y,size:t.props.size||w,variant:t.props.variant||F}):null})))}));const Kn=(0,he.A)((function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},contained:{boxShadow:e.shadows[2]},disableElevation:{boxShadow:"none"},disabled:{},fullWidth:{width:"100%"},vertical:{flexDirection:"column"},grouped:{minWidth:40},groupedHorizontal:{"&:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{borderTopRightRadius:0,borderTopLeftRadius:0},"&:not(:last-child)":{borderBottomRightRadius:0,borderBottomLeftRadius:0}},groupedText:{},groupedTextHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextPrimary:{"&:not(:last-child)":{borderColor:(0,Ye.X4)(e.palette.primary.main,.5)}},groupedTextSecondary:{"&:not(:last-child)":{borderColor:(0,Ye.X4)(e.palette.secondary.main,.5)}},groupedOutlined:{},groupedOutlinedHorizontal:{"&:not(:first-child)":{marginLeft:-1},"&:not(:last-child)":{borderRightColor:"transparent"}},groupedOutlinedVertical:{"&:not(:first-child)":{marginTop:-1},"&:not(:last-child)":{borderBottomColor:"transparent"}},groupedOutlinedPrimary:{"&:hover":{borderColor:e.palette.primary.main}},groupedOutlinedSecondary:{"&:hover":{borderColor:e.palette.secondary.main}},groupedContained:{boxShadow:"none"},groupedContainedHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderRight:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderBottom:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedPrimary:{"&:not(:last-child)":{borderColor:e.palette.primary.dark}},groupedContainedSecondary:{"&:not(:last-child)":{borderColor:e.palette.secondary.dark}}}}),{name:"MuiButtonGroup"})($n);var qn=n(2432),Gn=n(5357),Xn=n(5270),Yn=n.n(Xn);const Zn=["getData","label"];function Qn(e){let{spec:t,section:n}=e;const r=n.requirements||[],o="".concat(t.id,"--").concat(n.id);return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("h2",{children:n.title}),(0,Ft.jsx)("pre",{children:n.lines.map(((e,t)=>(0,Ft.jsx)(Jn,{content:e},t)))}),r.length?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("h3",{children:"Requirements"}),(0,Ft.jsx)(an,{requirements:n.requirements,showSection:!0},o)]}):null]})}function Jn(e){let{content:t}=e;return(0,Ft.jsxs)(Ft.Fragment,{children:[t.map(((e,t)=>e.annotations.length?(0,Ft.jsx)(nr,{reference:e},t):e.text)),(0,Ft.jsx)("br",{})]})}const er=(0,me.A)((e=>({paper:{margin:e.spacing(2),padding:e.spacing(2)},reference:{cursor:"pointer"},error:{borderBottom:"2px solid ".concat(e.palette.error.main)},missingCitation:{borderBottom:"2px solid ".concat(e.palette.warning.dark)},missingTest:{borderBottom:"2px solid ".concat(e.palette.warning.light)},ok:{borderBottom:"2px solid ".concat(e.palette.success.main)},neutral:{borderBottom:"2px solid ".concat(e.palette.info.main)},exception:{borderBottom:"2px solid ".concat(e.palette.text.disabled)},selected:{backgroundColor:e.palette.action.focus}}))),tr=(0,he.A)((e=>({tooltip:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,maxWidth:512,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}})))(Jt.Ay);function nr(t){let{reference:n}=t;const{status:r,text:o}=n,a=er(),[i,l]=(0,e.useState)(!1),u=function(){const{hash:t}=J();return(0,e.useMemo)((()=>new Set((t||"").replace(/^#/,"").split(",").filter((e=>/^A[\d]+/.test(e))).map((e=>parseInt(e.slice(1)))))),[t])}();let s="neutral";r.spec&&(s=r.citation&&r.test||r.implication?"ok":r.citation?"missingTest":r.test?"missingCitation":"error"),r.exception&&(s="exception");let c=u.size&&n.annotations.find((e=>u.has(e.id)));return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(tr,{title:(0,Ft.jsx)(rr,{reference:n}),children:(0,Ft.jsx)("span",{className:(0,ye.A)(a.reference,a[s],{[a.selected]:c}),onClick:()=>{l(!0)},children:o})}),(0,Ft.jsx)(Wn,{open:i,onClose:()=>{l(!1)},maxWidth:!1,children:(0,Ft.jsx)(_e.A,{className:a.paper,children:(0,Ft.jsx)(rr,{reference:n,expanded:!0})})})]})}function rr(e){let{reference:{annotations:t,status:n},expanded:r}=e;const o={CITATION:[],IMPLICATION:[],SPEC:[],TEST:[],EXCEPTION:[],TODO:[],features:new Set,tracking_issues:new Set,tags:new Set};t.forEach((e=>{e.source&&(o[e.type||"CITATION"]||[]).push(e),e.features.forEach(o.features.add,o.features),e.tracking_issues.forEach(o.tracking_issues.add,o.tracking_issues),e.tags.forEach(o.tags.add,o.tags)}));const a=n.level?(0,Ft.jsxs)("h3",{children:["Level: ",n.level]}):null,i=!!o.SPEC.find((e=>e.isOk)),l=a&&!i,u=r?o.SPEC.filter((e=>e.comment)):[];return(0,Ft.jsxs)(Ft.Fragment,{children:[a,u.map(((e,t)=>(0,Ft.jsx)(ur,{annotation:e},e.id))),r?(0,Ft.jsx)(ar,{title:"Features",items:o.features}):null,r?(0,Ft.jsx)(ar,{title:"Tracking issues",items:o.tracking_issues}):null,r?(0,Ft.jsx)(ar,{title:"Tags",items:o.tags}):null,(0,Ft.jsx)(ir,{title:"Specifications",refs:o.SPEC.length>1?o.SPEC:[]}),(0,Ft.jsx)(ir,{title:"Citations",alt:l&&"Missing!",refs:o.CITATION}),(0,Ft.jsx)(ir,{title:"Tests",alt:l&&"Missing!",refs:o.TEST}),(0,Ft.jsx)(ir,{title:"Implications",refs:o.IMPLICATION}),(0,Ft.jsx)(ir,{title:"Exceptions",refs:o.EXCEPTION,expanded:r}),(0,Ft.jsx)(ir,{title:"TODOs",refs:o.TODO})]})}const or={padding:"0 8px",display:"block"};function ar(e){let{title:t,items:n}=e;if(!n.size)return null;n=Array.from(n),1===n.length?t=t.slice(0,t.length-1):n.sort();const r=n.map(((e,t)=>{const n=e.toString(),r=e.href?(0,Ft.jsx)(St,{href:e.href,children:n}):n;return(0,Ft.jsxs)(rt.A,{style:pe(pe({},or),{},{display:"inline"}),children:[t?", ":"",r]},t)}));return(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{style:{lineHeight:1,display:"inline"},children:t}),(0,Ft.jsx)(Ge.A,{style:{padding:0,display:"inline"},children:r})]})}function ir(e){let{title:t,alt:n,refs:r,expanded:o}=e;if(!r.length&&!n)return null;const a=r.length?r.map(((e,t)=>{const n=(0,Ft.jsx)(it,{secondary:e.source.title}),r=e.source.href?(0,Ft.jsx)(St,{href:e.source.href,children:n}):n;return(0,Ft.jsxs)(rt.A,{style:or,children:[r,o&&e.comment?(0,Ft.jsx)(Xe.A,{variant:"body2",style:{paddingLeft:16,maxWidth:500},children:e.comment}):null]},t)})):(0,Ft.jsx)(rt.A,{style:or,children:(0,Ft.jsx)(_n,{color:"error.main",children:(0,Ft.jsx)("h4",{children:n})})});return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("h4",{style:{lineHeight:1},children:t}),(0,Ft.jsx)(Ge.A,{style:{padding:0},children:a})]})}const lr=(0,me.A)((e=>({cite:{display:"flex",flexWrap:"wrap",justifyContent:"right",marginBottom:"2em"}})));function ur(t){let{annotation:n}=t;const r=lr(),[o,a]=(0,e.useState)("comment"),i={toml:dr,comment:cr}[o],l=n.newIssueLink();return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("p",{children:(0,Ft.jsx)("pre",{children:n.comment})}),(0,Ft.jsxs)("div",{className:r.cite,children:[(0,Ft.jsxs)(qn.A,{value:o,onChange:e=>a(e.target.value),autoWidth:!0,children:[(0,Ft.jsx)(Gn.A,{value:"comment",children:"Comment"}),(0,Ft.jsx)(Gn.A,{value:"toml",children:"Toml"})]}),(0,Ft.jsxs)(Kn,{size:"small",color:"primary",variant:"contained",children:[[{label:"Citation",type:"citation"},{label:"Implication",type:"implication"},{label:"Test",type:"test"},{label:"Exception",type:"exception"},{label:"TODO",type:"TODO"}].map((e=>{let{label:t,type:r}=e;return(0,Ft.jsx)(sr,{getData:()=>i({annotation:n,type:r}),label:t},t)})),l&&(0,Ft.jsx)(Un.A,{href:l,target:"_blank",children:"Issue"})]})]})]})}function sr(t){let{getData:n,label:r}=t,o=(0,De.A)(t,Zn);const[a,i]=(0,e.useState)(!1);return(0,Ft.jsx)(Un.A,pe(pe({onClick:()=>{Yn()(n()),i(!0),setTimeout((()=>i(!1)),1e3)}},o),{},{children:a?"".concat(r," - Copied!"):r}))}function cr(e){let{annotation:t,type:n}=e,r=[];return r.push("//= ".concat(t.target)),"citation"!==n&&r.push("//= type=".concat(n)),t.comment.trim().split("\n").forEach((e=>{r.push("//# ".concat(e))})),r.join("\n")+"\n"}function dr(e){let{annotation:t,type:n}=e,r=["[[".concat(n,"]]")];return r.push("target = ".concat(JSON.stringify(t.target))),r.push("quote = '''"),r.push(...t.comment.trim().split("\n")),r.push("'''"),"exception"===n&&(r.push("reason = '''"),r.push("TODO: Add reason for exception here"),r.push("'''")),r.join("\n")+"\n"}const fr=400,pr=(0,me.A)((e=>({root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(fr,"px)"),marginLeft:fr,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:fr,flexShrink:0},drawerPaper:{width:fr},drawerHeader:pe(pe({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-400},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},container:{marginBottom:e.spacing(5)}})));function mr(){return Et.filter((e=>e.stats.overall.total)).map((e=>(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)(St,{to:e.url,children:(0,Ft.jsx)("h2",{children:e.title})}),(0,Ft.jsx)(un,{spec:e})]},e.id)))}function hr(){const{specid:e}=ee(),t=Et[e];return t?(0,Ft.jsx)(tn,{spec:t}):"spec not found"}function gr(){const{specid:e,sectionid:t}=ee(),n=Et[e];if(!n)return"spec not found";const r=n.sections[t];return r?(0,Ft.jsx)(Qn,{spec:n,section:r}):"section not found"}const vr=function(){const t=pr(),[n,r]=(0,e.useState)(!1);return(0,Ft.jsxs)("div",{className:t.root,children:[(0,Ft.jsx)(be,{}),(0,Ft.jsx)(Pt,{open:n,setOpen:r}),(0,Ft.jsxs)("main",{className:(0,ye.A)(t.content,{[t.contentShift]:n}),children:[(0,Ft.jsx)("div",{className:t.drawerHeader}),(0,Ft.jsx)(Ae,{maxWidth:"lg",className:t.container,children:(0,Ft.jsxs)(Z,{children:[(0,Ft.jsx)($,{path:"/spec/:specid/:sectionid",children:(0,Ft.jsx)(gr,{})}),(0,Ft.jsx)($,{path:"/spec/:specid",children:(0,Ft.jsx)(hr,{})}),(0,Ft.jsx)($,{path:"/",children:(0,Ft.jsx)(mr,{})})]})})]})]})};function br(){const{pathname:t}=J();return(0,e.useEffect)((()=>{window.scrollTo(0,0)}),[t]),null}t.render((0,Ft.jsx)(e.StrictMode,{children:(0,Ft.jsxs)(ne,{children:[(0,Ft.jsx)(br,{}),(0,Ft.jsx)(vr,{})]})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.dffab589.js.map
</script></body></html>